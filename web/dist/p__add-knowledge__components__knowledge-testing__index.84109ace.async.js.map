{"version":3,"file":"p__add-knowledge__components__knowledge-testing__index.84109ace.async.js","mappings":"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","sources":["webpack:///./src/components/image/index.less?25dc","webpack:///./src/components/image/index.tsx","webpack:///./src/components/new-document-link.tsx","webpack:///./src/components/rerank.tsx","webpack:///./src/components/similarity-slider/index.tsx","webpack:///./src/components/switch-fom-field.tsx","webpack:///./src/components/ui/dual-range-slider.tsx","webpack:///./src/components/ui/select.tsx","webpack:///./src/components/ui/switch.tsx","webpack:///./src/components/use-knowledge-graph-item.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-testing/testing-control/label-word-cloud.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-testing/testing-control/index.less?8165","webpack:///./src/pages/add-knowledge/components/knowledge-testing/testing-control/index.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-testing/testing-result/select-files.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-testing/testing-result/index.less?5a83","webpack:///./src/pages/add-knowledge/components/knowledge-testing/testing-result/index.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-testing/index.less?eaf8","webpack:///./src/pages/add-knowledge/components/knowledge-testing/index.tsx","webpack:///./src/utils/document-util.ts","webpack:///./src/assets/svg/selected-files-collapse.svg"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"primitiveImg\":\"primitiveImg___VkCiH\",\"image\":\"image___BCkCB\",\"imagePreview\":\"imagePreview___qFyP3\"};","import { api_host } from '@/utils/api';\nimport { Popover } from 'antd';\nimport classNames from 'classnames';\n\nimport styles from './index.less';\n\ninterface IImage {\n  id: string;\n  className: string;\n}\n\nconst Image = ({ id, className, ...props }: IImage) => {\n  return (\n    <img\n      {...props}\n      src={`${api_host}/document/image/${id}`}\n      alt=\"\"\n      className={classNames(styles.primitiveImg, className)}\n    />\n  );\n};\n\nexport default Image;\n\nexport const ImageWithPopover = ({ id }: { id: string }) => {\n  return (\n    <Popover\n      placement=\"left\"\n      content={<Image id={id} className={styles.imagePreview}></Image>}\n    >\n      <Image id={id} className={styles.image}></Image>\n    </Popover>\n  );\n};\n","import {\n  getExtension,\n  isSupportedPreviewDocumentType,\n} from '@/utils/document-util';\nimport React from 'react';\n\ninterface IProps extends React.PropsWithChildren {\n  link?: string;\n  preventDefault?: boolean;\n  color?: string;\n  documentName: string;\n  documentId?: string;\n  prefix?: string;\n}\n\nconst NewDocumentLink = ({\n  children,\n  link,\n  preventDefault = false,\n  color = 'rgb(15, 79, 170)',\n  documentId,\n  documentName,\n  prefix = 'file',\n}: IProps) => {\n  let nextLink = link;\n  const extension = getExtension(documentName);\n  if (!link) {\n    nextLink = `/document/${documentId}?ext=${extension}&prefix=${prefix}`;\n  }\n\n  return (\n    <a\n      target=\"_blank\"\n      onClick={\n        !preventDefault || isSupportedPreviewDocumentType(extension)\n          ? undefined\n          : (e) => e.preventDefault()\n      }\n      href={nextLink}\n      rel=\"noreferrer\"\n      style={{ color, wordBreak: 'break-all' }}\n    >\n      {children}\n    </a>\n  );\n};\n\nexport default NewDocumentLink;\n","import { LlmModelType } from '@/constants/knowledge';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useSelectLlmOptionsByModelType } from '@/hooks/llm-hooks';\nimport { Select as AntSelect, Form, Slider } from 'antd';\nimport { useFormContext } from 'react-hook-form';\nimport { SingleFormSlider } from './ui/dual-range-slider';\nimport {\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from './ui/form';\nimport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectTrigger,\n  SelectValue,\n} from './ui/select';\n\ntype FieldType = {\n  rerank_id?: string;\n  top_k?: number;\n};\n\nexport const RerankItem = () => {\n  const { t } = useTranslate('knowledgeDetails');\n  const allOptions = useSelectLlmOptionsByModelType();\n\n  return (\n    <Form.Item\n      label={t('rerankModel')}\n      name={'rerank_id'}\n      tooltip={t('rerankTip')}\n    >\n      <AntSelect\n        options={allOptions[LlmModelType.Rerank]}\n        allowClear\n        placeholder={t('rerankPlaceholder')}\n      />\n    </Form.Item>\n  );\n};\n\nconst Rerank = () => {\n  const { t } = useTranslate('knowledgeDetails');\n\n  return (\n    <>\n      <RerankItem></RerankItem>\n      <Form.Item noStyle dependencies={['rerank_id']}>\n        {({ getFieldValue }) => {\n          const rerankId = getFieldValue('rerank_id');\n          return (\n            rerankId && (\n              <Form.Item<FieldType>\n                label={t('topK')}\n                name={'top_k'}\n                initialValue={1024}\n                tooltip={t('topKTip')}\n              >\n                <Slider max={2048} min={1} />\n              </Form.Item>\n            )\n          );\n        }}\n      </Form.Item>\n    </>\n  );\n};\n\nexport default Rerank;\n\nconst RerankId = 'rerank_id';\n\nfunction RerankFormField() {\n  const form = useFormContext();\n  const { t } = useTranslate('knowledgeDetails');\n  const allOptions = useSelectLlmOptionsByModelType();\n  const options = allOptions[LlmModelType.Rerank];\n\n  return (\n    <FormField\n      control={form.control}\n      name={RerankId}\n      render={({ field }) => (\n        <FormItem>\n          <FormLabel>{t('rerankModel')}</FormLabel>\n          <FormControl>\n            <Select onValueChange={field.onChange} {...field}>\n              <SelectTrigger\n                value={field.value}\n                onReset={() => {\n                  form.resetField(RerankId);\n                }}\n              >\n                <SelectValue placeholder={t('rerankPlaceholder')} />\n              </SelectTrigger>\n              <SelectContent>\n                {options.map((x) => (\n                  <SelectGroup key={x.label}>\n                    <SelectLabel>{x.label}</SelectLabel>\n                    {x.options.map((y) => (\n                      <SelectItem\n                        value={y.value}\n                        key={y.value}\n                        disabled={y.disabled}\n                      >\n                        {y.label}\n                      </SelectItem>\n                    ))}\n                  </SelectGroup>\n                ))}\n              </SelectContent>\n            </Select>\n          </FormControl>\n          <FormMessage />\n        </FormItem>\n      )}\n    />\n  );\n}\n\nexport function RerankFormFields() {\n  const { control, watch } = useFormContext();\n  const { t } = useTranslate('knowledgeDetails');\n  const rerankId = watch(RerankId);\n\n  return (\n    <>\n      <RerankFormField></RerankFormField>\n      {rerankId && (\n        <FormField\n          control={control}\n          name={'top_k'}\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>{t('topK')}</FormLabel>\n              <FormControl>\n                <SingleFormSlider\n                  {...field}\n                  max={2048}\n                  min={1}\n                ></SingleFormSlider>\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n      )}\n    </>\n  );\n}\n","import { useTranslate } from '@/hooks/common-hooks';\nimport { Form, Slider } from 'antd';\nimport { useFormContext } from 'react-hook-form';\nimport { SingleFormSlider } from '../ui/dual-range-slider';\nimport {\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '../ui/form';\n\ntype FieldType = {\n  similarity_threshold?: number;\n  // vector_similarity_weight?: number;\n};\n\ninterface IProps {\n  isTooltipShown?: boolean;\n  vectorSimilarityWeightName?: string;\n}\n\nconst SimilaritySlider = ({\n  isTooltipShown = false,\n  vectorSimilarityWeightName = 'vector_similarity_weight',\n}: IProps) => {\n  const { t } = useTranslate('knowledgeDetails');\n\n  return (\n    <>\n      <Form.Item<FieldType>\n        label={t('similarityThreshold')}\n        name={'similarity_threshold'}\n        tooltip={isTooltipShown && t('similarityThresholdTip')}\n        initialValue={0.2}\n      >\n        <Slider max={1} step={0.01} />\n      </Form.Item>\n      <Form.Item\n        label={t('vectorSimilarityWeight')}\n        name={vectorSimilarityWeightName}\n        initialValue={1 - 0.3}\n        tooltip={isTooltipShown && t('vectorSimilarityWeightTip')}\n      >\n        <Slider max={1} step={0.01} />\n      </Form.Item>\n    </>\n  );\n};\n\nexport default SimilaritySlider;\n\ninterface SimilaritySliderFormFieldProps {\n  vectorSimilarityWeightName?: string;\n  isTooltipShown?: boolean;\n}\n\nexport function SimilaritySliderFormField({\n  vectorSimilarityWeightName = 'vector_similarity_weight',\n  isTooltipShown,\n}: SimilaritySliderFormFieldProps) {\n  const form = useFormContext();\n  const { t } = useTranslate('knowledgeDetails');\n\n  return (\n    <>\n      <FormField\n        control={form.control}\n        name={'similarity_threshold'}\n        render={({ field }) => (\n          <FormItem>\n            <FormLabel tooltip={isTooltipShown && t('similarityThresholdTip')}>\n              {t('similarityThreshold')}\n            </FormLabel>\n            <FormControl>\n              <SingleFormSlider\n                {...field}\n                max={1}\n                step={0.01}\n              ></SingleFormSlider>\n            </FormControl>\n            <FormMessage />\n          </FormItem>\n        )}\n      />\n      <FormField\n        control={form.control}\n        name={vectorSimilarityWeightName}\n        render={({ field }) => (\n          <FormItem>\n            <FormLabel\n              tooltip={isTooltipShown && t('vectorSimilarityWeightTip')}\n            >\n              {t('vectorSimilarityWeight')}\n            </FormLabel>\n            <FormControl>\n              <SingleFormSlider\n                {...field}\n                max={1}\n                step={0.01}\n              ></SingleFormSlider>\n            </FormControl>\n            <FormMessage />\n          </FormItem>\n        )}\n      />\n    </>\n  );\n}\n","import {\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n} from '@/components/ui/form';\nimport { Switch } from '@/components/ui/switch';\nimport { ReactNode } from 'react';\nimport { useFormContext } from 'react-hook-form';\n\ninterface SwitchFormItemProps {\n  name: string;\n  label: ReactNode;\n}\n\nexport function SwitchFormField({ label, name }: SwitchFormItemProps) {\n  const form = useFormContext();\n\n  return (\n    <FormField\n      control={form.control}\n      name={name}\n      render={({ field }) => (\n        <FormItem className=\"flex justify-between\">\n          <FormLabel className=\"text-base\">{label}</FormLabel>\n          <FormControl>\n            <Switch\n              checked={field.value}\n              onCheckedChange={field.onChange}\n              aria-readonly\n              className=\"!m-0\"\n            />\n          </FormControl>\n        </FormItem>\n      )}\n    />\n  );\n}\n","'use client';\n\nimport * as SliderPrimitive from '@radix-ui/react-slider';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\ninterface DualRangeSliderProps\n  extends React.ComponentProps<typeof SliderPrimitive.Root> {\n  labelPosition?: 'top' | 'bottom';\n  label?: (value: number | undefined) => React.ReactNode;\n}\n\nconst DualRangeSlider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  DualRangeSliderProps\n>(({ className, label, labelPosition = 'top', ...props }, ref) => {\n  const initialValue = Array.isArray(props.value)\n    ? props.value\n    : [props.min, props.max];\n\n  return (\n    <SliderPrimitive.Root\n      ref={ref}\n      className={cn(\n        'relative flex w-full touch-none select-none items-center',\n        className,\n      )}\n      {...props}\n    >\n      <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n        <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n      </SliderPrimitive.Track>\n      {initialValue.map((value, index) => (\n        <React.Fragment key={index}>\n          <SliderPrimitive.Thumb className=\"relative block h-4 w-4 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer\">\n            {label && (\n              <span\n                className={cn(\n                  'absolute flex w-full justify-center',\n                  labelPosition === 'top' && '-top-7',\n                  labelPosition === 'bottom' && 'top-4',\n                )}\n              >\n                {label(value)}\n              </span>\n            )}\n          </SliderPrimitive.Thumb>\n        </React.Fragment>\n      ))}\n    </SliderPrimitive.Root>\n  );\n});\nDualRangeSlider.displayName = 'DualRangeSlider';\n\ntype SingleSliderProps = Omit<\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>,\n  'onChange' | 'value'\n> & { onChange: (value: number) => void; value: number };\n\nconst SingleFormSlider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  SingleSliderProps\n>(({ value, onChange, ...props }, ref) => {\n  return (\n    <DualRangeSlider\n      ref={ref}\n      label={(value) => value}\n      value={[value]}\n      onValueChange={(vals) => {\n        onChange(vals[0]);\n      }}\n      {...props}\n    />\n  );\n});\n\nexport { DualRangeSlider, SingleFormSlider };\n","'use client';\n\nimport * as SelectPrimitive from '@radix-ui/react-select';\nimport { Check, ChevronDown, ChevronUp, X } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\nimport { ControllerRenderProps } from 'react-hook-form';\n\nimport { FormControl } from '@/components/ui/form';\nimport { forwardRef, useCallback, useEffect } from 'react';\n\nconst Select = SelectPrimitive.Root;\n\nconst SelectGroup = SelectPrimitive.Group;\n\nconst SelectValue = SelectPrimitive.Value;\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger> & {\n    onReset?: () => void;\n    allowClear?: boolean;\n  }\n>(({ className, children, value, onReset, allowClear, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      'flex h-10 w-full items-center justify-between rounded-md border border-input bg-colors-background-inverse-weak px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1',\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon\n      asChild\n      onPointerDown={(event) => {\n        event.stopPropagation();\n      }}\n    >\n      {value && allowClear ? (\n        <X className=\"h-4 w-4 opacity-50 cursor-pointer\" onClick={onReset} />\n      ) : (\n        <ChevronDown className=\"h-4 w-4 opacity-50\" />\n      )}\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      'flex cursor-default items-center justify-center py-1',\n      className,\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n));\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      'flex cursor-default items-center justify-center py-1',\n      className,\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n));\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName;\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = 'popper', ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        'relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n        position === 'popper' &&\n          'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n        className,\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          'p-1',\n          position === 'popper' &&\n            'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]',\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn('py-1.5 pl-8 pr-2 text-sm font-semibold', className)}\n    {...props}\n  />\n));\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      'relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn('-mx-1 my-1 h-px bg-muted', className)}\n    {...props}\n  />\n));\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n};\n\nexport type RAGFlowSelectOptionType = {\n  label: React.ReactNode;\n  value: string;\n  disabled?: boolean;\n};\n\nexport type RAGFlowSelectGroupOptionType = {\n  label: React.ReactNode;\n  options: RAGFlowSelectOptionType[];\n};\n\nexport type RAGFlowSelectProps = Partial<ControllerRenderProps> & {\n  FormControlComponent?: typeof FormControl;\n  options?: (RAGFlowSelectOptionType | RAGFlowSelectGroupOptionType)[];\n  allowClear?: boolean;\n  placeholder?: React.ReactNode;\n  contentProps?: React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>;\n} & SelectPrimitive.SelectProps;\n\n/**\n *\n * Reference:\n * https://github.com/shadcn-ui/ui/discussions/638\n * https://github.com/radix-ui/primitives/discussions/2645#discussioncomment-8343397\n *\n * @export\n * @param {(Partial<ControllerRenderProps> & {\n *   FormControlComponent?: typeof FormControl;\n * })} {\n *   value: initialValue,\n *   onChange,\n *   FormControlComponent,\n * }\n * @return {*}\n */\nexport const RAGFlowSelect = forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  RAGFlowSelectProps\n>(function (\n  {\n    value: initialValue,\n    onChange,\n    FormControlComponent,\n    options = [],\n    allowClear,\n    placeholder,\n    contentProps = {},\n  },\n  ref,\n) {\n  const [key, setKey] = React.useState(+new Date());\n  const [value, setValue] = React.useState<string | undefined>(undefined);\n\n  const FormControlWidget = FormControlComponent\n    ? FormControlComponent\n    : ({ children }: React.PropsWithChildren) => <div>{children}</div>;\n\n  const handleChange = useCallback(\n    (val?: string) => {\n      setValue(val);\n      onChange?.(val);\n    },\n    [onChange],\n  );\n\n  const handleReset = useCallback(() => {\n    handleChange(undefined);\n    setKey(+new Date());\n  }, [handleChange]);\n\n  useEffect(() => {\n    setValue((preValue) => {\n      if (preValue !== initialValue) {\n        return initialValue;\n      }\n      return preValue;\n    });\n  }, [initialValue]);\n\n  return (\n    <Select onValueChange={handleChange} value={value} key={key}>\n      <FormControlWidget>\n        <SelectTrigger\n          className=\"bg-colors-background-inverse-weak\"\n          value={value}\n          onReset={handleReset}\n          allowClear={allowClear}\n          ref={ref}\n        >\n          <SelectValue placeholder={placeholder} />\n        </SelectTrigger>\n      </FormControlWidget>\n      <SelectContent {...contentProps}>\n        {options.map((o, idx) => {\n          if ('value' in o) {\n            return (\n              <SelectItem\n                value={o.value as RAGFlowSelectOptionType['value']}\n                key={o.value}\n                disabled={o.disabled}\n              >\n                {o.label}\n              </SelectItem>\n            );\n          }\n\n          return (\n            <SelectGroup key={idx}>\n              <SelectLabel>{o.label}</SelectLabel>\n              {o.options.map((x) => (\n                <SelectItem value={x.value} key={x.value} disabled={x.disabled}>\n                  {x.label}\n                </SelectItem>\n              ))}\n            </SelectGroup>\n          );\n        })}\n      </SelectContent>\n    </Select>\n  );\n});\n\nRAGFlowSelect.displayName = 'RAGFlowSelect';\n","'use client';\n\nimport * as SwitchPrimitives from '@radix-ui/react-switch';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      'peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-colors-background-core-standard data-[state=unchecked]:bg-colors-background-inverse-standard',\n      className,\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        'pointer-events-none block h-5 w-5 rounded-full bg-colors-text-neutral-strong shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0',\n      )}\n    />\n  </SwitchPrimitives.Root>\n));\nSwitch.displayName = SwitchPrimitives.Root.displayName;\n\nexport { Switch };\n","import { Form, Switch } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { SwitchFormField } from './switch-fom-field';\n\ntype IProps = {\n  filedName: string[];\n};\n\nexport function UseKnowledgeGraphItem({ filedName }: IProps) {\n  const { t } = useTranslation();\n\n  return (\n    <Form.Item\n      label={t('chat.useKnowledgeGraph')}\n      tooltip={t('chat.useKnowledgeGraphTip')}\n      name={filedName}\n      initialValue={false}\n    >\n      <Switch></Switch>\n    </Form.Item>\n  );\n}\n\ninterface UseKnowledgeGraphFormFieldProps {\n  name: string;\n}\n\nexport function UseKnowledgeGraphFormField({\n  name,\n}: UseKnowledgeGraphFormFieldProps) {\n  const { t } = useTranslation();\n\n  return (\n    <SwitchFormField\n      name={name}\n      label={t('chat.useKnowledgeGraph')}\n    ></SwitchFormField>\n  );\n}\n","import { useSelectTestingResult } from '@/hooks/knowledge-hooks';\nimport { Chart } from '@antv/g2';\nimport { useCallback, useEffect, useMemo, useRef } from 'react';\n\nexport function LabelWordCloud() {\n  const domRef = useRef<HTMLDivElement>(null);\n  let chartRef = useRef<Chart>();\n  const { labels } = useSelectTestingResult();\n\n  const list = useMemo(() => {\n    if (!labels) {\n      return [];\n    }\n\n    return Object.keys(labels).reduce<\n      Array<{ text: string; name: string; value: number }>\n    >((pre, cur) => {\n      pre.push({ name: cur, text: cur, value: labels[cur] });\n\n      return pre;\n    }, []);\n  }, [labels]);\n\n  const renderWordCloud = useCallback(() => {\n    if (domRef.current && list.length) {\n      chartRef.current = new Chart({ container: domRef.current });\n\n      chartRef.current.options({\n        type: 'wordCloud',\n        autoFit: true,\n        layout: {\n          fontSize: [6, 15],\n        },\n        data: {\n          type: 'inline',\n          value: list,\n        },\n        encode: { color: 'text' },\n        legend: false,\n        tooltip: {\n          title: 'name', // title\n          items: ['value'], // data item\n        },\n      });\n\n      chartRef.current.render();\n    }\n  }, [list]);\n\n  useEffect(() => {\n    renderWordCloud();\n\n    return () => {\n      chartRef.current?.destroy();\n    };\n  }, [renderWordCloud]);\n\n  return <div ref={domRef} className=\"w-full h-[13vh]\"></div>;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"testingControlWrapper\":\"testingControlWrapper___p4CKW\",\"historyTitle\":\"historyTitle___xzO3Q\",\"historyIcon\":\"historyIcon___cC0xi\",\"historyCardWrapper\":\"historyCardWrapper___U6MLX\",\"historyCard\":\"historyCard___iTsCa\",\"historyText\":\"historyText____3RVU\"};","import Rerank from '@/components/rerank';\nimport SimilaritySlider from '@/components/similarity-slider';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useChunkIsTesting } from '@/hooks/knowledge-hooks';\nimport { Button, Card, Divider, Flex, Form, Input } from 'antd';\nimport { FormInstance } from 'antd/lib';\nimport { LabelWordCloud } from './label-word-cloud';\n\nimport { UseKnowledgeGraphItem } from '@/components/use-knowledge-graph-item';\nimport styles from './index.less';\n\ntype FieldType = {\n  similarity_threshold?: number;\n  vector_similarity_weight?: number;\n  question: string;\n};\n\ninterface IProps {\n  form: FormInstance;\n  handleTesting: () => Promise<any>;\n}\n\nconst TestingControl = ({ form, handleTesting }: IProps) => {\n  const question = Form.useWatch('question', { form, preserve: true });\n  const loading = useChunkIsTesting();\n  const { t } = useTranslate('knowledgeDetails');\n\n  const buttonDisabled =\n    !question || (typeof question === 'string' && question.trim() === '');\n\n  return (\n    <section className={styles.testingControlWrapper}>\n      <div>\n        <b>{t('testing')}</b>\n      </div>\n      <p>{t('testingDescription')}</p>\n      <Divider></Divider>\n      <section>\n        <Form name=\"testing\" layout=\"vertical\" form={form}>\n          <SimilaritySlider isTooltipShown></SimilaritySlider>\n          <Rerank></Rerank>\n          <UseKnowledgeGraphItem filedName={['use_kg']}></UseKnowledgeGraphItem>\n          <Card size=\"small\" title={t('testText')}>\n            <Form.Item<FieldType>\n              name={'question'}\n              rules={[{ required: true, message: t('testTextPlaceholder') }]}\n            >\n              <Input.TextArea autoSize={{ minRows: 8 }}></Input.TextArea>\n            </Form.Item>\n            <Flex justify={'end'}>\n              <Button\n                type=\"primary\"\n                size=\"small\"\n                onClick={handleTesting}\n                disabled={buttonDisabled}\n                loading={loading}\n              >\n                {t('testingLabel')}\n              </Button>\n            </Flex>\n          </Card>\n        </Form>\n      </section>\n      <LabelWordCloud></LabelWordCloud>\n      {/* <section>\n        <div className={styles.historyTitle}>\n          <Space size={'middle'}>\n            <HistoryOutlined className={styles.historyIcon} />\n            <b>Test history</b>\n          </Space>\n        </div>\n        <Space\n          direction=\"vertical\"\n          size={'middle'}\n          className={styles.historyCardWrapper}\n        >\n          {list.map((x) => (\n            <Card className={styles.historyCard} key={x}>\n              <Flex justify={'space-between'} gap={'small'}>\n                <span>{x}</span>\n                <div className={styles.historyText}>\n                  content dcjsjl snldsh svnodvn svnodrfn svjdoghdtbnhdo\n                  sdvhodhbuid sldghdrlh\n                </div>\n                <Flex gap={'small'}>\n                  <span>time</span>\n                  <DeleteOutlined></DeleteOutlined>\n                </Flex>\n              </Flex>\n            </Card>\n          ))}\n        </Space>\n      </section> */}\n    </section>\n  );\n};\n\nexport default TestingControl;\n","import NewDocumentLink from '@/components/new-document-link';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useSelectTestingResult } from '@/hooks/knowledge-hooks';\nimport { ITestingDocument } from '@/interfaces/database/knowledge';\nimport { EyeOutlined } from '@ant-design/icons';\nimport { Button, Table, TableProps, Tooltip } from 'antd';\n\ninterface IProps {\n  handleTesting: (ids: string[]) => void;\n  setSelectedDocumentIds: (ids: string[]) => void;\n}\n\nconst SelectFiles = ({ setSelectedDocumentIds, handleTesting }: IProps) => {\n  const { documents } = useSelectTestingResult();\n  const { t } = useTranslate('fileManager');\n\n  const columns: TableProps<ITestingDocument>['columns'] = [\n    {\n      title: 'Name',\n      dataIndex: 'doc_name',\n      key: 'doc_name',\n      render: (text) => <p>{text}</p>,\n    },\n\n    {\n      title: 'Hits',\n      dataIndex: 'count',\n      key: 'count',\n      width: 80,\n    },\n    {\n      title: 'View',\n      key: 'view',\n      width: 50,\n      render: (_, { doc_id, doc_name }) => (\n        <NewDocumentLink\n          documentName={doc_name}\n          documentId={doc_id}\n          prefix=\"document\"\n        >\n          <Tooltip title={t('preview')}>\n            <Button type=\"text\">\n              <EyeOutlined size={20} />\n            </Button>\n          </Tooltip>\n        </NewDocumentLink>\n      ),\n    },\n  ];\n\n  const rowSelection = {\n    onChange: (selectedRowKeys: React.Key[]) => {\n      handleTesting(selectedRowKeys as string[]);\n      setSelectedDocumentIds(selectedRowKeys as string[]);\n    },\n    getCheckboxProps: (record: ITestingDocument) => ({\n      disabled: record.doc_name === 'Disabled User', // Column configuration not to be checked\n      name: record.doc_name,\n    }),\n  };\n\n  return (\n    <Table\n      columns={columns}\n      dataSource={documents}\n      showHeader={false}\n      rowSelection={rowSelection}\n      rowKey={'doc_id'}\n    />\n  );\n};\n\nexport default SelectFiles;\n","// extracted by mini-css-extract-plugin\nexport default {\"testingResultWrapper\":\"testingResultWrapper____vEJI\",\"selectFilesCollapse\":\"selectFilesCollapse___WeBtG\",\"selectFilesTitle\":\"selectFilesTitle___nknYG\",\"similarityCircle\":\"similarityCircle___aWv8z\",\"similarityText\":\"similarityText___sA5SL\",\"image\":\"image___FOh9e\",\"imagePreview\":\"imagePreview___n8h43\"};","import { ReactComponent as SelectedFilesCollapseIcon } from '@/assets/svg/selected-files-collapse.svg';\nimport Image from '@/components/image';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { ITestingChunk } from '@/interfaces/database/knowledge';\nimport {\n  Card,\n  Collapse,\n  Empty,\n  Flex,\n  Pagination,\n  PaginationProps,\n  Popover,\n  Space,\n} from 'antd';\nimport camelCase from 'lodash/camelCase';\nimport SelectFiles from './select-files';\n\nimport {\n  useSelectIsTestingSuccess,\n  useSelectTestingResult,\n} from '@/hooks/knowledge-hooks';\nimport { useGetPaginationWithRouter } from '@/hooks/logic-hooks';\nimport { useCallback, useState } from 'react';\nimport styles from './index.less';\n\nconst similarityList: Array<{ field: keyof ITestingChunk; label: string }> = [\n  { field: 'similarity', label: 'Hybrid Similarity' },\n  { field: 'term_similarity', label: 'Term Similarity' },\n  { field: 'vector_similarity', label: 'Vector Similarity' },\n];\n\nconst ChunkTitle = ({ item }: { item: ITestingChunk }) => {\n  const { t } = useTranslate('knowledgeDetails');\n  return (\n    <Flex gap={10}>\n      {similarityList.map((x) => (\n        <Space key={x.field}>\n          <span className={styles.similarityCircle}>\n            {((item[x.field] as number) * 100).toFixed(2)}\n          </span>\n          <span className={styles.similarityText}>{t(camelCase(x.field))}</span>\n        </Space>\n      ))}\n    </Flex>\n  );\n};\n\ninterface IProps {\n  handleTesting: (documentIds?: string[]) => Promise<any>;\n}\n\nconst TestingResult = ({ handleTesting }: IProps) => {\n  const [selectedDocumentIds, setSelectedDocumentIds] = useState<string[]>([]);\n  const { documents, chunks, total } = useSelectTestingResult();\n  const { t } = useTranslate('knowledgeDetails');\n  const { pagination, setPagination } = useGetPaginationWithRouter();\n  const isSuccess = useSelectIsTestingSuccess();\n\n  const onChange: PaginationProps['onChange'] = (pageNumber, pageSize) => {\n    pagination.onChange?.(pageNumber, pageSize);\n    handleTesting(selectedDocumentIds);\n  };\n\n  const onTesting = useCallback(\n    (ids: string[]) => {\n      setPagination({ page: 1 });\n      handleTesting(ids);\n    },\n    [setPagination, handleTesting],\n  );\n\n  return (\n    <section className={styles.testingResultWrapper}>\n      <Collapse\n        expandIcon={() => (\n          <SelectedFilesCollapseIcon></SelectedFilesCollapseIcon>\n        )}\n        className={styles.selectFilesCollapse}\n        items={[\n          {\n            key: '1',\n            label: (\n              <Flex\n                justify={'space-between'}\n                align=\"center\"\n                className={styles.selectFilesTitle}\n              >\n                <Space>\n                  <span>\n                    {selectedDocumentIds?.length ?? 0}/{documents?.length ?? 0}\n                  </span>\n                  {t('filesSelected')}\n                </Space>\n              </Flex>\n            ),\n            children: (\n              <div>\n                <SelectFiles\n                  setSelectedDocumentIds={setSelectedDocumentIds}\n                  handleTesting={onTesting}\n                ></SelectFiles>\n              </div>\n            ),\n          },\n        ]}\n      />\n      <Flex\n        gap={'large'}\n        vertical\n        flex={1}\n        className={styles.selectFilesCollapse}\n      >\n        {isSuccess && chunks.length > 0 ? (\n          chunks?.map((x) => (\n            <Card key={x.chunk_id} title={<ChunkTitle item={x}></ChunkTitle>}>\n              <Flex gap={'middle'}>\n                {x.img_id && (\n                  <Popover\n                    placement=\"left\"\n                    content={\n                      <Image\n                        id={x.img_id}\n                        className={styles.imagePreview}\n                      ></Image>\n                    }\n                  >\n                    <Image id={x.img_id} className={styles.image}></Image>\n                  </Popover>\n                )}\n                <div>{x.content_with_weight}</div>\n              </Flex>\n            </Card>\n          ))\n        ) : isSuccess && chunks.length === 0 ? (\n          <Empty></Empty>\n        ) : null}\n      </Flex>\n      <Pagination\n        {...pagination}\n        size={'small'}\n        total={total}\n        onChange={onChange}\n      />\n    </section>\n  );\n};\n\nexport default TestingResult;\n","// extracted by mini-css-extract-plugin\nexport default {\"testingWrapper\":\"testingWrapper___w_vXb\"};","import { useTestChunkRetrieval } from '@/hooks/knowledge-hooks';\nimport { Flex, Form } from 'antd';\nimport TestingControl from './testing-control';\nimport TestingResult from './testing-result';\n\nimport styles from './index.less';\n\nconst KnowledgeTesting = () => {\n  const [form] = Form.useForm();\n  const { testChunk } = useTestChunkRetrieval();\n\n  const handleTesting = async (documentIds: string[] = []) => {\n    const values = await form.validateFields();\n    testChunk({\n      ...values,\n      doc_ids: Array.isArray(documentIds) ? documentIds : [],\n      vector_similarity_weight: 1 - values.vector_similarity_weight,\n    });\n  };\n\n  return (\n    <Flex className={styles.testingWrapper} gap={16}>\n      <TestingControl\n        form={form}\n        handleTesting={handleTesting}\n      ></TestingControl>\n      <TestingResult handleTesting={handleTesting}></TestingResult>\n    </Flex>\n  );\n};\n\nexport default KnowledgeTesting;\n","import { Images, SupportedPreviewDocumentTypes } from '@/constants/common';\nimport { IReferenceChunk } from '@/interfaces/database/chat';\nimport { IChunk } from '@/interfaces/database/knowledge';\nimport { UploadFile } from 'antd';\nimport { get } from 'lodash';\nimport { v4 as uuid } from 'uuid';\n\nexport const buildChunkHighlights = (\n  selectedChunk: IChunk | IReferenceChunk,\n  size: { width: number; height: number },\n) => {\n  return Array.isArray(selectedChunk?.positions) &&\n    selectedChunk.positions.every((x) => Array.isArray(x))\n    ? selectedChunk?.positions?.map((x) => {\n        const boundingRect = {\n          width: size.width,\n          height: size.height,\n          x1: x[1],\n          x2: x[2],\n          y1: x[3],\n          y2: x[4],\n        };\n        return {\n          id: uuid(),\n          comment: {\n            text: '',\n            emoji: '',\n          },\n          content: {\n            text:\n              get(selectedChunk, 'content_with_weight') ||\n              get(selectedChunk, 'content', ''),\n          },\n          position: {\n            boundingRect: boundingRect,\n            rects: [boundingRect],\n            pageNumber: x[0],\n          },\n        };\n      })\n    : [];\n};\n\nexport const isFileUploadDone = (file: UploadFile) => file.status === 'done';\n\nexport const getExtension = (name: string) =>\n  name?.slice(name.lastIndexOf('.') + 1).toLowerCase() ?? '';\n\nexport const isPdf = (name: string) => {\n  return getExtension(name) === 'pdf';\n};\n\nexport const getUnSupportedFilesCount = (message: string) => {\n  return message.split('\\n').length;\n};\n\nexport const isSupportedPreviewDocumentType = (fileExtension: string) => {\n  return SupportedPreviewDocumentTypes.includes(fileExtension);\n};\n\nexport const isImage = (image: string) => {\n  return [...Images, 'svg'].some((x) => x === image);\n};\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgSelectedFilesCollapse = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 20, height: 20, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M6.667 10h6.666M6.5 17.5h7c1.4 0 2.1 0 2.635-.273a2.5 2.5 0 0 0 1.092-1.092c.273-.535.273-1.235.273-2.635v-7c0-1.4 0-2.1-.273-2.635a2.5 2.5 0 0 0-1.092-1.093C15.6 2.5 14.9 2.5 13.5 2.5h-7c-1.4 0-2.1 0-2.635.272a2.5 2.5 0 0 0-1.093 1.093C2.5 4.4 2.5 5.1 2.5 6.5v7c0 1.4 0 2.1.272 2.635a2.5 2.5 0 0 0 1.093 1.092C4.4 17.5 5.1 17.5 6.5 17.5Z\", stroke: \"#7F56D9\", strokeWidth: 2, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgSelectedFilesCollapse as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuNjY3IDEwaDYuNjY2TTYuNSAxNy41aDdjMS40IDAgMi4xIDAgMi42MzUtLjI3M2EyLjUgMi41IDAgMCAwIDEuMDkyLTEuMDkyYy4yNzMtLjUzNS4yNzMtMS4yMzUuMjczLTIuNjM1di03YzAtMS40IDAtMi4xLS4yNzMtMi42MzVhMi41IDIuNSAwIDAgMC0xLjA5Mi0xLjA5M0MxNS42IDIuNSAxNC45IDIuNSAxMy41IDIuNWgtN2MtMS40IDAtMi4xIDAtMi42MzUuMjcyYTIuNSAyLjUgMCAwIDAtMS4wOTMgMS4wOTNDMi41IDQuNCAyLjUgNS4xIDIuNSA2LjV2N2MwIDEuNCAwIDIuMS4yNzIgMi42MzVhMi41IDIuNSAwIDAgMCAxLjA5MyAxLjA5MkM0LjQgMTcuNSA1LjEgMTcuNSA2LjUgMTcuNVoiIHN0cm9rZT0iIzdGNTZEOSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L3N2Zz4=\";\n"],"names":["Image","_ref","id","className","props","_objectWithoutProperties","_excluded","_jsx","_objectSpread","src","concat","api_host","alt","classNames","styles","ImageWithPopover","_ref2","Popover","placement","content","children","link","_ref$preventDefault","preventDefault","_ref$color","color","documentId","documentName","_ref$prefix","prefix","nextLink","extension","getExtension","target","onClick","isSupportedPreviewDocumentType","undefined","e","href","rel","style","wordBreak","RerankItem","t","useTranslate","allOptions","useSelectLlmOptionsByModelType","Form","Item","label","name","tooltip","AntSelect","options","LlmModelType","Rerank","allowClear","placeholder","_jsxs","_Fragment","noStyle","dependencies","getFieldValue","initialValue","Slider","max","min","RerankId","RerankFormField","form","useFormContext","FormField","control","render","field","FormItem","FormLabel","FormControl","Select","onValueChange","onChange","SelectTrigger","value","onReset","resetField","SelectValue","SelectContent","map","x","SelectGroup","SelectLabel","y","SelectItem","disabled","FormMessage","RerankFormFields","_useFormContext","watch","rerankId","_ref3","SingleFormSlider","SimilaritySliderFormField","_ref2$vectorSimilarit","vectorSimilarityWeightName","isTooltipShown","step","_ref4","_ref$isTooltipShown","_ref$vectorSimilarity","SwitchFormField","Switch","checked","onCheckedChange","_excluded2","DualRangeSlider","React","ref","_ref$labelPosition","labelPosition","Array","isArray","SliderPrimitive","cn","index","displayName","vals","_excluded3","_excluded4","_excluded5","_excluded6","_excluded7","SelectPrimitive","asChild","onPointerDown","event","stopPropagation","X","ChevronDown","SelectScrollUpButton","ChevronUp","SelectScrollDownButton","_ref4$position","position","_ref5","_ref6","Check","_ref7","RAGFlowSelect","forwardRef","_ref8","FormControlComponent","_ref8$options","_ref8$contentProps","contentProps","_React$useState","Date","_React$useState2","_slicedToArray","key","setKey","_React$useState3","_React$useState4","setValue","FormControlWidget","_ref9","handleChange","useCallback","val","handleReset","useEffect","preValue","o","idx","SwitchPrimitives","UseKnowledgeGraphItem","filedName","useTranslation","UseKnowledgeGraphFormField","LabelWordCloud","domRef","useRef","chartRef","labels","useSelectTestingResult","list","useMemo","Object","keys","reduce","pre","cur","push","text","renderWordCloud","current","length","Chart","container","type","autoFit","layout","fontSize","data","encode","legend","title","items","_chartRef$current","destroy","handleTesting","question","useWatch","preserve","loading","useChunkIsTesting","buttonDisabled","trim","Divider","SimilaritySlider","Card","size","rules","required","message","Input","TextArea","autoSize","minRows","Flex","justify","Button","setSelectedDocumentIds","documents","columns","dataIndex","width","_","doc_id","doc_name","NewDocumentLink","Tooltip","EyeOutlined","rowSelection","selectedRowKeys","getCheckboxProps","record","Table","dataSource","showHeader","rowKey","similarityList","ChunkTitle","item","gap","Space","toFixed","camelCase","_selectedDocumentIds$","_documents$length","_useState","useState","_useState2","selectedDocumentIds","_useSelectTestingResu","chunks","total","_useGetPaginationWith","useGetPaginationWithRouter","pagination","setPagination","isSuccess","useSelectIsTestingSuccess","onTesting","ids","page","Collapse","expandIcon","SelectedFilesCollapseIcon","align","SelectFiles","vertical","flex","img_id","content_with_weight","chunk_id","Empty","Pagination","pageNumber","pageSize","_pagination$onChange","call","_Form$useForm","useForm","testChunk","useTestChunkRetrieval","_asyncToGenerator","_regeneratorRuntime","mark","_callee","documentIds","values","_args","arguments","wrap","_context","prev","next","validateFields","sent","doc_ids","vector_similarity_weight","stop","apply","TestingControl","TestingResult","buildChunkHighlights","selectedChunk","_selectedChunk$positi","positions","every","boundingRect","height","x1","x2","y1","y2","uuid","comment","emoji","get","rects","_name$slice$toLowerCa","slice","lastIndexOf","toLowerCase","getUnSupportedFilesCount","split","fileExtension","SupportedPreviewDocumentTypes","includes","isImage","image","_toConsumableArray","Images","some","__defProp","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","enumerable","configurable","writable","SvgSelectedFilesCollapse","a","b","prop","__spreadValues","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin"],"sourceRoot":""}