{"version":3,"file":"5570.f8d99d84.async.js","mappings":"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","sources":["webpack:///./node_modules/@antv/coord/dist/coordinate.min.js","webpack:///./node_modules/@antv/g2/esm/coordinate/cartesian.js","webpack:///./node_modules/@antv/g2/esm/coordinate/polar.js","webpack:///./node_modules/@antv/g2/esm/utils/angle.js","webpack:///./node_modules/@antv/g2/esm/coordinate/transpose.js","webpack:///./node_modules/@antv/g2/esm/coordinate/theta.js","webpack:///./node_modules/@antv/g2/esm/coordinate/parallel.js","webpack:///./node_modules/@antv/g2/esm/coordinate/fisheye.js","webpack:///./node_modules/@antv/g2/esm/coordinate/radial.js","webpack:///./node_modules/@antv/g2/esm/coordinate/radar.js","webpack:///./node_modules/@antv/g2/esm/encode/constant.js","webpack:///./node_modules/@antv/g2/esm/encode/field.js","webpack:///./node_modules/@antv/g2/esm/encode/transform.js","webpack:///./node_modules/@antv/g2/esm/encode/column.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/is-array.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/is-object-like.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/is-type.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/is-plain-object.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/deep-mix.js","webpack:///./node_modules/@antv/g2/esm/transform/utils/helper.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeZeroY1.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeZeroX.js","webpack:///./node_modules/d3-shape/src/arc.js","webpack:///./node_modules/@antv/g2/esm/utils/coordinate.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/identity.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/group.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/is-nil.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/to-string.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/lower-first.js","webpack:///./node_modules/@antv/g2/esm/utils/helper.js","webpack:///./node_modules/@antv/g2/esm/utils/selection.js","webpack:///./node_modules/@antv/g2/esm/utils/vector.js","webpack:///./node_modules/@antv/g2/esm/utils/number.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/is-number.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/extent.js","webpack:///./node_modules/@antv/g2/esm/utils/array.js","webpack:///./node_modules/@antv/g2/esm/shape/utils.js","webpack:///./node_modules/@antv/g2/esm/shape/interval/color.js","webpack:///./node_modules/@antv/g2/esm/shape/interval/rect.js","webpack:///./node_modules/@antv/g2/esm/shape/interval/hollow.js","webpack:///./node_modules/@antv/g2/esm/shape/interval/funnel.js","webpack:///./node_modules/@antv/g2/esm/shape/interval/pyramid.js","webpack:///./node_modules/@antv/g2/esm/utils/dateFormat.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeTitle.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeTooltip.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeKey.js","webpack:///./node_modules/@antv/g2/esm/mark/utils.js","webpack:///./node_modules/@antv/g2/esm/mark/interval.js","webpack:///./node_modules/@antv/g2/esm/mark/rect.js","webpack:///./node_modules/d3-shape/src/curve/radial.js","webpack:///./node_modules/d3-shape/src/lineRadial.js","webpack:///./node_modules/@antv/g2/esm/utils/createElement.js","webpack:///./node_modules/@antv/g2/esm/shape/line/curve.js","webpack:///./node_modules/@antv/g2/esm/shape/line/line.js","webpack:///./node_modules/d3-shape/src/curve/cardinal.js","webpack:///./node_modules/d3-shape/src/curve/cardinalClosed.js","webpack:///./node_modules/d3-shape/src/curve/catmullRom.js","webpack:///./node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack:///./node_modules/@antv/g2/esm/shape/line/smooth.js","webpack:///./node_modules/@antv/g2/esm/shape/line/hv.js","webpack:///./node_modules/@antv/g2/esm/shape/line/vh.js","webpack:///./node_modules/@antv/g2/esm/shape/line/hvh.js","webpack:///./node_modules/@antv/g2/esm/shape/line/trail.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeGradient.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeSeries.js","webpack:///./node_modules/@antv/g2/esm/mark/line.js","webpack:///./node_modules/@antv/g2/esm/utils/marker.js","webpack:///./node_modules/@antv/g2/esm/shape/point/color.js","webpack:///./node_modules/@antv/g2/esm/shape/point/hollow.js","webpack:///./node_modules/@antv/g2/esm/shape/point/hollowDiamond.js","webpack:///./node_modules/@antv/g2/esm/shape/point/hollowHexagon.js","webpack:///./node_modules/@antv/g2/esm/shape/point/hollowSquare.js","webpack:///./node_modules/@antv/g2/esm/shape/point/hollowTriangleDown.js","webpack:///./node_modules/@antv/g2/esm/shape/point/hollowTriangle.js","webpack:///./node_modules/@antv/g2/esm/shape/point/hollowBowtie.js","webpack:///./node_modules/@antv/g2/esm/shape/point/circle.js","webpack:///./node_modules/@antv/g2/esm/shape/point/hollowCircle.js","webpack:///./node_modules/@antv/g2/esm/shape/point/point.js","webpack:///./node_modules/@antv/g2/esm/shape/point/plus.js","webpack:///./node_modules/@antv/g2/esm/shape/point/diamond.js","webpack:///./node_modules/@antv/g2/esm/shape/point/square.js","webpack:///./node_modules/@antv/g2/esm/shape/point/triangle.js","webpack:///./node_modules/@antv/g2/esm/shape/point/hexagon.js","webpack:///./node_modules/@antv/g2/esm/shape/point/cross.js","webpack:///./node_modules/@antv/g2/esm/shape/point/bowtie.js","webpack:///./node_modules/@antv/g2/esm/shape/point/hyphen.js","webpack:///./node_modules/@antv/g2/esm/shape/point/line.js","webpack:///./node_modules/@antv/g2/esm/shape/point/tick.js","webpack:///./node_modules/@antv/g2/esm/shape/point/triangleDown.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeZeroY.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeSize.js","webpack:///./node_modules/@antv/g2/esm/mark/point.js","webpack:///./node_modules/@antv/g2/esm/shape/text/advance.js","webpack:///./node_modules/@antv/g2/esm/shape/text/text.js","webpack:///./node_modules/@antv/g2/esm/shape/text/badge.js","webpack:///./node_modules/@antv/g2/esm/shape/text/tag.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeTuple.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeVisualPosition.js","webpack:///./node_modules/@antv/g2/esm/mark/text.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeZeroPadding.js","webpack:///./node_modules/@antv/g2/esm/mark/cell.js","webpack:///./node_modules/@antv/g2/esm/shape/area/curve.js","webpack:///./node_modules/d3-shape/src/areaRadial.js","webpack:///./node_modules/@antv/g2/esm/shape/area/area.js","webpack:///./node_modules/@antv/g2/esm/shape/area/smooth.js","webpack:///./node_modules/@antv/g2/esm/shape/area/hvh.js","webpack:///./node_modules/@antv/g2/esm/shape/area/vh.js","webpack:///./node_modules/@antv/g2/esm/shape/area/hv.js","webpack:///./node_modules/@antv/g2/esm/mark/area.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeIdentityY.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeIdentityX.js","webpack:///./node_modules/@antv/g2/esm/shape/vector/vector.js","webpack:///./node_modules/@antv/g2/esm/shape/link/link.js","webpack:///./node_modules/@antv/g2/esm/shape/link/arc.js","webpack:///./node_modules/@antv/g2/esm/shape/link/smooth.js","webpack:///./node_modules/@antv/g2/esm/shape/link/vhv.js","webpack:///./node_modules/@antv/g2/esm/mark/link.js","webpack:///./node_modules/@antv/g2/esm/shape/image/image.js","webpack:///./node_modules/@antv/g2/esm/mark/image.js","webpack:///./node_modules/@antv/g2/esm/shape/polygon/polygon.js","webpack:///./node_modules/@antv/g2/esm/shape/polygon/ribbon.js","webpack:///./node_modules/@antv/g2/esm/mark/polygon.js","webpack:///./node_modules/@antv/g2/esm/shape/box/box.js","webpack:///./node_modules/@antv/g2/esm/shape/box/violin.js","webpack:///./node_modules/@antv/g2/esm/mark/box.js","webpack:///./node_modules/@antv/g2/esm/mark/vector.js","webpack:///./node_modules/@antv/g2/esm/shape/lineXY/line.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeTupleX.js","webpack:///./node_modules/@antv/g2/esm/mark/lineX.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeTupleY.js","webpack:///./node_modules/@antv/g2/esm/mark/lineY.js","webpack:///./node_modules/@antv/g2/esm/shape/connector/connector.js","webpack:///./node_modules/@antv/g2/esm/mark/connector.js","webpack:///./node_modules/@antv/g2/esm/mark/range.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeDefaultX.js","webpack:///./node_modules/@antv/g2/esm/mark/rangeX.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeDefaultY.js","webpack:///./node_modules/@antv/g2/esm/mark/rangeY.js","webpack:///./node_modules/@antv/g2/esm/shape/path/color.js","webpack:///./node_modules/@antv/g2/esm/shape/path/path.js","webpack:///./node_modules/@antv/g2/esm/shape/path/hollow.js","webpack:///./node_modules/@antv/g2/esm/mark/path.js","webpack:///./node_modules/@antv/g2/esm/shape/shape/shape.js","webpack:///./node_modules/@antv/g2/esm/transform/maybeFunctionAttribute.js","webpack:///./node_modules/@antv/g2/esm/mark/shape.js","webpack:///./node_modules/@antv/g2/esm/shape/density/density.js","webpack:///./node_modules/@antv/g2/esm/mark/density.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/min.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/max.js","webpack:///./node_modules/flru/dist/flru.mjs","webpack:///./node_modules/@antv/g2/esm/utils/lru.js","webpack:///./node_modules/@antv/g2/esm/shape/heatmap/renderer/index.js","webpack:///./node_modules/@antv/g2/esm/shape/heatmap/renderer/gradient.js","webpack:///./node_modules/@antv/g2/esm/shape/heatmap/heatmap.js","webpack:///./node_modules/@antv/g2/esm/mark/heatmap.js","webpack:///./node_modules/@antv/g2/esm/mark/wordCloud.js","webpack:///./node_modules/@antv/g2/esm/palette/category10.js","webpack:///./node_modules/@antv/g2/esm/palette/category20.js","webpack:///./node_modules/@antv/g2/esm/scale/linear.js","webpack:///./node_modules/@antv/g2/esm/scale/ordinal.js","webpack:///./node_modules/@antv/g2/esm/scale/band.js","webpack:///./node_modules/@antv/util/esm/lodash/size.js","webpack:///./node_modules/@antv/util/esm/lodash/index-of.js","webpack:///./node_modules/@antv/scale/esm/utils/pretty-number.js","webpack:///./node_modules/@antv/scale/esm/tick-methods/wilkinson-extended.js","webpack:///./node_modules/@antv/scale/esm/scales/identity.js","webpack:///./node_modules/@antv/g2/esm/scale/identity.js","webpack:///./node_modules/@antv/scale/esm/scales/point.js","webpack:///./node_modules/@antv/g2/esm/scale/point.js","webpack:///./node_modules/fecha/lib/fecha.js","webpack:///./node_modules/@antv/scale/esm/utils/time-interval.js","webpack:///./node_modules/@antv/scale/esm/utils/utc-interval.js","webpack:///./node_modules/@antv/scale/esm/utils/find-tick-interval.js","webpack:///./node_modules/@antv/scale/esm/tick-methods/d3-time.js","webpack:///./node_modules/@antv/scale/esm/utils/d3-time-nice.js","webpack:///./node_modules/@antv/scale/esm/scales/time.js","webpack:///./node_modules/@antv/scale/esm/utils/choose-mask.js","webpack:///./node_modules/@antv/g2/esm/scale/time.js","webpack:///./node_modules/@antv/scale/esm/utils/log.js","webpack:///./node_modules/@antv/scale/esm/tick-methods/d3-log.js","webpack:///./node_modules/@antv/scale/esm/utils/d3-log-nice.js","webpack:///./node_modules/@antv/scale/esm/scales/log.js","webpack:///./node_modules/@antv/g2/esm/scale/log.js","webpack:///./node_modules/@antv/scale/esm/scales/pow.js","webpack:///./node_modules/@antv/g2/esm/scale/pow.js","webpack:///./node_modules/@antv/scale/esm/scales/sqrt.js","webpack:///./node_modules/@antv/g2/esm/scale/sqrt.js","webpack:///./node_modules/@antv/scale/esm/scales/threshold.js","webpack:///./node_modules/@antv/g2/esm/scale/threshold.js","webpack:///./node_modules/@antv/scale/esm/utils/create-quartile.js","webpack:///./node_modules/@antv/scale/esm/scales/quantile.js","webpack:///./node_modules/@antv/g2/esm/scale/quantile.js","webpack:///./node_modules/@antv/scale/esm/scales/quantize.js","webpack:///./node_modules/@antv/g2/esm/scale/quantize.js","webpack:///./node_modules/@antv/scale/esm/scales/sequential.js","webpack:///./node_modules/@antv/scale/esm/utils/interpolatize.js","webpack:///./node_modules/@antv/g2/esm/scale/sequential.js","webpack:///./node_modules/@antv/scale/esm/scales/constant.js","webpack:///./node_modules/@antv/g2/esm/scale/constant.js","webpack:///./node_modules/@antv/g2/esm/theme/create.js","webpack:///./node_modules/@antv/g2/esm/theme/light.js","webpack:///./node_modules/@antv/g2/esm/theme/classic.js","webpack:///./node_modules/@antv/g2/esm/theme/dark.js","webpack:///./node_modules/@antv/g2/esm/theme/classicDark.js","webpack:///./node_modules/@antv/g2/esm/theme/academy.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/each.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/is-object.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/reduce.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/omit.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/upper-first.js","webpack:///./node_modules/@antv/g2/esm/component/utils.js","webpack:///./node_modules/@antv/g2/esm/component/axis.js","webpack:///./node_modules/@antv/g2/esm/component/axisX.js","webpack:///./node_modules/@antv/g2/esm/component/axisY.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/is-array-like.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/last.js","webpack:///./node_modules/@antv/g2/esm/component/legendCategory.js","webpack:///./node_modules/@antv/component/node_modules/@antv/util/esm/lodash/is-undefined.js","webpack:///./node_modules/@antv/component/esm/ui/legend/continuous/utils.js","webpack:///./node_modules/@antv/component/esm/ui/legend/continuous/ribbon.js","webpack:///./node_modules/@antv/component/esm/ui/legend/continuous.js","webpack:///./node_modules/@antv/g2/esm/component/legendContinuous.js","webpack:///./node_modules/@antv/g2/esm/component/legends.js","webpack:///./node_modules/@antv/g2/esm/component/title.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/ascending.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/descending.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/bisector.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/number.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/bisect.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/sort.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/permute.js","webpack:///./node_modules/@antv/g2/esm/utils/scale.js","webpack:///./node_modules/@antv/g2/esm/component/slider.js","webpack:///./node_modules/@antv/g2/esm/component/sliderX.js","webpack:///./node_modules/@antv/g2/esm/component/sliderY.js","webpack:///./node_modules/@antv/component/esm/ui/scrollbar/index.js","webpack:///./node_modules/@antv/g2/esm/component/scrollbar.js","webpack:///./node_modules/@antv/g2/esm/component/scrollbarX.js","webpack:///./node_modules/@antv/g2/esm/component/scrollbarY.js","webpack:///./node_modules/@antv/g2/esm/animation/scaleInX.js","webpack:///./node_modules/@antv/g2/esm/animation/scaleOutX.js","webpack:///./node_modules/@antv/g2/esm/animation/scaleInY.js","webpack:///./node_modules/@antv/g2/esm/animation/scaleOutY.js","webpack:///./node_modules/@antv/g2/esm/animation/waveIn.js","webpack:///./node_modules/@antv/g2/esm/animation/fadeIn.js","webpack:///./node_modules/@antv/g2/esm/animation/fadeOut.js","webpack:///./node_modules/@antv/g2/esm/animation/zoomIn.js","webpack:///./node_modules/@antv/g2/esm/animation/zoomOut.js","webpack:///./node_modules/@antv/g2/esm/animation/pathIn.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/is-string.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/get.js","webpack:///./node_modules/@antv/g2/esm/animation/utils.js","webpack:///./node_modules/@antv/g2/esm/animation/morphing.js","webpack:///./node_modules/@antv/g2/esm/animation/growInX.js","webpack:///./node_modules/@antv/g2/esm/animation/growInY.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/filter.js","webpack:///./node_modules/@antv/g2/esm/runtime/constant.js","webpack:///./node_modules/@antv/g2/esm/utils/style.js","webpack:///./node_modules/@antv/g2/esm/interaction/utils.js","webpack:///./node_modules/@antv/g2/esm/interaction/elementHighlight.js","webpack:///./node_modules/@antv/g2/esm/interaction/elementHighlightByX.js","webpack:///./node_modules/@antv/g2/esm/interaction/elementHighlightByColor.js","webpack:///./node_modules/@antv/g2/esm/interaction/elementSelect.js","webpack:///./node_modules/@antv/g2/esm/interaction/elementSelectByX.js","webpack:///./node_modules/@antv/g2/esm/interaction/elementSelectByColor.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/throttle.js","webpack:///./node_modules/@antv/g2/esm/interaction/fisheye.js","webpack:///./node_modules/@antv/g2/esm/interaction/chartIndex.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/minIndex.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/mean.js","webpack:///./node_modules/@antv/g2/esm/utils/event.js","webpack:///./node_modules/@antv/g2/esm/interaction/event.js","webpack:///./node_modules/@antv/g2/esm/interaction/tooltip.js","webpack:///./node_modules/@antv/g2/esm/interaction/legendFilter.js","webpack:///./node_modules/@antv/g2/esm/interaction/legendHighlight.js","webpack:///./node_modules/@antv/g2/esm/interaction/brushHighlight.js","webpack:///./node_modules/@antv/g2/esm/interaction/brushXHighlight.js","webpack:///./node_modules/@antv/g2/esm/interaction/brushYHighlight.js","webpack:///./node_modules/@antv/g2/esm/interaction/brushAxisHighlight.js","webpack:///./node_modules/@antv/g2/esm/interaction/brushFilter.js","webpack:///./node_modules/@antv/g2/esm/interaction/brushXFilter.js","webpack:///./node_modules/@antv/g2/esm/interaction/brushYFilter.js","webpack:///./node_modules/@antv/g2/esm/interaction/sliderFilter.js","webpack:///./node_modules/@antv/g2/esm/interaction/scrollbarFilter.js","webpack:///./node_modules/@antv/g2/esm/utils/string.js","webpack:///./node_modules/@antv/g2/esm/interaction/poptip.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/size.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/is-function.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/keys.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/is-match.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/find.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/pick.js","webpack:///./node_modules/d3-hierarchy/src/accessors.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/find.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack:///./node_modules/d3-hierarchy/src/stratify.js","webpack:///./node_modules/d3-hierarchy/src/treemap/binary.js","webpack:///./node_modules/d3-hierarchy/src/treemap/dice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/slice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack:///./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack:///./node_modules/d3-hierarchy/src/treemap/round.js","webpack:///./node_modules/d3-hierarchy/src/constant.js","webpack:///./node_modules/@antv/g2/esm/utils/treeDataTransform.js","webpack:///./node_modules/d3-hierarchy/src/treemap/index.js","webpack:///./node_modules/@antv/g2/esm/interaction/treemapDrillDown.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/is-undefined.js","webpack:///./node_modules/@antv/g2/esm/interaction/elementPointMove.js","webpack:///./node_modules/@antv/g2/esm/composition/utils.js","webpack:///./node_modules/@antv/g2/esm/composition/spaceLayer.js","webpack:///./node_modules/@antv/g2/esm/composition/spaceFlex.js","webpack:///./node_modules/@antv/g2/esm/utils/container.js","webpack:///./node_modules/@antv/g2/esm/composition/facetRect.js","webpack:///./node_modules/@antv/g2/esm/composition/repeatMatrix.js","webpack:///./node_modules/@antv/g2/esm/composition/facetCircle.js","webpack:///./node_modules/@antv/g2/esm/composition/timingKeyframe.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/maxIndex.js","webpack:///./node_modules/@antv/g2/esm/transform/utils/order.js","webpack:///./node_modules/@antv/g2/esm/transform/stackY.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/count.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/deviation.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/variance.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/array.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/constant.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/ticks.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/threshold/sturges.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/bin.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/nice.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/quickselect.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/quantile.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/greatest.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/median.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/sum.js","webpack:///./node_modules/@antv/g2/esm/transform/groupN.js","webpack:///./node_modules/@antv/g2/esm/transform/bin.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/threshold/scott.js","webpack:///./node_modules/@antv/g2/esm/transform/binX.js","webpack:///./node_modules/@antv/g2/esm/transform/dodgeX.js","webpack:///./node_modules/@antv/g2/esm/transform/jitter.js","webpack:///./node_modules/@antv/g2/esm/transform/jitterX.js","webpack:///./node_modules/@antv/g2/esm/transform/jitterY.js","webpack:///./node_modules/@antv/g2/esm/transform/symmetryY.js","webpack:///./node_modules/@antv/g2/esm/transform/diffY.js","webpack:///./node_modules/@antv/g2/esm/transform/stackEnter.js","webpack:///./node_modules/@antv/g2/esm/transform/normalizeY.js","webpack:///./node_modules/@antv/g2/esm/transform/select.js","webpack:///./node_modules/@antv/g2/esm/transform/selectX.js","webpack:///./node_modules/@antv/g2/esm/transform/selectY.js","webpack:///./node_modules/@antv/g2/esm/transform/group.js","webpack:///./node_modules/@antv/g2/esm/transform/groupX.js","webpack:///./node_modules/@antv/g2/esm/transform/groupY.js","webpack:///./node_modules/@antv/g2/esm/transform/groupColor.js","webpack:///./node_modules/@antv/g2/esm/transform/sort.js","webpack:///./node_modules/@antv/g2/node_modules/d3-array/src/groupSort.js","webpack:///./node_modules/@antv/g2/esm/transform/sortX.js","webpack:///./node_modules/@antv/g2/esm/transform/sortY.js","webpack:///./node_modules/@antv/g2/esm/transform/sortColor.js","webpack:///./node_modules/@antv/g2/esm/transform/flexX.js","webpack:///./node_modules/@antv/g2/esm/transform/pack.js","webpack:///./node_modules/@antv/g2/esm/transform/utils/lttb.js","webpack:///./node_modules/@antv/g2/esm/transform/sample.js","webpack:///./node_modules/@antv/g2/esm/transform/filter.js","webpack:///./node_modules/d3-dsv/src/dsv.js","webpack:///./node_modules/d3-dsv/src/autoType.js","webpack:///./node_modules/@antv/g2/esm/data/fetch.js","webpack:///./node_modules/@antv/g2/esm/data/inline.js","webpack:///./node_modules/@antv/g2/esm/data/sortBy.js","webpack:///./node_modules/@antv/g2/esm/data/utils/fields.js","webpack:///./node_modules/@antv/g2/esm/data/sort.js","webpack:///./node_modules/@antv/g2/esm/data/filter.js","webpack:///./node_modules/@antv/g2/esm/data/pick.js","webpack:///./node_modules/@antv/g2/esm/data/rename.js","webpack:///./node_modules/@antv/g2/esm/data/fold.js","webpack:///./node_modules/@antv/g2/esm/data/slice.js","webpack:///./node_modules/@antv/g2/esm/data/custom.js","webpack:///./node_modules/@antv/g2/esm/data/map.js","webpack:///./node_modules/@antv/g2/esm/data/join.js","webpack:///./node_modules/@antv/g2/esm/data/kde.js","webpack:///./node_modules/@antv/g2/esm/data/log.js","webpack:///./node_modules/@antv/g2/esm/data/utils/flow.js","webpack:///./node_modules/@antv/g2/esm/data/utils/d3-cloud/index.js","webpack:///./node_modules/@antv/g2/esm/data/wordCloud.js","webpack:///./node_modules/@antv/g2/esm/data/ema.js","webpack:///./node_modules/@antv/g2/esm/utils/bounds.js","webpack:///./node_modules/@antv/g2/esm/label-transform/overlapHide.js","webpack:///./node_modules/@antv/g2/esm/label-transform/overlapDodgeY.js","webpack:///./node_modules/@antv/g2/esm/label-transform/overflowHide.js","webpack:///./node_modules/@antv/g2/esm/label-transform/contrastReverse.js","webpack:///./node_modules/@antv/g2/esm/utils/color.js","webpack:///./node_modules/@antv/g2/esm/label-transform/exceedAdjust.js","webpack:///./node_modules/d3-geo/src/identity.js","webpack:///./node_modules/d3-geo/src/stream.js","webpack:///./node_modules/d3-geo/node_modules/d3-array/src/fsum.js","webpack:///./node_modules/d3-geo/src/math.js","webpack:///./node_modules/d3-geo/src/noop.js","webpack:///./node_modules/d3-geo/src/path/area.js","webpack:///./node_modules/d3-geo/src/path/bounds.js","webpack:///./node_modules/d3-geo/src/path/centroid.js","webpack:///./node_modules/d3-geo/src/path/context.js","webpack:///./node_modules/d3-geo/src/path/measure.js","webpack:///./node_modules/d3-geo/src/path/string.js","webpack:///./node_modules/d3-geo/src/path/index.js","webpack:///./node_modules/d3-geo/node_modules/d3-array/src/range.js","webpack:///./node_modules/d3-geo/src/graticule.js","webpack:///./node_modules/@antv/g2/esm/utils/mark.js","webpack:///./node_modules/d3-geo/src/clip/buffer.js","webpack:///./node_modules/d3-geo/src/pointEqual.js","webpack:///./node_modules/d3-geo/src/clip/rejoin.js","webpack:///./node_modules/d3-geo/src/cartesian.js","webpack:///./node_modules/d3-geo/src/polygonContains.js","webpack:///./node_modules/d3-geo/node_modules/d3-array/src/merge.js","webpack:///./node_modules/d3-geo/src/clip/index.js","webpack:///./node_modules/d3-geo/src/clip/antimeridian.js","webpack:///./node_modules/d3-geo/src/circle.js","webpack:///./node_modules/d3-geo/src/clip/rectangle.js","webpack:///./node_modules/d3-geo/src/clip/line.js","webpack:///./node_modules/d3-geo/src/compose.js","webpack:///./node_modules/d3-geo/src/rotation.js","webpack:///./node_modules/d3-geo/src/transform.js","webpack:///./node_modules/d3-geo/src/projection/fit.js","webpack:///./node_modules/d3-geo/src/projection/resample.js","webpack:///./node_modules/d3-geo/src/projection/index.js","webpack:///./node_modules/d3-geo/src/clip/circle.js","webpack:///./node_modules/d3-geo/src/projection/conic.js","webpack:///./node_modules/d3-geo/src/projection/conicEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/cylindricalEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/albers.js","webpack:///./node_modules/d3-geo/src/projection/albersUsa.js","webpack:///./node_modules/d3-geo/src/projection/azimuthal.js","webpack:///./node_modules/d3-geo/src/projection/azimuthalEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/azimuthalEquidistant.js","webpack:///./node_modules/d3-geo/src/projection/mercator.js","webpack:///./node_modules/d3-geo/src/projection/conicConformal.js","webpack:///./node_modules/d3-geo/src/projection/equirectangular.js","webpack:///./node_modules/d3-geo/src/projection/conicEquidistant.js","webpack:///./node_modules/d3-geo/src/projection/equalEarth.js","webpack:///./node_modules/d3-geo/src/projection/gnomonic.js","webpack:///./node_modules/d3-geo/src/projection/identity.js","webpack:///./node_modules/d3-geo/src/projection/naturalEarth1.js","webpack:///./node_modules/d3-geo/src/projection/orthographic.js","webpack:///./node_modules/d3-geo/src/projection/stereographic.js","webpack:///./node_modules/d3-geo/src/projection/transverseMercator.js","webpack:///./node_modules/@antv/g2/esm/composition/geoView.js","webpack:///./node_modules/@antv/g2/esm/composition/geoPath.js","webpack:///./node_modules/@antv/g2/esm/mark/forceGraph.js","webpack:///./node_modules/d3-hierarchy/src/tree.js","webpack:///./node_modules/d3-hierarchy/src/cluster.js","webpack:///./node_modules/@antv/g2/esm/data/cluster.js","webpack:///./node_modules/@antv/g2/esm/data/tree.js","webpack:///./node_modules/@antv/g2/esm/mark/tree.js","webpack:///./node_modules/d3-hierarchy/src/lcg.js","webpack:///./node_modules/d3-hierarchy/src/pack/enclose.js","webpack:///./node_modules/d3-hierarchy/src/array.js","webpack:///./node_modules/d3-hierarchy/src/pack/siblings.js","webpack:///./node_modules/d3-hierarchy/src/pack/index.js","webpack:///./node_modules/@antv/g2/esm/mark/pack.js","webpack:///./node_modules/@antv/g2/esm/data/utils/d3-sankey/align.js","webpack:///./node_modules/@antv/g2/esm/data/utils/d3-sankey/constant.js","webpack:///./node_modules/@antv/g2/esm/data/utils/d3-sankey/sankey.js","webpack:///./node_modules/@antv/g2/esm/data/sankey.js","webpack:///./node_modules/@antv/g2/esm/mark/sankey.js","webpack:///./node_modules/@antv/g2/esm/data/utils/arc/sort.js","webpack:///./node_modules/@antv/g2/esm/data/utils/arc/arc.js","webpack:///./node_modules/@antv/g2/esm/data/arc.js","webpack:///./node_modules/@antv/g2/esm/mark/chord.js","webpack:///./node_modules/@antv/g2/esm/mark/treemap.js","webpack:///./node_modules/@antv/g2/esm/mark/boxplot.js","webpack:///./node_modules/@antv/g2/esm/shape/gauge/round.js","webpack:///./node_modules/@antv/g2/esm/mark/gauge.js","webpack:///./node_modules/@antv/g2/esm/shape/liquid/wave.js","webpack:///./node_modules/@antv/g2/esm/shape/liquid/shapes.js","webpack:///./node_modules/@antv/g2/esm/shape/liquid/liquid.js","webpack:///./node_modules/@antv/g2/esm/mark/liquid.js","webpack:///./node_modules/@antv/g2/esm/data/utils/venn/circleintersection.js","webpack:///./node_modules/@antv/g2/esm/data/utils/venn/layout.js","webpack:///./node_modules/@antv/g2/esm/data/venn.js","webpack:///./node_modules/@antv/g2/esm/data/utils/venn/diagram.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/debounce.js","webpack:///./node_modules/@antv/g2/node_modules/@antv/util/esm/lodash/is-equal.js","webpack:///./node_modules/@antv/g2/esm/component/constant.js","webpack:///./node_modules/@antv/g2/esm/component/axisRadar.js","webpack:///./node_modules/@antv/g2/esm/component/legendContinuousBlock.js","webpack:///./node_modules/@antv/g2/esm/component/legendContinuousSize.js","webpack:///./node_modules/@antv/g2/esm/component/legendContinuousBlockSize.js","webpack:///./node_modules/@antv/g2/esm/composition/mark.js","webpack:///./node_modules/@antv/g2/esm/composition/view.js","webpack:///./node_modules/@antv/g2/esm/shape/label/position/area.js","webpack:///./node_modules/@antv/g2/esm/shape/label/position/default.js","webpack:///./node_modules/@antv/g2/esm/shape/label/position/outside.js","webpack:///./node_modules/@antv/g2/esm/shape/label/position/utils.js","webpack:///./node_modules/@antv/g2/esm/shape/label/position/spider.js","webpack:///./node_modules/@antv/g2/esm/shape/label/position/surround.js","webpack:///./node_modules/@antv/g2/esm/shape/label/label.js","webpack:///./node_modules/@antv/g2/esm/runtime/library.js","webpack:///./node_modules/@antv/g2/esm/lib/builtinlib.js","webpack:///./node_modules/@antv/g2/esm/runtime/coordinate.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/colors.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/categorical/Accent.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/categorical/Dark2.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/categorical/observable10.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/categorical/Set1.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/categorical/Set2.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/categorical/Set3.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/ramp.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/diverging/BrBG.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/diverging/PRGn.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/diverging/PiYG.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/diverging/PuOr.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/diverging/RdBu.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/diverging/RdGy.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/diverging/Spectral.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","webpack:///./node_modules/d3-color/src/math.js","webpack:///./node_modules/d3-color/src/cubehelix.js","webpack:///./node_modules/d3-interpolate/src/cubehelix.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","webpack:///./node_modules/@antv/g2/node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack:///./node_modules/@antv/g2/esm/runtime/scale.js","webpack:///./node_modules/@antv/g2/esm/runtime/types/scale.js","webpack:///./node_modules/@antv/g2/esm/runtime/component.js","webpack:///./node_modules/@antv/g2/esm/runtime/layout.js","webpack:///./node_modules/@antv/g2/esm/runtime/transform.js","webpack:///./node_modules/@antv/g2/esm/runtime/mark.js","webpack:///./node_modules/@antv/g2/esm/runtime/plot.js","webpack:///./node_modules/@antv/g2/esm/runtime/option-preprocess/style.js","webpack:///./node_modules/@antv/g2/esm/runtime/option-preprocess/index.js","webpack:///./node_modules/@antv/g2/esm/utils/flow.js","webpack:///./node_modules/@antv/g2/esm/runtime/render.js","webpack:///./node_modules/@antv/g2/esm/utils/size.js","webpack:///./node_modules/@antv/g2/esm/api/node.js","webpack:///./node_modules/@antv/g2/esm/api/utils.js","webpack:///./node_modules/@antv/g2/esm/api/define.js","webpack:///./node_modules/@antv/g2/esm/api/props.js","webpack:///./node_modules/@antv/g2/esm/api/composition.js","webpack:///./node_modules/@antv/g2/esm/api/mark.js","webpack:///./node_modules/@antv/g2/esm/api/library.js","webpack:///./node_modules/@antv/g2/esm/api/runtime.js","webpack:///./node_modules/@antv/g2/esm/index.js","webpack:///./node_modules/@antv/g2/esm/lib/std.js","webpack:///./node_modules/@antv/g2/esm/lib/geo.js","webpack:///./node_modules/@antv/g2/esm/lib/graph.js","webpack:///./node_modules/@antv/g2/esm/lib/plot.js","webpack:///./node_modules/@antv/g2/esm/lib/core.js","webpack:///./node_modules/@antv/g2/esm/api/extend.js","webpack:///./node_modules/fmin/build/fmin.js","webpack:///./node_modules/lodash/camelCase.js","webpack:///./node_modules/lodash/capitalize.js","webpack:///./node_modules/pdfast/src/helper.js","webpack:///./node_modules/pdfast/src/index.js"],"sourcesContent":["!function(t,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?r(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],r):r((t=\"undefined\"!=typeof globalThis?globalThis:t||self).Coordinate={})}(this,function(t){\"use strict\";function x(t){var r=\"function\"==typeof Symbol&&Symbol.iterator,n=r&&t[r],e=0;if(n)return n.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return{value:(t=t&&e>=t.length?void 0:t)&&t[e++],done:!t}}};throw new TypeError(r?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function k(t,r){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var e,o,a=n.call(t),i=[];try{for(;(void 0===r||0<r--)&&!(e=a.next()).done;)i.push(e.value)}catch(t){o={error:t}}finally{try{e&&!e.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function O(t,r,n){if(n||2===arguments.length)for(var e,o=0,a=r.length;o<a;o++)!e&&o in r||((e=e||Array.prototype.slice.call(r,0,o))[o]=r[o]);return t.concat(e||Array.prototype.slice.call(r))}function q(t){return i(t,\"Function\")}var C={}.toString,i=function(t,r){return C.call(t)===\"[object \"+r+\"]\"},W=function(t){return Array.isArray?Array.isArray(t):i(t,\"Array\")};var B=function(t){if(\"object\"!=typeof(r=t)||null===r||!i(t,\"Object\"))return!1;var r;if(null===Object.getPrototypeOf(t))return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n},$=function(t){return i(t,\"Number\")},z=Object.values?function(t){return Object.values(t)}:function(n){var t,e=[],r=n,o=function(t,r){q(n)&&\"prototype\"===r||e.push(t)};if(r)if(W(r))for(var a=0,i=r.length;a<i&&!1!==o(r[a],a);a++);else if(t=typeof r,null!==r&&\"object\"==t||\"function\"==t)for(var u in r)if(r.hasOwnProperty(u)&&!1===o(r[u],u))break;return e},E=5;function r(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];for(var e=0;e<r.length;e+=1)!function t(r,n,e,o){for(var a in e=e||0,o=o||E,n){var i;n.hasOwnProperty(a)&&(null!==(i=n[a])&&B(i)?(B(r[a])||(r[a]={}),e<o?t(r[a],i,e+1,o):r[a]=n[a]):W(i)?(r[a]=[],r[a]=r[a].concat(i)):void 0!==i&&(r[a]=i))}}(t,r[e]);return t}function A(t){return t}!function(a,i){var u;if(q(a))return(u=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n,e=i?i.apply(this,t):t[0],o=u.cache;return o.has(e)?o.get(e):(n=a.apply(this,t),o.set(e,n),n)}).cache=new Map;throw new TypeError(\"Expected a function\")}(function(t,r){var n=(r=void 0===r?{}:r).fontSize,e=r.fontFamily,o=r.fontWeight,a=r.fontStyle,r=r.fontVariant;return(u=u||document.createElement(\"canvas\").getContext(\"2d\")).font=[a,r,o,n+\"px\",e].join(\" \"),u.measureText(i(t,\"String\")?t:\"\").width},function(t,r){return function(){for(var t=0,r=0,n=arguments.length;r<n;r++)t+=arguments[r].length;for(var e=Array(t),o=0,r=0;r<n;r++)for(var a=arguments[r],i=0,u=a.length;i<u;i++,o++)e[o]=a[i];return e}([t],z(r=void 0===r?{}:r)).join(\"\")});var u,P=\"undefined\"!=typeof Float32Array?Float32Array:Array;function g(){var t=new P(9);return P!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});var J=function(t,r,n){var e=r[0],o=r[1],a=r[2],i=r[3],u=r[4],s=r[5],l=r[6],h=r[7],r=r[8],c=n[0],p=n[1],f=n[2],d=n[3],g=n[4],v=n[5],m=n[6],y=n[7],n=n[8];return t[0]=c*e+p*i+f*l,t[1]=c*o+p*u+f*h,t[2]=c*a+p*s+f*r,t[3]=d*e+g*i+v*l,t[4]=d*o+g*u+v*h,t[5]=d*a+g*s+v*r,t[6]=m*e+y*i+n*l,t[7]=m*o+y*u+n*h,t[8]=m*a+y*s+n*r,t};function R(){var t=new P(16);return P!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}var L=function(t,r,n){var e=r[0],o=r[1],a=r[2],i=r[3],u=r[4],s=r[5],l=r[6],h=r[7],c=r[8],p=r[9],f=r[10],d=r[11],g=r[12],v=r[13],m=r[14],r=r[15],y=n[0],M=n[1],w=n[2],b=n[3];return t[0]=y*e+M*u+w*c+b*g,t[1]=y*o+M*s+w*p+b*v,t[2]=y*a+M*l+w*f+b*m,t[3]=y*i+M*h+w*d+b*r,y=n[4],M=n[5],w=n[6],b=n[7],t[4]=y*e+M*u+w*c+b*g,t[5]=y*o+M*s+w*p+b*v,t[6]=y*a+M*l+w*f+b*m,t[7]=y*i+M*h+w*d+b*r,y=n[8],M=n[9],w=n[10],b=n[11],t[8]=y*e+M*u+w*c+b*g,t[9]=y*o+M*s+w*p+b*v,t[10]=y*a+M*l+w*f+b*m,t[11]=y*i+M*h+w*d+b*r,y=n[12],M=n[13],w=n[14],b=n[15],t[12]=y*e+M*u+w*c+b*g,t[13]=y*o+M*s+w*p+b*v,t[14]=y*a+M*l+w*f+b*m,t[15]=y*i+M*h+w*d+b*r,t};function U(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return t?r.reduce(function(r,n){return function(t){return n(r(t))}},t):A}function _(t){return t instanceof Float32Array||t instanceof Array}function V(t,r,n){for(;t<r;)t+=2*Math.PI;for(;n<t;)t-=2*Math.PI;return t}e=new P(3),P!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e=new P(4),P!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0);function G(t,r,n,e,o){var a=(t=k(t,2))[0],t=t[1],i=g();return a=[a,t],(t=i)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=a[0],t[7]=a[1],t[8]=1,t}function l(t,...r){return r.reduce((r,n)=>t=>r(n(t)),t)}function h(r,n){return n-r?t=>(t-r)/(n-r):t=>.5}const H=Math.sqrt(50),Q=Math.sqrt(10),X=Math.sqrt(2);function s(t,r,n){r=(r-t)/Math.max(0,n),t=Math.floor(Math.log(r)/Math.LN10),n=r/10**t;return 0<=t?(n>=H?10:n>=Q?5:n>=X?2:1)*10**t:-(10**-t)/(n>=H?10:n>=Q?5:n>=X?2:1)}const Y=(t,r,n=5)=>{t=[t,r];let e=0,o=t.length-1,a=t[e],i=t[o],u;return i<a&&([a,i]=[i,a],[e,o]=[o,e]),0<(u=s(a,i,n))?(a=Math.floor(a/u)*u,i=Math.ceil(i/u)*u,u=s(a,i,n)):u<0&&(a=Math.ceil(a*u)/u,i=Math.floor(i*u)/u,u=s(a,i,n)),0<u?(t[e]=Math.floor(a/u)*u,t[o]=Math.ceil(i/u)*u):u<0&&(t[e]=Math.ceil(a*u)/u,t[o]=Math.floor(i*u)/u),t};function Z(t){return null!=t&&!Number.isNaN(t)}function tt(r,i){return t=>{t.prototype.rescale=function(){this.initRange(),this.nice();var[t]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t))},t.prototype.initRange=function(){var t=this.options[\"interpolator\"];this.options.range=r(t)},t.prototype.composeOutput=function(t,r){var n,{domain:e,interpolator:o,round:a}=this.getOptions(),e=i(e.map(t)),a=a?(n=o,t=>{t=n(t);return $(t)?Math.round(t):t}):o;this.output=l(a,e,r,t)},t.prototype.invert=void 0}}var n,e={exports:{}},o={exports:{}},rt=function(t){return!(!t||\"string\"==typeof t)&&(t instanceof Array||Array.isArray(t)||0<=t.length&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&\"String\"!==t.constructor.name))},nt=Array.prototype.concat,et=Array.prototype.slice,ot=o.exports=function(t){for(var r=[],n=0,e=t.length;n<e;n++){var o=t[n];rt(o)?r=nt.call(r,et.call(o)):r.push(o)}return r},c=(ot.wrap=function(t){return function(){return t(ot(arguments))}},{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),a=o.exports,at=Object.hasOwnProperty,it=Object.create(null);for(n in c)at.call(c,n)&&(it[c[n]]=n);var p=e.exports={to:{},get:{}};function f(t,r,n){return Math.min(Math.max(r,t),n)}function d(t){t=Math.round(t).toString(16).toUpperCase();return t.length<2?\"0\"+t:t}p.get=function(t){var r,n;switch(t.substring(0,3).toLowerCase()){case\"hsl\":r=p.get.hsl(t),n=\"hsl\";break;case\"hwb\":r=p.get.hwb(t),n=\"hwb\";break;default:r=p.get.rgb(t),n=\"rgb\"}return r?{model:n,value:r}:null},p.get.rgb=function(t){if(!t)return null;var r,n,e,o=[0,0,0,1];if(r=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(e=r[2],r=r[1],n=0;n<3;n++){var a=2*n;o[n]=parseInt(r.slice(a,2+a),16)}e&&(o[3]=parseInt(e,16)/255)}else if(r=t.match(/^#([a-f0-9]{3,4})$/i)){for(e=(r=r[1])[3],n=0;n<3;n++)o[n]=parseInt(r[n]+r[n],16);e&&(o[3]=parseInt(e+e,16)/255)}else{if(r=t.match(/^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/))for(n=0;n<3;n++)o[n]=parseInt(r[n+1],0);else{if(!(r=t.match(/^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/)))return(r=t.match(/^(\\w+)$/))?\"transparent\"===r[1]?[0,0,0,0]:at.call(c,r[1])?((o=c[r[1]])[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(r[n+1]))}r[4]&&(r[5]?o[3]=.01*parseFloat(r[4]):o[3]=parseFloat(r[4]))}for(n=0;n<3;n++)o[n]=f(o[n],0,255);return o[3]=f(o[3],0,1),o},p.get.hsl=function(t){var r;return(t=t&&t.match(/^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*(?:[,|\\/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/))?(r=parseFloat(t[4]),[(parseFloat(t[1])%360+360)%360,f(parseFloat(t[2]),0,100),f(parseFloat(t[3]),0,100),f(isNaN(r)?1:r,0,1)]):null},p.get.hwb=function(t){var r;return(t=t&&t.match(/^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/))?(r=parseFloat(t[4]),[(parseFloat(t[1])%360+360)%360,f(parseFloat(t[2]),0,100),f(parseFloat(t[3]),0,100),f(isNaN(r)?1:r,0,1)]):null},p.to.hex=function(){var t=a(arguments);return\"#\"+d(t[0])+d(t[1])+d(t[2])+(t[3]<1?d(Math.round(255*t[3])):\"\")},p.to.rgb=function(){var t=a(arguments);return t.length<4||1===t[3]?\"rgb(\"+Math.round(t[0])+\", \"+Math.round(t[1])+\", \"+Math.round(t[2])+\")\":\"rgba(\"+Math.round(t[0])+\", \"+Math.round(t[1])+\", \"+Math.round(t[2])+\", \"+t[3]+\")\"},p.to.rgb.percent=function(){var t=a(arguments),r=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),e=Math.round(t[2]/255*100);return t.length<4||1===t[3]?\"rgb(\"+r+\"%, \"+n+\"%, \"+e+\"%)\":\"rgba(\"+r+\"%, \"+n+\"%, \"+e+\"%, \"+t[3]+\")\"},p.to.hsl=function(){var t=a(arguments);return t.length<4||1===t[3]?\"hsl(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%)\":\"hsla(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%, \"+t[3]+\")\"},p.to.hwb=function(){var t=a(arguments),r=\"\";return 4<=t.length&&1!==t[3]&&(r=\", \"+t[3]),\"hwb(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%\"+r+\")\"},p.to.keyword=function(t){return it[t.slice(0,3)]};var ut=e.exports;function v(t,r,n){let e=n;return e<0&&(e+=1),1<e&&--e,e<1/6?t+6*(r-t)*e:e<.5?r:e<2/3?t+(r-t)*(2/3-e)*6:t}function st(t){var r,n,e,t=ut.get(t);return t?({model:t,value:r}=t,\"rgb\"===t?r:\"hsl\"===t?(r=(t=r)[0]/360,n=t[1]/100,e=t[2]/100,t=t[3],0==n?[255*e,255*e,255*e,t]:[255*v(n=2*e-(e=e<.5?e*(1+n):e+n-e*n),e,r+1/3),255*v(n,e,r),255*v(n,e,r-1/3),t]):null):null}const m=(r,n)=>t=>r*(1-t)+n*t,lt=(t,r)=>{if(\"number\"==typeof t&&\"number\"==typeof r)return m(t,r);if(\"string\"!=typeof t||\"string\"!=typeof r)return()=>t;{var n=t,e=r;const s=st(n),l=st(e);return null===s||null===l?s?()=>n:()=>e:r=>{var n=new Array(4);for(let t=0;t<4;t+=1){var e=s[t],o=l[t];n[t]=e*(1-r)+o*r}var[t,a,i,u]=n;return`rgba(${Math.round(t)}, ${Math.round(a)}, ${Math.round(i)}, ${u})`}}},ht=(t,r)=>{const n=m(t,r);return t=>Math.round(n(t))};function ct({map:t,initKey:r},n){r=r(n);return t.has(r)?t.get(r):n}function pt(t){return\"object\"==typeof t?t.valueOf():t}class ft extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=pt,null!==t)for(var[r,n]of t)this.set(r,n)}get(t){return super.get(ct({map:this.map,initKey:this.initKey},t))}has(t){return super.has(ct({map:this.map,initKey:this.initKey},t))}set(t,r){return super.set(([{map:t,initKey:n},e]=[{map:this.map,initKey:this.initKey},t],n=n(e),t.has(n)?t.get(n):(t.set(n,e),e)),r);var n,e}delete(t){return super.delete(([{map:t,initKey:r},n]=[{map:this.map,initKey:this.initKey},t],r=r(n),t.has(r)&&(n=t.get(r),t.delete(r)),n));var r,n}}class dt{constructor(t){this.options=r({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=r({},this.options,t),this.rescale(t)}rescale(t){}}const y=Symbol(\"defaultUnknown\");function gt(r,n,e){for(let t=0;t<n.length;t+=1)r.has(n[t])||r.set(e(n[t]),t)}function vt(t){var{value:t,from:r,to:n,mapper:e,notFoundReturn:o}=t;let a=e.get(t);if(void 0===a){if(o!==y)return o;a=r.push(t)-1,e.set(t,a)}return n[a%n.length]}function mt(t){return t instanceof Date?t=>\"\"+t:\"object\"==typeof t?t=>JSON.stringify(t):t=>t}class yt extends dt{getDefaultOptions(){return{domain:[],range:[],unknown:y}}constructor(t){super(t)}map(t){return 0===this.domainIndexMap.size&&gt(this.domainIndexMap,this.getDomain(),this.domainKey),vt({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return 0===this.rangeIndexMap.size&&gt(this.rangeIndexMap,this.getRange(),this.rangeKey),vt({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){var[r]=this.options.domain,[n]=this.options.range;this.domainKey=mt(r),this.rangeKey=mt(n),this.rangeIndexMap?(t&&!t.range||this.rangeIndexMap.clear(),t&&!t.domain&&!t.compare||(this.domainIndexMap.clear(),this.sortedDomain=void 0)):(this.rangeIndexMap=new Map,this.domainIndexMap=new Map)}clone(){return new yt(this.options)}getRange(){return this.options.range}getDomain(){var t,r;return this.sortedDomain||({domain:t,compare:r}=this.options,this.sortedDomain=r?[...t].sort(r):t),this.sortedDomain}}function Mt(t){const{domain:r,range:n,paddingOuter:e,paddingInner:o,flex:a,round:i,align:u}=t;var s=r.length,l=0<(l=(t=s)-(h=a).length)?[...h,...new Array(l).fill(1)]:l<0?h.slice(0,t):h,[t,h]=n,h=h-t,c=h/(2/s*e+1-1/s*o);const p=c*o/s;c-=s*p;const f=function(t){const r=Math.min(...t);return t.map(t=>t/r)}(l),d=c/f.reduce((t,r)=>t+r);var l=new ft(r.map((t,r)=>{r=f[r]*d;return[t,i?Math.floor(r):r]})),g=new ft(r.map((t,r)=>{r=f[r]*d+p;return[t,i?Math.floor(r):r]})),c=Array.from(g.values()).reduce((t,r)=>t+r),t=t+(h-(c-c/s*o))*u;let v=i?Math.round(t):t;var m=new Array(s);for(let t=0;t<s;t+=1){m[t]=(y=v,Math.round(1e12*y)/1e12);var y=r[t];v+=g.get(y)}return{valueBandWidth:l,valueStep:g,adjustedRange:m}}class wt extends yt{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:y,flex:[]}}constructor(t){super(t)}clone(){return new wt(this.options)}getStep(t){return void 0===this.valueStep?1:\"number\"==typeof this.valueStep?this.valueStep:void 0===t?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return void 0===this.valueBandWidth?1:\"number\"==typeof this.valueBandWidth?this.valueBandWidth:void 0===t?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){var{padding:t,paddingInner:r}=this.options;return 0<t?t:r}getPaddingOuter(){var{padding:t,paddingOuter:r}=this.options;return 0<t?t:r}rescale(){super.rescale();var{align:t,domain:r,range:n,round:e,flex:o}=this.options,{adjustedRange:t,valueBandWidth:n,valueStep:e}=function(t){var r=t[\"domain\"];if(0===(r=r.length))return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!(null==(n=t.flex)||!n.length))return Mt(t);var{range:n,paddingOuter:t,paddingInner:e,round:o,align:a}=t;let i,u,s=n[0];return n=n[1]-s,i=n/Math.max(1,2*t+(r-e)),o&&(i=Math.floor(i)),s+=(n-i*(r-e))*a,u=i*(1-e),o&&(s=Math.round(s),u=Math.round(u)),t=new Array(r).fill(0).map((t,r)=>s+r*i),{valueStep:i,valueBandWidth:u,adjustedRange:t}}({align:t,range:n,round:e,flex:o,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:r});this.valueStep=e,this.valueBandWidth=n,this.adjustedRange=t}}const M=(t,r,n)=>{let e,o,a=t,i=r;if(a===i&&0<n)return[a];let u=s(a,i,n);if(0===u||!Number.isFinite(u))return[];if(0<u){a=Math.ceil(a/u),i=Math.floor(i/u),o=new Array(e=Math.ceil(i-a+1));for(let t=0;t<e;t+=1)o[t]=(a+t)*u}else{u=-u,a=Math.ceil(a*u),i=Math.floor(i*u),o=new Array(e=Math.ceil(i-a+1));for(let t=0;t<e;t+=1)o[t]=(a+t)/u}return o},bt=(t,r,n)=>{var[t,e]=t,[r,o]=r;let a,i;return l(i=t<e?(a=h(t,e),n(r,o)):(a=h(e,t),n(o,r)),a)},xt=(e,t,r)=>{const o=Math.min(e.length,t.length)-1,a=new Array(o),i=new Array(o);var n=e[0]>e[o],u=n?[...e].reverse():e,s=n?[...t].reverse():t;for(let t=0;t<o;t+=1)a[t]=h(u[t],u[t+1]),i[t]=r(s[t],s[t+1]);return t=>{var r=function(t,r,n,e,o){let a=n||0,i=e||t.length;for(var u=o||(t=>t);a<i;){var s=Math.floor((a+i)/2);u(t[s])>r?i=s:a=s+1}return a}(e,t,1,o)-1,n=a[r];return l(i[r],n)(t)}},kt=(t,r,n,e)=>{return(2<Math.min(t.length,r.length)?xt:bt)(t,r,e?ht:n)};class Ot extends dt{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:m,tickCount:5}}map(t){return Z(t)?this.output(t):this.options.unknown}invert(t){return Z(t)?this.input(t):this.options.unknown}nice(){var t,r,n,e;this.options.nice&&([t,r,n,...e]=this.getTickMethodOptions(),this.options.domain=this.chooseNice()(t,r,n,...e))}getTicks(){var t=this.options[\"tickMethod\"],[r,n,e,...o]=this.getTickMethodOptions();return t(r,n,e,...o)}getTickMethodOptions(){var{domain:t,tickCount:r}=this.options;return[t[0],t[t.length-1],r]}chooseNice(){return Y}rescale(){this.nice();var[t,r]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,r,this.chooseClamp(r))}chooseClamp(t){var{clamp:r,range:n}=this.options,t=this.options.domain.map(t),n=Math.min(t.length,n.length);if(r){r=t[0],t=t[n-1];const e=t<r?t:r,o=t<r?r:t;return t=>Math.min(Math.max(e,t),o)}return A}composeOutput(t,r){var{domain:n,range:e,round:o,interpolate:a}=this.options,n=kt(n.map(t),e,a,o);this.output=l(n,r,t)}composeInput(t,r,n){var{domain:e,range:o}=this.options,o=kt(o,e.map(t),m);this.input=l(r,n,o)}}class w extends Ot{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:lt,tickMethod:M,tickCount:5}}chooseTransforms(){return[A,A]}clone(){return new w(this.options)}}class At extends wt{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:y,paddingInner:1,paddingOuter:0}}constructor(t){super(t)}getPaddingInner(){return 1}clone(){return new At(this.options)}update(t){super.update(t)}getPaddingOuter(){return this.options.padding}}function jt(t,r){for(var n=[],e=0,o=t.length;e<o;e++)n.push(t[e].substr(0,r));return n}var b,o=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],e=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],j=jt(e,3);!function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];for(var e=0,o=r;e<o.length;e++){var a,i=o[e];for(a in i)t[a]=i[a]}}({},{dayNamesShort:jt(o,3),dayNames:o,monthNamesShort:j,monthNames:e,amPm:[\"am\",\"pm\"],DoFn:function(t){return t+[\"th\",\"st\",\"nd\",\"rd\"][3<t%10?0:(t-t%10!=10?1:0)*t%10]}});var I;let It=b=class extends w{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:A,tickMethod:M,tickCount:5}}constructor(t){super(t)}clone(){return new b(this.options)}};It=b=function(t,r,n,e){var o,a=arguments.length,i=a<3?r:null===e?e=Object.getOwnPropertyDescriptor(r,n):e;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)i=Reflect.decorate(t,r,n,e);else for(var u=t.length-1;0<=u;u--)(o=t[u])&&(i=(a<3?o(i):3<a?o(r,n,i):o(r,n))||i);return 3<a&&i&&Object.defineProperty(r,n,i),i}([tt(function(t){return[t(0),t(1)]},t=>{var[t,r]=t;return l(m(0,1),h(t,r))})],It);let St=I=class extends w{getDefaultOptions(){return{domain:[0,.5,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:A,tickMethod:M,tickCount:5}}constructor(t){super(t)}clone(){return new I(this.options)}};St=I=function(t,r,n,e){var o,a=arguments.length,i=a<3?r:null===e?e=Object.getOwnPropertyDescriptor(r,n):e;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)i=Reflect.decorate(t,r,n,e);else for(var u=t.length-1;0<=u;u--)(o=t[u])&&(i=(a<3?o(i):3<a?o(r,n,i):o(r,n))||i);return 3<a&&i&&Object.defineProperty(r,n,i),i}([tt(function(t){return[t(0),t(.5),t(1)]},t=>{const[r,n,e]=t,o=l(m(0,.5),h(r,n)),a=l(m(.5,1),h(n,e));return t=>(r>e?t<n?a:o:t<n?o:a)(t)})],St);function Ft(t,r,n,e,o){var a=new w({range:[r,r+e]}),i=new w({range:[n,n+o]});return{transform:function(t){var t=k(t,2),r=t[0],t=t[1];return[a.map(r),i.map(t)]},untransform:function(t){var t=k(t,2),r=t[0],t=t[1];return[a.invert(r),i.invert(t)]}}}function Dt(t,r,n,e,o){return(0,k(t,1)[0])(r,n,e,o)}function Pt(t,r,n,e,o){return k(t,1)[0]}function Rt(t,r,n,e,o){var a=(t=k(t,4))[0],i=t[1],u=t[2],t=t[3],s=new w({range:[u,t]}),l=new w({range:[a,i]}),h=1<(u=o/e)?1:u,c=1<u?1/u:1;return{transform:function(t){var t=k(t,2),r=t[0],t=t[1],r=l.map(r),t=s.map(t);return[.5*(t*Math.cos(r)*h)+.5,.5*(t*Math.sin(r)*c)+.5]},untransform:function(t){var t=k(t,2),r=t[0],t=t[1],r=2*(r-.5)/h,t=2*(t-.5)/c,n=Math.sqrt(Math.pow(r,2)+Math.pow(t,2)),t=V(Math.atan2(t,r),a,i);return[l.invert(t),s.invert(n)]}}}function Tt(t,r,n,e,o){return{transform:function(t){var t=k(t,2),r=t[0];return[t[1],r]},untransform:function(t){var t=k(t,2),r=t[0];return[t[1],r]}}}function Kt(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return S.apply(void 0,O([[-1,-1]],k(r),!1))}function Nt(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return S.apply(void 0,O([[-1,1]],k(r),!1))}function qt(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return S.apply(void 0,O([[1,-1]],k(r),!1))}function Ct(t,r,n,e,o){var a,t=k(t,1)[0],i=g();return i=i,t=t,a=Math.sin(t),t=Math.cos(t),i[0]=t,i[1]=a,i[2]=0,i[3]=-a,i[4]=t,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function Wt(t,r,n,e,o){var a=(t=k(t,4))[0],i=t[1],u=t[2],s=(t[3]-u)/(+i/(2*Math.PI)+1),l=s/(2*Math.PI),h=new w({range:[u,u+.99*s]}),c=new w({range:[a,i]}),p=1<(t=o/e)?1:t,f=1<t?1/t:1;return{transform:function(t){var t=k(t,2),r=t[0],t=t[1],r=c.map(r),t=h.map(t);return[.5*(Math.cos(r)*(l*r+t)*p)+.5,.5*(Math.sin(r)*(l*r+t)*f)+.5]},untransform:function(t){var t=k(t,2),r=t[0],t=t[1],r=2*(r-.5)/p,t=2*(t-.5)/f,n=Math.sqrt(Math.pow(r,2)+Math.pow(t,2)),t=V(Math.atan2(t,r)+Math.floor(n/s)*Math.PI*2,a,i),r=n-l*t;return[c.invert(t),h.invert(r)]}}}function Bt(t,r,n,e,o){var u=(t=k(t,4))[0],s=t[1],a=t[2],t=t[3],l=new w({range:[a,t]});return{transform:function(t){for(var r=[],n=t.length,e=new At({domain:new Array(n).fill(0).map(function(t,r){return r}),range:[u,s]}),o=0;o<n;o++){var a=t[o],i=e.map(o),a=l.map(a);r.push(i,a)}return r},untransform:function(t){for(var r=[],n=0;n<t.length;n+=2){var e=t[n+1];r.push(l.invert(e))}return r}}}var S=function(t,r,n,e,o){var t=k(t,2),a=t[0],t=t[1],i=g();return a=[a,t],(t=i)[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=a[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t};function $t(t){return 1/Math.tan(t)}function zt(t,r,n,e,o){var a=$t(k(t,1)[0]);return{transform:function(t){var t=k(t,2),r=t[0],t=t[1];return[r+t*a,t]},untransform:function(t){var t=k(t,2),r=t[0],t=t[1];return[r-t*a,t]}}}function Et(t,r,n,e,o){var a=$t(k(t,1)[0]);return{transform:function(t){var t=k(t,2),r=t[0];return[r,t[1]+r*a]},untransform:function(t){var t=k(t,2),r=t[0];return[r,t[1]-r*a]}}}function F(t,r,n,e,o){var a=t<r,o=(a?r-e:o-r)||o-e,e=a?-1:1;return e*o*(n+1)/(n+o/((t-r)*e))+r}function D(t,r,n,e,o){var a=t<r,o=(a?r-e:o-r)||o-e;return o/(o*(n+1)/(t-r)-n*(a?-1:1))+r}function T(t,r,n){return n?new w({range:[0,1],domain:[0,r]}).map(t):t}function Jt(t,r,n,e,o){var a=(t=k(t,3))[0],i=t[1],t=t[2],u=T(a,e,void 0!==t&&t);return{transform:function(t){var t=k(t,2),r=t[0],t=t[1];return[F(r,u,i,0,1),t]},untransform:function(t){var t=k(t,2),r=t[0],t=t[1];return[D(r,u,i,0,1),t]}}}function Lt(t,r,n,e,o){var a=(t=k(t,3))[0],i=t[1],t=t[2],u=T(a,o,void 0!==t&&t);return{transform:function(t){t=k(t,2);return[t[0],F(t[1],u,i,0,1)]},untransform:function(t){t=k(t,2);return[t[0],D(t[1],u,i,0,1)]}}}function Ut(t,r,n,e,o){var a=(t=k(t,5))[0],i=t[1],u=t[2],s=t[3],t=t[4],l=T(a,e,t=void 0!==t&&t),h=T(i,o,t);return{transform:function(t){var t=k(t,2),r=t[0],t=t[1];return[F(r,l,u,0,1),F(t,h,s,0,1)]},untransform:function(t){var t=k(t,2),r=t[0],t=t[1];return[D(r,l,u,0,1),D(t,h,s,0,1)]}}}function _t(t,r,n,e,o){var a=(t=k(t,5))[0],i=t[1],u=t[2],s=t[3],t=void 0!==(t=t[4])&&t,l=new w({range:[0,e]}),h=new w({range:[0,o]}),c=t?a:l.map(a),p=t?i:h.map(i);return{transform:function(t){var t=k(t,2),r=t[0],t=t[1],n=l.map(r)-c,e=h.map(t)-p,o=Math.sqrt(n*n+e*e);return u<o?[r,t]:(r=F(o,0,s,0,u),t=Math.atan2(e,n),o=c+r*Math.cos(t),e=p+r*Math.sin(t),[l.invert(o),h.invert(e)])},untransform:function(t){var t=k(t,2),r=t[0],t=t[1],n=l.map(r)-c,e=h.map(t)-p,o=Math.sqrt(n*n+e*e);return u<o?[r,t]:(r=D(o,0,s,0,u),t=Math.atan2(e,n),o=c+r*Math.cos(t),e=p+r*Math.sin(t),[l.invert(o),h.invert(e)])}}}function Vt(t,r,n,e,o,a,i){var u=new w({range:[r,r+o]}),s=new w({range:[n,n+a]}),l=new w({range:[e,e+i]});return{transform:function(t){var t=k(t,3),r=t[0],n=t[1],t=t[2];return[u.map(r),s.map(n),l.map(t)]},untransform:function(t){var t=k(t,3),r=t[0],n=t[1],t=t[2];return[u.invert(r),s.invert(n),l.invert(t)]}}}function Gt(t,r,n,e,o,a,i){var u,s=(t=k(t,3))[0],l=t[1],t=t[2];return u=R(),s=[s,l,t],u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=s[0],u[13]=s[1],u[14]=s[2],u[15]=1,u}function Ht(t,r,n,e,o,a,i){return{transform:function(t){var t=k(t,3),r=t[0];return[t[1],r,t[2]]},untransform:function(t){var t=k(t,3),r=t[0];return[t[1],r,t[2]]}}}function Qt(t,r,n,e,o,a,i){var u,s=(t=k(t,3))[0],l=t[1],t=t[2];return u=R(),s=[s,l,t],u[0]=s[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=s[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=s[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}K.prototype.update=function(t){this.options=r({},this.options,t),this.recoordinate()},K.prototype.clone=function(){return new K(this.options)},K.prototype.getOptions=function(){return this.options},K.prototype.clear=function(){this.update({transformations:[]})},K.prototype.getSize=function(){var t=this.options;return[t.width,t.height]},K.prototype.getCenter=function(){var t=this.options,r=t.x,n=t.y;return[(2*r+t.width)/2,(2*n+t.height)/2]},K.prototype.transform=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.options.transformations;return this.update({transformations:O(O([],k(n),!1),[O([],k(t),!1)],!1)}),this},K.prototype.map=function(t){return this.output(t)},K.prototype.invert=function(t){return this.input(t)},K.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},K.prototype.compose=function(t){function r(t,r){var o;u.push((r=void 0===r?!0:r)?(o=t,function(t){for(var r=[],n=0;n<t.length-1;n+=2){var e=[t[n],t[n+1]],e=o(e);r.push.apply(r,O([],k(e),!1))}return r}):t)}var n,e,o=(t=void 0===t?!1:t)?O([],k(this.options.transformations),!1).reverse():this.options.transformations,a=t?function(t){return t.untransform}:function(t){return t.transform},i=[],u=[];try{for(var s=x(o),l=s.next();!l.done;l=s.next()){var h,c,p,f,d,g,v=k(l.value),m=v[0],y=v.slice(1),M=this.transformers[m];M&&(c=(h=this.options).x,p=h.y,f=h.width,d=h.height,_(g=M(O([],k(y),!1),c,p,f,d))?i.push(g):(i.length&&(r(this.createMatrixTransform(i,t)),i.splice(0,i.length)),r(a(g)||A,\"parallel\"!==m)))}}catch(t){n={error:t}}finally{try{l&&!l.done&&(e=s.return)&&e.call(s)}finally{if(n)throw n.error}}return i.length&&r(this.createMatrixTransform(i,t)),U.apply(void 0,O([],k(u),!1))},K.prototype.createMatrixTransform=function(t,r){var n,e,o,a,i,u,s,l,h,c,p,f,d=g();return r&&t.reverse(),t.forEach(function(t){return J(d,d,t)}),r&&(r=t=d,(f=new P(9))[0]=r[0],f[1]=r[1],f[2]=r[2],f[3]=r[3],f[4]=r[4],f[5]=r[5],f[6]=r[6],f[7]=r[7],f[8]=r[8],f=(r=f)[0],n=r[1],e=r[2],o=r[3],a=r[4],i=r[5],u=r[6],s=r[7],l=(r=r[8])*a-i*s,p=f*l+n*(h=-r*o+i*u)+e*(c=s*o-a*u))&&(t[0]=l*(p=1/p),t[1]=(-r*n+e*s)*p,t[2]=(i*n-e*a)*p,t[3]=h*p,t[4]=(r*f-e*u)*p,t[5]=(-i*f+e*o)*p,t[6]=c*p,t[7]=(-s*f+n*u)*p,t[8]=(a*f-n*o)*p),function(t){var r,n,e,o,a,t=[t[0],t[1],1];return e=d,o=(n=r=t)[0],a=n[1],n=n[2],r[0]=o*e[0]+a*e[3]+n*e[6],r[1]=o*e[1]+a*e[4]+n*e[7],r[2]=o*e[2]+a*e[5]+n*e[8],[t[0],t[1]]}};o=K;function K(t){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:Ft,translate:G,custom:Dt,matrix:Pt,polar:Rt,transpose:Tt,scale:S,\"shear.x\":zt,\"shear.y\":Et,reflect:Kt,\"reflect.x\":Nt,\"reflect.y\":qt,rotate:Ct,helix:Wt,parallel:Bt,fisheye:Ut,\"fisheye.x\":Jt,\"fisheye.y\":Lt,\"fisheye.circular\":_t},this.update(t)}N.prototype.update=function(t){this.options=r({},this.options,t),this.recoordinate()},N.prototype.clone=function(){return new N(this.options)},N.prototype.getOptions=function(){return this.options},N.prototype.clear=function(){this.update({transformations:[]})},N.prototype.getSize=function(){var t=this.options;return[t.width,t.height,t.depth]},N.prototype.getCenter=function(){var t=this.options,r=t.x,n=t.y,e=t.z;return[(2*r+t.width)/2,(2*n+t.height)/2,(2*e+t.depth)/2]},N.prototype.transform=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.options.transformations;return this.update({transformations:O(O([],k(n),!1),[O([],k(t),!1)],!1)}),this},N.prototype.map=function(t){return this.output(t)},N.prototype.invert=function(t){return this.input(t)},N.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},N.prototype.compose=function(t){function r(t,r){var o;u.push((r=void 0===r?!0:r)?(o=t,function(t){for(var r=[],n=0;n<t.length-1;n+=3){var e=[t[n],t[n+1],t[n+2]],e=o(e);r.push.apply(r,O([],k(e),!1))}return r}):t)}var n,e,o=(t=void 0===t?!1:t)?O([],k(this.options.transformations),!1).reverse():this.options.transformations,a=t?function(t){return t.untransform}:function(t){return t.transform},i=[],u=[];try{for(var s=x(o),l=s.next();!l.done;l=s.next()){var h,c,p,f,d,g,v,m,y=k(l.value),M=y[0],w=y.slice(1),b=this.transformers[M];b&&(c=(h=this.options).x,p=h.y,f=h.z,d=h.width,g=h.height,v=h.depth,_(m=b(O([],k(w),!1),c,p,f,d,g,v))?i.push(m):(i.length&&(r(this.createMatrixTransform(i,t)),i.splice(0,i.length)),r(a(m)||A,!0)))}}catch(t){n={error:t}}finally{try{l&&!l.done&&(e=s.return)&&e.call(s)}finally{if(n)throw n.error}}return i.length&&r(this.createMatrixTransform(i,t)),U.apply(void 0,O([],k(u),!1))},N.prototype.createMatrixTransform=function(t,r){var n,e,o,a,i,u,s,l,h,c,p,f,d,g,v,m,y,M,w,b,x,k,O,A,j,I,S,F,D=R();return r&&t.reverse(),t.forEach(function(t){return L(D,D,t)}),r&&(r=t=D,(F=new P(16))[0]=r[0],F[1]=r[1],F[2]=r[2],F[3]=r[3],F[4]=r[4],F[5]=r[5],F[6]=r[6],F[7]=r[7],F[8]=r[8],F[9]=r[9],F[10]=r[10],F[11]=r[11],F[12]=r[12],F[13]=r[13],F[14]=r[14],F[15]=r[15],F=(r=F)[0],n=r[1],e=r[2],o=r[3],a=r[4],i=r[5],u=r[6],s=r[7],l=r[8],h=r[9],c=r[10],p=r[11],f=r[12],d=r[13],g=r[14],r=r[15],S=(v=F*i-n*a)*(I=c*r-p*g)-(m=F*u-e*a)*(j=h*r-p*d)+(y=F*s-o*a)*(A=h*g-c*d)+(M=n*u-e*i)*(O=l*r-p*f)-(w=n*s-o*i)*(k=l*g-c*f)+(b=e*s-o*u)*(x=l*d-h*f))&&(t[0]=(i*I-u*j+s*A)*(S=1/S),t[1]=(e*j-n*I-o*A)*S,t[2]=(d*b-g*w+r*M)*S,t[3]=(c*w-h*b-p*M)*S,t[4]=(u*O-a*I-s*k)*S,t[5]=(F*I-e*O+o*k)*S,t[6]=(g*y-f*b-r*m)*S,t[7]=(l*b-c*y+p*m)*S,t[8]=(a*j-i*O+s*x)*S,t[9]=(n*O-F*j-o*x)*S,t[10]=(f*w-d*y+r*v)*S,t[11]=(h*y-l*w-p*v)*S,t[12]=(i*k-a*A-u*x)*S,t[13]=(F*A-n*k+e*x)*S,t[14]=(d*m-f*M-g*v)*S,t[15]=(l*M-h*m+c*v)*S),function(t){var r,n,e,o,a,i,t=[t[0],t[1],t[2],1];return e=D,o=(n=r=t)[0],a=n[1],i=n[2],n=n[3],r[0]=e[0]*o+e[4]*a+e[8]*i+e[12]*n,r[1]=e[1]*o+e[5]*a+e[9]*i+e[13]*n,r[2]=e[2]*o+e[6]*a+e[10]*i+e[14]*n,r[3]=e[3]*o+e[7]*a+e[11]*i+e[15]*n,[t[0],t[1],t[2]]}};j=N;function N(t){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:Vt,translate3D:Gt,scale3D:Qt,transpose3D:Ht},this.update(t)}t.Coordinate=o,t.Coordinate3D=j,Object.defineProperty(t,\"__esModule\",{value:!0})});\n","/**\n * Default coordinate transformation for all charts.\n */\nexport const Cartesian = () => [['cartesian']];\nCartesian.props = {};\n//# sourceMappingURL=cartesian.js.map","import { convertAngles } from '../utils/angle';\nexport const getPolarOptions = (options = {}) => {\n    const defaultOptions = {\n        startAngle: -Math.PI / 2,\n        endAngle: (Math.PI * 3) / 2,\n        innerRadius: 0,\n        outerRadius: 1,\n    };\n    const polarOption = Object.assign(Object.assign({}, defaultOptions), options);\n    return Object.assign(Object.assign({}, polarOption), convertAngles(polarOption.startAngle, polarOption.endAngle));\n};\n/**\n * Polar transformation for circular charts using center of canvas as origin.\n * @todo Adjust size of canvas by startAngle and endAngle to make chart as big as possible.\n */\nexport const Polar = (options) => {\n    const { startAngle, endAngle, innerRadius, outerRadius } = getPolarOptions(options);\n    return [\n        ['translate', 0, 0.5],\n        ['reflect.y'],\n        ['translate', 0, -0.5],\n        ['polar', startAngle, endAngle, innerRadius, outerRadius],\n    ];\n};\nPolar.props = {};\n//# sourceMappingURL=polar.js.map","export function toRadian(degree) {\n    return (degree * Math.PI) / 180;\n}\nexport function toDegree(radian) {\n    return (radian * 180) / Math.PI;\n}\n// convert the angle to the range of 0 to 4*Math.PI\nexport function convertAngles(startAngle, endAngle) {\n    startAngle = startAngle % (2 * Math.PI);\n    endAngle = endAngle % (2 * Math.PI);\n    if (startAngle < 0) {\n        startAngle = 2 * Math.PI + startAngle;\n    }\n    if (endAngle < 0) {\n        endAngle = 2 * Math.PI + endAngle;\n    }\n    if (startAngle >= endAngle) {\n        endAngle = endAngle + 2 * Math.PI;\n    }\n    return {\n        startAngle,\n        endAngle,\n    };\n}\n//# sourceMappingURL=angle.js.map","/**\n * Transpose transformation for transposing chart according to center of canvas.\n */\nexport const Transpose = () => [\n    ['transpose'],\n    ['translate', 0.5, 0.5],\n    ['reflect.x'],\n    ['translate', -0.5, -0.5],\n];\nTranspose.props = { transform: true };\n//# sourceMappingURL=transpose.js.map","import { Polar } from './polar';\nimport { Transpose } from './transpose';\nexport const getThetaOptions = (options = {}) => {\n    const defaultOptions = {\n        startAngle: -Math.PI / 2,\n        endAngle: (Math.PI * 3) / 2,\n        innerRadius: 0,\n        outerRadius: 1,\n    };\n    return Object.assign(Object.assign({}, defaultOptions), options);\n};\n/**\n * Theta = Transpose + Polar.\n */\nexport const Theta = (options) => {\n    const { startAngle, endAngle, innerRadius, outerRadius } = getThetaOptions(options);\n    return [\n        ...Transpose(),\n        ...Polar({ startAngle, endAngle, innerRadius, outerRadius }),\n    ];\n};\nTheta.props = {};\n//# sourceMappingURL=theta.js.map","/**\n * Parallel coordinate transformations for parallel coordinate.\n */\nexport const Parallel = () => [['parallel', 0, 1, 0, 1]];\nParallel.props = {};\n//# sourceMappingURL=parallel.js.map","/**\n * Fisheye\n */\nexport const Fisheye = ({ focusX = 0, focusY = 0, distortionX = 2, distortionY = 2, visual = false, }) => [['fisheye', focusX, focusY, distortionX, distortionY, visual]];\nFisheye.props = { transform: true };\n//# sourceMappingURL=fisheye.js.map","import { Polar } from './polar';\nexport const getRadialOptions = (options = {}) => {\n    const defaultOptions = {\n        startAngle: -Math.PI / 2,\n        endAngle: (Math.PI * 3) / 2,\n        innerRadius: 0,\n        outerRadius: 1,\n    };\n    return Object.assign(Object.assign({}, defaultOptions), options);\n};\n/**\n * Radial\n */\nexport const Radial = (options) => {\n    const { startAngle, endAngle, innerRadius, outerRadius } = getRadialOptions(options);\n    return [\n        ['transpose'],\n        ['translate', 0.5, 0.5],\n        ['reflect'],\n        ['translate', -0.5, -0.5],\n        ...Polar({ startAngle, endAngle, innerRadius, outerRadius }),\n    ];\n};\nRadial.props = {};\n//# sourceMappingURL=radial.js.map","import { Polar } from './polar';\nimport { Parallel } from './parallel';\n/**\n *  Radar = Parallel + Polar.\n */\nexport const Radar = (options) => {\n    const { startAngle = -Math.PI / 2, endAngle = (Math.PI * 3) / 2, innerRadius = 0, outerRadius = 1, } = options;\n    return [\n        ...Parallel(),\n        ...Polar({ startAngle, endAngle, innerRadius, outerRadius }),\n    ];\n};\nRadar.props = {};\n//# sourceMappingURL=radar.js.map","/**\n * Extract a column of data filled with the specified constant.\n */\nexport const Constant = ({ value }) => {\n    return (data) => data.map(() => value);\n};\nConstant.props = {};\n//# sourceMappingURL=constant.js.map","/**\n * Extract a column of data with specified field.\n */\nexport const Field = ({ value }) => {\n    return (data) => data.map((d) => d[value]);\n};\nField.props = {};\n//# sourceMappingURL=field.js.map","/**\n * Extract a column of data with specified map function from data.\n * Each datum in the array is not visual data by default.\n * Specifying identity scale for related channel explicitly will treat them as visual data.\n */\nexport const Transform = ({ value }) => {\n    return (data) => data.map(value);\n};\nTransform.props = {};\n//# sourceMappingURL=transform.js.map","/**\n * Extract a column of data specified in encoding.\n */\nexport const Column = ({ value }) => {\n    return () => value;\n};\nColumn.props = {};\n//# sourceMappingURL=column.js.map","/**\n * 判断值是否为数组\n * @return 是否为数组\n */\nexport default function isArray(value) {\n    return Array.isArray(value);\n}\n//# sourceMappingURL=is-array.js.map","var isObjectLike = function (value) {\n    /**\n     * isObjectLike({}) => true\n     * isObjectLike([1, 2, 3]) => true\n     * isObjectLike(Function) => false\n     * isObjectLike(null) => false\n     */\n    return typeof value === 'object' && value !== null;\n};\nexport default isObjectLike;\n//# sourceMappingURL=is-object-like.js.map","var toString = {}.toString;\nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nexport default isType;\n//# sourceMappingURL=is-type.js.map","import isObjectLike from './is-object-like';\nimport isType from './is-type';\nvar isPlainObject = function (value) {\n    /**\n     * isObjectLike(new Foo) => false\n     * isObjectLike([1, 2, 3]) => false\n     * isObjectLike({ x: 0, y: 0 }) => true\n     * isObjectLike(Object.create(null)) => true\n     */\n    if (!isObjectLike(value) || !isType(value, 'Object')) {\n        return false;\n    }\n    if (Object.getPrototypeOf(value) === null) {\n        return true;\n    }\n    var proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n};\nexport default isPlainObject;\n//# sourceMappingURL=is-plain-object.js.map","import isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar MAX_MIX_LEVEL = 5;\nfunction hasOwn(object, property) {\n    if (Object.hasOwn) {\n        return Object.hasOwn(object, property);\n    }\n    if (object == null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n    }\n    return Object.prototype.hasOwnProperty.call(Object(object), property);\n}\nfunction _deepMix(dist, src, level, maxLevel) {\n    level = level || 0;\n    maxLevel = maxLevel || MAX_MIX_LEVEL;\n    for (var key in src) {\n        if (hasOwn(src, key)) {\n            var value = src[key];\n            if (value !== null && isPlainObject(value)) {\n                if (!isPlainObject(dist[key])) {\n                    dist[key] = {};\n                }\n                if (level < maxLevel) {\n                    _deepMix(dist[key], value, level + 1, maxLevel);\n                }\n                else {\n                    dist[key] = src[key];\n                }\n            }\n            else if (isArray(value)) {\n                dist[key] = [];\n                dist[key] = dist[key].concat(value);\n            }\n            else if (value !== undefined) {\n                dist[key] = value;\n            }\n        }\n    }\n}\n// todo 重写\nvar deepMix = function (rst) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < args.length; i += 1) {\n        _deepMix(rst, args[i]);\n    }\n    return rst;\n};\nexport default deepMix;\n//# sourceMappingURL=deep-mix.js.map","export function column(value, field) {\n    if (value === null)\n        return undefined;\n    return { type: 'column', value, field };\n}\nexport function inferredColumn(value, field) {\n    const c = column(value, field);\n    return Object.assign(Object.assign({}, c), { inferred: true });\n}\nexport function visualColumn(value, field) {\n    if (value === null)\n        return undefined;\n    return { type: 'column', value, field, visual: true };\n}\nexport function nonConstantColumn(value, field) {\n    const c = column(value, field);\n    return Object.assign(Object.assign({}, c), { constant: false });\n}\nexport function constant(I, value) {\n    const array = [];\n    for (const i of I)\n        array[i] = value;\n    return array;\n}\nexport function columnOf(encode, key) {\n    const channel = encode[key];\n    if (!channel)\n        return [null, null];\n    const { value, field = null } = channel;\n    return [value, field];\n}\nexport function maybeColumnOf(encode, ...K) {\n    for (const key of K) {\n        if (typeof key === 'string') {\n            const [KV, fv] = columnOf(encode, key);\n            if (KV !== null)\n                return [KV, fv];\n        }\n        else {\n            return [key, null];\n        }\n    }\n    return [null, null];\n}\nexport function isObject(d) {\n    if (d instanceof Date)\n        return false;\n    return typeof d === 'object';\n}\n//# sourceMappingURL=helper.js.map","import { deepMix } from '@antv/util';\nimport { inferredColumn, constant } from './utils/helper';\n/**\n * Add zero constant encode for y1 channel.\n */\nexport const MaybeZeroY1 = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { y1 } = encode;\n        if (y1 !== undefined)\n            return [I, mark];\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: { y1: inferredColumn(constant(I, 0)) },\n            }),\n        ];\n    };\n};\nMaybeZeroY1.props = {};\n//# sourceMappingURL=maybeZeroY1.js.map","import { deepMix } from '@antv/util';\nimport { inferredColumn, constant } from './utils/helper';\n/**\n * Add zero constant encode for x channel.\n * This is useful for interval geometry.\n */\nexport const MaybeZeroX = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { x } = encode;\n        if (x !== undefined)\n            return [I, mark];\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: { x: inferredColumn(constant(I, 0)) },\n                scale: { x: { guide: null } },\n            }),\n        ];\n    };\n};\nMaybeZeroX.props = {};\n//# sourceMappingURL=maybeZeroX.js.map","import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, it’s probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export function isTranspose(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    const transposes = transformations\n        .map(([type]) => type)\n        .filter((type) => type === 'transpose');\n    return transposes.length % 2 !== 0;\n}\nexport function isPolar(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    return transformations.some(([type]) => type === 'polar');\n}\nexport function isRadial(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    return (\n    // distinguish radial from theta.\n    transformations.some(([type]) => type === 'reflect') &&\n        transformations.some(([type]) => type.startsWith('transpose')));\n}\nexport function isHelix(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    return transformations.some(([type]) => type === 'helix');\n}\nexport function isParallel(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    return transformations.some(([type]) => type === 'parallel');\n}\nexport function isFisheye(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    return transformations.some(([type]) => type === 'fisheye');\n}\nexport function isRadar(coordinate) {\n    return isParallel(coordinate) && isPolar(coordinate);\n}\nexport function isCircular(coordinate) {\n    return isHelix(coordinate) || isPolar(coordinate);\n}\nexport function isTheta(coordinate) {\n    return isPolar(coordinate) && isTranspose(coordinate);\n}\nexport function isNonCartesian(coordinate) {\n    return (isPolar(coordinate) ||\n        isParallel(coordinate) ||\n        isRadial(coordinate) ||\n        isTheta(coordinate));\n}\nexport function getRadius(coordinate) {\n    if (isCircular(coordinate)) {\n        const [width, height] = coordinate.getSize();\n        const polar = coordinate\n            .getOptions()\n            .transformations.find((t) => t[0] === 'polar');\n        // coordinate.size * outerRadius.\n        if (polar)\n            return (Math.max(width, height) / 2) * polar[4];\n    }\n    return 0;\n}\nexport function radiusOf(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    const [, , , innerRadius, outerRadius] = transformations.find((d) => d[0] === 'polar');\n    return [+innerRadius, +outerRadius];\n}\nexport function angleOf(coordinate, isRadius = true) {\n    const { transformations } = coordinate.getOptions();\n    const [, startAngle, endAngle] = transformations.find((d) => d[0] === 'polar');\n    return isRadius\n        ? [(+startAngle * 180) / Math.PI, (+endAngle * 180) / Math.PI]\n        : [startAngle, endAngle];\n}\nexport function getTransformOptions(coordinate, type) {\n    const { transformations } = coordinate.getOptions();\n    const [, ...args] = transformations.find((d) => d[0] === type);\n    return args;\n}\n//# sourceMappingURL=coordinate.js.map","export default function identity(x) {\n  return x;\n}\n","import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nfunction flatten(groups, keys) {\n  for (let i = 1, n = keys.length; i < n; ++i) {\n    groups = groups.flatMap(g => g.pop().map(([key, value]) => [...g, key, value]));\n  }\n  return groups;\n}\n\nexport function flatGroup(values, ...keys) {\n  return flatten(groups(values, ...keys), keys);\n}\n\nexport function flatRollup(values, reduce, ...keys) {\n  return flatten(rollups(values, reduce, ...keys), keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n","/**\n * 判断值是否为 null 或 undefined\n * @return 是否为 null 或 undefined\n */\nexport default function isNil(value) {\n    return value === null || value === undefined;\n}\n//# sourceMappingURL=is-nil.js.map","import isNil from './is-nil';\nexport default (function (value) {\n    if (isNil(value))\n        return '';\n    return value.toString();\n});\n//# sourceMappingURL=to-string.js.map","import toString from './to-string';\nvar lowerFirst = function (value) {\n    var str = toString(value);\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\nexport default lowerFirst;\n//# sourceMappingURL=lower-first.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { lowerFirst, upperFirst, isPlainObject } from '@antv/util';\nexport function identity(x) {\n    return x;\n}\n/**\n * Composes functions from left to right.\n */\nexport function compose(fns) {\n    return fns.reduce((composed, fn) => (x, ...args) => fn(composed(x, ...args), ...args), identity);\n}\n/**\n * Composes single-argument async functions from left to right.\n */\nexport function composeAsync(fns) {\n    return fns.reduce((composed, fn) => (x) => __awaiter(this, void 0, void 0, function* () {\n        const value = yield composed(x);\n        return fn(value);\n    }), identity);\n}\nexport function capitalizeFirst(str) {\n    return str.replace(/( |^)[a-z]/g, (L) => L.toUpperCase());\n}\nexport function error(message = '') {\n    throw new Error(message);\n}\nexport function copyAttributes(target, source) {\n    const { attributes } = source;\n    const exclude = new Set(['id', 'className']);\n    for (const [key, value] of Object.entries(attributes)) {\n        if (!exclude.has(key)) {\n            target.attr(key, value);\n        }\n    }\n}\nexport function defined(x) {\n    return x !== undefined && x !== null && !Number.isNaN(x);\n}\nexport function random(a, b) {\n    return a + (b - a) * Math.random();\n}\nexport function useMemo(compute) {\n    const map = new Map();\n    return (key) => {\n        if (map.has(key))\n            return map.get(key);\n        const value = compute(key);\n        map.set(key, value);\n        return value;\n    };\n}\nexport function appendTransform(node, transform) {\n    const { transform: preTransform } = node.style;\n    const unset = (d) => d === 'none' || d === undefined;\n    const prefix = unset(preTransform) ? '' : preTransform;\n    node.style.transform = `${prefix} ${transform}`.trimStart();\n}\nexport function subObject(obj, prefix) {\n    return maybeSubObject(obj, prefix) || {};\n}\nexport function maybeSubObject(obj, prefix) {\n    const entries = Object.entries(obj || {})\n        .filter(([key]) => key.startsWith(prefix))\n        .map(([key, value]) => [lowerFirst(key.replace(prefix, '').trim()), value])\n        .filter(([key]) => !!key);\n    return entries.length === 0 ? null : Object.fromEntries(entries);\n}\nexport function prefixObject(obj, prefix) {\n    return Object.fromEntries(Object.entries(obj).map(([key, value]) => {\n        return [`${prefix}${upperFirst(key)}`, value];\n    }));\n}\nexport function filterPrefixObject(obj, prefix) {\n    return Object.fromEntries(Object.entries(obj).filter(([key]) => prefix.find((p) => key.startsWith(p))));\n}\nexport function omitPrefixObject(obj, ...prefixes) {\n    return Object.fromEntries(Object.entries(obj).filter(([key]) => prefixes.every((prefix) => !key.startsWith(prefix))));\n}\nexport function maybePercentage(x, size) {\n    if (x === undefined)\n        return null;\n    if (typeof x === 'number')\n        return x;\n    const px = +x.replace('%', '');\n    return Number.isNaN(px) ? null : (px / 100) * size;\n}\nexport function isStrictObject(d) {\n    return (typeof d === 'object' &&\n        !(d instanceof Date) &&\n        d !== null &&\n        !Array.isArray(d));\n}\nexport function isUnset(value) {\n    return value === null || value === false;\n}\nexport function deepAssign(dist, src, maxLevel = 5, level = 0) {\n    if (level >= maxLevel)\n        return;\n    for (const key of Object.keys(src)) {\n        const value = src[key];\n        if (!isPlainObject(value) || !isPlainObject(dist[key])) {\n            dist[key] = value;\n        }\n        else {\n            deepAssign(dist[key], value, maxLevel, level + 1);\n        }\n    }\n    return dist;\n}\n//# sourceMappingURL=helper.js.map","import { Group, Rect, Circle, Path, Text, Ellipse, Image, Line, Polygon, Polyline, HTML, } from '@antv/g';\nimport { group } from 'd3-array';\nimport { error } from './helper';\nexport function select(node) {\n    return new Selection([node], null, node, node.ownerDocument);\n}\n/**\n * A simple implementation of d3-selection for @antv/g.\n * It has the core features of d3-selection and extended ability.\n * Every methods of selection returns new selection if elements\n * are mutated(e.g. append, remove), otherwise return the selection itself(e.g. attr, style).\n * @see https://github.com/d3/d3-selection\n * @see https://github.com/antvis/g\n * @todo Nested selections.\n * @todo More useful functor.\n */\nexport class Selection {\n    constructor(elements = null, data = null, parent = null, document = null, selections = [\n        null,\n        null,\n        null,\n        null,\n        null,\n    ], transitions = [], updateElements = []) {\n        this._elements = Array.from(elements);\n        this._data = data;\n        this._parent = parent;\n        this._document = document;\n        this._enter = selections[0];\n        this._update = selections[1];\n        this._exit = selections[2];\n        this._merge = selections[3];\n        this._split = selections[4];\n        this._transitions = transitions;\n        this._facetElements = updateElements;\n    }\n    selectAll(selector) {\n        const elements = typeof selector === 'string'\n            ? this._parent.querySelectorAll(selector)\n            : selector;\n        return new Selection(elements, null, this._elements[0], this._document);\n    }\n    selectFacetAll(selector) {\n        const elements = typeof selector === 'string'\n            ? this._parent.querySelectorAll(selector)\n            : selector;\n        return new Selection(this._elements, null, this._parent, this._document, undefined, undefined, elements);\n    }\n    /**\n     * @todo Replace with querySelector which has bug now.\n     */\n    select(selector) {\n        const element = typeof selector === 'string'\n            ? this._parent.querySelectorAll(selector)[0] || null\n            : selector;\n        return new Selection([element], null, element, this._document);\n    }\n    append(node) {\n        const callback = typeof node === 'function' ? node : () => this.createElement(node);\n        const elements = [];\n        if (this._data !== null) {\n            // For empty selection, append new element to parent.\n            // Each element is bind with datum.\n            for (let i = 0; i < this._data.length; i++) {\n                const d = this._data[i];\n                const [datum, from] = Array.isArray(d) ? d : [d, null];\n                const newElement = callback(datum, i);\n                newElement.__data__ = datum;\n                if (from !== null)\n                    newElement.__fromElements__ = from;\n                this._parent.appendChild(newElement);\n                elements.push(newElement);\n            }\n            return new Selection(elements, null, this._parent, this._document);\n        }\n        else {\n            // For non-empty selection, append new element to\n            // selected element and return new selection.\n            for (let i = 0; i < this._elements.length; i++) {\n                const element = this._elements[i];\n                const datum = element.__data__;\n                const newElement = callback(datum, i);\n                element.appendChild(newElement);\n                elements.push(newElement);\n            }\n            return new Selection(elements, null, elements[0], this._document);\n        }\n    }\n    maybeAppend(id, node, className) {\n        const element = this._elements[0];\n        const child = element.getElementById(id);\n        if (child) {\n            return new Selection([child], null, this._parent, this._document);\n        }\n        const newChild = typeof node === 'string' ? this.createElement(node) : node();\n        newChild.id = id;\n        if (className)\n            newChild.className = className;\n        element.appendChild(newChild);\n        return new Selection([newChild], null, this._parent, this._document);\n    }\n    /**\n     * Bind data to elements, and produce three selection:\n     * Enter: Selection with empty elements and data to be bind to elements.\n     * Update: Selection with elements to be updated.\n     * Exit: Selection with elements to be removed.\n     */\n    data(data, id = (d) => d, groupId = () => null) {\n        // An Array of new data.\n        const enter = [];\n        // An Array of elements to be updated.\n        const update = [];\n        // A Set of elements to be removed.\n        const exit = new Set(this._elements);\n        // An Array of data to be merged into one element.\n        const merge = [];\n        // A Set of elements to be split into multiple datum.\n        const split = new Set();\n        // A Map from key to each element.\n        const keyElement = new Map(this._elements.map((d, i) => [id(d.__data__, i), d]));\n        // A Map from key to exist element. The Update Selection\n        // can get element from this map, this is for diff among\n        // facets.\n        const keyUpdateElement = new Map(this._facetElements.map((d, i) => [id(d.__data__, i), d]));\n        // A Map from groupKey to a group of elements.\n        const groupKeyElements = group(this._elements, (d) => groupId(d.__data__));\n        // Diff data with selection(elements with data).\n        // !!! Note\n        // The switch is strictly ordered, not not change the order of them.\n        for (let i = 0; i < data.length; i++) {\n            const datum = data[i];\n            const key = id(datum, i);\n            const groupKey = groupId(datum, i);\n            // Append element to update selection if incoming data has\n            // exactly the same key with elements.\n            if (keyElement.has(key)) {\n                const element = keyElement.get(key);\n                element.__data__ = datum;\n                element.__facet__ = false;\n                update.push(element);\n                exit.delete(element);\n                keyElement.delete(key);\n                // Append element to update selection if incoming data has\n                // exactly the same key with updateElements.\n            }\n            else if (keyUpdateElement.has(key)) {\n                const element = keyUpdateElement.get(key);\n                element.__data__ = datum;\n                // Flag this element should update its parentNode.\n                element.__facet__ = true;\n                update.push(element);\n                keyUpdateElement.delete(key);\n                // Append datum to merge selection if existed elements has\n                // its key as groupKey.\n            }\n            else if (groupKeyElements.has(key)) {\n                const group = groupKeyElements.get(key);\n                merge.push([datum, group]);\n                for (const element of group)\n                    exit.delete(element);\n                groupKeyElements.delete(key);\n                // Append element to split selection if incoming data has\n                // groupKey as its key, and bind to datum for it.\n            }\n            else if (keyElement.has(groupKey)) {\n                const element = keyElement.get(groupKey);\n                if (element.__toData__)\n                    element.__toData__.push(datum);\n                else\n                    element.__toData__ = [datum];\n                split.add(element);\n                exit.delete(element);\n            }\n            else {\n                // @todo Data with non-unique key.\n                enter.push(datum);\n            }\n        }\n        // Create new selection with enter, update and exit.\n        const S = [\n            new Selection([], enter, this._parent, this._document),\n            new Selection(update, null, this._parent, this._document),\n            new Selection(exit, null, this._parent, this._document),\n            new Selection([], merge, this._parent, this._document),\n            new Selection(split, null, this._parent, this._document),\n        ];\n        return new Selection(this._elements, null, this._parent, this._document, S);\n    }\n    merge(other) {\n        const elements = [...this._elements, ...other._elements];\n        const transitions = [...this._transitions, ...other._transitions];\n        return new Selection(elements, null, this._parent, this._document, undefined, transitions);\n    }\n    createElement(type) {\n        if (this._document) {\n            return this._document.createElement(type, {});\n        }\n        const Ctor = Selection.registry[type];\n        if (Ctor)\n            return new Ctor();\n        return error(`Unknown node type: ${type}`);\n    }\n    /**\n     * Apply callback for each selection(enter, update, exit)\n     * and merge them into one selection.\n     */\n    join(enter = (d) => d, update = (d) => d, exit = (d) => d.remove(), merge = (d) => d, split = (d) => d.remove()) {\n        const newEnter = enter(this._enter);\n        const newUpdate = update(this._update);\n        const newExit = exit(this._exit);\n        const newMerge = merge(this._merge);\n        const newSplit = split(this._split);\n        return newUpdate\n            .merge(newEnter)\n            .merge(newExit)\n            .merge(newMerge)\n            .merge(newSplit);\n    }\n    remove() {\n        // Remove node immediately if there is no transition,\n        // otherwise wait until transition finished.\n        for (let i = 0; i < this._elements.length; i++) {\n            const transition = this._transitions[i];\n            if (transition) {\n                const T = Array.isArray(transition) ? transition : [transition];\n                Promise.all(T.map((d) => d.finished)).then(() => {\n                    const element = this._elements[i];\n                    element.remove();\n                });\n            }\n            else {\n                const element = this._elements[i];\n                element.remove();\n            }\n        }\n        return new Selection([], null, this._parent, this._document, undefined, this._transitions);\n    }\n    each(callback) {\n        for (let i = 0; i < this._elements.length; i++) {\n            const element = this._elements[i];\n            const datum = element.__data__;\n            callback(datum, i, element);\n        }\n        return this;\n    }\n    attr(key, value) {\n        const callback = typeof value !== 'function' ? () => value : value;\n        return this.each(function (d, i, element) {\n            if (value !== undefined)\n                element[key] = callback(d, i, element);\n        });\n    }\n    style(key, value) {\n        const callback = typeof value !== 'function' ? () => value : value;\n        return this.each(function (d, i, element) {\n            if (value !== undefined)\n                element.style[key] = callback(d, i, element);\n        });\n    }\n    transition(value) {\n        const callback = typeof value !== 'function' ? () => value : value;\n        const { _transitions: T } = this;\n        return this.each(function (d, i, element) {\n            T[i] = callback(d, i, element);\n        });\n    }\n    on(event, handler) {\n        this.each(function (d, i, element) {\n            element.addEventListener(event, handler);\n        });\n        return this;\n    }\n    call(callback, ...args) {\n        callback(this, ...args);\n        return this;\n    }\n    node() {\n        return this._elements[0];\n    }\n    nodes() {\n        return this._elements;\n    }\n    transitions() {\n        return this._transitions;\n    }\n    parent() {\n        return this._parent;\n    }\n}\nSelection.registry = {\n    g: Group,\n    rect: Rect,\n    circle: Circle,\n    path: Path,\n    text: Text,\n    ellipse: Ellipse,\n    image: Image,\n    line: Line,\n    polygon: Polygon,\n    polyline: Polyline,\n    html: HTML,\n};\n//# sourceMappingURL=selection.js.map","export function sub([x1, y1], [x2, y2]) {\n    return [x1 - x2, y1 - y2];\n}\nexport function add([x1, y1], [x2, y2]) {\n    return [x1 + x2, y1 + y2];\n}\nexport function dist([x0, y0], [x1, y1]) {\n    return Math.sqrt(Math.pow((x0 - x1), 2) + Math.pow((y0 - y1), 2));\n}\n/**\n * Calculate angle of vector [x, y].\n */\nexport function angle([x, y]) {\n    return Math.atan2(y, x);\n}\n/**\n * Calculate angle of [x, y], then + Math.PI / 2.\n * Because of the difference between `Geometric coordinate system` and `Visualization coordinate system`.\n * @returns\n */\nexport function angleWithQuadrant([x, y]) {\n    return angle([x, y]) + Math.PI / 2;\n}\nexport function angleBetween(v0, v1) {\n    const a0 = angle(v0);\n    const a1 = angle(v1);\n    if (a0 < a1)\n        return a1 - a0;\n    return Math.PI * 2 - (a0 - a1);\n}\nexport function calcBBox(points) {\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n    for (const [x, y] of points) {\n        minX = Math.min(x, minX);\n        maxX = Math.max(x, maxX);\n        minY = Math.min(y, minY);\n        maxY = Math.max(y, maxY);\n    }\n    const width = maxX - minX;\n    const height = maxY - minY;\n    return [minX, minY, width, height];\n}\n/**\n * Get the center of two points.\n */\nexport function mid([x1, y1], [x2, y2]) {\n    return [(x1 + x2) / 2, (y1 + y2) / 2];\n}\n//# sourceMappingURL=vector.js.map","/**\n * Clamp number within the inclusive range within the lower and upper bounds.\n */\nexport function clamp(v, lower, upper) {\n    return Math.max(lower, Math.min(v, upper));\n}\n/**\n * Precision conversion\n */\nexport function prettyNumber(n, precision = 10) {\n    if (typeof n !== 'number')\n        return n;\n    return Math.abs(n) < 1e-15 ? n : parseFloat(n.toFixed(precision));\n}\n//# sourceMappingURL=number.js.map","/**\n * 判断值是否为数字\n * @return 是否为数字\n */\nexport default function isNumber(value) {\n    return typeof value === 'number';\n}\n//# sourceMappingURL=is-number.js.map","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","/**\n * Calls a defined callback function on each key:value of a object,\n * and returns a object contains the result.\n */\nexport function mapObject(object, callbackfn) {\n    return Object.entries(object).reduce((obj, [key, value]) => {\n        obj[key] = callbackfn(value, key, object);\n        return obj;\n    }, {});\n}\nexport function indexOf(array) {\n    return array.map((_, i) => i);\n}\n/**\n * @example [[1, 2, 3], ['a', 'b', 'c']] => [[1, 'a'], [2, 'b'], [3, 'c']]\n */\nexport function transpose(matrix) {\n    const row = matrix.length;\n    const col = matrix[0].length;\n    // Note: new Array(col).fill(new Array(row)) is not ok!!!\n    // Because in this case it will fill new Array(col) with the same array: new Array(row).\n    const transposed = new Array(col).fill(0).map(() => new Array(row));\n    for (let i = 0; i < col; i++) {\n        for (let j = 0; j < row; j++) {\n            transposed[i][j] = matrix[j][i];\n        }\n    }\n    return transposed;\n}\nexport function firstOf(array) {\n    return array[0];\n}\nexport function lastOf(array) {\n    return array[array.length - 1];\n}\nexport function isFlatArray(array) {\n    return !array.some(Array.isArray);\n}\nexport function unique(array) {\n    return Array.from(new Set(array));\n}\nexport function divide(array, callbackfn) {\n    const result = [[], []];\n    array.forEach((item) => {\n        result[callbackfn(item) ? 0 : 1].push(item);\n    });\n    return result;\n}\nfunction comb(array, len = array.length) {\n    if (len === 1)\n        return array.map((item) => [item]);\n    const result = [];\n    for (let i = 0; i < array.length; i++) {\n        const rest = array.slice(i + 1);\n        const restComb = comb(rest, len - 1);\n        restComb.forEach((comb) => {\n            result.push([array[i], ...comb]);\n        });\n    }\n    return result;\n}\n/**\n * get all combinations of two elements in an array\n * @example [1, 2, 3] => [[1], [2], [3], [1, 2], [1, 3], [2, 3], [1, 2, 3]]\n * @param array\n * @returns\n */\nexport function combine(array) {\n    if (array.length === 1)\n        return [array];\n    const result = [];\n    for (let i = 1; i <= array.length; i++) {\n        result.push(...comb(array, i));\n    }\n    return result;\n}\n//# sourceMappingURL=array.js.map","import { Linear } from '@antv/scale';\nimport { isNumber, lowerFirst } from '@antv/util';\nimport { extent } from 'd3-array';\nimport { indexOf } from '../utils/array';\nimport { isPolar, isTranspose } from '../utils/coordinate';\nimport { angle, angleWithQuadrant, dist, sub } from '../utils/vector';\nexport function applyStyle(selection, style) {\n    for (const [key, value] of Object.entries(style)) {\n        selection.style(key, value);\n    }\n}\n/**\n * Draw polygon path with points.\n * @param path\n * @param points\n */\nexport function appendPolygon(path, points) {\n    points.forEach((p, idx) => idx === 0 ? path.moveTo(p[0], p[1]) : path.lineTo(p[0], p[1]));\n    path.closePath();\n    return path;\n}\n/**\n * Draw arrow between `from` and `to`.\n * @param from\n * @param to\n * @returns\n */\nexport function arrowPoints(from, to, options) {\n    const { arrowSize } = options;\n    const size = typeof arrowSize === 'string'\n        ? (+parseFloat(arrowSize) / 100) * dist(from, to)\n        : arrowSize;\n    // TODO Use config from style.\n    // Default arrow rotate is 30°.\n    const arrowAngle = Math.PI / 6;\n    const angle = Math.atan2(to[1] - from[1], to[0] - from[0]);\n    const arrowAngle1 = Math.PI / 2 - angle - arrowAngle;\n    const arrow1 = [\n        to[0] - size * Math.sin(arrowAngle1),\n        to[1] - size * Math.cos(arrowAngle1),\n    ];\n    const arrowAngle2 = angle - arrowAngle;\n    const arrow2 = [\n        to[0] - size * Math.cos(arrowAngle2),\n        to[1] - size * Math.sin(arrowAngle2),\n    ];\n    return [arrow1, arrow2];\n}\n/**\n * Draw arc by from -> to, with center and radius.\n * @param path\n * @param from\n * @param to\n * @param center\n * @param radius\n */\nexport function appendArc(path, from, to, center, radius) {\n    const startAngle = angle(sub(center, from)) + Math.PI;\n    const endAngle = angle(sub(center, to)) + Math.PI;\n    path.arc(center[0], center[1], radius, startAngle, endAngle, endAngle - startAngle < 0);\n    return path;\n}\n/**\n * @todo Fix wrong key point.\n */\nexport function computeGradient(C, X, Y, from = 'y', mode = 'between', tpShape = false) {\n    // The angles of gradients rendering are varies when 'from' and 'tpShape' are different.\n    const getTheta = (from, tpShape) => {\n        if (from === 'y' || from === true) {\n            if (tpShape) {\n                return 180;\n            }\n            else {\n                return 90;\n            }\n        }\n        else {\n            if (tpShape) {\n                return 90;\n            }\n            else {\n                return 0;\n            }\n        }\n    };\n    const P = from === 'y' || from === true ? Y : X;\n    const theta = getTheta(from, tpShape);\n    const I = indexOf(P);\n    const [min, max] = extent(I, (i) => P[i]);\n    // This need to improve for non-uniform distributed colors.\n    const p = new Linear({\n        domain: [min, max],\n        range: [0, 100],\n    });\n    const percentage = (i) => isNumber(P[i]) && !Number.isNaN(P[i]) ? p.map(P[i]) : 0;\n    const gradientMode = {\n        // Interpolate the colors for this segment.\n        between: (i) => `${C[i]} ${percentage(i)}%`,\n        // Use the color of the start point as the color for this segment.\n        start: (i) => i === 0\n            ? `${C[i]} ${percentage(i)}%`\n            : `${C[i - 1]} ${percentage(i)}%, ${C[i]} ${percentage(i)}%`,\n        // Use the color of the end point as the color for this segment.\n        end: (i) => i === C.length - 1\n            ? `${C[i]} ${percentage(i)}%`\n            : `${C[i]} ${percentage(i)}%, ${C[i + 1]} ${percentage(i)}%`,\n    };\n    const gradient = I.sort((a, b) => percentage(a) - percentage(b))\n        .map(gradientMode[mode] || gradientMode['between'])\n        .join(',');\n    return `linear-gradient(${theta}deg, ${gradient})`;\n}\nexport function reorder(points) {\n    const [p0, p1, p2, p3] = points;\n    return [p3, p0, p1, p2];\n}\nexport function getArcObject(coordinate, points, Y) {\n    const [p0, p1, , p3] = isTranspose(coordinate) ? reorder(points) : points;\n    const [y, y1] = Y;\n    const center = coordinate.getCenter();\n    const a1 = angleWithQuadrant(sub(p0, center));\n    const a2 = angleWithQuadrant(sub(p1, center));\n    // There are two situations that a2 === a1:\n    // 1. a1 - a2 = 0\n    // 2. |a1 - a2| = Math.PI * 2\n    // Distinguish them by y and y1:\n    const a3 = a2 === a1 && y !== y1 ? a2 + Math.PI * 2 : a2;\n    return {\n        startAngle: a1,\n        endAngle: a3 - a1 >= 0 ? a3 : Math.PI * 2 + a3,\n        innerRadius: dist(p3, center),\n        outerRadius: dist(p0, center),\n    };\n}\n/**\n * Pick connectStyle from style.\n * @param style\n */\nexport function getConnectStyle(style) {\n    const PREFIX = 'connect';\n    return Object.fromEntries(Object.entries(style)\n        .filter(([key]) => key.startsWith(PREFIX))\n        .map(([key, value]) => [\n        lowerFirst(key.replace(PREFIX, '').trim()),\n        value,\n    ])\n        .filter(([key]) => key !== undefined));\n}\nexport function toOpacityKey(options) {\n    const { colorAttribute, opacityAttribute = colorAttribute } = options;\n    return `${opacityAttribute}Opacity`;\n}\nexport function getTransform(coordinate, value) {\n    if (!isPolar(coordinate))\n        return '';\n    const center = coordinate.getCenter();\n    const { transform: suffix } = value;\n    return `translate(${center[0]}, ${center[1]}) ${suffix || ''}`;\n}\nexport function getOrigin(points) {\n    if (points.length === 1)\n        return points[0];\n    const [[x0, y0, z0 = 0], [x2, y2, z2 = 0]] = points;\n    return [(x0 + x2) / 2, (y0 + y2) / 2, (z0 + z2) / 2];\n}\n//# sourceMappingURL=utils.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { arc } from 'd3-shape';\nimport { isPolar, isHelix, isTranspose } from '../../utils/coordinate';\nimport { select } from '../../utils/selection';\nimport { sub } from '../../utils/vector';\nimport { clamp } from '../../utils/number';\nimport { applyStyle, getArcObject, reorder, toOpacityKey } from '../utils';\n// Render rect in different coordinate.\nexport function rect(document, points, value, coordinate, style = {}) {\n    const { inset = 0, radius = 0, insetLeft = inset, insetTop = inset, insetRight = inset, insetBottom = inset, radiusBottomLeft = radius, radiusBottomRight = radius, radiusTopLeft = radius, radiusTopRight = radius, minWidth = -Infinity, maxWidth = Infinity, minHeight = -Infinity } = style, rest = __rest(style, [\"inset\", \"radius\", \"insetLeft\", \"insetTop\", \"insetRight\", \"insetBottom\", \"radiusBottomLeft\", \"radiusBottomRight\", \"radiusTopLeft\", \"radiusTopRight\", \"minWidth\", \"maxWidth\", \"minHeight\"]);\n    if (!isPolar(coordinate) && !isHelix(coordinate)) {\n        const tpShape = !!isTranspose(coordinate);\n        const [p0, , p2] = tpShape ? reorder(points) : points;\n        const [x, y] = p0;\n        const [width, height] = sub(p2, p0);\n        // Deal with width or height is negative.\n        const absX = width > 0 ? x : x + width;\n        const absY = height > 0 ? y : y + height;\n        const absWidth = Math.abs(width);\n        const absHeight = Math.abs(height);\n        const finalX = absX + insetLeft;\n        const finalY = absY + insetTop;\n        const finalWidth = absWidth - (insetLeft + insetRight);\n        const finalHeight = absHeight - (insetTop + insetBottom);\n        const clampWidth = tpShape\n            ? clamp(finalWidth, minHeight, Infinity)\n            : clamp(finalWidth, minWidth, maxWidth);\n        const clampHeight = tpShape\n            ? clamp(finalHeight, minWidth, maxWidth)\n            : clamp(finalHeight, minHeight, Infinity);\n        const clampX = tpShape ? finalX : finalX - (clampWidth - finalWidth) / 2;\n        const clampY = tpShape\n            ? finalY - (clampHeight - finalHeight) / 2\n            : finalY - (clampHeight - finalHeight);\n        return select(document.createElement('rect', {}))\n            .style('x', clampX)\n            .style('y', clampY)\n            .style('width', clampWidth)\n            .style('height', clampHeight)\n            .style('radius', [\n            radiusTopLeft,\n            radiusTopRight,\n            radiusBottomRight,\n            radiusBottomLeft,\n        ])\n            .call(applyStyle, rest)\n            .node();\n    }\n    // Render path in polar coordinate.\n    const { y, y1 } = value;\n    const center = coordinate.getCenter();\n    const arcObject = getArcObject(coordinate, points, [y, y1]);\n    const path = arc()\n        .cornerRadius(radius)\n        .padAngle((inset * Math.PI) / 180);\n    return select(document.createElement('path', {}))\n        .style('d', path(arcObject))\n        .style('transform', `translate(${center[0]}, ${center[1]})`)\n        .style('radius', radius)\n        .style('inset', inset)\n        .call(applyStyle, rest)\n        .node();\n}\n/**\n * Render rect in different coordinate.\n * Calc arc path based on control points directly rather startAngle, endAngle, innerRadius,\n * outerRadius. This is not accurate and will cause bug when the range of y scale is [1, 0]\n * for cell geometry.\n */\nexport const Color = (options, context) => {\n    // Render border only when colorAttribute is stroke.\n    const { colorAttribute, opacityAttribute = 'fill', first = true, last = true } = options, style = __rest(options, [\"colorAttribute\", \"opacityAttribute\", \"first\", \"last\"]);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor, radius: defaultRadius = 0 } = defaults, restDefaults = __rest(defaults, [\"color\", \"radius\"]);\n        const defaultLineWidth = restDefaults.lineWidth || 1;\n        const { stroke, radius = defaultRadius, radiusTopLeft = radius, radiusTopRight = radius, radiusBottomRight = radius, radiusBottomLeft = radius, innerRadius = 0, innerRadiusTopLeft = innerRadius, innerRadiusTopRight = innerRadius, innerRadiusBottomRight = innerRadius, innerRadiusBottomLeft = innerRadius, lineWidth = colorAttribute === 'stroke' || stroke ? defaultLineWidth : 0, inset = 0, insetLeft = inset, insetRight = inset, insetBottom = inset, insetTop = inset, minWidth, maxWidth, minHeight } = style, rest = __rest(style, [\"stroke\", \"radius\", \"radiusTopLeft\", \"radiusTopRight\", \"radiusBottomRight\", \"radiusBottomLeft\", \"innerRadius\", \"innerRadiusTopLeft\", \"innerRadiusTopRight\", \"innerRadiusBottomRight\", \"innerRadiusBottomLeft\", \"lineWidth\", \"inset\", \"insetLeft\", \"insetRight\", \"insetBottom\", \"insetTop\", \"minWidth\", \"maxWidth\", \"minHeight\"]);\n        const { color = defaultColor, opacity } = value;\n        // Extended style, which is not supported by native g shape,\n        // should apply at first.\n        const standardDirRadius = [\n            first ? radiusTopLeft : innerRadiusTopLeft,\n            first ? radiusTopRight : innerRadiusTopRight,\n            last ? radiusBottomRight : innerRadiusBottomRight,\n            last ? radiusBottomLeft : innerRadiusBottomLeft,\n        ];\n        const standardDir = [\n            'radiusTopLeft',\n            'radiusTopRight',\n            'radiusBottomRight',\n            'radiusBottomLeft',\n        ];\n        // Transpose: rotate it clockwise by 90.\n        if (isTranspose(coordinate)) {\n            standardDir.push(standardDir.shift());\n        }\n        const extendedStyle = Object.assign(Object.assign({ radius }, Object.fromEntries(standardDir.map((d, i) => [d, standardDirRadius[i]]))), { inset,\n            insetLeft,\n            insetRight,\n            insetBottom,\n            insetTop,\n            minWidth,\n            maxWidth,\n            minHeight });\n        return (select(rect(document, points, value, coordinate, extendedStyle))\n            .call(applyStyle, restDefaults)\n            .style('fill', 'transparent')\n            .style(colorAttribute, color)\n            .style(toOpacityKey(options), opacity)\n            .style('lineWidth', lineWidth)\n            .style('stroke', stroke === undefined ? color : stroke)\n            // shape.style has higher priority.\n            .call(applyStyle, rest)\n            .node());\n    };\n};\n// @todo Should Shape have default animations using for ordinal scale?\nColor.props = {\n    defaultEnterAnimation: 'scaleInY',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=color.js.map","import { Color } from './color';\n/**\n * Render rect in different coordinate and using color channel for stroke and fill attribute.\n * The stroke attribute is valid with specified lineWidth attribute which defaults to zero.\n */\nexport const Rect = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill' }, options), context);\n};\nRect.props = Object.assign(Object.assign({}, Color.props), { defaultMarker: 'square' });\n//# sourceMappingURL=rect.js.map","import { Color } from './color';\n/**\n * Render rect in different coordinate and using color channel for stroke attribute.\n */\nexport const Hollow = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke' }, options), context);\n};\nHollow.props = Object.assign(Object.assign({}, Color.props), { defaultMarker: 'hollowSquare' });\n//# sourceMappingURL=hollow.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { line, curveLinearClosed } from 'd3-shape';\nimport { isTranspose } from '../../utils/coordinate';\nimport { select } from '../../utils/selection';\nimport { applyStyle, reorder } from '../utils';\n/**\n * Adjust and return the new `points`.\n */\nfunction getFunnelPoints(points, nextPoints, coordinate) {\n    const [p0, p1, p2, p3] = points;\n    if (isTranspose(coordinate)) {\n        const newP1 = [nextPoints ? nextPoints[0][0] : p1[0], p1[1]];\n        const newP2 = [nextPoints ? nextPoints[3][0] : p2[0], p2[1]];\n        return [p0, newP1, newP2, p3];\n    }\n    const newP1 = [p1[0], nextPoints ? nextPoints[0][1] : p1[1]];\n    const newP2 = [p2[0], nextPoints ? nextPoints[3][1] : p2[1]];\n    return [p0, newP1, newP2, p3];\n}\n/**\n * Render funnel in different coordinate and using color channel for stroke and fill attribute.\n */\nexport const Funnel = (options, context) => {\n    const { adjustPoints = getFunnelPoints } = options, style = __rest(options, [\"adjustPoints\"]);\n    const { coordinate, document } = context;\n    return (points, value, defaults, point2d) => {\n        const { index } = value;\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const nextPoints = point2d[index + 1];\n        const funnelPoints = adjustPoints(points, nextPoints, coordinate);\n        const tpShape = !!isTranspose(coordinate);\n        const [p0, p1, p2, p3] = tpShape ? reorder(funnelPoints) : funnelPoints;\n        const { color = defaultColor, opacity } = value;\n        const b = line().curve(curveLinearClosed)([p0, p1, p2, p3]);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', b)\n            .style('fill', color)\n            .style('fillOpacity', opacity)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nFunnel.props = {\n    defaultMarker: 'square',\n};\n//# sourceMappingURL=funnel.js.map","import { isTranspose } from '../../utils/coordinate';\nimport { Funnel } from './funnel';\n/**\n * Adjust and return the new `points`.\n */\nfunction getPyramidPoints(points, nextPoints, coordinate) {\n    const [p0, p1, p2, p3] = points;\n    if (isTranspose(coordinate)) {\n        const newP1 = [\n            nextPoints ? nextPoints[0][0] : (p1[0] + p2[0]) / 2,\n            p1[1],\n        ];\n        const newP2 = [\n            nextPoints ? nextPoints[3][0] : (p1[0] + p2[0]) / 2,\n            p2[1],\n        ];\n        return [p0, newP1, newP2, p3];\n    }\n    const newP1 = [\n        p1[0],\n        nextPoints ? nextPoints[0][1] : (p1[1] + p2[1]) / 2,\n    ];\n    const newP2 = [\n        p2[0],\n        nextPoints ? nextPoints[3][1] : (p1[1] + p2[1]) / 2,\n    ];\n    return [p0, newP1, newP2, p3];\n}\n/**\n * Render pyramid in different coordinate and using color channel for stroke and fill attribute.\n */\nexport const Pyramid = (options, context) => {\n    return Funnel(Object.assign({ adjustPoints: getPyramidPoints }, options), context);\n};\nPyramid.props = {\n    defaultMarker: 'square',\n};\n//# sourceMappingURL=pyramid.js.map","function fillZero(digit) {\n    if (Math.abs(digit) > 10)\n        return String(digit);\n    return digit.toString().padStart(2, '0');\n}\nexport function dynamicFormatDateTime(date) {\n    const year = date.getFullYear();\n    const month = fillZero(date.getMonth() + 1);\n    const day = fillZero(date.getDate());\n    const yyyyMMDD = `${year}-${month}-${day}`;\n    const hour = date.getHours();\n    const minutes = date.getMinutes();\n    const seconds = date.getSeconds();\n    if (hour || minutes || seconds)\n        return `${yyyyMMDD} ${fillZero(hour)}:${fillZero(minutes)}:${fillZero(seconds)}`;\n    return yyyyMMDD;\n}\n//# sourceMappingURL=dateFormat.js.map","import { deepMix } from '@antv/util';\nimport { isUnset } from '../utils/helper';\nimport { dynamicFormatDateTime } from '../utils/dateFormat';\nimport { columnOf } from './utils/helper';\n/**\n * Infer title channel from x-position channel.\n */\nexport const MaybeTitle = (options = {}) => {\n    const { channel = 'x' } = options;\n    return (I, mark) => {\n        const { encode } = mark;\n        const { tooltip } = mark;\n        if (isUnset(tooltip))\n            return [I, mark];\n        const { title } = tooltip;\n        if (title !== undefined)\n            return [I, mark];\n        const titles = Object.keys(encode)\n            .filter((key) => key.startsWith(channel))\n            .filter((key) => !encode[key].inferred)\n            .map((key) => columnOf(encode, key))\n            .filter(([T]) => T)\n            .map((d) => d[0]);\n        if (titles.length === 0)\n            return [I, mark];\n        const T = [];\n        for (const i of I) {\n            T[i] = {\n                value: titles\n                    .map((t) => t[i] instanceof Date ? dynamicFormatDateTime(t[i]) : t[i])\n                    .join(', '),\n            };\n        }\n        return [\n            I,\n            deepMix({}, mark, {\n                tooltip: {\n                    title: T,\n                },\n            }),\n        ];\n    };\n};\nMaybeTitle.props = {};\n//# sourceMappingURL=maybeTitle.js.map","import { deepMix } from '@antv/util';\nimport { isUnset } from '../utils/helper';\n/**\n * Infer tooltip channel from specified channel.\n */\nexport const MaybeTooltip = (options) => {\n    const { channel } = options;\n    return (I, mark) => {\n        const { encode, tooltip } = mark;\n        if (isUnset(tooltip))\n            return [I, mark];\n        const { items = [] } = tooltip;\n        if (!items || items.length > 0)\n            return [I, mark];\n        const channels = Array.isArray(channel) ? channel : [channel];\n        const newItems = channels.flatMap((channel) => Object.keys(encode)\n            .filter((key) => key.startsWith(channel))\n            .map((key) => {\n            const { field, value, inferred = false, aggregate } = encode[key];\n            if (inferred)\n                return null;\n            // Do not show inferred column.\n            if (aggregate && value)\n                return { channel: key };\n            if (field)\n                return { field };\n            if (value)\n                return { channel: key };\n            return null;\n        })\n            .filter((d) => d !== null));\n        return [I, deepMix({}, mark, { tooltip: { items: newItems } })];\n    };\n};\nMaybeTooltip.props = {};\n//# sourceMappingURL=maybeTooltip.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { column } from './utils/helper';\n/**\n * Infer key for every element.\n */\nexport const MaybeKey = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { key } = encode, rest = __rest(encode, [\"key\"]);\n        if (key !== undefined)\n            return [I, mark];\n        const values = Object.values(rest).map(({ value }) => value);\n        const K = I.map((i) => values\n            .filter(Array.isArray)\n            .map((V) => V[i])\n            .join('-'));\n        return [I, deepMix({}, mark, { encode: { key: column(K) } })];\n    };\n};\nMaybeKey.props = {};\n//# sourceMappingURL=maybeKey.js.map","import { MaybeKey, MaybeTitle, MaybeTooltip } from '../transform';\nexport function baseChannels(options = {}) {\n    const { shapes } = options;\n    return [\n        { name: 'color' },\n        { name: 'opacity' },\n        { name: 'shape', range: shapes },\n        { name: 'enterType' },\n        { name: 'enterDelay', scaleKey: 'enter' },\n        { name: 'enterDuration', scaleKey: 'enter' },\n        { name: 'enterEasing' },\n        { name: 'key', scale: 'identity' },\n        { name: 'groupKey', scale: 'identity' },\n        { name: 'label', scale: 'identity' },\n    ];\n}\nexport function baseGeometryChannels(options = {}) {\n    return [...baseChannels(options), { name: 'title', scale: 'identity' }];\n}\nexport function tooltip3d() {\n    return [\n        { type: MaybeTitle, channel: 'color' },\n        { type: MaybeTooltip, channel: ['x', 'y', 'z'] },\n    ];\n}\nexport function tooltip2d() {\n    return [\n        { type: MaybeTitle, channel: 'color' },\n        { type: MaybeTooltip, channel: ['x', 'y'] },\n    ];\n}\nexport function tooltip1d() {\n    return [\n        { type: MaybeTitle, channel: 'x' },\n        { type: MaybeTooltip, channel: ['y'] },\n    ];\n}\nexport function tooltipXd() {\n    return [\n        { type: MaybeTitle, channel: 'color' },\n        { type: MaybeTooltip, channel: ['position'] },\n    ];\n}\nexport function baseAnnotationChannels(options = {}) {\n    return baseChannels(options);\n}\nexport function basePreInference() {\n    return [{ type: MaybeKey }];\n}\nexport function basePostInference() {\n    return [];\n}\nexport function bandWidth(scale, x) {\n    return scale.getBandWidth(scale.invert(x));\n}\nexport function createBandOffset(scale, value, options = {}) {\n    const { x: X, y: Y, series: S } = value;\n    const { x, y, series } = scale;\n    const { style: { bandOffset = series ? 0 : 0.5, bandOffsetX = bandOffset, bandOffsetY = bandOffset, } = {}, } = options;\n    const isBandX = !!(x === null || x === void 0 ? void 0 : x.getBandWidth);\n    const isBandY = !!(y === null || y === void 0 ? void 0 : y.getBandWidth);\n    const isSeries = !!(series === null || series === void 0 ? void 0 : series.getBandWidth);\n    if (!isBandX && !isBandY)\n        return (d) => d;\n    return (d, i) => {\n        const widthX = isBandX ? bandWidth(x, X[i]) : 0;\n        const widthY = isBandY ? bandWidth(y, Y[i]) : 0;\n        const f = () => (bandWidth(series, S[i]) / 2 + +S[i]) * widthX;\n        const offset = isSeries && S ? f() : 0;\n        const [x0, y0] = d;\n        return [x0 + bandOffsetX * widthX + offset, y0 + bandOffsetY * widthY];\n    };\n}\nexport function p(d) {\n    return parseFloat(d) / 100;\n}\nexport function visualMark(index, scale, value, coordinate) {\n    const { x: X, y: Y } = value;\n    const { innerWidth, innerHeight } = coordinate.getOptions();\n    const P = Array.from(index, (i) => {\n        const x0 = X[i];\n        const y0 = Y[i];\n        const x = typeof x0 === 'string' ? p(x0) * innerWidth : +x0;\n        const y = typeof y0 === 'string' ? p(y0) * innerHeight : +y0;\n        return [[x, y]];\n    });\n    return [index, P];\n}\nexport function field(encode) {\n    return typeof encode === 'function' ? encode : (d) => d[encode];\n}\nexport function valueof(data, encode) {\n    return Array.from(data, field(encode));\n}\nexport function initializeData(data, encode) {\n    const { source = (d) => d.source, target = (d) => d.target, value = (d) => d.value, } = encode;\n    const { links, nodes } = data;\n    const LS = valueof(links, source);\n    const LT = valueof(links, target);\n    const LV = valueof(links, value);\n    return {\n        links: links.map((_, i) => ({\n            target: LT[i],\n            source: LS[i],\n            value: LV[i],\n        })),\n        nodes: nodes || Array.from(new Set([...LS, ...LT]), (key) => ({ key })),\n    };\n}\n//# sourceMappingURL=utils.js.map","import { MaybeZeroY1, MaybeZeroX } from '../transform';\nimport { IntervalShape, IntervalHollow, IntervalFunnel, IntervalPyramid, } from '../shape';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip1d, } from './utils';\nfunction bandWidth(scale, x) {\n    return scale.getBandWidth(scale.invert(x));\n}\nconst shape = {\n    rect: IntervalShape,\n    hollow: IntervalHollow,\n    funnel: IntervalFunnel,\n    pyramid: IntervalPyramid,\n};\n/**\n * Convert value for each channel to rect shapes.\n * p0        p1\n *    ┌────┐\n *    │    │\n *    │    │\n * p3 └────┘ p2\n */\nexport const Interval = () => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y, y1: Y1, series: S, size: SZ } = value;\n        // Calc width for each interval.\n        // The scales for x and series channels must be band scale.\n        const x = scale.x;\n        const series = scale.series;\n        const [width] = coordinate.getSize();\n        const NSZ = SZ ? SZ.map((d) => +d / width) : null;\n        const x1x2 = !SZ\n            ? (x, w, i) => [x, x + w]\n            : (x, w, i) => {\n                const mx = x + w / 2;\n                const s = NSZ[i];\n                return [mx - s / 2, mx + s / 2];\n            };\n        // Calc the points of bounding box for the interval.\n        // They are start from left-top corner in clock wise order.\n        const P = Array.from(index, (i) => {\n            const groupWidth = bandWidth(x, X[i]);\n            const ratio = series ? bandWidth(series, S === null || S === void 0 ? void 0 : S[i]) : 1;\n            const width = groupWidth * ratio;\n            const offset = (+(S === null || S === void 0 ? void 0 : S[i]) || 0) * groupWidth;\n            const x0 = +X[i] + offset;\n            const [x1, x2] = x1x2(x0, width, i);\n            const y1 = +Y[i];\n            const y2 = +Y1[i];\n            const p1 = [x1, y1];\n            const p2 = [x2, y1];\n            const p3 = [x2, y2];\n            const p4 = [x1, y2];\n            return [p1, p2, p3, p4].map((d) => coordinate.map(d));\n        });\n        return [index, P];\n    };\n};\nInterval.props = {\n    defaultShape: 'rect',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', scale: 'band', required: true },\n        { name: 'y', required: true },\n        { name: 'series', scale: 'band' },\n        { name: 'size' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeZeroY1 },\n        { type: MaybeZeroX },\n    ],\n    postInference: [...basePostInference(), ...tooltip1d()],\n    interaction: { shareTooltip: true },\n};\n//# sourceMappingURL=interval.js.map","import { RectShape, RectHollow } from '../shape';\nimport { MaybeZeroY1 } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip1d, } from './utils';\nconst shape = {\n    rect: RectShape,\n    hollow: RectHollow,\n};\nexport const Rect = () => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, x1: X1, y: Y, y1: Y1 } = value;\n        const P = Array.from(index, (i) => {\n            const p1 = [+X[i], +Y[i]];\n            const p2 = [+X1[i], +Y[i]];\n            const p3 = [+X1[i], +Y1[i]];\n            const p4 = [+X[i], +Y1[i]];\n            return [p1, p2, p3, p4].map((d) => coordinate.map(d));\n        });\n        return [index, P];\n    };\n};\nRect.props = {\n    defaultShape: 'rect',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n    ],\n    preInference: [...basePreInference(), { type: MaybeZeroY1 }],\n    postInference: [...basePostInference(), ...tooltip1d()],\n    interaction: {\n        shareTooltip: true,\n    },\n};\n//# sourceMappingURL=rect.js.map","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import { CustomElement } from '@antv/g';\nexport function createElement(descriptor) {\n    const render = typeof descriptor === 'function' ? descriptor : descriptor.render;\n    return class extends CustomElement {\n        connectedCallback() {\n            this.draw();\n        }\n        attributeChangedCallback() {\n            this.draw();\n        }\n        draw() {\n            render(this);\n        }\n    };\n}\n//# sourceMappingURL=createElement.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { line, lineRadial } from 'd3-shape';\nimport { isPolar, isTranspose } from '../../utils/coordinate';\nimport { select } from '../../utils/selection';\nimport { applyStyle, computeGradient, getTransform } from '../utils';\nimport { createElement } from '../../utils/createElement';\nimport { subObject } from '../../utils/helper';\nimport { angleWithQuadrant, dist, sub } from '../../utils/vector';\nconst DoublePath = createElement((g) => {\n    const { d1, d2, style1, style2 } = g.attributes;\n    const document = g.ownerDocument;\n    select(g)\n        .maybeAppend('line', () => document.createElement('path', {}))\n        .style('d', d1)\n        .call(applyStyle, style1);\n    select(g)\n        .maybeAppend('line1', () => document.createElement('path', {}))\n        .style('d', d2)\n        .call(applyStyle, style2);\n});\n/**\n * Given a points sequence, split it into an array of defined points\n * and an array of undefined segments.\n *\n * Input - [[1, 2], [3, 4], [null, null], [null, null], [5, 6], [null, null], [7, 8]]\n * Output\n *  - [[1, 2], [3, 4], [5, 6], [7, 8]]\n *  - [\n *      [[3, 4], [5, 6]],\n *      [[5, 6], [7, 8]]\n *    ]\n */\nfunction segmentation(points, defined) {\n    const definedPoints = [];\n    const segments = [];\n    let m = false; // Is in a undefined sequence.\n    let dp = null; // The previous defined point.\n    for (const p of points) {\n        // If current point is a undefined point,\n        // enter a undefined sequence.\n        if (!defined(p[0]) || !defined(p[1]))\n            m = true;\n        else {\n            definedPoints.push(p);\n            // If current point is a defined point,\n            // and is in a undefined sequence, save\n            // the two closest defined points as this\n            // undefined sequence and exit it.\n            if (m) {\n                m = false;\n                segments.push([dp, p]);\n            }\n            // Update the previous defined point.\n            dp = p;\n        }\n    }\n    return [definedPoints, segments];\n}\nexport const Curve = (options, context) => {\n    const { curve, gradient = false, \n    // The color for each segment.\n    gradientColor = 'between', defined = (d) => !Number.isNaN(d) && d !== undefined && d !== null, connect: connectNulls = false } = options, style = __rest(options, [\"curve\", \"gradient\", \"gradientColor\", \"defined\", \"connect\"]);\n    const { coordinate, document } = context;\n    return (P, value, defaults) => {\n        // Compute styles.\n        const { color: defaultColor, lineWidth: defaultSize } = defaults, rest = __rest(defaults, [\"color\", \"lineWidth\"]);\n        const { color = defaultColor, size = defaultSize, seriesColor: sc, seriesX: sx, seriesY: sy, } = value;\n        const transform = getTransform(coordinate, value);\n        const tpShape = isTranspose(coordinate);\n        const stroke = gradient && sc\n            ? computeGradient(sc, sx, sy, gradient, gradientColor, tpShape)\n            : color;\n        const finalStyle = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, rest), (stroke && { stroke })), (size && { lineWidth: size })), (transform && { transform })), style);\n        // Compute points and segments.\n        let linePath;\n        if (isPolar(coordinate)) {\n            const center = coordinate.getCenter();\n            linePath = (points) => lineRadial()\n                .angle((_, idx) => angleWithQuadrant(sub(points[idx], center)))\n                .radius((_, idx) => dist(points[idx], center))\n                .defined(([x, y]) => defined(x) && defined(y))\n                .curve(curve)(points);\n        }\n        else {\n            linePath = line()\n                .x((d) => d[0])\n                .y((d) => d[1])\n                .defined(([x, y]) => defined(x) && defined(y))\n                .curve(curve);\n        }\n        const [DP, MS] = segmentation(P, defined);\n        const connectStyle = subObject(finalStyle, 'connect');\n        const missing = !!MS.length;\n        // Draw one path of connected defined points.\n        if (!missing || (connectNulls && !Object.keys(connectStyle).length)) {\n            return select(document.createElement('path', {}))\n                .style('d', linePath(DP) || [])\n                .call(applyStyle, finalStyle)\n                .node();\n        }\n        // Draw one path of unconnected defined points.\n        if (missing && !connectNulls) {\n            return select(document.createElement('path', {}))\n                .style('d', linePath(P))\n                .call(applyStyle, finalStyle)\n                .node();\n        }\n        // Draw two path.\n        // One for unconnected defined points.\n        // One for connected segments.\n        const connectPath = (segments) => segments.map(linePath).join(',');\n        return select(new DoublePath())\n            .style('style1', Object.assign(Object.assign({}, finalStyle), connectStyle))\n            .style('style2', finalStyle)\n            .style('d1', connectPath(MS))\n            .style('d2', linePath(P))\n            .node();\n    };\n};\nCurve.props = {\n    defaultMarker: 'smooth',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=curve.js.map","import { curveLinear, curveLinearClosed } from 'd3-shape';\nimport { isPolar } from '../../utils/coordinate';\nimport { Curve } from './curve';\nexport const Line = (options, context) => {\n    const { coordinate } = context;\n    return (...params) => {\n        const curve = isPolar(coordinate) ? curveLinearClosed : curveLinear;\n        return Curve(Object.assign({ curve }, options), context)(...params);\n    };\n};\nLine.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'line' });\n//# sourceMappingURL=line.js.map","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { curveMonotoneX, curveMonotoneY, curveCatmullRomClosed, } from 'd3-shape';\nimport { isPolar, isTranspose } from '../../utils/coordinate';\nimport { Curve } from './curve';\nexport const Smooth = (options, context) => {\n    const rest = __rest(options, []);\n    const { coordinate } = context;\n    return (...params) => {\n        const curve = isPolar(coordinate)\n            ? curveCatmullRomClosed\n            : isTranspose(coordinate)\n                ? curveMonotoneY\n                : curveMonotoneX;\n        return Curve(Object.assign({ curve }, rest), context)(...params);\n    };\n};\nSmooth.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'smooth' });\n//# sourceMappingURL=smooth.js.map","import { curveStepAfter } from 'd3-shape';\nimport { Curve } from './curve';\nexport const HV = (options, context) => {\n    return Curve(Object.assign({ curve: curveStepAfter }, options), context);\n};\nHV.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'hv' });\n//# sourceMappingURL=hv.js.map","import { curveStepBefore } from 'd3-shape';\nimport { Curve } from './curve';\nexport const VH = (options, context) => {\n    return Curve(Object.assign({ curve: curveStepBefore }, options), context);\n};\nVH.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'vh' });\n//# sourceMappingURL=vh.js.map","import { curveStep } from 'd3-shape';\nimport { Curve } from './curve';\nexport const HVH = (options, context) => {\n    return Curve(Object.assign({ curve: curveStep }, options), context);\n};\nHVH.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'hvh' });\n//# sourceMappingURL=hvh.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from 'd3-path';\nimport { select } from '../../utils/selection';\nimport { applyStyle } from '../utils';\nimport { angle, sub, add } from '../../utils/vector';\nimport { defined } from '../../utils/helper';\nimport { Curve } from './curve';\n/**\n *\n * x9-x0---------x1-x2\n * /   |r1        |r2 \\\n *x8---p0---------p1---x3\n * \\ r4|          | r3 /\n *  x7-x6--------x5-x4\n */\nfunction stroke(path, p0, p1, s0, s1) {\n    const v = sub(p1, p0);\n    const a = angle(v);\n    const a1 = a + Math.PI / 2;\n    const r1 = [(s0 / 2) * Math.cos(a1), (s0 / 2) * Math.sin(a1)];\n    const r2 = [(s1 / 2) * Math.cos(a1), (s1 / 2) * Math.sin(a1)];\n    const r3 = [(s1 / 2) * Math.cos(a), (s1 / 2) * Math.sin(a)];\n    const r4 = [(s0 / 2) * Math.cos(a), (s0 / 2) * Math.sin(a)];\n    const x0 = add(p0, r1);\n    const x1 = add(p1, r2);\n    const x2 = add(x1, r3);\n    const x3 = add(p1, r3);\n    const x4 = sub(x3, r2);\n    const x5 = sub(p1, r2);\n    const x6 = sub(p0, r1);\n    const x7 = sub(x6, r4);\n    const x8 = sub(p0, r4);\n    const x9 = sub(x0, r4);\n    path.moveTo(...x0);\n    path.lineTo(...x1);\n    path.arcTo(...x2, ...x3, s1 / 2);\n    path.arcTo(...x4, ...x5, s1 / 2);\n    path.lineTo(...x6);\n    path.arcTo(...x7, ...x8, s0 / 2);\n    path.arcTo(...x9, ...x0, s0 / 2);\n    path.closePath();\n}\n// @todo Support connect and connectStyle.\nexport const Trail = (options, context) => {\n    const { document } = context;\n    return (P, value, defaults) => {\n        const { seriesSize, color } = value;\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const path = d3path();\n        for (let i = 0; i < P.length - 1; i++) {\n            const p0 = P[i];\n            const p1 = P[i + 1];\n            const s0 = seriesSize[i];\n            const s1 = seriesSize[i + 1];\n            if ([...p0, ...p1].every(defined))\n                stroke(path, p0, p1, s0, s1);\n        }\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('fill', color || defaultColor)\n            .style('d', path.toString())\n            .call(applyStyle, options)\n            .node();\n    };\n};\nTrail.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'line' });\n//# sourceMappingURL=trail.js.map","import { deepMix } from '@antv/util';\nimport { constant, visualColumn } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeGradient = () => {\n    return (I, mark) => {\n        const { style = {}, encode } = mark;\n        const { series } = encode;\n        const { gradient } = style;\n        if (!gradient || series)\n            return [I, mark];\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: {\n                    series: visualColumn(constant(I, undefined)),\n                },\n            }),\n        ];\n    };\n};\nMaybeGradient.props = {};\n//# sourceMappingURL=maybeGradient.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\n/**\n * Assume color channel is series channel.\n */\nexport const MaybeSeries = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { series, color } = encode;\n        if (series !== undefined || color === undefined)\n            return [I, mark];\n        const [C, fc] = columnOf(encode, 'color');\n        return [I, deepMix({}, mark, { encode: { series: column(C, fc) } })];\n    };\n};\nMaybeSeries.props = {};\n//# sourceMappingURL=maybeSeries.js.map","import { group } from 'd3-array';\nimport { isParallel } from '../utils/coordinate';\nimport { LineShape, LineHV, LineVH, LineHVH, LineTrail, LineSmooth, } from '../shape';\nimport { MaybeSeries, MaybeGradient } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip1d, tooltipXd, } from './utils';\nconst shape = {\n    line: LineShape,\n    smooth: LineSmooth,\n    hv: LineHV,\n    vh: LineVH,\n    hvh: LineHVH,\n    trail: LineTrail,\n};\nconst line = (index, scale, value, coordinate) => {\n    var _a, _b;\n    const { series: S, x: X, y: Y } = value;\n    const { x, y } = scale;\n    // Because x and y channel is not strictly required in Line.props,\n    // it should throw error with empty x or y channels.\n    if (X === undefined || Y === undefined) {\n        throw new Error('Missing encode for x or y channel.');\n    }\n    // Group data into series.\n    // There is only one series without specified series encode.\n    const series = S ? Array.from(group(index, (i) => S[i]).values()) : [index];\n    const I = series.map((group) => group[0]).filter((i) => i !== undefined);\n    // A group of data corresponds to one line.\n    const xoffset = (((_a = x === null || x === void 0 ? void 0 : x.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(x)) || 0) / 2;\n    const yoffset = (((_b = y === null || y === void 0 ? void 0 : y.getBandWidth) === null || _b === void 0 ? void 0 : _b.call(y)) || 0) / 2;\n    const P = Array.from(series, (I) => {\n        return I.map((i) => coordinate.map([+X[i] + xoffset, +Y[i] + yoffset]));\n    });\n    return [I, P, series];\n};\nconst parallel = (index, scale, value, coordinate) => {\n    // Extract all value for position[number] channels.\n    const PV = Object.entries(value)\n        .filter(([key]) => key.startsWith('position'))\n        .map(([, value]) => value);\n    // Because position channel is not strictly required in Line.props,\n    // it should throw error with empty position values.\n    if (PV.length === 0) {\n        throw new Error('Missing encode for position channel.');\n    }\n    // One data corresponds to one line.\n    const P = Array.from(index, (i) => {\n        // Transform high dimension vector to a list of two-dimension vectors.\n        // [a, b, c] -> [d, e, f, g, h, i]\n        const vector = PV.map((pv) => +pv[i]);\n        const vectors = coordinate.map(vector);\n        // Two-dimension vectors are stored in a flat array, so extract them.\n        // [d, e, f, g, h, i] -> [d, e], [f, g], [h, i]\n        const points = [];\n        for (let i = 0; i < vectors.length; i += 2) {\n            points.push([vectors[i], vectors[i + 1]]);\n        }\n        return points;\n    });\n    return [index, P];\n};\n/**\n * Convert value for each channel to line shapes.\n */\nexport const Line = () => {\n    return (index, scale, value, coordinate) => {\n        const mark = isParallel(coordinate) ? parallel : line;\n        return mark(index, scale, value, coordinate);\n    };\n};\nLine.props = {\n    defaultShape: 'line',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x' },\n        { name: 'y' },\n        { name: 'position', independent: true },\n        { name: 'size' },\n        { name: 'series', scale: 'band' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        // !!!Note This order is very important.\n        { type: MaybeGradient },\n        { type: MaybeSeries },\n    ],\n    postInference: [...basePostInference(), ...tooltip1d(), ...tooltipXd()],\n    interaction: {\n        shareTooltip: true,\n        seriesTooltip: true,\n        crosshairs: true,\n    },\n};\n//# sourceMappingURL=line.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Path } from '@antv/g';\nconst point = (x, y, r) => {\n    return [\n        ['M', x - r, y],\n        ['A', r, r, 0, 1, 0, x + r, y],\n        ['A', r, r, 0, 1, 0, x - r, y],\n        ['Z'],\n    ];\n};\npoint.style = ['fill'];\nconst hollowPoint = point.bind(undefined);\nhollowPoint.style = ['stroke', 'lineWidth'];\nconst square = (x, y, r) => {\n    return [\n        ['M', x - r, y - r],\n        ['L', x + r, y - r],\n        ['L', x + r, y + r],\n        ['L', x - r, y + r],\n        ['Z'],\n    ];\n};\nsquare.style = ['fill'];\nconst rect = square.bind(undefined);\nrect.style = ['fill'];\nconst hollowSquare = square.bind(undefined);\nhollowSquare.style = ['stroke', 'lineWidth'];\nconst diamond = (x, y, r) => {\n    const hr = r * 0.618;\n    return [\n        ['M', x - hr, y],\n        ['L', x, y - r],\n        ['L', x + hr, y],\n        ['L', x, y + r],\n        ['Z'],\n    ];\n};\ndiamond.style = ['fill'];\nconst hollowDiamond = diamond.bind(undefined);\nhollowDiamond.style = ['stroke', 'lineWidth'];\nconst triangle = (x, y, r) => {\n    const diffY = r * Math.sin((1 / 3) * Math.PI);\n    return [\n        ['M', x - r, y + diffY],\n        ['L', x, y - diffY],\n        ['L', x + r, y + diffY],\n        ['Z'],\n    ];\n};\ntriangle.style = ['fill'];\nconst hollowTriangle = triangle.bind(undefined);\nhollowTriangle.style = ['stroke', 'lineWidth'];\nconst triangleDown = (x, y, r) => {\n    const diffY = r * Math.sin((1 / 3) * Math.PI);\n    return [\n        ['M', x - r, y - diffY],\n        ['L', x + r, y - diffY],\n        ['L', x, y + diffY],\n        ['Z'],\n    ];\n};\ntriangleDown.style = ['fill'];\nconst hollowTriangleDown = triangleDown.bind(undefined);\nhollowTriangleDown.style = ['stroke', 'lineWidth'];\nconst hexagon = (x, y, r) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n        ['M', x, y - r],\n        ['L', x + diffX, y - r / 2],\n        ['L', x + diffX, y + r / 2],\n        ['L', x, y + r],\n        ['L', x - diffX, y + r / 2],\n        ['L', x - diffX, y - r / 2],\n        ['Z'],\n    ];\n};\nhexagon.style = ['fill'];\nconst hollowHexagon = hexagon.bind(undefined);\nhollowHexagon.style = ['stroke', 'lineWidth'];\nconst bowtie = (x, y, r) => {\n    const diffY = r - 1.5;\n    return [\n        ['M', x - r, y - diffY],\n        ['L', x + r, y + diffY],\n        ['L', x + r, y - diffY],\n        ['L', x - r, y + diffY],\n        ['Z'],\n    ];\n};\nbowtie.style = ['fill'];\nconst hollowBowtie = bowtie.bind(undefined);\nhollowBowtie.style = ['stroke', 'lineWidth'];\nconst line = (x, y, r) => {\n    return [\n        ['M', x, y + r],\n        ['L', x, y - r],\n    ];\n};\nline.style = ['stroke', 'lineWidth'];\nconst cross = (x, y, r) => {\n    return [\n        ['M', x - r, y - r],\n        ['L', x + r, y + r],\n        ['M', x + r, y - r],\n        ['L', x - r, y + r],\n    ];\n};\ncross.style = ['stroke', 'lineWidth'];\nconst tick = (x, y, r) => {\n    return [\n        ['M', x - r / 2, y - r],\n        ['L', x + r / 2, y - r],\n        ['M', x, y - r],\n        ['L', x, y + r],\n        ['M', x - r / 2, y + r],\n        ['L', x + r / 2, y + r],\n    ];\n};\ntick.style = ['stroke', 'lineWidth'];\nconst plus = (x, y, r) => {\n    return [\n        ['M', x - r, y],\n        ['L', x + r, y],\n        ['M', x, y - r],\n        ['L', x, y + r],\n    ];\n};\nplus.style = ['stroke', 'lineWidth'];\nconst hyphen = (x, y, r) => {\n    return [\n        ['M', x - r, y],\n        ['L', x + r, y],\n    ];\n};\nhyphen.style = ['stroke', 'lineWidth'];\nconst dot = (x, y, r) => {\n    return [\n        ['M', x - r, y],\n        ['L', x + r, y],\n    ];\n};\ndot.style = ['stroke', 'lineWidth'];\nconst dash = dot.bind(undefined);\ndash.style = ['stroke', 'lineWidth'];\nconst smooth = (x, y, r) => {\n    return [\n        ['M', x - r, y],\n        ['A', r / 2, r / 2, 0, 1, 1, x, y],\n        ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n};\nsmooth.style = ['stroke', 'lineWidth'];\nconst hv = (x, y, r) => {\n    return [\n        ['M', x - r - 1, y - 2.5],\n        ['L', x, y - 2.5],\n        ['L', x, y + 2.5],\n        ['L', x + r + 1, y + 2.5],\n    ];\n};\nhv.style = ['stroke', 'lineWidth'];\nconst vh = (x, y, r) => {\n    return [\n        ['M', x - r - 1, y + 2.5],\n        ['L', x, y + 2.5],\n        ['L', x, y - 2.5],\n        ['L', x + r + 1, y - 2.5],\n    ];\n};\nvh.style = ['stroke', 'lineWidth'];\nconst hvh = (x, y, r) => {\n    return [\n        ['M', x - (r + 1), y + 2.5],\n        ['L', x - r / 2, y + 2.5],\n        ['L', x - r / 2, y - 2.5],\n        ['L', x + r / 2, y - 2.5],\n        ['L', x + r / 2, y + 2.5],\n        ['L', x + r + 1, y + 2.5],\n    ];\n};\nhvh.style = ['stroke', 'lineWidth'];\nconst vhv = (x, y, r) => {\n    return [\n        ['M', x - 5, y + 2.5],\n        ['L', x - 5, y],\n        ['L', x, y],\n        ['L', x, y - 3],\n        ['L', x, y + 3],\n        ['L', x + 6.5, y + 3],\n    ];\n};\nvhv.style = ['stroke', 'lineWidth'];\nexport const Symbols = new Map([\n    ['bowtie', bowtie],\n    ['cross', cross],\n    ['dash', dash],\n    ['diamond', diamond],\n    ['dot', dot],\n    ['hexagon', hexagon],\n    ['hollowBowtie', hollowBowtie],\n    ['hollowDiamond', hollowDiamond],\n    ['hollowHexagon', hollowHexagon],\n    ['hollowPoint', hollowPoint],\n    ['hollowSquare', hollowSquare],\n    ['hollowTriangle', hollowTriangle],\n    ['hollowTriangleDown', hollowTriangleDown],\n    ['hv', hv],\n    ['hvh', hvh],\n    ['hyphen', hyphen],\n    ['line', line],\n    ['plus', plus],\n    ['point', point],\n    ['rect', rect],\n    ['smooth', smooth],\n    ['square', square],\n    ['tick', tick],\n    ['triangleDown', triangleDown],\n    ['triangle', triangle],\n    ['vh', vh],\n    ['vhv', vhv],\n]);\nexport function useMarker(type, _a) {\n    var { d, fill, lineWidth, path, stroke, color } = _a, style = __rest(_a, [\"d\", \"fill\", \"lineWidth\", \"path\", \"stroke\", \"color\"]);\n    const symbol = Symbols.get(type) || Symbols.get('point');\n    return (...args) => {\n        const path = new Path({\n            style: Object.assign(Object.assign({}, style), { d: symbol(...args), stroke: symbol.style.includes('stroke') ? color || stroke : '', fill: symbol.style.includes('fill') ? color || fill : '', lineWidth: symbol.style.includes('lineWidth')\n                    ? lineWidth || lineWidth || 2\n                    : 0 }),\n        });\n        return path;\n    };\n}\nexport function registerSymbol(type, marker) {\n    Symbols.set(type, marker);\n}\nexport function unregisterSymbol(type) {\n    Symbols.delete(type);\n}\n//# sourceMappingURL=marker.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isFisheye } from '../../utils/coordinate';\nimport { Symbols } from '../../utils/marker';\nimport { select } from '../../utils/selection';\nimport { applyStyle, getOrigin, toOpacityKey } from '../utils';\nexport function getRadius(mode, points, value, coordinate) {\n    if (points.length === 1)\n        return undefined;\n    const { size } = value;\n    if (mode === 'fixed')\n        return size;\n    if (mode === 'normal' || isFisheye(coordinate)) {\n        const [[x0, y0], [x2, y2]] = points;\n        const a = Math.abs((x2 - x0) / 2);\n        const b = Math.abs((y2 - y0) / 2);\n        return Math.max(0, (a + b) / 2);\n    }\n    return size;\n}\n/**\n * Render point in different coordinate.\n */\nexport const Color = (options, context) => {\n    // Render border only when colorAttribute is stroke.\n    const { colorAttribute, symbol, mode = 'auto' } = options, style = __rest(options, [\"colorAttribute\", \"symbol\", \"mode\"]);\n    const path = Symbols.get(symbol) || Symbols.get('point');\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { lineWidth, color: defaultColor } = defaults;\n        const finalLineWidth = style.stroke ? lineWidth || 1 : lineWidth;\n        const { color = defaultColor, transform, opacity } = value;\n        const [cx, cy] = getOrigin(points);\n        const r = getRadius(mode, points, value, coordinate);\n        const finalRadius = r || style.r || defaults.r;\n        return select(document.createElement('path', {}))\n            .call(applyStyle, defaults)\n            .style('fill', 'transparent')\n            .style('d', path(cx, cy, finalRadius))\n            .style('lineWidth', finalLineWidth)\n            .style('transform', transform)\n            .style('transformOrigin', `${cx - finalRadius} ${cy - finalRadius}`)\n            .style('stroke', color)\n            .style(toOpacityKey(options), opacity)\n            .style(colorAttribute, color)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nColor.props = {\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=color.js.map","import { Color } from './color';\n/**\n * ○\n */\nexport const HollowPoint = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'point' }, options), context);\n};\nHollowPoint.props = Object.assign({ defaultMarker: 'hollowPoint' }, Color.props);\n//# sourceMappingURL=hollow.js.map","import { Color } from './color';\n/**\n * ◇\n */\nexport const HollowDiamond = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'diamond' }, options), context);\n};\nHollowDiamond.props = Object.assign({ defaultMarker: 'hollowDiamond' }, Color.props);\n//# sourceMappingURL=hollowDiamond.js.map","import { Color } from './color';\n/**\n * ⬡\n */\nexport const HollowHexagon = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'hexagon' }, options), context);\n};\nHollowHexagon.props = Object.assign({ defaultMarker: 'hollowHexagon' }, Color.props);\n//# sourceMappingURL=hollowHexagon.js.map","import { Color } from './color';\n/**\n * □\n */\nexport const HollowSquare = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'square' }, options), context);\n};\nHollowSquare.props = Object.assign({ defaultMarker: 'hollowSquare' }, Color.props);\n//# sourceMappingURL=hollowSquare.js.map","import { Color } from './color';\n/**\n * ▽\n */\nexport const HollowTriangleDown = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'triangle-down' }, options), context);\n};\nHollowTriangleDown.props = Object.assign({ defaultMarker: 'hollowTriangleDown' }, Color.props);\n//# sourceMappingURL=hollowTriangleDown.js.map","import { Color } from './color';\n/**\n * △\n */\nexport const HollowTriangle = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'triangle' }, options), context);\n};\nHollowTriangle.props = Object.assign({ defaultMarker: 'hollowTriangle' }, Color.props);\n//# sourceMappingURL=hollowTriangle.js.map","import { Color } from './color';\n/**\n * ▷◁\n */\nexport const HollowBowtie = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'bowtie' }, options), context);\n};\nHollowBowtie.props = Object.assign({ defaultMarker: 'hollowBowtie' }, Color.props);\n//# sourceMappingURL=hollowBowtie.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { select } from '../../utils/selection';\nimport { applyStyle, getOrigin, toOpacityKey } from '../utils';\nimport { getRadius } from './color';\n/**\n * Render point in different coordinate.\n */\nexport const BaseCircle = (options, context) => {\n    // Render border only when colorAttribute is stroke.\n    const { colorAttribute, mode = 'auto' } = options, style = __rest(options, [\"colorAttribute\", \"mode\"]);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { lineWidth, color: defaultColor } = defaults;\n        const finalLineWidth = style.stroke ? lineWidth || 1 : lineWidth;\n        const { color = defaultColor, transform, opacity } = value;\n        const [cx, cy] = getOrigin(points);\n        const r = getRadius(mode, points, value, coordinate);\n        const finalRadius = r || style.r || defaults.r;\n        return select(document.createElement('circle', {}))\n            .call(applyStyle, defaults)\n            .style('fill', 'transparent')\n            .style('cx', cx)\n            .style('cy', cy)\n            .style('r', finalRadius)\n            .style('lineWidth', finalLineWidth)\n            .style('transform', transform)\n            .style('transformOrigin', `${cx} ${cy}`)\n            .style('stroke', color)\n            .style(toOpacityKey(options), opacity)\n            .style(colorAttribute, color)\n            .call(applyStyle, style)\n            .node();\n    };\n};\n/**\n * ●\n */\nexport const Circle = (options, context) => {\n    return BaseCircle(Object.assign({ colorAttribute: 'fill' }, options), context);\n};\nCircle.props = {\n    defaultMarker: 'circle',\n    defaultEnterAnimation: 'fadeIn',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=circle.js.map","import { BaseCircle, Circle } from './circle';\n/**\n * ○\n */\nexport const HollowCircle = (options, context) => {\n    return BaseCircle(Object.assign({ colorAttribute: 'stroke' }, options), context);\n};\nHollowCircle.props = Object.assign({ defaultMarker: 'hollowPoint' }, Circle.props);\n//# sourceMappingURL=hollowCircle.js.map","import { Color } from './color';\n/**\n * ●\n */\nexport const Point = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'point' }, options), context);\n};\nPoint.props = Object.assign({ defaultMarker: 'point' }, Color.props);\n//# sourceMappingURL=point.js.map","import { Color } from './color';\n/**\n * +\n */\nexport const Plus = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'plus' }, options), context);\n};\nPlus.props = Object.assign({ defaultMarker: 'plus' }, Color.props);\n//# sourceMappingURL=plus.js.map","import { Color } from './color';\n/**\n * ◆\n */\nexport const Diamond = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'diamond' }, options), context);\n};\nDiamond.props = Object.assign({ defaultMarker: 'diamond' }, Color.props);\n//# sourceMappingURL=diamond.js.map","import { Color } from './color';\n/**\n * ■\n */\nexport const Square = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'square' }, options), context);\n};\nSquare.props = Object.assign({ defaultMarker: 'square' }, Color.props);\n//# sourceMappingURL=square.js.map","import { Color } from './color';\n/**\n * ▲\n */\nexport const Triangle = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'triangle' }, options), context);\n};\nTriangle.props = Object.assign({ defaultMarker: 'triangle' }, Color.props);\n//# sourceMappingURL=triangle.js.map","import { Color } from './color';\n/**\n * ⭓\n */\nexport const Hexagon = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'hexagon' }, options), context);\n};\nHexagon.props = Object.assign({ defaultMarker: 'hexagon' }, Color.props);\n//# sourceMappingURL=hexagon.js.map","import { Color } from './color';\n/**\n * ✕\n */\nexport const Cross = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'cross' }, options), context);\n};\nCross.props = Object.assign({ defaultMarker: 'cross' }, Color.props);\n//# sourceMappingURL=cross.js.map","import { Color } from './color';\n/**\n * ▶◀\n */\nexport const Bowtie = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'bowtie' }, options), context);\n};\nBowtie.props = Object.assign({ defaultMarker: 'bowtie' }, Color.props);\n//# sourceMappingURL=bowtie.js.map","import { Color } from './color';\n/**\n * -\n */\nexport const Hyphen = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'hyphen' }, options), context);\n};\nHyphen.props = Object.assign({ defaultMarker: 'hyphen' }, Color.props);\n//# sourceMappingURL=hyphen.js.map","import { Color } from './color';\n/**\n * |\n */\nexport const Line = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'line' }, options), context);\n};\nLine.props = Object.assign({ defaultMarker: 'line' }, Color.props);\n//# sourceMappingURL=line.js.map","import { Color } from './color';\n/**\n * 工\n */\nexport const Tick = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'tick' }, options), context);\n};\nTick.props = Object.assign({ defaultMarker: 'tick' }, Color.props);\n//# sourceMappingURL=tick.js.map","import { Color } from './color';\n/**\n * ▼\n */\nexport const TriangleDown = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'triangle-down' }, options), context);\n};\nTriangleDown.props = Object.assign({ defaultMarker: 'triangleDown' }, Color.props);\n//# sourceMappingURL=triangleDown.js.map","import { deepMix } from '@antv/util';\nimport { inferredColumn, constant } from './utils/helper';\n/**\n * Add zero constant encode for y channel.\n */\nexport const MaybeZeroY = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { y } = encode;\n        if (y !== undefined)\n            return [I, mark];\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: { y: inferredColumn(constant(I, 0)) },\n                scale: { y: { guide: null } },\n            }),\n        ];\n    };\n};\nMaybeZeroY.props = {};\n//# sourceMappingURL=maybeZeroY.js.map","import { deepMix } from '@antv/util';\nimport { constant, visualColumn } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeSize = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { size } = encode;\n        if (size !== undefined)\n            return [I, mark];\n        return [\n            I,\n            deepMix({}, mark, { encode: { size: visualColumn(constant(I, 3)) } }),\n        ];\n    };\n};\nMaybeSize.props = {};\n//# sourceMappingURL=maybeSize.js.map","import { PointBowtie, PointCross, PointDiamond, PointHexagon, PointHollowBowtie, PointHollowDiamond, PointHollowHexagon, PointHollow, PointHollowSquare, PointHollowTriangle, PointHollowTriangleDown, PointHyphen, PointLine, PointTriangleDown, PointPlus, PointSquare, PointShape, PointTick, PointTriangle, PointCircle, PointHollowCircle, } from '../shape';\nimport { MaybeZeroX, MaybeZeroY, MaybeSize } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, createBandOffset, tooltip2d, } from './utils';\nconst shape = {\n    hollow: PointHollow,\n    hollowDiamond: PointHollowDiamond,\n    hollowHexagon: PointHollowHexagon,\n    hollowSquare: PointHollowSquare,\n    hollowTriangleDown: PointHollowTriangleDown,\n    hollowTriangle: PointHollowTriangle,\n    hollowBowtie: PointHollowBowtie,\n    hollowCircle: PointHollowCircle,\n    point: PointShape,\n    plus: PointPlus,\n    diamond: PointDiamond,\n    square: PointSquare,\n    triangle: PointTriangle,\n    hexagon: PointHexagon,\n    cross: PointCross,\n    bowtie: PointBowtie,\n    hyphen: PointHyphen,\n    line: PointLine,\n    tick: PointTick,\n    triangleDown: PointTriangleDown,\n    circle: PointCircle,\n};\n/**\n * Convert value for each channel to point shapes.\n * Calc the bbox of each point based on x, y and r.\n * This is for allowing their radius can be affected by coordinate(e.g. fisheye).\n */\nexport const Point = (options) => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y, x1: X1, y1: Y1, size: S, dx: DX, dy: DY } = value;\n        const [width, height] = coordinate.getSize();\n        const offset = createBandOffset(scale, value, options);\n        const xy = (i) => {\n            const dx = +((DX === null || DX === void 0 ? void 0 : DX[i]) || 0);\n            const dy = +((DY === null || DY === void 0 ? void 0 : DY[i]) || 0);\n            const x = X1 ? (+X[i] + +X1[i]) / 2 : +X[i];\n            const y = Y1 ? (+Y[i] + +Y1[i]) / 2 : +Y[i];\n            const cx = x + dx;\n            const cy = y + dy;\n            return [cx, cy];\n        };\n        const P = S\n            ? Array.from(index, (i) => {\n                const [cx, cy] = xy(i);\n                const r = +S[i];\n                const a = r / width;\n                const b = r / height;\n                const p1 = [cx - a, cy - b];\n                const p2 = [cx + a, cy + b];\n                return [\n                    coordinate.map(offset(p1, i)),\n                    coordinate.map(offset(p2, i)),\n                ];\n            })\n            : Array.from(index, (i) => [coordinate.map(offset(xy(i), i))]);\n        return [index, P];\n    };\n};\nPoint.props = {\n    defaultShape: 'hollow',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n        { name: 'series', scale: 'band' },\n        { name: 'size', quantitative: 'sqrt' },\n        { name: 'dx', scale: 'identity' },\n        { name: 'dy', scale: 'identity' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeZeroX },\n        { type: MaybeZeroY },\n    ],\n    postInference: [...basePostInference(), { type: MaybeSize }, ...tooltip2d()],\n};\n//# sourceMappingURL=point.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isNumber } from '@antv/util';\nimport { Marker } from '@antv/component';\nimport { line } from 'd3-shape';\nimport { createElement } from '../../utils/createElement';\nimport { applyStyle } from '../utils';\nimport { subObject } from '../../utils/helper';\nimport { select } from '../../utils/selection';\nimport { dist } from '../../utils/vector';\nfunction getConnectorPoint(shape) {\n    const { min: [x0, y0], max: [x1, y1], } = shape.getLocalBounds();\n    let x = 0;\n    let y = 0;\n    if (x0 > 0)\n        x = x0;\n    if (x1 < 0)\n        x = x1;\n    if (y0 > 0)\n        y = y0;\n    if (y1 < 0)\n        y = y1;\n    return [x, y];\n}\nfunction inferBackgroundBounds(textShape, padding = []) {\n    const [top = 0, right = 0, bottom = top, left = right] = padding;\n    const container = textShape.parentNode;\n    const angle = container.getEulerAngles();\n    container.setEulerAngles(0);\n    const { min, halfExtents } = textShape.getLocalBounds();\n    const [x, y] = min;\n    const [hw, hh] = halfExtents;\n    container.setEulerAngles(angle);\n    return {\n        x: x - left,\n        y: y - top,\n        width: hw * 2 + left + right,\n        height: hh * 2 + top + bottom,\n    };\n}\nconst cos = (p0, p1, p2) => {\n    const a = dist(p0, p1);\n    const b = dist(p1, p2);\n    const c = dist(p2, p0);\n    return (Math.pow(a, 2) + Math.pow(b, 2) - Math.pow(c, 2)) / (2 * a * b);\n};\n// A path from element to label.\n// Adapted drawLabelLine from https://github.com/antvis/G2/blob/master/src/geometry/label/layout/pie/spider.ts\nfunction inferConnectorPath(shape, end, control, coordCenter, left = true, top = true) {\n    const path = (points) => line()(points);\n    if (!end[0] && !end[1])\n        return path([getConnectorPoint(shape), end]);\n    if (!control.length)\n        return path([[0, 0], end]);\n    const [inflection, start] = control;\n    const p1 = [...start];\n    const p2 = [...inflection];\n    // Label has been adjusted, so add offset to the label.\n    if (start[0] !== inflection[0]) {\n        const offset = left ? -4 : 4;\n        p1[1] = start[1];\n        // For the label in the first quadrant.\n        if (top && !left) {\n            p1[0] = Math.max(inflection[0], start[0] - offset);\n            if (start[1] < inflection[1]) {\n                p2[1] = p1[1];\n            }\n            else {\n                p2[1] = inflection[1];\n                p2[0] = Math.max(p2[0], p1[0] - offset);\n            }\n        }\n        // For the label in the second quadrant.\n        if (!top && !left) {\n            p1[0] = Math.max(inflection[0], start[0] - offset);\n            if (start[1] > inflection[1]) {\n                p2[1] = p1[1];\n            }\n            else {\n                p2[1] = inflection[1];\n                p2[0] = Math.max(p2[0], p1[0] - offset);\n            }\n        }\n        // For the label in the third quadrant.\n        if (!top && left) {\n            p1[0] = Math.min(inflection[0], start[0] - offset);\n            if (start[1] > inflection[1]) {\n                p2[1] = p1[1];\n            }\n            else {\n                p2[1] = inflection[1];\n                p2[0] = Math.min(p2[0], p1[0] - offset);\n            }\n        }\n        // For the label in the fourth quadrant.\n        if (top && left) {\n            p1[0] = Math.min(inflection[0], start[0] - offset);\n            if (start[1] < inflection[1]) {\n                p2[1] = p1[1];\n            }\n            else {\n                p2[1] = inflection[1];\n                p2[0] = Math.min(p2[0], p1[0] - offset);\n            }\n        }\n    }\n    return path([start, p1, p2, inflection, end]);\n}\nexport const Advance = createElement((g) => {\n    const _a = g.attributes, { className, \n    // Do not pass className\n    class: _c, transform, rotate, labelTransform, labelTransformOrigin, x, y, x0 = x, y0 = y, text, background, connector, startMarker, endMarker, coordCenter, innerHTML } = _a, rest = __rest(_a, [\"className\", \"class\", \"transform\", \"rotate\", \"labelTransform\", \"labelTransformOrigin\", \"x\", \"y\", \"x0\", \"y0\", \"text\", \"background\", \"connector\", \"startMarker\", \"endMarker\", \"coordCenter\", \"innerHTML\"]);\n    g.style.transform = `translate(${x}, ${y})`;\n    // Position is invalid, do not render the UI,\n    // or clear previous elements.\n    if ([x, y, x0, y0].some((v) => !isNumber(v))) {\n        g.children.forEach((d) => d.remove());\n        return;\n    }\n    const _b = subObject(rest, 'background'), { padding } = _b, backgroundStyle = __rest(_b, [\"padding\"]);\n    const _d = subObject(rest, 'connector'), { points: controlPoints = [] } = _d, connectorStyle = __rest(_d, [\"points\"]);\n    let textShape;\n    if (innerHTML) {\n        textShape = select(g)\n            .maybeAppend('html', 'html', className)\n            .style('zIndex', 0)\n            .style('innerHTML', innerHTML)\n            .call(applyStyle, Object.assign({ transform: labelTransform, transformOrigin: labelTransformOrigin }, rest))\n            .node();\n    }\n    else {\n        textShape = select(g)\n            .maybeAppend('text', 'text')\n            .style('zIndex', 0)\n            .style('text', text)\n            .call(applyStyle, Object.assign({ textBaseline: 'middle', transform: labelTransform, transformOrigin: labelTransformOrigin }, rest))\n            .node();\n    }\n    const rect = select(g)\n        .maybeAppend('background', 'rect')\n        .style('zIndex', -1)\n        .call(applyStyle, inferBackgroundBounds(textShape, padding))\n        .call(applyStyle, background ? backgroundStyle : {})\n        .node();\n    const left = +x0 < coordCenter[0];\n    const top = +y0 < coordCenter[1];\n    const end = [+x0 - +x, +y0 - +y];\n    const connectorPath = inferConnectorPath(rect, end, controlPoints, coordCenter, left, top);\n    const markerStart = startMarker &&\n        new Marker({\n            id: 'startMarker',\n            style: Object.assign({ x: 0, y: 0 }, subObject(rest, 'startMarker')),\n        });\n    const markerEnd = endMarker &&\n        new Marker({\n            id: 'endMarker',\n            style: Object.assign({ x: 0, y: 0 }, subObject(rest, 'endMarker')),\n        });\n    select(g)\n        .maybeAppend('connector', 'path')\n        .style('zIndex', 0)\n        .style('d', connectorPath)\n        .style('markerStart', markerStart)\n        .style('markerEnd', markerEnd)\n        .call(applyStyle, connector ? connectorStyle : {});\n});\n//# sourceMappingURL=advance.js.map","import { applyStyle } from '../../shape/utils';\nimport { select } from '../../utils/selection';\nimport { Advance } from './advance';\n/**\n * @todo autoRotate when in polar coordinate\n */\nexport const Text = (options, context) => {\n    const { coordinate } = context;\n    return (points, value, defaults) => {\n        const { color, text = '', fontSize, rotate = 0, transform = '' } = value;\n        const textStyle = {\n            text: String(text),\n            stroke: color,\n            fill: color,\n            fontSize,\n        };\n        const [[x0, y0]] = points;\n        return select(new Advance())\n            .style('x', x0)\n            .style('y', y0)\n            .call(applyStyle, defaults)\n            .style('transform', `${transform}rotate(${+rotate})`)\n            .style('coordCenter', coordinate.getCenter())\n            .call(applyStyle, textStyle)\n            .call(applyStyle, options)\n            .node();\n    };\n};\nText.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=text.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Marker } from '@antv/component';\nimport { createElement } from '../../utils/createElement';\nimport { subObject } from '../../utils/helper';\nimport { select } from '../../utils/selection';\nimport { applyStyle } from '../../shape/utils';\n/**\n * Get the path to draw a built-in badge, which is like a balloon.\n */\nfunction getPath(r) {\n    const offset = r / Math.sqrt(2);\n    const dy = r * Math.sqrt(2);\n    const [p0x, p0y] = [-offset, offset - dy];\n    const [p1x, p1y] = [0, 0];\n    const [p2x, p2y] = [offset, offset - dy];\n    return [\n        ['M', p0x, p0y],\n        ['A', r, r, 0, 1, 1, p2x, p2y],\n        ['L', p1x, p1y],\n        ['Z'],\n    ];\n}\nfunction inferTextPosition(shape) {\n    const { min, max } = shape.getLocalBounds();\n    return [(min[0] + max[0]) * 0.5, (min[1] + max[1]) * 0.5];\n}\nconst BadgeShape = createElement((g) => {\n    const _a = g.attributes, { class: className, x: x0, y: y0, transform } = _a, rest = __rest(_a, [\"class\", \"x\", \"y\", \"transform\"]);\n    const markerStyle = subObject(rest, 'marker');\n    const { size = 24 } = markerStyle;\n    const symbol = () => getPath(size / 2);\n    const bgShape = select(g)\n        .maybeAppend('marker', () => new Marker({}))\n        .call((selection) => selection.node().update(Object.assign({ symbol }, markerStyle)))\n        .node();\n    const [x, y] = inferTextPosition(bgShape);\n    select(g)\n        .maybeAppend('text', 'text')\n        .style('x', x)\n        .style('y', y)\n        .call(applyStyle, rest);\n});\nexport const Badge = (options, context) => {\n    const style = __rest(options, []);\n    return (points, value, defaults) => {\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor, text = '' } = value;\n        const textStyle = {\n            text: String(text),\n            stroke: color,\n            fill: color,\n        };\n        const [[x0, y0]] = points;\n        return select(new BadgeShape())\n            .call(applyStyle, rest)\n            .style('transform', `translate(${x0},${y0})`)\n            .call(applyStyle, textStyle)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nBadge.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=badge.js.map","import { Text } from '@antv/g';\nimport { applyStyle } from '../../shape/utils';\nimport { select } from '../../utils/selection';\n/**\n * @todo autoRotate when in polar coordinate\n * Tag shape for Text mark, used in wordCloud plot.\n */\nexport const Tag = (options, context) => {\n    const { coordinate } = context;\n    return (points, value, defaults) => {\n        const { color, text = '', fontSize, rotate = 0, transform = '' } = value;\n        const textStyle = {\n            text: String(text),\n            stroke: color,\n            fill: color,\n            fontSize,\n            textAlign: 'center',\n            textBaseline: 'middle',\n        };\n        const [[x0, y0]] = points;\n        const n = select(new Text())\n            .style('x', x0)\n            .style('y', y0)\n            .call(applyStyle, defaults)\n            .style('transformOrigin', 'center center')\n            .style('transform', `${transform}rotate(${rotate}deg)`)\n            .style('coordCenter', coordinate.getCenter())\n            .call(applyStyle, textStyle)\n            .call(applyStyle, options)\n            .node();\n        return n;\n    };\n};\nTag.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=tag.js.map","import { deepMix } from '@antv/util';\nimport { column, isObject } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeTuple = () => {\n    return (I, mark) => {\n        const { data } = mark;\n        if (!Array.isArray(data) || data.some(isObject))\n            return [I, mark];\n        const position = Array.isArray(data[0]) ? data : [data];\n        const X = position.map((d) => d[0]);\n        const Y = position.map((d) => d[1]);\n        return [I, deepMix({}, mark, { encode: { x: column(X), y: column(Y) } })];\n    };\n};\nMaybeTuple.props = {};\n//# sourceMappingURL=maybeTuple.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { column } from './utils/helper';\n/**\n * Set visual position with style.x and style.y.\n * The priority of style.x, style.y is higher than data.\n */\nexport const MaybeVisualPosition = () => {\n    return (I, mark) => {\n        const { data, style = {} } = mark, restMark = __rest(mark, [\"data\", \"style\"]);\n        const { x: x0, y: y0 } = style, rest = __rest(style, [\"x\", \"y\"]);\n        if (x0 == undefined || y0 == undefined)\n            return [I, mark];\n        const x = x0 || 0;\n        const y = y0 || 0;\n        return [\n            [0],\n            deepMix({}, restMark, {\n                data: [0],\n                cartesian: true,\n                encode: {\n                    x: column([x]),\n                    y: column([y]),\n                },\n                scale: {\n                    x: { type: 'identity', independent: true, guide: null },\n                    y: { type: 'identity', independent: true, guide: null }, // hide axis\n                },\n                style: rest,\n            }),\n        ];\n    };\n};\nMaybeVisualPosition.props = {};\n//# sourceMappingURL=maybeVisualPosition.js.map","import { TextShape, TextBadge, TextTag } from '../shape';\nimport { MaybeTuple, MaybeVisualPosition } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, createBandOffset, tooltip2d, visualMark, } from './utils';\nconst shape = {\n    text: TextShape,\n    badge: TextBadge,\n    tag: TextTag,\n};\nexport const Text = (options) => {\n    const { cartesian = false } = options;\n    if (cartesian)\n        return visualMark;\n    return ((index, scale, value, coordinate) => {\n        const { x: X, y: Y } = value;\n        const offset = createBandOffset(scale, value, options);\n        const P = Array.from(index, (i) => {\n            const p = [+X[i], +Y[i]];\n            return [coordinate.map(offset(p, i))];\n        });\n        return [index, P];\n    });\n};\nText.props = {\n    defaultShape: 'text',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n        { name: 'text', scale: 'identity' },\n        { name: 'fontSize', scale: 'identity' },\n        { name: 'rotate', scale: 'identity' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeTuple },\n        { type: MaybeVisualPosition },\n    ],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=text.js.map","import { deepMix } from '@antv/util';\n/**\n * Set padding of x and y scale to zero.\n */\nexport const MaybeZeroPadding = () => {\n    return (I, mark) => {\n        return [\n            I,\n            deepMix({ scale: { x: { padding: 0 }, y: { padding: 0 } } }, mark),\n        ];\n    };\n};\nMaybeZeroPadding.props = {};\n//# sourceMappingURL=maybeZeroPadding.js.map","import { CellShape, CellHollow } from '../shape';\nimport { MaybeZeroX, MaybeZeroY, MaybeZeroPadding } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip2d, } from './utils';\nconst shape = {\n    cell: CellShape,\n    hollow: CellHollow,\n};\n/**\n * Convert value for each channel to Cell shapes.\n * Calc the bbox of each Cell based on x, y and r.\n * This is for allowing their radius can be affected by coordinate(e.g. fisheye).\n */\nexport const Cell = () => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y } = value;\n        const x = scale.x;\n        const y = scale.y;\n        const P = Array.from(index, (i) => {\n            const width = x.getBandWidth(x.invert(+X[i]));\n            const height = y.getBandWidth(y.invert(+Y[i]));\n            const x1 = +X[i];\n            const y1 = +Y[i];\n            const p1 = [x1, y1];\n            const p2 = [x1 + width, y1];\n            const p3 = [x1 + width, y1 + height];\n            const p4 = [x1, y1 + height];\n            return [p1, p2, p3, p4].map((d) => coordinate.map(d));\n        });\n        return [index, P];\n    };\n};\nCell.props = {\n    defaultShape: 'cell',\n    defaultLabelShape: 'label',\n    shape,\n    composite: false,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true, scale: 'band' },\n        { name: 'y', required: true, scale: 'band' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeZeroX },\n        { type: MaybeZeroY },\n        { type: MaybeZeroPadding },\n    ],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=cell.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { area, areaRadial } from 'd3-shape';\nimport { select } from '../../utils/selection';\nimport { isPolar, isTranspose } from '../../utils/coordinate';\nimport { angleWithQuadrant, sub, dist } from '../../utils/vector';\nimport { applyStyle, computeGradient, getTransform } from '../utils';\nimport { subObject } from '../../utils/helper';\nimport { createElement } from '../../utils/createElement';\n/**\n * Given a points sequence, split it into an array of defined points\n * and an array of undefined segments.\n *\n * Input - [p0, p1, p2, p3, p4, p5], p1 ~ p2 is `Y1`, p3 ~ p5 is `Y0`.\n * Output - When all of Y1 & Y0 is defined, move into defined points, or else undefined segments.\n */\nfunction segmentation(points, defined) {\n    const definedPointsY1 = [];\n    const definedPointsY0 = [];\n    const segments = [];\n    let m = false; // Is in a undefined sequence.\n    let dp = null; // The previous defined point.\n    const mid = points.length / 2;\n    for (let i = 0; i < mid; i++) {\n        const y1 = points[i];\n        const y0 = points[i + mid];\n        // If current point is a undefined point,\n        // enter a undefined sequence.\n        if ([...y1, ...y0].some((v) => !defined(v)))\n            m = true;\n        else {\n            definedPointsY1.push(y1);\n            definedPointsY0.push(y0);\n            // If current point is a defined point,\n            // and is in a undefined sequence, save\n            // the two closest defined points as this\n            // undefined sequence and exit it.\n            if (m && dp) {\n                m = false;\n                const [dpy1, dpy0] = dp;\n                segments.push([dpy1, y1, dpy0, y0]);\n            }\n            // Update the previous defined point.\n            dp = [y1, y0];\n        }\n    }\n    return [definedPointsY1.concat(definedPointsY0), segments];\n}\nconst DoubleArea = createElement((g) => {\n    const { areaPath, connectPath, areaStyle, connectStyle } = g.attributes;\n    const document = g.ownerDocument;\n    select(g)\n        .maybeAppend('connect-path', () => document.createElement('path', {}))\n        .style('d', connectPath)\n        .call(applyStyle, connectStyle);\n    select(g)\n        .maybeAppend('area-path', () => document.createElement('path', {}))\n        .style('d', areaPath)\n        .call(applyStyle, areaStyle);\n});\nexport const Curve = (options, context) => {\n    const { curve, gradient = false, defined = (d) => !Number.isNaN(d) && d !== undefined && d !== null, connect: connectNulls = false } = options, style = __rest(options, [\"curve\", \"gradient\", \"defined\", \"connect\"]);\n    const { coordinate, document } = context;\n    return (P, value, defaults) => {\n        const { color: defaultColor } = defaults;\n        const { color = defaultColor, seriesColor: sc, seriesX: sx, seriesY: sy, } = value;\n        const tpShape = isTranspose(coordinate);\n        const transform = getTransform(coordinate, value);\n        const fill = gradient && sc\n            ? computeGradient(sc, sx, sy, gradient, undefined, tpShape)\n            : color;\n        const finalStyle = Object.assign(Object.assign(Object.assign(Object.assign({}, defaults), { stroke: fill, fill: fill }), (transform && { transform })), style);\n        const [DP, MS] = segmentation(P, defined);\n        const connectStyle = subObject(finalStyle, 'connect');\n        const missing = !!MS.length;\n        const getPathNode = (path) => {\n            return select(document.createElement('path', {}))\n                .style('d', path || '')\n                .call(applyStyle, finalStyle)\n                .node();\n        };\n        if (!isPolar(coordinate)) {\n            /**\n             * Draw area shape by points.\n             */\n            const areaPath = (points) => {\n                const Y1 = points.slice(0, points.length / 2);\n                const Y0 = points.slice(points.length / 2);\n                return tpShape\n                    ? area()\n                        .y((_, idx) => Y1[idx][1])\n                        .x1((_, idx) => Y1[idx][0])\n                        .x0((_, idx) => Y0[idx][0])\n                        .defined((_, idx) => [...Y1[idx], ...Y0[idx]].every(defined))\n                        .curve(curve)(Y1)\n                    : area()\n                        .x((_, idx) => Y1[idx][0])\n                        .y1((_, idx) => Y1[idx][1])\n                        .y0((_, idx) => Y0[idx][1])\n                        .defined((_, idx) => [...Y1[idx], ...Y0[idx]].every(defined))\n                        .curve(curve)(Y1);\n            };\n            // Draw one area of connected defined points.\n            if (!missing || (connectNulls && !Object.keys(connectStyle).length)) {\n                return getPathNode(areaPath(DP));\n            }\n            // Draw one area of unconnected defined points.\n            if (missing && !connectNulls) {\n                return getPathNode(areaPath(P));\n            }\n            // Draw two area.\n            // One for unconnected defined points.\n            // One for connected segments.\n            return select(new DoubleArea())\n                .style('areaStyle', finalStyle)\n                .style('connectStyle', Object.assign(Object.assign({}, connectStyle), style))\n                .style('areaPath', areaPath(P))\n                .style('connectPath', MS.map(areaPath).join(''))\n                .node();\n        }\n        else {\n            /**\n             * Draw areaRadial shape by points.\n             */\n            const areaRadialPath = (points) => {\n                const center = coordinate.getCenter();\n                const Y1 = points.slice(0, points.length / 2);\n                const Y0 = points.slice(points.length / 2);\n                return areaRadial()\n                    .angle((_, idx) => angleWithQuadrant(sub(Y1[idx], center)))\n                    .outerRadius((_, idx) => dist(Y1[idx], center))\n                    .innerRadius((_, idx) => dist(Y0[idx], center))\n                    .defined((_, idx) => [...Y1[idx], ...Y0[idx]].every(defined))\n                    .curve(curve)(Y0);\n            };\n            // Draw one area of connected defined points.\n            if (!missing || (connectNulls && !Object.keys(connectStyle).length)) {\n                return getPathNode(areaRadialPath(DP));\n            }\n            // Draw one area of unconnected defined points.\n            if (missing && !connectNulls) {\n                return getPathNode(areaRadialPath(P));\n            }\n            // Draw two area.\n            // One for unconnected defined points.\n            // One for connected segments.\n            return select(new DoubleArea())\n                .style('areaStyle', finalStyle)\n                .style('connectStyle', Object.assign(Object.assign({}, connectStyle), style))\n                .style('areaPath', areaRadialPath(P))\n                .style('connectPath', MS.map(areaRadialPath).join(''))\n                .node();\n        }\n    };\n};\nCurve.props = {\n    defaultMarker: 'smooth',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=curve.js.map","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","import { curveLinearClosed, curveLinear } from 'd3-shape';\nimport { isPolar } from '../../utils/coordinate';\nimport { Curve } from './curve';\nexport const Area = (options, context) => {\n    const { coordinate } = context;\n    return (...params) => {\n        const curve = isPolar(coordinate) ? curveLinearClosed : curveLinear;\n        return Curve(Object.assign({ curve: curve }, options), context)(...params);\n    };\n};\nArea.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'square' });\n//# sourceMappingURL=area.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { curveCatmullRomClosed, curveMonotoneX, curveMonotoneY, } from 'd3-shape';\nimport { isPolar, isTranspose } from '../../utils/coordinate';\nimport { Curve } from './curve';\nexport const Smooth = (options, context) => {\n    const rest = __rest(options, []);\n    const { coordinate } = context;\n    return (...params) => {\n        const curve = isPolar(coordinate)\n            ? curveCatmullRomClosed\n            : isTranspose(coordinate)\n                ? curveMonotoneY\n                : curveMonotoneX;\n        return Curve(Object.assign({ curve }, rest), context)(...params);\n    };\n};\nSmooth.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'smooth' });\n//# sourceMappingURL=smooth.js.map","import { curveStep } from 'd3-shape';\nimport { Curve } from './curve';\nexport const HVH = (options, context) => {\n    return (...params) => {\n        return Curve(Object.assign({ curve: curveStep }, options), context)(...params);\n    };\n};\nHVH.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'hvh' });\n//# sourceMappingURL=hvh.js.map","import { curveStepBefore } from 'd3-shape';\nimport { Curve } from './curve';\nexport const VH = (options, context) => {\n    return (...params) => {\n        return Curve(Object.assign({ curve: curveStepBefore }, options), context)(...params);\n    };\n};\nVH.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'vh' });\n//# sourceMappingURL=vh.js.map","import { curveStepAfter } from 'd3-shape';\nimport { Curve } from './curve';\nexport const HV = (options, context) => {\n    return (...params) => {\n        return Curve(Object.assign({ curve: curveStepAfter }, options), context)(...params);\n    };\n};\nHV.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'hv' });\n//# sourceMappingURL=hv.js.map","import { group } from 'd3-array';\nimport { AreaShape, AreaHV, AreaHVH, AreaSmooth, AreaVH } from '../shape';\nimport { MaybeSeries, MaybeZeroY1, MaybeZeroPadding } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip1d, } from './utils';\nconst shape = {\n    area: AreaShape,\n    smooth: AreaSmooth,\n    hvh: AreaHVH,\n    vh: AreaVH,\n    hv: AreaHV,\n};\n/*\n * Convert value for each channel to area shapes.\n *\n *     ▲\n *     │\n *     │                                         y2\n *     │\n *     │                     y1     xxxxxxxxxxxxx\n *     │                         xxxx            x\n *     │                      xxx                x\n *     │                    xxx                  x\n *     │        y0       xxx                     x\n *     │           xxxxxxx                       x\n *     │          x                              x\n *     │         xx                              x\n *     │         x                               x\n *     │         x                               x\n *     │         x                               x\n *     │         x                               x\n *     │         x                               x\n *     │         x                               x\n *     │         x                               x\n * ────┼─────────x───────────────────────────────x──────────────►\n *     │        y3             y4                y5\n */\nexport const Area = () => {\n    return (index, scale, value, coordinate) => {\n        var _a, _b;\n        const { x: X, y: Y, y1: Y1, series: S } = value;\n        const { x, y } = scale;\n        // Group data by series field.\n        const series = S ? Array.from(group(index, (i) => S[i]).values()) : [index];\n        const I = series.map((group) => group[0]).filter((i) => i !== undefined);\n        // A group of data corresponds to one area.\n        const xoffset = (((_a = x === null || x === void 0 ? void 0 : x.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(x)) || 0) / 2;\n        const yoffset = (((_b = y === null || y === void 0 ? void 0 : y.getBandWidth) === null || _b === void 0 ? void 0 : _b.call(y)) || 0) / 2;\n        const P = Array.from(series, (SI) => {\n            const l = SI.length;\n            const points = new Array(l * 2);\n            for (let idx = 0; idx < SI.length; idx++) {\n                const i = SI[idx];\n                points[idx] = coordinate.map([+X[i] + xoffset, +Y[i] + yoffset]); // y1\n                points[l + idx] = coordinate.map([+X[i] + xoffset, +Y1[i] + yoffset]); // y0\n            }\n            return points;\n        });\n        return [I, P, series];\n    };\n};\nArea.props = {\n    defaultShape: 'area',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n        { name: 'size' },\n        { name: 'series', scale: 'band' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeSeries },\n        { type: MaybeZeroY1 },\n        { type: MaybeZeroPadding },\n    ],\n    postInference: [...basePostInference(), ...tooltip1d()],\n    interaction: {\n        shareTooltip: true,\n        seriesTooltip: true,\n        crosshairs: true,\n    },\n};\n//# sourceMappingURL=area.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeIdentityY = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { y1 } = encode;\n        if (y1)\n            return [I, mark];\n        const [Y] = columnOf(encode, 'y');\n        return [I, deepMix({}, mark, { encode: { y1: column([...Y]) } })];\n    };\n};\nMaybeIdentityY.props = {};\n//# sourceMappingURL=maybeIdentityY.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeIdentityX = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { x1 } = encode;\n        if (x1)\n            return [I, mark];\n        const [X] = columnOf(encode, 'x');\n        return [I, deepMix({}, mark, { encode: { x1: column([...X]) } })];\n    };\n};\nMaybeIdentityX.props = {};\n//# sourceMappingURL=maybeIdentityX.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from 'd3-path';\nimport { applyStyle, arrowPoints } from '../utils';\nimport { select } from '../../utils/selection';\n/**\n * Connect 2 points with a single line with arrow.\n * ----->\n */\nexport const Vector = (options, context) => {\n    const { arrow = true, arrowSize = '40%' } = options, style = __rest(options, [\"arrow\", \"arrowSize\"]);\n    const { document } = context;\n    return (points, value, defaults) => {\n        const { defaultColor } = defaults, rest = __rest(defaults, [\"defaultColor\"]);\n        const { color = defaultColor, transform } = value;\n        const [from, to] = points;\n        // Draw line\n        const path = d3path();\n        path.moveTo(...from);\n        path.lineTo(...to);\n        // Draw 2 arrows.\n        if (arrow) {\n            // Calculate arrow end point.\n            const [arrow1, arrow2] = arrowPoints(from, to, { arrowSize });\n            path.moveTo(...arrow1);\n            path.lineTo(...to);\n            path.lineTo(...arrow2);\n        }\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', color)\n            .style('transform', transform)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nVector.props = {\n    defaultMarker: 'line',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=vector.js.map","import { Vector } from '../../shape/vector/vector';\n/**\n * Connect 2 points with a single line with arrow.\n * ----->\n */\nexport const Link = (options, context) => {\n    const { arrow = false } = options;\n    return (...params) => {\n        return Vector(Object.assign(Object.assign({}, options), { arrow }), context)(...params);\n    };\n};\nLink.props = {\n    defaultMarker: 'line',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=link.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from 'd3-path';\nimport { appendArc, applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { isPolar } from '../../utils/coordinate';\nimport { dist, mid } from '../../utils/vector';\n/**\n * Connect points for 2 points:\n * - In rect, draw half circle.\n * - In polar, draw quadratic curve.\n */\nexport const Arc = (options, context) => {\n    const style = __rest(options, []);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor, transform } = value;\n        const [from, to] = points;\n        const path = d3path();\n        path.moveTo(from[0], from[1]);\n        if (isPolar(coordinate)) {\n            const center = coordinate.getCenter();\n            path.quadraticCurveTo(center[0], center[1], to[0], to[1]);\n        }\n        else {\n            const center = mid(from, to);\n            const raduis = dist(from, to) / 2;\n            appendArc(path, from, to, center, raduis);\n        }\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', color)\n            .style('transform', transform)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nArc.props = {\n    defaultMarker: 'smooth',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=arc.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from 'd3-path';\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\n/**\n * Connect 2 points with a smooth line, used in tree.\n */\nexport const Smooth = (options, context) => {\n    const style = __rest(options, []);\n    const { document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor, transform } = value;\n        const [from, to] = points;\n        const path = d3path();\n        path.moveTo(from[0], from[1]);\n        path.bezierCurveTo(from[0] / 2 + to[0] / 2, from[1], from[0] / 2 + to[0] / 2, to[1], to[0], to[1]);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', color)\n            .style('transform', transform)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nSmooth.props = {\n    defaultMarker: 'smooth',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=smooth.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from 'd3-path';\nimport { appendArc, applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { isTranspose, isPolar } from '../../utils/coordinate';\nimport { dist } from '../../utils/vector';\n/**\n * Get vhv path in different coordinate.\n */\nfunction getVHVPath(from, to, coordinate, ratio) {\n    const path = d3path();\n    if (isPolar(coordinate)) {\n        const center = coordinate.getCenter();\n        const a = dist(from, center);\n        const b = dist(to, center);\n        const radius = (b - a) * ratio + a;\n        path.moveTo(from[0], from[1]);\n        appendArc(path, from, to, center, radius);\n        path.lineTo(to[0], to[1]);\n        return path;\n    }\n    if (isTranspose(coordinate)) {\n        path.moveTo(from[0], from[1]);\n        // VHV in x.\n        path.lineTo(from[0] + (to[0] - from[0]) * ratio, from[1]);\n        path.lineTo(from[0] + (to[0] - from[0]) * ratio, to[1]);\n        path.lineTo(to[0], to[1]);\n        return path;\n    }\n    path.moveTo(from[0], from[1]);\n    // VHV in y.\n    path.lineTo(from[0], from[1] + (to[1] - from[1]) * ratio);\n    path.lineTo(to[0], from[1] + (to[1] - from[1]) * ratio);\n    path.lineTo(to[0], to[1]);\n    return path;\n}\n/**\n * Connect 2 points with a VHV line, used in tree.\n */\nexport const VHV = (options, context) => {\n    const { cornerRatio = 1 / 3 } = options, style = __rest(options, [\"cornerRatio\"]);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { defaultColor } = defaults, rest = __rest(defaults, [\"defaultColor\"]);\n        const { color = defaultColor, transform } = value;\n        const [from, to] = points;\n        const path = getVHVPath(from, to, coordinate, cornerRatio);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', color)\n            .style('transform', transform)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nVHV.props = {\n    defaultMarker: 'vhv',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=vhv.js.map","import { MaybeIdentityX, MaybeIdentityY } from '../transform';\nimport { LinkArc, LinkShape, LinkSmooth, LinkVHV } from '../shape';\nimport { baseGeometryChannels, basePostInference, basePreInference, createBandOffset, tooltip2d, } from './utils';\nconst shape = {\n    link: LinkShape,\n    arc: LinkArc,\n    smooth: LinkSmooth,\n    vhv: LinkVHV,\n};\n/**\n * Connect `start` to `end` with single line.\n */\nexport const Link = (options) => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y, x1: X1 = X, y1: Y1 = Y } = value;\n        const offset = createBandOffset(scale, value, options);\n        const P = index.map((i) => [\n            coordinate.map(offset([+X[i], +Y[i]], i)),\n            coordinate.map(offset([+X1[i], +Y1[i]], i)),\n        ]);\n        return [index, P];\n    };\n};\nLink.props = {\n    defaultShape: 'link',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeIdentityY },\n        { type: MaybeIdentityX },\n    ],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=link.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { p } from '../../mark/utils';\nexport const Image = (options, context) => {\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor, src = '', size = 32, transform = '' } = value;\n        let { width = size, height = size } = options;\n        const [[x0, y0]] = points;\n        // Support percentage width, height.\n        const [w, h] = coordinate.getSize();\n        width = typeof width === 'string' ? p(width) * w : width;\n        height = typeof height === 'string' ? p(height) * h : height;\n        const x = x0 - Number(width) / 2;\n        const y = y0 - Number(height) / 2;\n        return select(document.createElement('image', {}))\n            .call(applyStyle, rest)\n            .style('x', x)\n            .style('y', y)\n            .style('src', src)\n            .style('stroke', color)\n            .style('transform', transform)\n            .call(applyStyle, options)\n            .style('width', width)\n            .style('height', height)\n            .node();\n    };\n};\nImage.props = {\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=image.js.map","import { MaybeTuple, MaybeVisualPosition } from '../transform';\nimport { ImageShape } from '../shape';\nimport { baseGeometryChannels, basePostInference, basePreInference, createBandOffset, tooltip2d, visualMark, } from './utils';\nconst shape = {\n    image: ImageShape,\n};\nexport const Image = (options) => {\n    const { cartesian } = options;\n    if (cartesian)\n        return visualMark;\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y } = value;\n        const offset = createBandOffset(scale, value, options);\n        const P = Array.from(index, (i) => {\n            const p = [+X[i], +Y[i]];\n            return [coordinate.map(offset(p, i))];\n        });\n        return [index, P];\n    };\n};\nImage.props = {\n    defaultShape: 'image',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n        { name: 'src', scale: 'identity' },\n        { name: 'size' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeTuple },\n        { type: MaybeVisualPosition },\n    ],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=image.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from 'd3-path';\nimport { isPolar } from '../../utils/coordinate';\nimport { applyStyle, appendPolygon, appendArc } from '../utils';\nimport { select } from '../../utils/selection';\nimport { dist } from '../../utils/vector';\nfunction getPolygonPath(points, coordinate) {\n    const path = d3path();\n    // In polar, draw arc.\n    if (isPolar(coordinate)) {\n        const center = coordinate.getCenter();\n        const closedPoints = [...points, points[0]];\n        // Calculate dist array for cache.\n        const dists = closedPoints.map((p) => dist(p, center));\n        closedPoints.forEach((curr, idx) => {\n            if (idx === 0) {\n                path.moveTo(curr[0], curr[1]);\n                return;\n            }\n            const currDist = dists[idx];\n            const prev = points[idx - 1];\n            const prevDist = dists[idx - 1];\n            // When radius is equal, draw 2 point with arc.\n            // todo: choose a minimum value.\n            if (prevDist !== undefined && Math.abs(currDist - prevDist) < 1e-10) {\n                appendArc(path, prev, curr, center, currDist);\n            }\n            else {\n                path.lineTo(curr[0], curr[1]);\n            }\n        });\n        path.closePath();\n        return path;\n    }\n    // In rect, draw polygon.\n    return appendPolygon(path, points);\n}\nexport const Polygon = (options, context) => {\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor, transform } = value;\n        const path = getPolygonPath(points, coordinate);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', color)\n            .style('fill', color)\n            .style('transform', transform)\n            .call(applyStyle, options)\n            .node();\n    };\n};\nPolygon.props = {\n    defaultMarker: 'square',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=polygon.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from 'd3-path';\nimport { appendArc, applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { isPolar } from '../../utils/coordinate';\nimport { dist } from '../../utils/vector';\nfunction getRibbonPath(points, coordinate) {\n    const [p0, p1, p2, p3] = points;\n    const path = d3path();\n    // In polar, draw shape only for Chord.\n    if (isPolar(coordinate)) {\n        const center = coordinate.getCenter();\n        const radius = dist(center, p0);\n        path.moveTo(p0[0], p0[1]);\n        // p0 -> p2\n        path.quadraticCurveTo(center[0], center[1], p2[0], p2[1]);\n        // p2 -> p3\n        appendArc(path, p2, p3, center, radius);\n        // p3 -> p1\n        path.quadraticCurveTo(center[0], center[1], p1[0], p1[1]);\n        // p1 -> p0\n        appendArc(path, p1, p0, center, radius);\n        path.closePath();\n        return path;\n    }\n    // In Rect, draw shape for Sankey.\n    path.moveTo(p0[0], p0[1]);\n    path.bezierCurveTo(p0[0] / 2 + p2[0] / 2, p0[1], p0[0] / 2 + p2[0] / 2, p2[1], p2[0], p2[1]);\n    path.lineTo(p3[0], p3[1]);\n    path.bezierCurveTo(p3[0] / 2 + p1[0] / 2, p3[1], p3[0] / 2 + p1[0] / 2, p1[1], p1[0], p1[1]);\n    path.lineTo(p0[0], p0[1]);\n    path.closePath();\n    return path;\n}\n/**\n * Connect points for 4 points:\n * - In rect, draw ribbon used in Sankey.\n * - In polar, draw arc used in Chord.\n */\nexport const Ribbon = (options, context) => {\n    const style = __rest(options, []);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor, transform } = value;\n        const path = getRibbonPath(points, coordinate);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('fill', color || defaultColor)\n            .style('stroke', color || defaultColor)\n            .style('transform', transform)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nRibbon.props = {\n    defaultMarker: 'square',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=ribbon.js.map","import { PolygonShape, PolygonRibbon } from '../shape';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip2d, } from './utils';\nconst shape = {\n    polygon: PolygonShape,\n    ribbon: PolygonRibbon,\n};\n/**\n * Convert value for each channel to polygon shapes.\n */\nexport const Polygon = () => {\n    return (index, scale, value, coordinate) => {\n        const Xn = Object.entries(value)\n            .filter(([key]) => key.startsWith('x'))\n            .map(([, value]) => value);\n        const Yn = Object.entries(value)\n            .filter(([key]) => key.startsWith('y'))\n            .map(([, value]) => value);\n        const P = index.map((i) => {\n            const Pn = [];\n            for (let j = 0; j < Xn.length; j++) {\n                const x = Xn[j][i];\n                if (x === undefined)\n                    break;\n                const y = Yn[j][i];\n                Pn.push(coordinate.map([+x, +y]));\n            }\n            return Pn;\n        });\n        return [index, P];\n    };\n};\nPolygon.props = {\n    defaultShape: 'polygon',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n    ],\n    preInference: [...basePreInference()],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=polygon.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from 'd3-path';\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { isPolar } from '../../utils/coordinate';\nimport { angle, sub, dist } from '../../utils/vector';\nfunction getPath(points, coordinate) {\n    const path = d3path();\n    if (!isPolar(coordinate)) {\n        path.moveTo(...points[0]);\n        path.lineTo(...points[1]);\n        path.moveTo(...points[2]);\n        path.lineTo(...points[3]);\n        path.moveTo(...points[4]);\n        path.lineTo(...points[5]);\n        path.lineTo(...points[6]);\n        path.lineTo(...points[7]);\n        path.closePath();\n        path.moveTo(...points[8]);\n        path.lineTo(...points[9]);\n        path.moveTo(...points[10]);\n        path.lineTo(...points[11]);\n        path.moveTo(...points[12]);\n        path.lineTo(...points[13]);\n    }\n    else {\n        // In polar coordinate.\n        const center = coordinate.getCenter();\n        const [x, y] = center;\n        const startAngle = angle(sub(points[0], center));\n        const endAngle = angle(sub(points[1], center));\n        const radiusHigh = dist(center, points[2]);\n        const radiusQ3 = dist(center, points[3]);\n        const radiusMedian = dist(center, points[8]);\n        const radiusQ1 = dist(center, points[10]);\n        const radiusLow = dist(center, points[11]);\n        path.moveTo(...points[0]);\n        path.arc(x, y, radiusHigh, startAngle, endAngle);\n        path.arc(x, y, radiusHigh, endAngle, startAngle, true);\n        path.moveTo(...points[2]);\n        path.lineTo(...points[3]);\n        path.moveTo(...points[4]);\n        path.arc(x, y, radiusQ3, startAngle, endAngle); // 4 -> 5\n        path.lineTo(...points[6]); // 5 -> 6\n        path.arc(x, y, radiusQ1, endAngle, startAngle, true); // 6 -> 7\n        path.closePath();\n        path.moveTo(...points[8]);\n        path.arc(x, y, radiusMedian, startAngle, endAngle); // 8 -> 9\n        path.arc(x, y, radiusMedian, endAngle, startAngle, true); // 9 -> 8\n        path.moveTo(...points[10]);\n        path.lineTo(...points[11]);\n        path.moveTo(...points[12]);\n        path.arc(x, y, radiusLow, startAngle, endAngle); // 12 -> 13\n        path.arc(x, y, radiusLow, endAngle, startAngle, true); // 13 -> 12\n    }\n    return path;\n}\nexport const Box = (options, context) => {\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color, transform } = value;\n        const { color: defaultColor, fill = defaultColor, stroke = defaultColor } = defaults, rest = __rest(defaults, [\"color\", \"fill\", \"stroke\"]);\n        const path = getPath(points, coordinate);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', stroke)\n            .style('fill', color || fill)\n            .style('transform', transform)\n            .call(applyStyle, options)\n            .node();\n    };\n};\nBox.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=box.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from 'd3-path';\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { isPolar } from '../../utils/coordinate';\nimport { angle, sub, dist } from '../../utils/vector';\nfunction getPath(p, coordinate, size = 4) {\n    const path = d3path();\n    if (!isPolar(coordinate)) {\n        path.moveTo(...p[2]);\n        path.lineTo(...p[3]);\n        path.lineTo(p[3][0] - size, p[3][1]);\n        path.lineTo(p[10][0] - size, p[10][1]);\n        path.lineTo(p[10][0] + size, p[10][1]);\n        path.lineTo(p[3][0] + size, p[3][1]);\n        path.lineTo(...p[3]);\n        path.closePath();\n        path.moveTo(...p[10]);\n        path.lineTo(...p[11]);\n        path.moveTo(p[3][0] + size / 2, p[8][1]);\n        path.arc(p[3][0], p[8][1], size / 2, 0, Math.PI * 2);\n        path.closePath();\n        return path;\n    }\n    const center = coordinate.getCenter();\n    const [x, y] = center;\n    const radiusQ3 = dist(center, p[3]);\n    const radiusMedian = dist(center, p[8]);\n    const radiusQ1 = dist(center, p[10]);\n    const middleAngle = angle(sub(p[2], center));\n    const rectAngle = Math.asin(size / radiusMedian);\n    const startAngle = middleAngle - rectAngle;\n    const endAngle = middleAngle + rectAngle;\n    path.moveTo(...p[2]);\n    path.lineTo(...p[3]);\n    path.moveTo(Math.cos(startAngle) * radiusQ3 + x, Math.sin(startAngle) * radiusQ3 + y);\n    path.arc(x, y, radiusQ3, startAngle, endAngle);\n    path.lineTo(Math.cos(endAngle) * radiusQ1 + x, Math.sin(endAngle) * radiusQ1 + y);\n    path.arc(x, y, radiusQ1, endAngle, startAngle, true);\n    path.lineTo(Math.cos(startAngle) * radiusQ3 + x, Math.sin(startAngle) * radiusQ3 + y);\n    path.closePath();\n    path.moveTo(...p[10]);\n    path.lineTo(...p[11]);\n    const a = (startAngle + endAngle) / 2;\n    path.moveTo(Math.cos(a) * (radiusMedian + size / 2) + x, Math.sin(a) * (radiusMedian + size / 2) + y);\n    path.arc(Math.cos(a) * radiusMedian + x, Math.sin(a) * radiusMedian + y, size / 2, a, Math.PI * 2 + a);\n    path.closePath();\n    return path;\n}\nexport const Violin = (options, context) => {\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color, transform } = value;\n        // TODO: how to setting it by size channel.\n        const size = 4;\n        const { color: defaultColor, fill = defaultColor, stroke = defaultColor } = defaults, rest = __rest(defaults, [\"color\", \"fill\", \"stroke\"]);\n        const path = getPath(points, coordinate, size);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', stroke)\n            .style('fill', color || fill)\n            .style('transform', transform)\n            .call(applyStyle, options)\n            .node();\n    };\n};\nViolin.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=violin.js.map","import { BoxShape, BoxViolin } from '../shape';\nimport { MaybeZeroX } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip1d, } from './utils';\nconst shape = {\n    box: BoxShape,\n    violin: BoxViolin,\n};\n/**\n * Convert value for each channel to box shapes.\n *\n * p0           p2          p1\n *    ──────────┬──────────\n *              │\n *              │\n *              │\n *              │\n *              │\n *              │\n *              │ p3\n * p4 ┌─────────┴──────────┐ p5\n *    │                    │\n *    │                    │\n * p8 ├────────────────────┤ p9\n *    │                    │\n *    │        p10         │\n * p7 └─────────┬──────────┘ p6\n *              │\n *              │\n *              │\n *              │\n *              │\n *              │\n *              │\n *              │\n *   ───────────┴───────────\n * p12         p11           p13\n */\nexport const Box = () => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y, y1: Y1, y2: Y2, y3: Y3, y4: Y4, series: S } = value;\n        // Calc width for each box.\n        // The scales for x and series channels must be band scale.\n        const xScale = scale.x;\n        const series = scale.series;\n        const P = Array.from(index, (i) => {\n            const groupWidth = xScale.getBandWidth(xScale.invert(+X[i]));\n            const ratio = series ? series.getBandWidth(series.invert(+(S === null || S === void 0 ? void 0 : S[i]))) : 1;\n            const width = groupWidth * ratio;\n            const offset = (+(S === null || S === void 0 ? void 0 : S[i]) || 0) * groupWidth;\n            const x = +X[i] + offset + width / 2;\n            const [low, q1, median, q3, high] = [\n                +Y[i],\n                +Y1[i],\n                +Y2[i],\n                +Y3[i],\n                +Y4[i],\n            ];\n            const P13 = [\n                [x - width / 2, high],\n                [x + width / 2, high],\n                [x, high],\n                [x, q3],\n                [x - width / 2, q3],\n                [x + width / 2, q3],\n                [x + width / 2, q1],\n                [x - width / 2, q1],\n                [x - width / 2, median],\n                [x + width / 2, median],\n                [x, q1],\n                [x, low],\n                [x - width / 2, low],\n                [x + width / 2, low],\n            ];\n            return P13.map((d) => coordinate.map(d));\n        });\n        return [index, P];\n    };\n};\nBox.props = {\n    defaultShape: 'box',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', scale: 'band', required: true },\n        { name: 'y', required: true },\n        { name: 'series', scale: 'band' },\n    ],\n    preInference: [...basePreInference(), { type: MaybeZeroX }],\n    postInference: [...basePostInference(), ...tooltip1d()],\n    interaction: {\n        shareTooltip: true,\n    },\n};\n//# sourceMappingURL=box.js.map","import { VectorShape } from '../shape';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip2d, } from './utils';\nconst shape = {\n    vector: VectorShape,\n};\n/**\n * Convert value for each channel to start, end.\n * The angle starts from the X axis(right direction).\n */\nexport const Vector = () => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y, size: S, rotate: R } = value;\n        const [width, height] = coordinate.getSize();\n        const P = index.map((i) => {\n            const angle = (+R[i] / 180) * Math.PI;\n            const s = +S[i];\n            const a = s / width;\n            const b = s / height;\n            const vx = a * Math.cos(angle);\n            const vy = -b * Math.sin(angle);\n            return [\n                coordinate.map([+X[i] - vx / 2, +Y[i] - vy / 2]),\n                coordinate.map([+X[i] + vx / 2, +Y[i] + vy / 2]),\n            ];\n        });\n        return [index, P];\n    };\n};\nVector.props = {\n    defaultShape: 'vector',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n        { name: 'rotate', required: true, scale: 'identity' },\n        { name: 'size', required: true },\n    ],\n    preInference: [...basePreInference()],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=vector.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { arc, line } from 'd3-shape';\nimport { isPolar } from '../../utils/coordinate';\nimport { select } from '../../utils/selection';\nimport { dist } from '../../utils/vector';\nimport { subObject } from '../../utils/helper';\nimport { applyStyle } from '../utils';\nfunction getArrowMarker(document, arrowSize, arrowStyle) {\n    const arrowMarker = document.createElement('path', {\n        style: Object.assign({ d: `M ${arrowSize},${arrowSize} L -${arrowSize},0 L ${arrowSize},-${arrowSize} L 0,0 Z`, transformOrigin: 'center' }, arrowStyle),\n    });\n    return arrowMarker;\n}\nfunction getPath(points, coordinate) {\n    if (!isPolar(coordinate))\n        return line()\n            .x((d) => d[0])\n            .y((d) => d[1])(points);\n    const center = coordinate.getCenter();\n    return arc()({\n        startAngle: 0,\n        endAngle: Math.PI * 2,\n        outerRadius: dist(points[0], center),\n        innerRadius: dist(points[1], center),\n    });\n}\nfunction getTransform(coordinate, transform) {\n    if (!isPolar(coordinate))\n        return transform;\n    const [cx, cy] = coordinate.getCenter();\n    return `translate(${cx}, ${cy}) ${transform || ''}`;\n}\nexport const Line = (options, context) => {\n    const { arrow, arrowSize = 4 } = options, style = __rest(options, [\"arrow\", \"arrowSize\"]);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor, lineWidth } = defaults, shapeTheme = __rest(defaults, [\"color\", \"lineWidth\"]);\n        const { color = defaultColor, size = lineWidth } = value;\n        const arrowMarker = arrow\n            ? getArrowMarker(document, arrowSize, Object.assign({ fill: style.stroke || color, stroke: style.stroke || color }, subObject(style, 'arrow')))\n            : null;\n        const path = getPath(points, coordinate);\n        const transform = getTransform(coordinate, value.transform);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, shapeTheme)\n            .style('d', path)\n            .style('stroke', color)\n            .style('lineWidth', size)\n            .style('transform', transform)\n            .style('markerEnd', arrowMarker)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nLine.props = {\n    defaultMarker: 'line',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=line.js.map","import { deepMix } from '@antv/util';\nimport { column, isObject } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeTupleX = () => {\n    return (I, mark) => {\n        const { data } = mark;\n        if (!Array.isArray(data) || data.some(isObject))\n            return [I, mark];\n        return [I, deepMix({}, mark, { encode: { x: column(data) } })];\n    };\n};\nMaybeTupleX.props = {};\n//# sourceMappingURL=maybeTupleX.js.map","import { deepMix } from '@antv/util';\nimport { LineXY } from '../shape';\nimport { MaybeTupleX } from '../transform';\nimport { basePostInference, baseAnnotationChannels, basePreInference, createBandOffset, } from './utils';\nconst shape = {\n    line: LineXY,\n};\nexport const LineX = (options) => {\n    return (index, scale, value, coordinate) => {\n        const { x: X } = value;\n        const offset = createBandOffset(scale, value, deepMix({ style: { bandOffset: 0 } }, options));\n        const P = Array.from(index, (i) => {\n            const p1 = [X[i], 1];\n            const p2 = [X[i], 0];\n            return [p1, p2].map((d) => coordinate.map(offset(d, i)));\n        });\n        return [index, P];\n    };\n};\nLineX.props = {\n    defaultShape: 'line',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n    ],\n    preInference: [...basePreInference(), { type: MaybeTupleX }],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=lineX.js.map","import { deepMix } from '@antv/util';\nimport { column, isObject } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeTupleY = () => {\n    return (I, mark) => {\n        const { data } = mark;\n        if (!Array.isArray(data) || data.some(isObject))\n            return [I, mark];\n        return [I, deepMix({}, mark, { encode: { y: column(data) } })];\n    };\n};\nMaybeTupleY.props = {};\n//# sourceMappingURL=maybeTupleY.js.map","import { deepMix } from '@antv/util';\nimport { LineXY } from '../shape';\nimport { MaybeTupleY } from '../transform';\nimport { baseAnnotationChannels, basePreInference, basePostInference, createBandOffset, } from './utils';\nconst shape = {\n    line: LineXY,\n};\nexport const LineY = (options) => {\n    return (index, scale, value, coordinate) => {\n        const { y: Y } = value;\n        const offset = createBandOffset(scale, value, deepMix({ style: { bandOffset: 0 } }, options));\n        const P = Array.from(index, (i) => {\n            const p1 = [0, Y[i]];\n            const p2 = [1, Y[i]];\n            return [p1, p2].map((d) => coordinate.map(offset(d, i)));\n        });\n        return [index, P];\n    };\n};\nLineY.props = {\n    defaultShape: 'line',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n        { name: 'y', required: true },\n    ],\n    preInference: [...basePreInference(), { type: MaybeTupleY }],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=lineY.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Path } from '@antv/g';\nimport { Marker } from '@antv/component';\nimport { line as d3line } from 'd3-shape';\nimport { isTranspose } from '../../utils/coordinate';\nimport { subObject } from '../../utils/helper';\nimport { select } from '../../utils/selection';\nimport { applyStyle } from '../utils';\nfunction inferSymbol(x, y, r) {\n    return [['M', x, y], ['L', x + 2 * r, y - r], ['L', x + 2 * r, y + r], ['Z']];\n}\n/**\n * @todo support polar later.\n */\nfunction inferConnectorPath(points) {\n    return d3line()\n        .x((d) => d[0])\n        .y((d) => d[1])(points);\n}\nfunction getPoints(coordinate, points, offset1, offset2, length1 = 0) {\n    const [[x0, y0], [x1, y1]] = points;\n    if (isTranspose(coordinate)) {\n        const X0 = x0 + offset1;\n        const X1 = x1 + offset2;\n        const X = X0 + length1;\n        return [\n            [X0, y0],\n            [X, y0],\n            [X, y1],\n            [X1, y1],\n        ];\n    }\n    const Y0 = y0 - offset1;\n    const Y1 = y1 - offset2;\n    const Y = Y0 - length1;\n    return [\n        [x0, Y0],\n        [x0, Y],\n        [x1, Y],\n        [x1, Y1],\n    ];\n}\nexport const Connector = (options, context) => {\n    const { offset = 0, offset1 = offset, offset2 = offset, connectLength1: length1, endMarker = true } = options, style = __rest(options, [\"offset\", \"offset1\", \"offset2\", \"connectLength1\", \"endMarker\"]);\n    const { coordinate } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor, connectLength1 } = defaults, rest = __rest(defaults, [\"color\", \"connectLength1\"]);\n        const { color, transform } = value;\n        const P = getPoints(coordinate, points, offset1, offset2, length1 !== null && length1 !== void 0 ? length1 : connectLength1);\n        const makerStyle = subObject(Object.assign(Object.assign({}, style), defaults), 'endMarker');\n        return select(new Path())\n            .call(applyStyle, rest)\n            .style('d', inferConnectorPath(P))\n            .style('stroke', color || defaultColor)\n            .style('transform', transform)\n            .style('markerEnd', endMarker\n            ? new Marker({\n                className: 'marker',\n                style: Object.assign(Object.assign({}, makerStyle), { symbol: inferSymbol }),\n            })\n            : null)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nConnector.props = {\n    defaultMarker: 'line',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=connector.js.map","import { ConnectorShape } from '../shape';\nimport { baseAnnotationChannels, basePostInference, basePreInference, } from './utils';\nimport { Link } from './link';\nconst shape = {\n    connector: ConnectorShape,\n};\nexport const Connector = (...args) => {\n    return Link(...args);\n};\nConnector.props = {\n    defaultShape: 'connector',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n    ],\n    preInference: [...basePreInference()],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=connector.js.map","import { RangeShape } from '../shape';\nimport { baseAnnotationChannels, basePostInference, basePreInference, } from './utils';\nfunction extend(channel, extended, value, scale) {\n    if (extended)\n        return () => [0, 1];\n    const { [channel]: C, [`${channel}1`]: C1 } = value;\n    return (i) => {\n        var _a;\n        const offset = ((_a = scale.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(scale, scale.invert(+C1[i]))) || 0;\n        return [C[i], C1[i] + offset];\n    };\n}\nexport function AbstractRange(options = {}) {\n    const { extendX = false, extendY = false } = options;\n    return (index, scale, value, coordinate) => {\n        const x = extend('x', extendX, value, scale.x);\n        const y = extend('y', extendY, value, scale.y);\n        const P = Array.from(index, (i) => {\n            const [x1, x2] = x(i);\n            const [y1, y2] = y(i);\n            const p1 = [x1, y1];\n            const p2 = [x2, y1];\n            const p3 = [x2, y2];\n            const p4 = [x1, y2];\n            return [p1, p2, p3, p4].map((d) => coordinate.map(d));\n        });\n        return [index, P];\n    };\n}\nconst shape = { range: RangeShape };\nexport const Range = () => {\n    return AbstractRange();\n};\nRange.props = {\n    defaultShape: 'range',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n    ],\n    preInference: [...basePreInference()],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=range.js.map","import { deepMix } from '@antv/util';\nimport { column, isObject } from './utils/helper';\n/**\n * Add a default encode for rangeX\n * when data is just an array\n */\nexport const MaybeDefaultX = () => {\n    return (I, mark) => {\n        const { data } = mark;\n        if (Array.isArray(data) &&\n            (data.every(Array.isArray) || !data.some(isObject))) {\n            const extractX = (data, index) => Array.isArray(data[0])\n                ? data.map((item) => item[index])\n                : [data[index]];\n            return [\n                I,\n                deepMix({}, mark, {\n                    encode: {\n                        x: column(extractX(data, 0)),\n                        x1: column(extractX(data, 1)),\n                    },\n                }),\n            ];\n        }\n        return [I, mark];\n    };\n};\nMaybeDefaultX.props = {};\n//# sourceMappingURL=maybeDefaultX.js.map","import { RangeShape } from '../shape';\nimport { MaybeDefaultX } from '../transform';\nimport { baseAnnotationChannels, basePostInference, basePreInference, } from './utils';\nimport { AbstractRange } from './range';\nconst shape = {\n    range: RangeShape,\n};\nexport const RangeX = () => {\n    return AbstractRange({ extendY: true });\n};\nRangeX.props = {\n    defaultShape: 'range',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n    ],\n    preInference: [...basePreInference(), { type: MaybeDefaultX }],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=rangeX.js.map","import { deepMix } from '@antv/util';\nimport { column, isObject } from './utils/helper';\n/**\n * Add a default encode for rangeY\n * when data is just an array\n */\nexport const MaybeDefaultY = () => {\n    return (I, mark) => {\n        const { data } = mark;\n        if (Array.isArray(data) &&\n            (data.every(Array.isArray) || !data.some(isObject))) {\n            const extractY = (data, index) => Array.isArray(data[0])\n                ? data.map((item) => item[index])\n                : [data[index]];\n            return [\n                I,\n                deepMix({}, mark, {\n                    encode: {\n                        y: column(extractY(data, 0)),\n                        y1: column(extractY(data, 1)),\n                    },\n                }),\n            ];\n        }\n        return [I, mark];\n    };\n};\nMaybeDefaultY.props = {};\n//# sourceMappingURL=maybeDefaultY.js.map","import { RangeShape } from '../shape';\nimport { MaybeDefaultY } from '../transform';\nimport { baseAnnotationChannels, basePostInference, basePreInference, } from './utils';\nimport { AbstractRange } from './range';\nconst shape = {\n    range: RangeShape,\n};\nexport const RangeY = () => {\n    return AbstractRange({ extendX: true });\n};\nRangeY.props = {\n    defaultShape: 'range',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n        { name: 'y', required: true },\n    ],\n    preInference: [...basePreInference(), { type: MaybeDefaultY }],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=rangeY.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\n/**\n * Draw a filled or hollow path.\n */\nexport const Color = (options, context) => {\n    const { arrow, colorAttribute } = options, style = __rest(options, [\"arrow\", \"colorAttribute\"]);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor, stroke } = defaults, rest = __rest(defaults, [\"color\", \"stroke\"]);\n        const { d, color = defaultColor } = value;\n        const [width, height] = coordinate.getSize();\n        return (select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            // Path support string, function with parameter { width, height }.\n            .style('d', typeof d === 'function' ? d({ width, height }) : d)\n            .style(colorAttribute, color)\n            .call(applyStyle, style)\n            .node());\n    };\n};\nColor.props = {\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=color.js.map","import { Color } from './color';\n/**\n * A filled path.\n */\nexport const Path = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill' }, options), context);\n};\nPath.props = {\n    defaultMarker: 'hvh',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=path.js.map","import { Color } from './color';\n/**\n * A hollow path.\n */\nexport const Hollow = (options, context) => {\n    return Color(Object.assign({ fill: 'none', colorAttribute: 'stroke' }, options), context);\n};\nHollow.props = {\n    defaultMarker: 'hvh',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=hollow.js.map","import { PathShape, PathHollow } from '../shape';\nimport { baseGeometryChannels, basePostInference, basePreInference, } from './utils';\nconst shape = {\n    path: PathShape,\n    hollow: PathHollow,\n};\n/**\n * Draw a path.\n */\nexport const Path = (options) => {\n    return (index, scale, value, coordinate) => {\n        // The points is meaning less for path mark,\n        // because the position of path shapes specified\n        // by the d option. So set [0, 0] for render pipeline.\n        return [index, index.map(() => [[0, 0]])];\n    };\n};\nPath.props = {\n    defaultShape: 'path',\n    defaultLabelShape: 'label',\n    shape,\n    composite: false,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'd', scale: 'identity' },\n    ],\n    preInference: [...basePreInference()],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=path.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/**\n * Draw a custom shape.\n */\nexport const Shape = (options, context) => {\n    const { render } = options, rest = __rest(options, [\"render\"]);\n    return (points) => {\n        const [[x0, y0]] = points;\n        return render(Object.assign(Object.assign({}, rest), { x: x0, y: y0 }), context);\n    };\n};\nShape.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=shape.js.map","import { deepMix } from '@antv/util';\n/**\n * Mark functional attribute constant.\n */\nexport const MaybeFunctionAttribute = () => {\n    return (I, mark) => {\n        const { style = {} } = mark;\n        return [\n            I,\n            deepMix({}, mark, {\n                style: Object.assign(Object.assign({}, style), Object.fromEntries(Object.entries(style)\n                    .filter(([, v]) => typeof v === 'function')\n                    .map(([k, v]) => [k, () => v]))),\n            }),\n        ];\n    };\n};\nMaybeFunctionAttribute.props = {};\n//# sourceMappingURL=maybeFunctionAttribute.js.map","import { ShapeShape } from '../shape';\nimport { MaybeTuple, MaybeVisualPosition, MaybeFunctionAttribute, } from '../transform';\nimport { basePreInference, createBandOffset, visualMark } from './utils';\nconst shape = {\n    shape: ShapeShape,\n};\n/**\n * @todo Unify with text, image and point.\n */\nexport const Shape = (options) => {\n    const { cartesian } = options;\n    if (cartesian)\n        return visualMark;\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y } = value;\n        const offset = createBandOffset(scale, value, options);\n        const P = Array.from(index, (i) => {\n            const p = [+X[i], +Y[i]];\n            return [coordinate.map(offset(p, i))];\n        });\n        return [index, P];\n    };\n};\nShape.props = {\n    defaultShape: 'shape',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeTuple },\n        { type: MaybeVisualPosition },\n        { type: MaybeFunctionAttribute },\n    ],\n};\n//# sourceMappingURL=shape.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from 'd3-path';\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\n/**\n * Draw density shape.\n */\nexport const Density = (options, context) => {\n    const { document } = context;\n    return (points, value, defaults) => {\n        const { transform } = value;\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor } = value;\n        const [first, ...p] = points;\n        // todo smooth, hollow\n        const path = d3path();\n        path.moveTo(...first);\n        p.forEach(([x, y]) => {\n            path.lineTo(x, y);\n        });\n        path.closePath();\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', color || defaultColor) // Always has stroke color.\n            .style('fill', color || defaultColor)\n            .style('fillOpacity', 0.4)\n            .style('transform', transform)\n            .call(applyStyle, options)\n            .node();\n    };\n};\nDensity.props = {\n    defaultMarker: 'square',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=density.js.map","import { DensityShape } from '../shape';\nimport { MaybeZeroY1, MaybeZeroX } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip1d, } from './utils';\nconst shape = {\n    density: DensityShape,\n};\nexport const Density = () => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, series: S } = value;\n        const Yn = Object.entries(value)\n            .filter(([key]) => key.startsWith('y'))\n            .map(([, value]) => value);\n        const SZn = Object.entries(value)\n            .filter(([key]) => key.startsWith('size'))\n            .map(([, value]) => value);\n        // Because x and y channel is not strictly required in Line.props,\n        // it should throw error with empty x or y channels.\n        if (X === undefined || Yn === undefined || SZn === undefined) {\n            throw new Error('Missing encode for x or y or size channel.');\n        }\n        // Calc width for each box.\n        // The scales for x and series channels must be band scale.\n        const xScale = scale.x;\n        const series = scale.series;\n        const P = Array.from(index, (i) => {\n            const groupWidth = xScale.getBandWidth(xScale.invert(+X[i]));\n            const ratio = series ? series.getBandWidth(series.invert(+(S === null || S === void 0 ? void 0 : S[i]))) : 1;\n            const width = groupWidth * ratio;\n            const offset = (+(S === null || S === void 0 ? void 0 : S[i]) || 0) * groupWidth;\n            const x = +X[i] + offset + width / 2;\n            const PN = [\n                ...Yn.map((_, idx) => [x + +SZn[idx][i] / index.length, +Yn[idx][i]]),\n                ...Yn.map((_, idx) => [\n                    x - +SZn[idx][i] / index.length,\n                    +Yn[idx][i],\n                ]).reverse(), // left\n            ];\n            return PN.map((p) => coordinate.map(p));\n        });\n        return [index, P];\n    };\n};\nDensity.props = {\n    defaultShape: 'density',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', scale: 'band', required: true },\n        { name: 'y', required: true },\n        { name: 'size', required: true },\n        { name: 'series', scale: 'band' },\n        { name: 'size', required: true, scale: 'identity' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeZeroY1 },\n        { type: MaybeZeroX },\n    ],\n    postInference: [...basePostInference(), ...tooltip1d()],\n    interaction: { shareTooltip: true },\n};\n//# sourceMappingURL=density.js.map","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function (max) {\n\tvar num, curr, prev;\n\tvar limit = max || 1;\n\n\tfunction keep(key, value) {\n\t\tif (++num > limit) {\n\t\t\tprev = curr;\n\t\t\treset(1);\n\t\t\t++num;\n\t\t}\n\t\tcurr[key] = value;\n\t}\n\n\tfunction reset(isPartial) {\n\t\tnum = 0;\n\t\tcurr = Object.create(null);\n\t\tisPartial || (prev=Object.create(null));\n\t}\n\n\treset();\n\n\treturn {\n\t\tclear: reset,\n\t\thas: function (key) {\n\t\t\treturn curr[key] !== void 0 || prev[key] !== void 0;\n\t\t},\n\t\tget: function (key) {\n\t\t\tvar val = curr[key];\n\t\t\tif (val !== void 0) return val;\n\t\t\tif ((val=prev[key]) !== void 0) {\n\t\t\t\tkeep(key, val);\n\t\t\t\treturn val;\n\t\t\t}\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (curr[key] !== void 0) {\n\t\t\t\tcurr[key] = value;\n\t\t\t} else {\n\t\t\t\tkeep(key, value);\n\t\t\t}\n\t\t}\n\t};\n}\n","import flru from 'flru';\nconst cache = flru(3);\n/**\n * A decorator to return new function with LRU cache.\n */\nexport function lru(fn, keyFn = (...args) => `${args[0]}`, maxSize = 16) {\n    const cache = flru(maxSize);\n    return (...args) => {\n        const key = keyFn(...args);\n        let v = cache.get(key);\n        if (cache.has(key))\n            return cache.get(key);\n        v = fn(...args);\n        cache.set(key, v);\n        return v;\n    };\n}\n//# sourceMappingURL=lru.js.map","import { lru } from '../../../utils/lru';\nimport { parseGradient } from './gradient';\nfunction newCanvas(createCanvas, width, height) {\n    const c = createCanvas ? createCanvas() : document.createElement('canvas');\n    c.width = width;\n    c.height = height;\n    return c;\n}\n/**\n * Get a point with template.\n * @param radius\n * @param blurFactor\n * @returns\n */\nconst getPointTemplate = lru((radius, blurFactor, createCanvas) => {\n    const tplCanvas = newCanvas(createCanvas, radius * 2, radius * 2);\n    const tplCtx = tplCanvas.getContext('2d');\n    const x = radius;\n    const y = radius;\n    if (blurFactor === 1) {\n        tplCtx.beginPath();\n        tplCtx.arc(x, y, radius, 0, 2 * Math.PI, false);\n        tplCtx.fillStyle = 'rgba(0,0,0,1)';\n        tplCtx.fill();\n    }\n    else {\n        const gradient = tplCtx.createRadialGradient(x, y, radius * blurFactor, x, y, radius);\n        gradient.addColorStop(0, 'rgba(0,0,0,1)');\n        gradient.addColorStop(1, 'rgba(0,0,0,0)');\n        tplCtx.fillStyle = gradient;\n        tplCtx.fillRect(0, 0, 2 * radius, 2 * radius);\n    }\n    return tplCanvas;\n}, (radius) => `${radius}`);\n/**\n * Get a color palette with len = 256 base on gradient.\n * @param gradientConfig\n * @returns\n */\nfunction getColorPalette(gradientConfig, createCanvas) {\n    const paletteCanvas = newCanvas(createCanvas, 256, 1);\n    const paletteCtx = paletteCanvas.getContext('2d');\n    const gradient = paletteCtx.createLinearGradient(0, 0, 256, 1);\n    parseGradient(gradientConfig).forEach(([r, c]) => {\n        gradient.addColorStop(r, c);\n    });\n    paletteCtx.fillStyle = gradient;\n    paletteCtx.fillRect(0, 0, 256, 1);\n    return paletteCtx.getImageData(0, 0, 256, 1).data;\n}\n/**\n * Draw all circle with alpha.\n */\nfunction drawAlpha(shadowCtx, min, max, data, options, createCanvas) {\n    const { blur } = options;\n    let len = data.length;\n    while (len--) {\n        const { x, y, value: v, radius } = data[len];\n        // Ff value is bigger than max, use max as value.\n        const value = Math.min(v, max);\n        const rectX = x - radius;\n        const rectY = y - radius;\n        const tpl = getPointTemplate(radius, 1 - blur, createCanvas);\n        // Value from minimum / value range, => [0, 1].\n        const templateAlpha = (value - min) / (max - min);\n        // Small values are not visible because globalAlpha < .001 cannot be read from imageData.\n        shadowCtx.globalAlpha = Math.max(templateAlpha, 0.001);\n        shadowCtx.drawImage(tpl, rectX, rectY);\n    }\n    return shadowCtx;\n}\nfunction colorize(shadowCtx, maxWidth, maxHeight, palette, options) {\n    const { minOpacity, opacity, maxOpacity, useGradientOpacity } = options;\n    const x = 0;\n    const y = 0;\n    const width = maxWidth;\n    const height = maxHeight;\n    const img = shadowCtx.getImageData(x, y, width, height);\n    const imgData = img.data;\n    const len = imgData.length;\n    for (let i = 3; i < len; i += 4) {\n        const alpha = imgData[i];\n        const offset = alpha * 4;\n        if (!offset) {\n            continue;\n        }\n        // Should be in [min, max], min >= 0.\n        const finalAlpha = opacity || Math.max(0, Math.min(maxOpacity, Math.max(minOpacity, alpha)));\n        // Update rgba.\n        imgData[i - 3] = palette[offset];\n        imgData[i - 2] = palette[offset + 1];\n        imgData[i - 1] = palette[offset + 2];\n        imgData[i] = useGradientOpacity ? palette[offset + 3] : finalAlpha;\n    }\n    return img;\n}\n/**\n * Render a heatmap with canvas.\n * See [heatmap.js](https://github.com/pa7/heatmap.js/blob/master/src/renderer/canvas2d.js).\n */\nexport function HeatmapRenderer(width, height, min, max, data, options, createCanvas) {\n    const opts = Object.assign({ blur: 0.85, minOpacity: 0, opacity: 0.6, maxOpacity: 1, gradient: [\n            [0.25, 'rgb(0,0,255)'],\n            [0.55, 'rgb(0,255,0)'],\n            [0.85, 'yellow'],\n            [1.0, 'rgb(255,0,0)'],\n        ] }, options);\n    opts.minOpacity *= 255;\n    opts.opacity *= 255;\n    opts.maxOpacity *= 255;\n    const shadowCanvas = newCanvas(createCanvas, width, height);\n    const shadowCtx = shadowCanvas.getContext('2d');\n    const palette = getColorPalette(opts.gradient, createCanvas);\n    shadowCtx.clearRect(0, 0, width, height);\n    drawAlpha(shadowCtx, min, max, data, opts, createCanvas);\n    const img = colorize(shadowCtx, width, height, palette, opts);\n    const canvas = newCanvas(createCanvas, width, height);\n    const ctx = canvas.getContext('2d');\n    ctx.putImageData(img, 0, 0);\n    return ctx;\n}\n//# sourceMappingURL=index.js.map","/**\n * Parse heatmap gradient.\n */\nexport function parseGradient(gradient) {\n    if (typeof gradient === 'string') {\n        return gradient.split(' ').map((stop) => {\n            const [r, c] = stop.split(':');\n            return [+r, c];\n        });\n    }\n    return gradient;\n}\n//# sourceMappingURL=gradient.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { max as d3max, min as d3min } from 'd3-array';\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { HeatmapRenderer } from './renderer';\nfunction deleteKey(obj, fn) {\n    return Object.keys(obj).reduce((r, k) => {\n        const v = obj[k];\n        if (!fn(v, k))\n            r[k] = v;\n        return r;\n    }, {});\n}\nexport const Heatmap = (options, context) => {\n    const { gradient, opacity, maxOpacity, minOpacity, blur, useGradientOpacity } = options, style = __rest(options, [\"gradient\", \"opacity\", \"maxOpacity\", \"minOpacity\", \"blur\", \"useGradientOpacity\"]);\n    const { coordinate, createCanvas, document } = context;\n    return (points, value, defaults) => {\n        const { transform } = value;\n        const [width, height] = coordinate.getSize();\n        const data = points.map((p) => ({\n            x: p[0],\n            y: p[1],\n            value: p[2],\n            radius: p[3],\n        }));\n        const min = d3min(points, (p) => p[2]);\n        const max = d3max(points, (p) => p[2]);\n        const options = {\n            gradient,\n            opacity,\n            minOpacity,\n            maxOpacity,\n            blur,\n            useGradientOpacity,\n        };\n        const ctx = width && height\n            ? HeatmapRenderer(width, height, min, max, data, deleteKey(options, (v) => v === undefined), createCanvas)\n            : { canvas: null };\n        return select(document.createElement('image', {}))\n            .call(applyStyle, defaults)\n            .style('x', 0)\n            .style('y', 0)\n            .style('width', width)\n            .style('height', height)\n            .style('src', ctx.canvas)\n            .style('transform', transform)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nHeatmap.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=heatmap.js.map","import { HeatmapShape } from '../shape';\nimport { MaybeZeroX, MaybeZeroY } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip2d, } from './utils';\nconst shape = {\n    heatmap: HeatmapShape,\n};\n/**\n * Draw heatmap with gradient.\n */\nexport const Heatmap = (options) => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y, size: S, color: C } = value;\n        const P = Array.from(index, (i) => {\n            // Default size = 40.\n            const r = S ? +S[i] : 40;\n            // Warning: x, y, value, radius.\n            return [...coordinate.map([+X[i], +Y[i]]), C[i], r];\n        });\n        return [[0], [P]];\n    };\n};\nHeatmap.props = {\n    defaultShape: 'heatmap',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n        { name: 'color', scale: 'identity', required: true },\n        { name: 'size' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeZeroX },\n        { type: MaybeZeroY },\n    ],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=heatmap.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nfunction initializeData(data, encode) {\n    const { text = 'text', value = 'value' } = encode;\n    return data.map((d) => (Object.assign(Object.assign({}, d), { text: d[text], value: d[value] })));\n}\nconst GET_DEFAULT_OPTIONS = () => ({\n    axis: false,\n    type: 'text',\n    encode: {\n        x: 'x',\n        y: 'y',\n        text: 'text',\n        rotate: 'rotate',\n        fontSize: 'size',\n        shape: 'tag',\n    },\n    scale: {\n        x: { range: [0, 1] },\n        y: { range: [0, 1] },\n    },\n    style: {\n        fontFamily: (d) => d.fontFamily,\n    },\n});\nexport const WordCloud = (options, context) => __awaiter(void 0, void 0, void 0, function* () {\n    const { width, height } = context;\n    const { data, encode = {}, scale, style = {}, layout = {} } = options, resOptions = __rest(options, [\"data\", \"encode\", \"scale\", \"style\", \"layout\"]);\n    const initializedData = initializeData(data, encode);\n    return deepMix({}, GET_DEFAULT_OPTIONS(), Object.assign(Object.assign({ data: {\n            value: initializedData,\n            transform: [\n                Object.assign({ type: 'wordCloud', size: [width, height] }, layout),\n            ],\n        }, encode,\n        scale,\n        style }, resOptions), { axis: false }));\n});\nWordCloud.props = {};\n//# sourceMappingURL=wordCloud.js.map","/**\n * Classic palette of AntV for ordinal data with 10 colors.\n */\nexport const Category10 = () => {\n    return [\n        '#5B8FF9',\n        '#5AD8A6',\n        '#5D7092',\n        '#F6BD16',\n        '#6F5EF9',\n        '#6DC8EC',\n        '#945FB9',\n        '#FF9845',\n        '#1E9493',\n        '#FF99C3',\n    ];\n};\nCategory10.props = {};\n//# sourceMappingURL=category10.js.map","/**\n * Classic palette of AntV for ordinal data with 20 colors.\n */\nexport const Category20 = () => {\n    return [\n        '#5B8FF9',\n        '#CDDDFD',\n        '#5AD8A6',\n        '#CDF3E4',\n        '#5D7092',\n        '#CED4DE',\n        '#F6BD16',\n        '#FCEBB9',\n        '#6F5EF9',\n        '#D3CEFD',\n        '#6DC8EC',\n        '#D3EEF9',\n        '#945FB9',\n        '#DECFEA',\n        '#FF9845',\n        '#FFE0C7',\n        '#1E9493',\n        '#BBDEDE',\n        '#FF99C3',\n        '#FFE0ED',\n    ];\n};\nCategory20.props = {};\n//# sourceMappingURL=category20.js.map","import { Linear as LinearScale } from '@antv/scale';\nexport const Linear = (options) => {\n    return new LinearScale(options);\n};\nLinear.props = {};\n//# sourceMappingURL=linear.js.map","import { Ordinal as OrdinalScale } from '@antv/scale';\nexport const Ordinal = (options) => {\n    return new OrdinalScale(options);\n};\nOrdinal.props = {};\n//# sourceMappingURL=ordinal.js.map","import { Band as BandScale } from '@antv/scale';\nexport const Band = (options) => {\n    return new BandScale(options);\n};\nBand.props = {};\n//# sourceMappingURL=band.js.map","import isNil from './is-nil';\nimport isArraylike from './is-array-like';\nexport default function size(o) {\n    if (isNil(o)) {\n        return 0;\n    }\n    if (isArraylike(o)) {\n        return o.length;\n    }\n    return Object.keys(o).length;\n}\n//# sourceMappingURL=size.js.map","import isArrayLike from './is-array-like';\nvar indexOf = function (arr, obj) {\n    if (!isArrayLike(arr)) {\n        return -1;\n    }\n    var m = Array.prototype.indexOf;\n    if (m) {\n        return m.call(arr, obj);\n    }\n    var index = -1;\n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === obj) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n};\nexport default indexOf;\n//# sourceMappingURL=index-of.js.map","// 为了解决 js 运算的精度问题\nexport function prettyNumber(n) {\n    return Math.abs(n) < 1e-14 ? n : parseFloat(n.toFixed(14));\n}\n//# sourceMappingURL=pretty-number.js.map","import { indexOf, size } from '@antv/util';\nimport { prettyNumber } from '../utils/pretty-number';\nexport const DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\nexport const ALL_Q = [1, 5, 2, 2.5, 4, 3, 1.5, 7, 6, 8, 9];\nconst eps = Number.EPSILON * 100;\nfunction mod(n, m) {\n    return ((n % m) + m) % m;\n}\nfunction round(n) {\n    return Math.round(n * 1e12) / 1e12;\n}\nfunction simplicity(q, Q, j, lmin, lmax, lstep) {\n    const n = size(Q);\n    const i = indexOf(Q, q);\n    let v = 0;\n    const m = mod(lmin, lstep);\n    if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n        v = 1;\n    }\n    return 1 - i / (n - 1) - j + v;\n}\nfunction simplicityMax(q, Q, j) {\n    const n = size(Q);\n    const i = indexOf(Q, q);\n    const v = 1;\n    return 1 - i / (n - 1) - j + v;\n}\nfunction density(k, m, dMin, dMax, lMin, lMax) {\n    const r = (k - 1) / (lMax - lMin);\n    const rt = (m - 1) / (Math.max(lMax, dMax) - Math.min(dMin, lMin));\n    return 2 - Math.max(r / rt, rt / r);\n}\nfunction densityMax(k, m) {\n    if (k >= m) {\n        return 2 - (k - 1) / (m - 1);\n    }\n    return 1;\n}\nfunction coverage(dMin, dMax, lMin, lMax) {\n    const range = dMax - dMin;\n    return 1 - (0.5 * ((dMax - lMax) ** 2 + (dMin - lMin) ** 2)) / (0.1 * range) ** 2;\n}\nfunction coverageMax(dMin, dMax, span) {\n    const range = dMax - dMin;\n    if (span > range) {\n        const half = (span - range) / 2;\n        return 1 - half ** 2 / (0.1 * range) ** 2;\n    }\n    return 1;\n}\nfunction legibility() {\n    return 1;\n}\n/**\n * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n * @param dMin 最小值\n * @param dMax 最大值\n * @param m tick个数\n * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n * @param Q nice numbers集合\n * @param w 四个优化组件的权重\n */\nexport const wilkinsonExtended = (dMin, dMax, n = 5, onlyLoose = true, Q = DEFAULT_Q, w = [0.25, 0.2, 0.5, 0.05]) => {\n    const m = n < 0 ? 0 : Math.round(n);\n    // nan 也会导致异常\n    if (Number.isNaN(dMin) || Number.isNaN(dMax) || typeof dMin !== 'number' || typeof dMax !== 'number' || !m) {\n        return [];\n    }\n    // js 极大值极小值问题，差值小于 1e-15 会导致计算出错\n    if (dMax - dMin < 1e-15 || m === 1) {\n        return [dMin];\n    }\n    const best = {\n        score: -2,\n        lmin: 0,\n        lmax: 0,\n        lstep: 0,\n    };\n    let j = 1;\n    while (j < Infinity) {\n        // for (const q of Q)\n        for (let i = 0; i < Q.length; i += 1) {\n            const q = Q[i];\n            const sm = simplicityMax(q, Q, j);\n            if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n                j = Infinity;\n                break;\n            }\n            let k = 2;\n            while (k < Infinity) {\n                const dm = densityMax(k, m);\n                if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n                    break;\n                }\n                const delta = (dMax - dMin) / (k + 1) / j / q;\n                let z = Math.ceil(Math.log10(delta));\n                while (z < Infinity) {\n                    const step = j * q * 10 ** z;\n                    const cm = coverageMax(dMin, dMax, step * (k - 1));\n                    if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n                        break;\n                    }\n                    const minStart = Math.floor(dMax / step) * j - (k - 1) * j;\n                    const maxStart = Math.ceil(dMin / step) * j;\n                    if (minStart <= maxStart) {\n                        const count = maxStart - minStart;\n                        for (let i = 0; i <= count; i += 1) {\n                            const start = minStart + i;\n                            const lMin = start * (step / j);\n                            const lMax = lMin + step * (k - 1);\n                            const lStep = step;\n                            const s = simplicity(q, Q, j, lMin, lMax, lStep);\n                            const c = coverage(dMin, dMax, lMin, lMax);\n                            const g = density(k, m, dMin, dMax, lMin, lMax);\n                            const l = legibility();\n                            const score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n                            if (score > best.score && (!onlyLoose || (lMin <= dMin && lMax >= dMax))) {\n                                best.lmin = lMin;\n                                best.lmax = lMax;\n                                best.lstep = lStep;\n                                best.score = score;\n                            }\n                        }\n                    }\n                    z += 1;\n                }\n                k += 1;\n            }\n        }\n        j += 1;\n    }\n    // 处理精度问题，保证这三个数没有精度问题\n    const lmax = prettyNumber(best.lmax);\n    const lmin = prettyNumber(best.lmin);\n    const lstep = prettyNumber(best.lstep);\n    // 加 round 是为处理 extended(0.94, 1, 5)\n    // 保证生成的 tickCount 没有精度问题\n    const tickCount = Math.floor(round((lmax - lmin) / lstep)) + 1;\n    const ticks = new Array(tickCount);\n    // 少用乘法：防止出现 -1.2 + 1.2 * 3 = 2.3999999999999995 的情况\n    ticks[0] = prettyNumber(lmin);\n    for (let i = 1; i < tickCount; i += 1) {\n        ticks[i] = prettyNumber(ticks[i - 1] + lstep);\n    }\n    return ticks;\n};\n//# sourceMappingURL=wilkinson-extended.js.map","import { isNumber } from '@antv/util';\nimport { Base } from './base';\nimport { wilkinsonExtended } from '../tick-methods/wilkinson-extended';\nimport { isValid } from '../utils';\nexport class Identity extends Base {\n    /**\n     * 返回需要覆盖的默认选项\n     * @returns 需要覆盖的默认选项\n     */\n    getDefaultOptions() {\n        return {\n            domain: [0, 1],\n            range: [0, 1],\n            tickCount: 5,\n            unknown: undefined,\n            tickMethod: wilkinsonExtended,\n        };\n    }\n    /**\n     * 输入和输出满足：y = x\n     * @param x 输入值\n     * @returns 输出值\n     */\n    map(x) {\n        return isValid(x) ? x : this.options.unknown;\n    }\n    /**\n     * map 的逆运算：x = y，在这里和 map 是相同方法\n     * @param x 输出值\n     * @returns 输入值\n     */\n    invert(x) {\n        return this.map(x);\n    }\n    /**\n     * 克隆 Identity Scale\n     * @returns 拥有相同选项且独立的 Identity Scale\n     */\n    clone() {\n        return new Identity(this.options);\n    }\n    /**\n     * 根据比例尺的配置去生成 ticks，该 ticks 主要用于生成坐标轴\n     * @returns 返回一个 ticks 的数组\n     */\n    getTicks() {\n        const { domain, tickCount, tickMethod } = this.options;\n        const [min, max] = domain;\n        if (!isNumber(min) || !isNumber(max))\n            return [];\n        return tickMethod(min, max, tickCount);\n    }\n}\n//# sourceMappingURL=identity.js.map","import { Identity as IdentityScale } from '@antv/scale';\nexport const Identity = (options) => {\n    return new IdentityScale(options);\n};\nIdentity.props = {};\n//# sourceMappingURL=identity.js.map","import { Band } from './band';\nimport { defaultUnknown } from './ordinal';\n/**\n * Point 比例尺\n *\n * 一种特殊的 band scale，它的 bandWidth 恒为 0。\n *\n * 由于部分选项较为抽象，见下图描述：\n *\n * PO = Padding = PaddingInner\n * domain =  [\"A\", \"B\", \"C\"]\n *\n * |<------------------------------------------- range ------------------------------------------->|\n * |             |                                 |                                 |             |\n * |<--step*PO-->|<--------------step------------->|<--------------step------------->|<--step*PO-->|\n * |             |                                 |                                 |             |\n * |             A                                 B                                 C             |\n * |-----------------------------------------------------------------------------------------------|\n *\n * 性能方便较 d3 快出 8 - 9 倍\n */\nexport class Point extends Band {\n    // 覆盖默认配置\n    getDefaultOptions() {\n        return {\n            domain: [],\n            range: [0, 1],\n            align: 0.5,\n            round: false,\n            padding: 0,\n            unknown: defaultUnknown,\n            paddingInner: 1,\n            paddingOuter: 0,\n        };\n    }\n    // 能接受的参数只是 PointOptions，不能有 paddingInner 这些属性\n    constructor(options) {\n        super(options);\n    }\n    // Point 的 paddingInner 只能是1，不能被覆盖\n    getPaddingInner() {\n        return 1;\n    }\n    clone() {\n        return new Point(this.options);\n    }\n    update(options) {\n        super.update(options);\n    }\n    getPaddingOuter() {\n        return this.options.padding;\n    }\n}\n//# sourceMappingURL=point.js.map","import { Point as PointScale } from '@antv/scale';\nexport const Point = (options) => {\n    return new PointScale(options);\n};\nPoint.props = {};\n//# sourceMappingURL=point.js.map","var token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nvar twoDigitsOptional = \"\\\\d\\\\d?\";\nvar twoDigits = \"\\\\d\\\\d\";\nvar threeDigits = \"\\\\d{3}\";\nvar fourDigits = \"\\\\d{4}\";\nvar word = \"[^\\\\s]+\";\nvar literal = /\\[([^]*?)\\]/gm;\nfunction shorten(arr, sLen) {\n    var newArr = [];\n    for (var i = 0, len = arr.length; i < len; i++) {\n        newArr.push(arr[i].substr(0, sLen));\n    }\n    return newArr;\n}\nvar monthUpdate = function (arrName) { return function (v, i18n) {\n    var lowerCaseArr = i18n[arrName].map(function (v) { return v.toLowerCase(); });\n    var index = lowerCaseArr.indexOf(v.toLowerCase());\n    if (index > -1) {\n        return index;\n    }\n    return null;\n}; };\nfunction assign(origObj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n        var obj = args_1[_a];\n        for (var key in obj) {\n            // @ts-ignore ex\n            origObj[key] = obj[key];\n        }\n    }\n    return origObj;\n}\nvar dayNames = [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\"\n];\nvar monthNames = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n];\nvar monthNamesShort = shorten(monthNames, 3);\nvar dayNamesShort = shorten(dayNames, 3);\nvar defaultI18n = {\n    dayNamesShort: dayNamesShort,\n    dayNames: dayNames,\n    monthNamesShort: monthNamesShort,\n    monthNames: monthNames,\n    amPm: [\"am\", \"pm\"],\n    DoFn: function (dayOfMonth) {\n        return (dayOfMonth +\n            [\"th\", \"st\", \"nd\", \"rd\"][dayOfMonth % 10 > 3\n                ? 0\n                : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10]);\n    }\n};\nvar globalI18n = assign({}, defaultI18n);\nvar setGlobalDateI18n = function (i18n) {\n    return (globalI18n = assign(globalI18n, i18n));\n};\nvar regexEscape = function (str) {\n    return str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n};\nvar pad = function (val, len) {\n    if (len === void 0) { len = 2; }\n    val = String(val);\n    while (val.length < len) {\n        val = \"0\" + val;\n    }\n    return val;\n};\nvar formatFlags = {\n    D: function (dateObj) { return String(dateObj.getDate()); },\n    DD: function (dateObj) { return pad(dateObj.getDate()); },\n    Do: function (dateObj, i18n) {\n        return i18n.DoFn(dateObj.getDate());\n    },\n    d: function (dateObj) { return String(dateObj.getDay()); },\n    dd: function (dateObj) { return pad(dateObj.getDay()); },\n    ddd: function (dateObj, i18n) {\n        return i18n.dayNamesShort[dateObj.getDay()];\n    },\n    dddd: function (dateObj, i18n) {\n        return i18n.dayNames[dateObj.getDay()];\n    },\n    M: function (dateObj) { return String(dateObj.getMonth() + 1); },\n    MM: function (dateObj) { return pad(dateObj.getMonth() + 1); },\n    MMM: function (dateObj, i18n) {\n        return i18n.monthNamesShort[dateObj.getMonth()];\n    },\n    MMMM: function (dateObj, i18n) {\n        return i18n.monthNames[dateObj.getMonth()];\n    },\n    YY: function (dateObj) {\n        return pad(String(dateObj.getFullYear()), 4).substr(2);\n    },\n    YYYY: function (dateObj) { return pad(dateObj.getFullYear(), 4); },\n    h: function (dateObj) { return String(dateObj.getHours() % 12 || 12); },\n    hh: function (dateObj) { return pad(dateObj.getHours() % 12 || 12); },\n    H: function (dateObj) { return String(dateObj.getHours()); },\n    HH: function (dateObj) { return pad(dateObj.getHours()); },\n    m: function (dateObj) { return String(dateObj.getMinutes()); },\n    mm: function (dateObj) { return pad(dateObj.getMinutes()); },\n    s: function (dateObj) { return String(dateObj.getSeconds()); },\n    ss: function (dateObj) { return pad(dateObj.getSeconds()); },\n    S: function (dateObj) {\n        return String(Math.round(dateObj.getMilliseconds() / 100));\n    },\n    SS: function (dateObj) {\n        return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n    },\n    SSS: function (dateObj) { return pad(dateObj.getMilliseconds(), 3); },\n    a: function (dateObj, i18n) {\n        return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n    },\n    A: function (dateObj, i18n) {\n        return dateObj.getHours() < 12\n            ? i18n.amPm[0].toUpperCase()\n            : i18n.amPm[1].toUpperCase();\n    },\n    ZZ: function (dateObj) {\n        var offset = dateObj.getTimezoneOffset();\n        return ((offset > 0 ? \"-\" : \"+\") +\n            pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4));\n    },\n    Z: function (dateObj) {\n        var offset = dateObj.getTimezoneOffset();\n        return ((offset > 0 ? \"-\" : \"+\") +\n            pad(Math.floor(Math.abs(offset) / 60), 2) +\n            \":\" +\n            pad(Math.abs(offset) % 60, 2));\n    }\n};\nvar monthParse = function (v) { return +v - 1; };\nvar emptyDigits = [null, twoDigitsOptional];\nvar emptyWord = [null, word];\nvar amPm = [\n    \"isPm\",\n    word,\n    function (v, i18n) {\n        var val = v.toLowerCase();\n        if (val === i18n.amPm[0]) {\n            return 0;\n        }\n        else if (val === i18n.amPm[1]) {\n            return 1;\n        }\n        return null;\n    }\n];\nvar timezoneOffset = [\n    \"timezoneOffset\",\n    \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n    function (v) {\n        var parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n        if (parts) {\n            var minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n            return parts[0] === \"+\" ? minutes : -minutes;\n        }\n        return 0;\n    }\n];\nvar parseFlags = {\n    D: [\"day\", twoDigitsOptional],\n    DD: [\"day\", twoDigits],\n    Do: [\"day\", twoDigitsOptional + word, function (v) { return parseInt(v, 10); }],\n    M: [\"month\", twoDigitsOptional, monthParse],\n    MM: [\"month\", twoDigits, monthParse],\n    YY: [\n        \"year\",\n        twoDigits,\n        function (v) {\n            var now = new Date();\n            var cent = +(\"\" + now.getFullYear()).substr(0, 2);\n            return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n        }\n    ],\n    h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n    hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n    H: [\"hour\", twoDigitsOptional],\n    HH: [\"hour\", twoDigits],\n    m: [\"minute\", twoDigitsOptional],\n    mm: [\"minute\", twoDigits],\n    s: [\"second\", twoDigitsOptional],\n    ss: [\"second\", twoDigits],\n    YYYY: [\"year\", fourDigits],\n    S: [\"millisecond\", \"\\\\d\", function (v) { return +v * 100; }],\n    SS: [\"millisecond\", twoDigits, function (v) { return +v * 10; }],\n    SSS: [\"millisecond\", threeDigits],\n    d: emptyDigits,\n    dd: emptyDigits,\n    ddd: emptyWord,\n    dddd: emptyWord,\n    MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n    MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n    a: amPm,\n    A: amPm,\n    ZZ: timezoneOffset,\n    Z: timezoneOffset\n};\n// Some common format strings\nvar globalMasks = {\n    default: \"ddd MMM DD YYYY HH:mm:ss\",\n    shortDate: \"M/D/YY\",\n    mediumDate: \"MMM D, YYYY\",\n    longDate: \"MMMM D, YYYY\",\n    fullDate: \"dddd, MMMM D, YYYY\",\n    isoDate: \"YYYY-MM-DD\",\n    isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n    shortTime: \"HH:mm\",\n    mediumTime: \"HH:mm:ss\",\n    longTime: \"HH:mm:ss.SSS\"\n};\nvar setGlobalDateMasks = function (masks) { return assign(globalMasks, masks); };\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nvar format = function (dateObj, mask, i18n) {\n    if (mask === void 0) { mask = globalMasks[\"default\"]; }\n    if (i18n === void 0) { i18n = {}; }\n    if (typeof dateObj === \"number\") {\n        dateObj = new Date(dateObj);\n    }\n    if (Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n        isNaN(dateObj.getTime())) {\n        throw new Error(\"Invalid Date pass to format\");\n    }\n    mask = globalMasks[mask] || mask;\n    var literals = [];\n    // Make literals inactive by replacing them with @@@\n    mask = mask.replace(literal, function ($0, $1) {\n        literals.push($1);\n        return \"@@@\";\n    });\n    var combinedI18nSettings = assign(assign({}, globalI18n), i18n);\n    // Apply formatting rules\n    mask = mask.replace(token, function ($0) {\n        return formatFlags[$0](dateObj, combinedI18nSettings);\n    });\n    // Inline literal values back into the formatted value\n    return mask.replace(/@@@/g, function () { return literals.shift(); });\n};\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(dateStr, format, i18n) {\n    if (i18n === void 0) { i18n = {}; }\n    if (typeof format !== \"string\") {\n        throw new Error(\"Invalid format in fecha parse\");\n    }\n    // Check to see if the format is actually a mask\n    format = globalMasks[format] || format;\n    // Avoid regular expression denial of service, fail early for really long strings\n    // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n    if (dateStr.length > 1000) {\n        return null;\n    }\n    // Default to the beginning of the year.\n    var today = new Date();\n    var dateInfo = {\n        year: today.getFullYear(),\n        month: 0,\n        day: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0,\n        isPm: null,\n        timezoneOffset: null\n    };\n    var parseInfo = [];\n    var literals = [];\n    // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n    var newFormat = format.replace(literal, function ($0, $1) {\n        literals.push(regexEscape($1));\n        return \"@@@\";\n    });\n    var specifiedFields = {};\n    var requiredFields = {};\n    // Change every token that we find into the correct regex\n    newFormat = regexEscape(newFormat).replace(token, function ($0) {\n        var info = parseFlags[$0];\n        var field = info[0], regex = info[1], requiredField = info[3];\n        // Check if the person has specified the same field twice. This will lead to confusing results.\n        if (specifiedFields[field]) {\n            throw new Error(\"Invalid format. \" + field + \" specified twice in format\");\n        }\n        specifiedFields[field] = true;\n        // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n        if (requiredField) {\n            requiredFields[requiredField] = true;\n        }\n        parseInfo.push(info);\n        return \"(\" + regex + \")\";\n    });\n    // Check all the required fields are present\n    Object.keys(requiredFields).forEach(function (field) {\n        if (!specifiedFields[field]) {\n            throw new Error(\"Invalid format. \" + field + \" is required in specified format\");\n        }\n    });\n    // Add back all the literals after\n    newFormat = newFormat.replace(/@@@/g, function () { return literals.shift(); });\n    // Check if the date string matches the format. If it doesn't return null\n    var matches = dateStr.match(new RegExp(newFormat, \"i\"));\n    if (!matches) {\n        return null;\n    }\n    var combinedI18nSettings = assign(assign({}, globalI18n), i18n);\n    // For each match, call the parser function for that date part\n    for (var i = 1; i < matches.length; i++) {\n        var _a = parseInfo[i - 1], field = _a[0], parser = _a[2];\n        var value = parser\n            ? parser(matches[i], combinedI18nSettings)\n            : +matches[i];\n        // If the parser can't make sense of the value, return null\n        if (value == null) {\n            return null;\n        }\n        dateInfo[field] = value;\n    }\n    if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n        dateInfo.hour = +dateInfo.hour + 12;\n    }\n    else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n        dateInfo.hour = 0;\n    }\n    var dateTZ;\n    if (dateInfo.timezoneOffset == null) {\n        dateTZ = new Date(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute, dateInfo.second, dateInfo.millisecond);\n        var validateFields = [\n            [\"month\", \"getMonth\"],\n            [\"day\", \"getDate\"],\n            [\"hour\", \"getHours\"],\n            [\"minute\", \"getMinutes\"],\n            [\"second\", \"getSeconds\"]\n        ];\n        for (var i = 0, len = validateFields.length; i < len; i++) {\n            // Check to make sure the date field is within the allowed range. Javascript dates allows values\n            // outside the allowed range. If the values don't match the value was invalid\n            if (specifiedFields[validateFields[i][0]] &&\n                dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()) {\n                return null;\n            }\n        }\n    }\n    else {\n        dateTZ = new Date(Date.UTC(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute - dateInfo.timezoneOffset, dateInfo.second, dateInfo.millisecond));\n        // We can't validate dates in another timezone unfortunately. Do a basic check instead\n        if (dateInfo.month > 11 ||\n            dateInfo.month < 0 ||\n            dateInfo.day > 31 ||\n            dateInfo.day < 1 ||\n            dateInfo.hour > 23 ||\n            dateInfo.hour < 0 ||\n            dateInfo.minute > 59 ||\n            dateInfo.minute < 0 ||\n            dateInfo.second > 59 ||\n            dateInfo.second < 0) {\n            return null;\n        }\n    }\n    // Don't allow invalid dates\n    return dateTZ;\n}\nvar fecha = {\n    format: format,\n    parse: parse,\n    defaultI18n: defaultI18n,\n    setGlobalDateI18n: setGlobalDateI18n,\n    setGlobalDateMasks: setGlobalDateMasks\n};\n\nexport default fecha;\nexport { assign, format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n//# sourceMappingURL=fecha.js.map\n","export const DURATION_SECOND = 1000;\nexport const DURATION_MINUTE = DURATION_SECOND * 60;\nexport const DURATION_HOUR = DURATION_MINUTE * 60;\nexport const DURATION_DAY = DURATION_HOUR * 24;\nexport const DURATION_WEEK = DURATION_DAY * 7;\nexport const DURATION_MONTH = DURATION_DAY * 30;\nexport const DURATION_YEAR = DURATION_DAY * 365;\nexport function createInterval(duration, floorish, offseti, field) {\n    const adjust = (date, step) => {\n        const test = (date) => field(date) % step === 0;\n        let i = step;\n        while (i && !test(date)) {\n            offseti(date, -1);\n            i -= 1;\n        }\n        return date;\n    };\n    const floori = (date, step) => {\n        if (step)\n            adjust(date, step);\n        floorish(date);\n    };\n    const floor = (date, step) => {\n        const d = new Date(+date);\n        floori(d, step);\n        return d;\n    };\n    const ceil = (date, step) => {\n        const d = new Date(+date - 1);\n        floori(d, step);\n        offseti(d, step);\n        floori(d);\n        return d;\n    };\n    const range = (start, stop, step, shouldAdjust) => {\n        const ticks = [];\n        const roundStep = Math.floor(step);\n        const t = shouldAdjust ? ceil(start, step) : ceil(start);\n        for (let i = t; i < stop; offseti(i, roundStep), floori(i)) {\n            ticks.push(new Date(+i));\n        }\n        return ticks;\n    };\n    return {\n        ceil,\n        floor,\n        range,\n        duration,\n    };\n}\nexport const millisecond = createInterval(1, (date) => date, (date, step = 1) => {\n    date.setTime(+date + step);\n}, (date) => date.getTime());\nexport const second = createInterval(DURATION_SECOND, (date) => {\n    date.setMilliseconds(0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_SECOND * step);\n}, (date) => date.getSeconds());\nexport const minute = createInterval(DURATION_MINUTE, (date) => {\n    date.setSeconds(0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_MINUTE * step);\n}, (date) => date.getMinutes());\nexport const hour = createInterval(DURATION_HOUR, (date) => {\n    date.setMinutes(0, 0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_HOUR * step);\n}, (date) => date.getHours());\nexport const day = createInterval(DURATION_DAY, (date) => {\n    date.setHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_DAY * step);\n}, (date) => date.getDate() - 1);\nexport const month = createInterval(DURATION_MONTH, (date) => {\n    date.setDate(1);\n    date.setHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    const month = date.getMonth();\n    date.setMonth(month + step);\n}, (date) => date.getMonth());\nexport const week = createInterval(DURATION_WEEK, (date) => {\n    date.setDate(date.getDate() - (date.getDay() % 7));\n    date.setHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    date.setDate(date.getDate() + 7 * step);\n}, (date) => {\n    const start = month.floor(date);\n    const end = new Date(+date);\n    return Math.floor((+end - +start) / DURATION_WEEK);\n});\nexport const year = createInterval(DURATION_YEAR, (date) => {\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    const year = date.getFullYear();\n    date.setFullYear(year + step);\n}, (date) => date.getFullYear());\nexport const localIntervalMap = {\n    millisecond,\n    second,\n    minute,\n    hour,\n    day,\n    week,\n    month,\n    year,\n};\n//# sourceMappingURL=time-interval.js.map","import { createInterval, DURATION_SECOND, DURATION_MINUTE, DURATION_HOUR, DURATION_DAY, DURATION_WEEK, DURATION_MONTH, DURATION_YEAR, } from './time-interval';\nexport const utcMillisecond = createInterval(1, (date) => date, (date, step = 1) => {\n    date.setTime(+date + step);\n}, (date) => date.getTime());\nexport const utcSecond = createInterval(DURATION_SECOND, (date) => {\n    date.setUTCMilliseconds(0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_SECOND * step);\n}, (date) => date.getUTCSeconds());\nexport const utcMinute = createInterval(DURATION_MINUTE, (date) => {\n    date.setUTCSeconds(0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_MINUTE * step);\n}, (date) => date.getUTCMinutes());\nexport const utcHour = createInterval(DURATION_HOUR, (date) => {\n    date.setUTCMinutes(0, 0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_HOUR * step);\n}, (date) => date.getUTCHours());\nexport const utcDay = createInterval(DURATION_DAY, (date) => {\n    date.setUTCHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_DAY * step);\n}, (date) => date.getUTCDate() - 1);\nexport const utcMonth = createInterval(DURATION_MONTH, (date) => {\n    date.setUTCDate(1);\n    date.setUTCHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    const month = date.getUTCMonth();\n    date.setUTCMonth(month + step);\n}, (date) => date.getUTCMonth());\nexport const utcWeek = createInterval(DURATION_WEEK, (date) => {\n    date.setUTCDate(date.getUTCDate() - ((date.getUTCDay() + 7) % 7));\n    date.setUTCHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_WEEK * step);\n}, (date) => {\n    const start = utcMonth.floor(date);\n    const end = new Date(+date);\n    return Math.floor((+end - +start) / DURATION_WEEK);\n});\nexport const utcYear = createInterval(DURATION_YEAR, (date) => {\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    const year = date.getUTCFullYear();\n    date.setUTCFullYear(year + step);\n}, (date) => date.getUTCFullYear());\nexport const utcIntervalMap = {\n    millisecond: utcMillisecond,\n    second: utcSecond,\n    minute: utcMinute,\n    hour: utcHour,\n    day: utcDay,\n    week: utcWeek,\n    month: utcMonth,\n    year: utcYear,\n};\n//# sourceMappingURL=utc-interval.js.map","import { localIntervalMap } from './time-interval';\nimport { utcIntervalMap } from './utc-interval';\nimport { bisect } from './bisect';\nimport { tickStep } from './ticks';\nfunction chooseTickIntervals(utc) {\n    const intervalMap = utc ? utcIntervalMap : localIntervalMap;\n    const { year, month, week, day, hour, minute, second, millisecond } = intervalMap;\n    const tickIntervals = [\n        [second, 1],\n        [second, 5],\n        [second, 15],\n        [second, 30],\n        [minute, 1],\n        [minute, 5],\n        [minute, 15],\n        [minute, 30],\n        [hour, 1],\n        [hour, 3],\n        [hour, 6],\n        [hour, 12],\n        [day, 1],\n        [day, 2],\n        [week, 1],\n        [month, 1],\n        [month, 3],\n        [year, 1],\n    ];\n    return {\n        tickIntervals,\n        year,\n        millisecond,\n    };\n}\nexport function findTickInterval(start, stop, count, interval, utc) {\n    const lo = +start;\n    const hi = +stop;\n    const { tickIntervals, year, millisecond } = chooseTickIntervals(utc);\n    const getter = ([interval, count]) => interval.duration * count;\n    const targetCount = interval ? (hi - lo) / interval : count || 5;\n    const targetInterval = interval || (hi - lo) / targetCount;\n    const len = tickIntervals.length;\n    const i = bisect(tickIntervals, targetInterval, 0, len, getter);\n    let matchInterval;\n    if (i === len) {\n        const step = tickStep(lo / year.duration, hi / year.duration, targetCount);\n        matchInterval = [year, step];\n    }\n    else if (i) {\n        const closeToLow = targetInterval / getter(tickIntervals[i - 1]) < getter(tickIntervals[i]) / targetInterval;\n        const [timeInterval, targetStep] = closeToLow ? tickIntervals[i - 1] : tickIntervals[i];\n        const step = interval ? Math.ceil(interval / timeInterval.duration) : targetStep;\n        matchInterval = [timeInterval, step];\n    }\n    else {\n        const step = Math.max(tickStep(lo, hi, targetCount), 1);\n        matchInterval = [millisecond, step];\n    }\n    return matchInterval;\n}\n//# sourceMappingURL=find-tick-interval.js.map","import { findTickInterval } from '../utils';\nexport const d3Time = (min, max, count, interval, utc) => {\n    const r = min > max;\n    const lo = r ? max : min;\n    const hi = r ? min : max;\n    const [tickInterval, step] = findTickInterval(lo, hi, count, interval, utc);\n    const ticks = tickInterval.range(lo, new Date(+hi + 1), step, true);\n    return r ? ticks.reverse() : ticks;\n};\n//# sourceMappingURL=d3-time.js.map","import { findTickInterval } from './find-tick-interval';\nexport const d3TimeNice = (min, max, count, interval, utc) => {\n    const r = min > max;\n    const lo = r ? max : min;\n    const hi = r ? min : max;\n    const [tickInterval, step] = findTickInterval(lo, hi, count, interval, utc);\n    const domain = [tickInterval.floor(lo, step), tickInterval.ceil(hi, step)];\n    return r ? domain.reverse() : domain;\n};\n//# sourceMappingURL=d3-time-nice.js.map","import { identity } from '@antv/util';\nimport { format } from 'fecha';\nimport { Continuous } from './continuous';\nimport { d3Time } from '../tick-methods/d3-time';\nimport { d3TimeNice, createInterpolateNumber, localIntervalMap, utcIntervalMap, chooseNiceTimeMask } from '../utils';\nfunction offset(date) {\n    const minuteOffset = date.getTimezoneOffset();\n    const d = new Date(date);\n    d.setMinutes(d.getMinutes() + minuteOffset, d.getSeconds(), d.getMilliseconds());\n    return d;\n}\nexport class Time extends Continuous {\n    getDefaultOptions() {\n        return {\n            domain: [new Date(2000, 0, 1), new Date(2000, 0, 2)],\n            range: [0, 1],\n            nice: false,\n            tickCount: 5,\n            tickInterval: undefined,\n            unknown: undefined,\n            clamp: false,\n            tickMethod: d3Time,\n            interpolate: createInterpolateNumber,\n            mask: undefined,\n            utc: false,\n        };\n    }\n    chooseTransforms() {\n        const transform = (x) => +x;\n        const untransform = (x) => new Date(x);\n        return [transform, untransform];\n    }\n    chooseNice() {\n        return d3TimeNice;\n    }\n    getTickMethodOptions() {\n        const { domain, tickCount, tickInterval, utc } = this.options;\n        const min = domain[0];\n        const max = domain[domain.length - 1];\n        return [min, max, tickCount, tickInterval, utc];\n    }\n    getFormatter() {\n        const { mask, utc } = this.options;\n        const maskMap = utc ? utcIntervalMap : localIntervalMap;\n        const time = utc ? offset : identity; // fecha 不支持 utc 格式化，所以需要设置一个偏移\n        return (d) => format(time(d), mask || chooseNiceTimeMask(d, maskMap));\n    }\n    clone() {\n        return new Time(this.options);\n    }\n}\n//# sourceMappingURL=time.js.map","export function chooseNiceTimeMask(date, intervalMap) {\n    const { second, minute, hour, day, week, month, year } = intervalMap;\n    if (second.floor(date) < date)\n        return '.SSS';\n    if (minute.floor(date) < date)\n        return ':ss';\n    if (hour.floor(date) < date)\n        return 'hh:mm';\n    if (day.floor(date) < date)\n        return 'hh A';\n    if (month.floor(date) < date) {\n        if (week.floor(date) < date)\n            return 'MMM DD';\n        return 'ddd DD';\n    }\n    if (year.floor(date) < date)\n        return 'MMMM';\n    return 'YYYY';\n}\n//# sourceMappingURL=choose-mask.js.map","import { Time as TimeScale } from '@antv/scale';\nexport const Time = (options) => {\n    return new TimeScale(options);\n};\nTime.props = {};\n//# sourceMappingURL=time.js.map","const reflect = (f) => {\n    return (x) => -f(-x);\n};\nexport const logs = (base, shouldReflect) => {\n    const baseCache = Math.log(base);\n    const log = base === Math.E\n        ? Math.log\n        : base === 10\n            ? Math.log10\n            : base === 2\n                ? Math.log2\n                : (x) => Math.log(x) / baseCache;\n    return shouldReflect ? reflect(log) : log;\n};\nexport const pows = (base, shouldReflect) => {\n    const pow = base === Math.E ? Math.exp : (x) => base ** x;\n    return shouldReflect ? reflect(pow) : pow;\n};\n//# sourceMappingURL=log.js.map","import { d3Ticks } from './d3-ticks';\nimport { pows, logs } from '../utils';\nexport const d3Log = (a, b, n, base = 10) => {\n    const shouldReflect = a < 0;\n    const pow = pows(base, shouldReflect);\n    const log = logs(base, shouldReflect);\n    const r = b < a;\n    const min = r ? b : a;\n    const max = r ? a : b;\n    let i = log(min);\n    let j = log(max);\n    let ticks = [];\n    // 如果 base 是整数\n    if (!(base % 1) && j - i < n) {\n        i = Math.floor(i);\n        j = Math.ceil(j);\n        if (shouldReflect) {\n            for (; i <= j; i += 1) {\n                const p = pow(i);\n                for (let k = base - 1; k >= 1; k -= 1) {\n                    const t = p * k;\n                    if (t > max)\n                        break;\n                    if (t >= min)\n                        ticks.push(t);\n                }\n            }\n        }\n        else {\n            for (; i <= j; i += 1) {\n                const p = pow(i);\n                for (let k = 1; k < base; k += 1) {\n                    const t = p * k;\n                    if (t > max)\n                        break;\n                    if (t >= min)\n                        ticks.push(t);\n                }\n            }\n        }\n        if (ticks.length * 2 < n)\n            ticks = d3Ticks(min, max, n);\n    }\n    else {\n        const count = n === -1 ? j - i : Math.min(j - i, n);\n        ticks = d3Ticks(i, j, count).map(pow);\n    }\n    return r ? ticks.reverse() : ticks;\n};\n//# sourceMappingURL=d3-log.js.map","import { logs, pows } from './log';\nexport const d3LogNice = (a, b, _, base) => {\n    const shouldReflect = a < 0;\n    const log = logs(base, shouldReflect);\n    const pow = pows(base, shouldReflect);\n    const r = a > b;\n    const min = r ? b : a;\n    const max = r ? a : b;\n    const niceDomain = [pow(Math.floor(log(min))), pow(Math.ceil(log(max)))];\n    return r ? niceDomain.reverse() : niceDomain;\n};\n//# sourceMappingURL=d3-log-nice.js.map","import { Continuous } from './continuous';\nimport { createInterpolateValue, logs, pows } from '../utils';\nimport { d3Log } from '../tick-methods/d3-log';\nimport { d3LogNice } from '../utils/d3-log-nice';\n/**\n * Linear 比例尺\n *\n * 构造一个线性的对数比例尺\n */\nexport class Log extends Continuous {\n    getDefaultOptions() {\n        return {\n            domain: [1, 10],\n            range: [0, 1],\n            base: 10,\n            interpolate: createInterpolateValue,\n            tickMethod: d3Log,\n            tickCount: 5,\n        };\n    }\n    chooseNice() {\n        return d3LogNice;\n    }\n    getTickMethodOptions() {\n        const { domain, tickCount, base } = this.options;\n        const min = domain[0];\n        const max = domain[domain.length - 1];\n        return [min, max, tickCount, base];\n    }\n    chooseTransforms() {\n        const { base, domain } = this.options;\n        const shouldReflect = domain[0] < 0;\n        return [logs(base, shouldReflect), pows(base, shouldReflect)];\n    }\n    clone() {\n        return new Log(this.options);\n    }\n}\n//# sourceMappingURL=log.js.map","import { Log as LogScale } from '@antv/scale';\nexport const Log = (options) => {\n    return new LogScale(options);\n};\nLog.props = {};\n//# sourceMappingURL=log.js.map","import { identity } from '@antv/util';\nimport { Continuous } from './continuous';\nimport { createInterpolateValue } from '../utils';\nimport { d3Ticks } from '../tick-methods/d3-ticks';\nconst transformPow = (exponent) => {\n    return (x) => {\n        return x < 0 ? -((-x) ** exponent) : x ** exponent;\n    };\n};\nconst transformPowInvert = (exponent) => {\n    return (x) => {\n        return x < 0 ? -((-x) ** (1 / exponent)) : x ** (1 / exponent);\n    };\n};\nconst transformSqrt = (x) => {\n    return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n};\n/**\n * Pow 比例尺\n *\n * 类似于 linear scale, 不同之处在于在计算输出范围值之前对输入域值应用了指数变换,.\n * 即 y = x ^ k 其中 k（指数）可以是任何实数。\n */\nexport class Pow extends Continuous {\n    getDefaultOptions() {\n        return {\n            domain: [0, 1],\n            range: [0, 1],\n            nice: false,\n            clamp: false,\n            round: false,\n            exponent: 2,\n            interpolate: createInterpolateValue,\n            tickMethod: d3Ticks,\n            tickCount: 5,\n        };\n    }\n    // 显示指定 options 的类型为 PowOptions O 的类型\n    constructor(options) {\n        super(options);\n    }\n    chooseTransforms() {\n        const { exponent } = this.options;\n        if (exponent === 1)\n            return [identity, identity];\n        const transform = exponent === 0.5 ? transformSqrt : transformPow(exponent);\n        const untransform = transformPowInvert(exponent);\n        return [transform, untransform];\n    }\n    clone() {\n        return new Pow(this.options);\n    }\n}\n//# sourceMappingURL=pow.js.map","import { Pow as PowScale } from '@antv/scale';\nexport const Pow = (options) => {\n    return new PowScale(options);\n};\nPow.props = {};\n//# sourceMappingURL=pow.js.map","import { createInterpolateValue } from '../utils';\nimport { Pow } from './pow';\nimport { d3Ticks } from '../tick-methods/d3-ticks';\nexport class Sqrt extends Pow {\n    getDefaultOptions() {\n        return {\n            domain: [0, 1],\n            range: [0, 1],\n            nice: false,\n            clamp: false,\n            round: false,\n            interpolate: createInterpolateValue,\n            tickMethod: d3Ticks,\n            tickCount: 5,\n            exponent: 0.5,\n        };\n    }\n    constructor(options) {\n        super(options);\n    }\n    update(options) {\n        super.update(options);\n    }\n    clone() {\n        return new Sqrt(this.options);\n    }\n}\n//# sourceMappingURL=sqrt.js.map","import { Sqrt as SqrtScale } from '@antv/scale';\nexport const Sqrt = (options) => {\n    return new SqrtScale(options);\n};\nSqrt.props = {};\n//# sourceMappingURL=sqrt.js.map","import { Base } from './base';\nimport { bisect, isValid } from '../utils';\n/**\n * 将连续的定义域分段，每一段所有的值对应离散的值域中一个值\n */\nexport class Threshold extends Base {\n    getDefaultOptions() {\n        return {\n            domain: [0.5],\n            range: [0, 1],\n        };\n    }\n    constructor(options) {\n        super(options);\n    }\n    /**\n     * 二分查找到输入值在哪一段，返回对应的值域中的值\n     */\n    map(x) {\n        if (!isValid(x))\n            return this.options.unknown;\n        const index = bisect(this.thresholds, x, 0, this.n);\n        return this.options.range[index];\n    }\n    /**\n     * 在值域中找到对应的值，并返回在定义域中属于哪一段\n     */\n    invert(y) {\n        const { range } = this.options;\n        const index = range.indexOf(y);\n        const domain = this.thresholds;\n        return [domain[index - 1], domain[index]];\n    }\n    clone() {\n        return new Threshold(this.options);\n    }\n    rescale() {\n        const { domain, range } = this.options;\n        this.n = Math.min(domain.length, range.length - 1);\n        this.thresholds = domain;\n    }\n}\n//# sourceMappingURL=threshold.js.map","import { Threshold as ThresholdScale } from '@antv/scale';\nexport const Threshold = (options) => {\n    return new ThresholdScale(options);\n};\nThreshold.props = {};\n//# sourceMappingURL=threshold.js.map","/**\n * 给予一个排序好的数组，分位数\n *\n * @param arr 排序好的数组\n * @param percentage 百分比\n * @returns {number} 计算结果\n */\nfunction quantileSorted(arr, percentage) {\n    const len = arr.length;\n    if (!len) {\n        return undefined;\n    }\n    if (len < 2) {\n        return arr[len - 1];\n    }\n    const i = (len - 1) * percentage;\n    const i0 = Math.floor(i);\n    const v0 = arr[i0];\n    const v1 = arr[i0 + 1];\n    return v0 + (v1 - v0) * (i - i0);\n}\n/**\n * 给定一个数组, 创建分位数数组\n *\n * @param arr 排序好的数组\n * @param n 分位数数组长度\n * @param isSorted 数组是否排序好\n * @returns {number[]} 分位数数组\n */\nexport function createQuartile(arr, n, isSorted = false) {\n    const numberArr = arr;\n    if (!isSorted) {\n        numberArr.sort((a, b) => a - b);\n    }\n    const tmp = [];\n    for (let i = 1; i < n; i += 1) {\n        tmp.push(quantileSorted(numberArr, i / n));\n    }\n    return tmp;\n}\n//# sourceMappingURL=create-quartile.js.map","import { Threshold } from './threshold';\nimport { wilkinsonExtended } from '../tick-methods/wilkinson-extended';\nimport { createQuartile } from '../utils/create-quartile';\n/**\n * 类似 Threshold 比例尺，区别在于分位数比例尺 (Quantile) 将一个离散的输入域映射到一个离散的输出域\n * 输入域被指定为一组离散的样本值，输出域中的值的数量决定了分位数的数量。\n */\nexport class Quantile extends Threshold {\n    getDefaultOptions() {\n        return {\n            domain: [],\n            range: [],\n            tickCount: 5,\n            unknown: undefined,\n            tickMethod: wilkinsonExtended,\n        };\n    }\n    constructor(options) {\n        super(options);\n    }\n    rescale() {\n        const { domain, range } = this.options;\n        this.n = range.length - 1;\n        this.thresholds = createQuartile(domain, this.n + 1, false);\n    }\n    /**\n     * 如果是在第一段后或者最后一段就把两端的值添加上\n     */\n    invert(y) {\n        const [a, b] = super.invert(y);\n        const { domain } = this.options;\n        const dMin = domain[0];\n        const dMax = domain[domain.length - 1];\n        return a === undefined && b === undefined ? [a, b] : [a || dMin, b || dMax];\n    }\n    getThresholds() {\n        return this.thresholds;\n    }\n    clone() {\n        return new Quantile(this.options);\n    }\n    getTicks() {\n        const { tickCount, domain, tickMethod } = this.options;\n        const lastIndex = domain.length - 1;\n        const min = domain[0];\n        const max = domain[lastIndex];\n        return tickMethod(min, max, tickCount);\n    }\n}\n//# sourceMappingURL=quantile.js.map","import { Quantile as QuantileScale } from '@antv/scale';\nexport const Quantile = (options) => {\n    return new QuantileScale(options);\n};\nQuantile.props = {};\n//# sourceMappingURL=quantile.js.map","import { Threshold } from './threshold';\nimport { wilkinsonExtended } from '../tick-methods/wilkinson-extended';\nimport { d3LinearNice } from '../utils';\n/**\n * 类似 Threshold 比例尺，区别在于 thresholds 是根据连续的 domain 根据离散的 range 的数量计算而得到的。\n */\nexport class Quantize extends Threshold {\n    getDefaultOptions() {\n        return {\n            domain: [0, 1],\n            range: [0.5],\n            nice: false,\n            tickCount: 5,\n            tickMethod: wilkinsonExtended,\n        };\n    }\n    constructor(options) {\n        super(options);\n    }\n    nice() {\n        const { nice } = this.options;\n        if (nice) {\n            const [min, max, tickCount] = this.getTickMethodOptions();\n            this.options.domain = d3LinearNice(min, max, tickCount);\n        }\n    }\n    getTicks() {\n        const { tickMethod } = this.options;\n        const [min, max, tickCount] = this.getTickMethodOptions();\n        return tickMethod(min, max, tickCount);\n    }\n    getTickMethodOptions() {\n        const { domain, tickCount } = this.options;\n        const min = domain[0];\n        const max = domain[domain.length - 1];\n        return [min, max, tickCount];\n    }\n    rescale() {\n        this.nice();\n        const { range, domain } = this.options;\n        const [x0, x1] = domain;\n        this.n = range.length - 1;\n        this.thresholds = new Array(this.n);\n        for (let i = 0; i < this.n; i += 1) {\n            this.thresholds[i] = ((i + 1) * x1 - (i - this.n) * x0) / (this.n + 1);\n        }\n    }\n    /**\n     * 如果是在第一段后或者最后一段就把两端的值添加上\n     */\n    invert(y) {\n        const [a, b] = super.invert(y);\n        const [x0, x1] = this.options.domain;\n        return a === undefined && b === undefined ? [a, b] : [a || x0, b || x1];\n    }\n    getThresholds() {\n        return this.thresholds;\n    }\n    clone() {\n        return new Quantize(this.options);\n    }\n}\n//# sourceMappingURL=quantize.js.map","import { Quantize as QuantizeScale } from '@antv/scale';\nexport const Quantize = (options) => {\n    return new QuantizeScale(options);\n};\nQuantize.props = {};\n//# sourceMappingURL=quantize.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar Sequential_1;\nimport { identity } from '@antv/util';\nimport { d3Ticks } from '../tick-methods/d3-ticks';\nimport { compose, createInterpolateNumber, createNormalize, interpolatize } from '../utils';\nimport { Linear } from './linear';\nfunction rangeOf(interpolator) {\n    return [interpolator(0), interpolator(1)];\n}\nconst normalizeDomain = (domain) => {\n    const [d0, d1] = domain;\n    // [d0, d1] => [0, 1]\n    const normalize = compose(createInterpolateNumber(0, 1), createNormalize(d0, d1));\n    return normalize;\n};\n/**\n * Sequential 比例尺\n *\n * 构造可创建一个在输入和输出之间通过插值函数进行转换的比例尺\n */\n// @Sequentialish\nlet Sequential = Sequential_1 = class Sequential extends Linear {\n    getDefaultOptions() {\n        return {\n            domain: [0, 1],\n            unknown: undefined,\n            nice: false,\n            clamp: false,\n            round: false,\n            interpolator: identity,\n            tickMethod: d3Ticks,\n            tickCount: 5,\n        };\n    }\n    constructor(options) {\n        super(options);\n    }\n    clone() {\n        return new Sequential_1(this.options);\n    }\n};\nSequential = Sequential_1 = __decorate([\n    interpolatize(rangeOf, normalizeDomain)\n], Sequential);\nexport { Sequential };\n//# sourceMappingURL=sequential.js.map","import { isNumber } from '@antv/util';\nimport { compose } from './compose';\nconst createInterpolatorRound = (interpolator) => {\n    return (t) => {\n        // If result is not number, it can't be rounded.\n        const res = interpolator(t);\n        return isNumber(res) ? Math.round(res) : res;\n    };\n};\nexport function interpolatize(rangeOf, normalizeDomain) {\n    return (Scale) => {\n        Scale.prototype.rescale = function () {\n            this.initRange();\n            this.nice();\n            const [transform] = this.chooseTransforms();\n            this.composeOutput(transform, this.chooseClamp(transform));\n        };\n        Scale.prototype.initRange = function () {\n            const { interpolator } = this.options;\n            this.options.range = rangeOf(interpolator);\n        };\n        Scale.prototype.composeOutput = function (transform, clamp) {\n            const { domain, interpolator, round } = this.getOptions();\n            const normalize = normalizeDomain(domain.map(transform));\n            const interpolate = round ? createInterpolatorRound(interpolator) : interpolator;\n            this.output = compose(interpolate, normalize, clamp, transform);\n        };\n        Scale.prototype.invert = undefined;\n    };\n}\n//# sourceMappingURL=interpolatize.js.map","import { Sequential as SequentialScale } from '@antv/scale';\nexport const Sequential = (options) => {\n    return new SequentialScale(options);\n};\nSequential.props = {};\n//# sourceMappingURL=sequential.js.map","import { isNumber } from '@antv/util';\nimport { d3Ticks } from '../tick-methods/d3-ticks';\nimport { Base } from './base';\nexport class Constant extends Base {\n    /**\n     * 返回需要覆盖的默认选项\n     * @returns 需要覆盖的默认选项\n     */\n    getDefaultOptions() {\n        return {\n            range: [0],\n            domain: [0, 1],\n            unknown: undefined,\n            tickCount: 5,\n            tickMethod: d3Ticks,\n        };\n    }\n    /**\n     * 输入和输出满足：y = b，其中 b 是一个常量，是 options.range 的第一个元素\n     * @param _ 输入值\n     * @returns 输出值（常量）\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    map(_) {\n        const [v] = this.options.range;\n        return v !== undefined ? v : this.options.unknown;\n    }\n    /**\n     * 如果 x 是该比例尺的常量（\bx === b），返回输入值的范围（即定义域），否者返回 []\n     * @param x 输出值 (常量）\n     * @returns 定义域\n     */\n    invert(x) {\n        const [v] = this.options.range;\n        return x === v && v !== undefined ? this.options.domain : [];\n    }\n    getTicks() {\n        const { tickMethod, domain, tickCount } = this.options;\n        const [a, b] = domain;\n        if (!isNumber(a) || !isNumber(b))\n            return [];\n        return tickMethod(a, b, tickCount);\n    }\n    /**\n     * 克隆 Constant Scale\n     * @returns 拥有相同选项且独立的 Constant Scale\n     */\n    clone() {\n        return new Constant(this.options);\n    }\n}\n//# sourceMappingURL=constant.js.map","import { Constant as ConstantScale } from '@antv/scale';\nexport const Constant = (options) => {\n    return new ConstantScale(options);\n};\nConstant.props = {};\n//# sourceMappingURL=constant.js.map","export function create({ colorDefault, colorBlack, colorWhite, colorStroke, colorBackground, padding1, padding2, padding3, alpha90, alpha65, alpha45, alpha25, alpha10, category10, category20, sizeDefault = 1, padding = 'auto', margin = 16, }) {\n    return {\n        padding,\n        margin,\n        size: sizeDefault,\n        color: colorDefault,\n        category10,\n        category20,\n        enter: {\n            duration: 300,\n            fill: 'both',\n            delay: 0,\n        },\n        update: {\n            duration: 300,\n            fill: 'both',\n            delay: 0,\n        },\n        exit: {\n            duration: 300,\n            fill: 'both',\n            delay: 0,\n        },\n        view: {\n            viewFill: colorBackground,\n            plotFill: 'transparent',\n            mainFill: 'transparent',\n            contentFill: 'transparent',\n        },\n        line: {\n            line: {\n                fill: '',\n                strokeOpacity: 1,\n                lineWidth: 1,\n                lineCap: 'round',\n            },\n        },\n        point: {\n            point: {\n                r: 3,\n                fillOpacity: 0.95,\n                lineWidth: 0,\n            },\n            hollow: {\n                r: 3,\n                strokeOpacity: 0.95,\n                lineWidth: 1,\n            },\n            plus: {\n                r: 3,\n                strokeOpacity: 0.95,\n                lineWidth: 3,\n            },\n            diamond: {\n                r: 3,\n                strokeOpacity: 0.95,\n                lineWidth: 1,\n            },\n        },\n        interval: {\n            rect: {\n                fillOpacity: 0.95,\n            },\n            hollow: {\n                fill: '',\n                strokeOpacity: 1,\n                lineWidth: 2,\n            },\n        },\n        area: {\n            area: {\n                fillOpacity: 0.85,\n                lineWidth: 0,\n            },\n        },\n        polygon: {\n            polygon: {\n                fillOpacity: 0.95,\n            },\n        },\n        cell: {\n            cell: {\n                fillOpacity: 0.95,\n            },\n            hollow: {\n                fill: '',\n                strokeOpacity: 1,\n                lineWidth: 2,\n            },\n        },\n        rect: {\n            rect: {\n                fillOpacity: 0.95,\n            },\n            hollow: {\n                fill: '',\n                strokeOpacity: 1,\n                lineWidth: 2,\n            },\n        },\n        link: {\n            link: {\n                fill: '',\n                strokeOpacity: 1,\n            },\n        },\n        vector: {\n            vector: {\n                fillOpacity: 1,\n            },\n        },\n        box: {\n            box: {\n                fillOpacity: 0.95,\n                stroke: colorBlack,\n                lineWidth: 1,\n            },\n        },\n        text: {\n            text: {\n                fill: '#1D2129',\n                fontSize: 12,\n                lineWidth: 0,\n                connectorStroke: colorStroke,\n                connectorStrokeOpacity: 0.45,\n                connectorLineWidth: 1,\n                backgroundFill: colorStroke,\n                backgroundFillOpacity: 0.15,\n                backgroundPadding: [2, 4],\n                startMarkerSymbol: 'circle',\n                startMarkerSize: 4,\n                endMarkerSymbol: 'circle',\n                endMarkerSize: 4,\n            },\n            badge: {\n                fill: '#1D2129',\n                fillOpacity: 0.65,\n                lineWidth: 0,\n                fontSize: 10,\n                textAlign: 'center',\n                textBaseline: 'middle',\n                markerFill: colorStroke,\n                markerFillOpacity: 0.25,\n                markerStrokeOpacity: 0,\n            },\n        },\n        lineX: {\n            line: {\n                stroke: colorStroke,\n                strokeOpacity: 0.45,\n                lineWidth: 1,\n            },\n        },\n        lineY: {\n            line: {\n                stroke: colorStroke,\n                strokeOpacity: 0.45,\n                lineWidth: 1,\n            },\n        },\n        rangeX: {\n            range: {\n                fill: colorStroke,\n                fillOpacity: 0.15,\n                lineWidth: 0,\n            },\n        },\n        rangeY: {\n            range: {\n                fill: colorStroke,\n                fillOpacity: 0.15,\n                lineWidth: 0,\n            },\n        },\n        connector: {\n            connector: {\n                stroke: colorStroke,\n                strokeOpacity: 0.45,\n                lineWidth: 1,\n                connectLength1: 12,\n                endMarker: true,\n                endMarkerSize: 6,\n                endMarkerFill: colorStroke,\n                endMarkerFillOpacity: 0.95,\n            },\n        },\n        axis: {\n            arrow: false,\n            gridLineDash: [3, 4],\n            gridLineWidth: 0.5,\n            gridStroke: colorBlack,\n            gridStrokeOpacity: alpha10,\n            labelAlign: 'horizontal',\n            labelFill: colorBlack,\n            labelOpacity: alpha45,\n            labelFontSize: 12,\n            labelFontWeight: 'normal',\n            labelSpacing: padding1,\n            line: false,\n            lineLineWidth: 0.5,\n            lineStroke: colorBlack,\n            lineStrokeOpacity: alpha45,\n            tickLength: 4,\n            tickLineWidth: 1,\n            tickStroke: colorBlack,\n            tickOpacity: alpha45,\n            titleFill: colorBlack,\n            titleOpacity: alpha90,\n            titleFontSize: 12,\n            titleFontWeight: 'normal',\n            titleSpacing: 12,\n            titleTransformOrigin: 'center',\n            lineArrowOffset: 6,\n            lineArrowSize: 6,\n        },\n        axisTop: {\n            gridDirection: 'positive',\n            labelDirection: 'negative',\n            tickDirection: 'negative',\n            titlePosition: 'top',\n            titleSpacing: 12,\n            labelSpacing: 4,\n            titleTextBaseline: 'middle',\n        },\n        axisBottom: {\n            gridDirection: 'negative',\n            labelDirection: 'positive',\n            tickDirection: 'positive',\n            titlePosition: 'bottom',\n            titleSpacing: 12,\n            labelSpacing: 4,\n            titleTextBaseline: 'bottom',\n            titleTransform: 'translate(0, 8)',\n        },\n        axisLeft: {\n            gridDirection: 'positive',\n            labelDirection: 'negative',\n            labelSpacing: 4,\n            tickDirection: 'negative',\n            titlePosition: 'left',\n            titleSpacing: 12,\n            titleTextBaseline: 'middle',\n            titleDirection: 'vertical',\n            titleTransform: 'rotate(-90) translate(0, -8)',\n            titleTransformOrigin: 'center',\n        },\n        axisRight: {\n            gridDirection: 'negative',\n            labelDirection: 'positive',\n            labelSpacing: 4,\n            tickDirection: 'positive',\n            titlePosition: 'right',\n            titleSpacing: 12,\n            titleTextBaseline: 'top',\n            titleDirection: 'vertical',\n            titleTransformOrigin: 'center',\n        },\n        axisLinear: {\n            girdClosed: true,\n            gridConnect: 'arc',\n            gridDirection: 'negative',\n            gridType: 'surround',\n            titlePosition: 'top',\n            titleSpacing: 0,\n        },\n        axisArc: {\n            title: false,\n            titlePosition: 'inner',\n            line: false,\n            tick: true,\n            labelSpacing: 4,\n        },\n        axisRadar: {\n            girdClosed: true,\n            gridStrokeOpacity: 0.3,\n            gridType: 'surround',\n            label: false,\n            tick: false,\n            titlePosition: 'start',\n        },\n        legendCategory: {\n            backgroundFill: 'transparent',\n            itemBackgroundFill: 'transparent',\n            itemLabelFill: colorBlack,\n            itemLabelFillOpacity: alpha90,\n            itemLabelFontSize: 12,\n            itemLabelFontWeight: 'normal',\n            itemMarkerFillOpacity: 1,\n            itemMarkerSize: 8,\n            itemSpacing: [padding1, padding1],\n            itemValueFill: colorBlack,\n            itemValueFillOpacity: 0.65,\n            itemValueFontSize: 12,\n            itemValueFontWeight: 'normal',\n            navButtonFill: colorBlack,\n            navButtonFillOpacity: 0.65,\n            navPageNumFill: colorBlack,\n            navPageNumFillOpacity: 0.45,\n            navPageNumFontSize: 12,\n            padding: 8,\n            title: false,\n            titleFill: colorBlack,\n            titleFillOpacity: 0.65,\n            titleFontSize: 12,\n            titleFontWeight: 'normal',\n            titleSpacing: 4,\n            tickStroke: colorBlack,\n            tickStrokeOpacity: 0.25,\n            rowPadding: padding1,\n            colPadding: padding2,\n            maxRows: 3,\n            maxCols: 3,\n        },\n        legendContinuous: {\n            handleHeight: 12,\n            handleLabelFill: colorBlack,\n            handleLabelFillOpacity: alpha45,\n            handleLabelFontSize: 12,\n            handleLabelFontWeight: 'normal',\n            handleMarkerFill: colorBlack,\n            handleMarkerFillOpacity: 0.6,\n            handleMarkerLineWidth: 1,\n            handleMarkerStroke: colorBlack,\n            handleMarkerStrokeOpacity: 0.25,\n            handleWidth: 10,\n            labelFill: colorBlack,\n            labelFillOpacity: alpha45,\n            labelFontSize: 12,\n            labelFontWeight: 'normal',\n            labelSpacing: 3,\n            tick: true,\n            tickLength: 12,\n            ribbonSize: 12,\n            ribbonFill: '#aaa',\n            handle: true,\n            handleLabel: false,\n            handleShape: 'slider',\n            handleIconSize: 12 / 1.8,\n            indicator: false,\n            titleFontSize: 12,\n            titleSpacing: 4,\n            titleFontWeight: 'normal',\n            titleFillOpacity: alpha90,\n            tickStroke: colorBlack,\n            tickStrokeOpacity: alpha45,\n        },\n        label: {\n            fill: colorBlack,\n            fillOpacity: 0.65,\n            fontSize: 12,\n            fontWeight: 'normal',\n            stroke: undefined,\n            offset: 12,\n            connectorStroke: colorBlack,\n            connectorStrokeOpacity: 0.45,\n            connectorLineWidth: 1,\n            connectorLength: 12,\n            connectorLength2: 8,\n            connectorDistance: 4,\n        },\n        innerLabel: {\n            fill: colorWhite,\n            fontSize: 12,\n            fillOpacity: 0.85,\n            fontWeight: 'normal',\n            stroke: undefined,\n            offset: 0,\n        },\n        htmlLabel: {\n            fontSize: 12,\n            opacity: 0.65,\n            color: colorBlack,\n            fontWeight: 'normal',\n        },\n        slider: {\n            trackSize: 16,\n            trackFill: colorStroke,\n            trackFillOpacity: 1,\n            selectionFill: colorDefault,\n            selectionFillOpacity: 0.15,\n            handleIconSize: 10,\n            handleIconFill: '#f7f7f7',\n            handleIconFillOpacity: 1,\n            handleIconStroke: colorBlack,\n            handleIconStrokeOpacity: 0.25,\n            handleIconLineWidth: 1,\n            handleIconRadius: 2,\n            handleLabelFill: colorBlack,\n            handleLabelFillOpacity: 0.45,\n            handleLabelFontSize: 12,\n            handleLabelFontWeight: 'normal',\n        },\n        scrollbar: {\n            padding: [0, 0, 0, 0],\n            trackSize: 6,\n            isRound: true,\n            slidable: true,\n            scrollable: true,\n            trackFill: '#e5e5e5',\n            trackFillOpacity: 0,\n            thumbFill: '#000',\n            thumbFillOpacity: 0.15,\n            thumbHighlightedFillOpacity: 0.2,\n        },\n        title: {\n            spacing: 8,\n            titleFill: colorBlack,\n            titleFillOpacity: alpha90,\n            titleFontSize: 16,\n            titleFontWeight: 'bold',\n            titleTextBaseline: 'top',\n            subtitleFill: colorBlack,\n            subtitleFillOpacity: alpha65,\n            subtitleFontSize: 12,\n            subtitleFontWeight: 'normal',\n            subtitleTextBaseline: 'top',\n        },\n        tooltip: {\n            css: {\n                '.g2-tooltip': {\n                    'font-family': 'sans-serif',\n                },\n            },\n        },\n    };\n}\n//# sourceMappingURL=create.js.map","import { deepMix } from '@antv/util';\nimport { create } from './create';\nexport const tokens = {\n    colorBlack: '#1D2129',\n    colorWhite: '#ffffff',\n    colorStroke: '#416180',\n    colorDefault: '#1783FF',\n    colorBackground: 'transparent',\n    category10: [\n        '#1783FF',\n        '#00C9C9',\n        '#F0884D',\n        '#D580FF',\n        '#7863FF',\n        '#60C42D',\n        '#BD8F24',\n        '#FF80CA',\n        '#2491B3',\n        '#17C76F',\n    ],\n    category20: [\n        '#1783FF',\n        '#00C9C9',\n        '#F0884D',\n        '#D580FF',\n        '#7863FF',\n        '#60C42D',\n        '#BD8F24',\n        '#FF80CA',\n        '#2491B3',\n        '#17C76F',\n        '#AABA01',\n        '#BC7CFC',\n        '#237CBC',\n        '#2DE379',\n        '#CE8032',\n        '#FF7AF4',\n        '#545FD3',\n        '#AFE410',\n        '#D8C608',\n        '#FFA1E0',\n    ],\n    padding1: 8,\n    padding2: 12,\n    padding3: 20,\n    alpha90: 0.9,\n    alpha65: 0.65,\n    alpha45: 0.45,\n    alpha25: 0.25,\n    alpha10: 0.1,\n};\nconst defaults = create(tokens);\n/**\n * Default theme.\n */\nexport const Light = (options) => {\n    return deepMix({}, defaults, options);\n};\nLight.props = {};\n//# sourceMappingURL=light.js.map","import { deepMix } from '@antv/util';\nimport { Light } from './light';\n/**\n * Default theme.\n */\nexport const Classic = (options) => {\n    return deepMix({}, Light(), {\n        category10: 'category10',\n        category20: 'category20',\n    }, options);\n};\nClassic.props = {};\n//# sourceMappingURL=classic.js.map","import { deepMix } from '@antv/util';\nimport { create } from './create';\nexport const tokens = {\n    colorBlack: '#fff',\n    colorWhite: '#000',\n    colorStroke: '#416180',\n    colorDefault: '#1783FF',\n    colorBackground: 'transparent',\n    category10: [\n        '#1783FF',\n        '#00C9C9',\n        '#F0884D',\n        '#D580FF',\n        '#7863FF',\n        '#60C42D',\n        '#BD8F24',\n        '#FF80CA',\n        '#2491B3',\n        '#17C76F',\n    ],\n    category20: [\n        '#1783FF',\n        '#00C9C9',\n        '#F0884D',\n        '#D580FF',\n        '#7863FF',\n        '#60C42D',\n        '#BD8F24',\n        '#FF80CA',\n        '#2491B3',\n        '#17C76F',\n        '#AABA01',\n        '#BC7CFC',\n        '#237CBC',\n        '#2DE379',\n        '#CE8032',\n        '#FF7AF4',\n        '#545FD3',\n        '#AFE410',\n        '#D8C608',\n        '#FFA1E0',\n    ],\n    padding1: 8,\n    padding2: 12,\n    padding3: 20,\n    alpha90: 0.9,\n    alpha65: 0.65,\n    alpha45: 0.45,\n    alpha25: 0.25,\n    alpha10: 0.25,\n};\nconst defaults = create(tokens);\nexport const Dark = (options) => {\n    return deepMix({}, defaults, {\n        tooltip: {\n            crosshairsStroke: '#fff',\n            crosshairsLineWidth: 1,\n            crosshairsStrokeOpacity: 0.25,\n            css: {\n                '.g2-tooltip': {\n                    background: '#1f1f1f',\n                    opacity: 0.95,\n                },\n                '.g2-tooltip-title': {\n                    color: '#A6A6A6',\n                },\n                '.g2-tooltip-list-item-name-label': {\n                    color: '#A6A6A6',\n                },\n                '.g2-tooltip-list-item-value': {\n                    color: '#A6A6A6',\n                },\n            },\n        },\n    }, options);\n};\n//# sourceMappingURL=dark.js.map","import { Dark } from './dark';\n/**\n * Dark theme.\n */\nexport const ClassicDark = (options) => {\n    return Object.assign({}, Dark(), {\n        category10: 'category10',\n        category20: 'category20',\n    }, options);\n};\nClassicDark.props = {};\n//# sourceMappingURL=classicDark.js.map","import { deepMix } from '@antv/util';\nimport { create } from './create';\nexport const tokens = {\n    colorBlack: '#000',\n    colorWhite: '#fff',\n    colorStroke: '#888',\n    colorDefault: '#4e79a7',\n    colorBackground: 'transparent',\n    category10: [\n        '#4e79a7',\n        '#f28e2c',\n        '#e15759',\n        '#76b7b2',\n        '#59a14f',\n        '#edc949',\n        '#af7aa1',\n        '#ff9da7',\n        '#9c755f',\n        '#bab0ab',\n    ],\n    category20: [\n        '#4e79a7',\n        '#f28e2c',\n        '#e15759',\n        '#76b7b2',\n        '#59a14f',\n        '#edc949',\n        '#af7aa1',\n        '#ff9da7',\n        '#9c755f',\n        '#bab0ab',\n    ],\n    padding1: 8,\n    padding2: 12,\n    padding3: 20,\n    alpha90: 0.9,\n    alpha65: 0.65,\n    alpha45: 0.45,\n    alpha25: 0.25,\n    alpha10: 0.1,\n};\nconst defaults = create(tokens);\nexport const Academy = (options) => {\n    return deepMix({}, defaults, {\n        text: { text: { fontSize: 10 } },\n        axis: {\n            gridLineDash: [0, 0],\n            gridLineWidth: 1,\n            gridStroke: '#ddd',\n            gridStrokeOpacity: 1,\n            labelOpacity: 1,\n            labelStrokeOpacity: 1,\n            labelFontSize: 10,\n            line: true,\n            lineLineWidth: 1,\n            lineStroke: '#888',\n            lineStrokeOpacity: 1,\n            tickLength: 5,\n            tickStrokeOpacity: 1,\n            titleOpacity: 1,\n            titleStrokeOpacity: 1,\n            titleFillOpacity: 1,\n            titleFontSize: 11,\n            titleFontWeight: 'bold',\n        },\n        axisLeft: {\n            gridFilter: (_, i) => i !== 0,\n        },\n        axisRight: {\n            gridFilter: (_, i) => i !== 0,\n        },\n        legendCategory: {\n            itemLabelFillOpacity: 1,\n            itemLabelFontSize: 10,\n            itemValueFillOpacity: 1,\n            itemValueFontSize: 10,\n            titleFillOpacity: 1,\n            titleFontSize: 11,\n            titleFontWeight: 'bold',\n        },\n        legendContinuous: {\n            handleLabelFontSize: 10,\n            labelFillOpacity: 0.45,\n            labelFontSize: 10,\n        },\n        label: {\n            fontSize: 10,\n        },\n        innerLabel: {\n            fontSize: 10,\n        },\n        htmlLabel: {\n            fontSize: 10,\n        },\n        slider: {\n            handleLabelFontSize: 10,\n            trackFillOpacity: 0.05,\n        },\n    }, options);\n};\nAcademy.props = {};\n//# sourceMappingURL=academy.js.map","import isArray from './is-array';\nimport isObject from './is-object';\nfunction each(elements, func) {\n    if (!elements) {\n        return;\n    }\n    var rst;\n    if (isArray(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n            rst = func(elements[i], i);\n            if (rst === false) {\n                break;\n            }\n        }\n    }\n    else if (isObject(elements)) {\n        for (var k in elements) {\n            if (elements.hasOwnProperty(k)) {\n                rst = func(elements[k], k);\n                if (rst === false) {\n                    break;\n                }\n            }\n        }\n    }\n}\nexport default each;\n//# sourceMappingURL=each.js.map","export default (function (value) {\n    /**\n     * isObject({}) => true\n     * isObject([1, 2, 3]) => true\n     * isObject(Function) => true\n     * isObject(null) => false\n     */\n    var type = typeof value;\n    return (value !== null && type === 'object') || type === 'function';\n});\n//# sourceMappingURL=is-object.js.map","import each from './each';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar reduce = function (arr, fn, init) {\n    if (!isArray(arr) && !isPlainObject(arr)) {\n        return arr;\n    }\n    var result = init;\n    each(arr, function (data, i) {\n        result = fn(result, data, i);\n    });\n    return result;\n};\nexport default reduce;\n//# sourceMappingURL=reduce.js.map","import reduce from './reduce';\nexport default (function (obj, keys) {\n    return reduce(obj, function (r, curr, key) {\n        if (!keys.includes(key)) {\n            r[key] = curr;\n        }\n        return r;\n    }, {});\n});\n//# sourceMappingURL=omit.js.map","import toString from './to-string';\nvar upperFirst = function (value) {\n    var str = toString(value);\n    return str.charAt(0).toUpperCase() + str.substring(1);\n};\nexport default upperFirst;\n//# sourceMappingURL=upper-first.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { CustomElement } from '@antv/g';\nimport { Layout } from '@antv/component';\nimport { deepMix, upperFirst } from '@antv/util';\nimport { select } from '../utils/selection';\nexport function createComponent(descriptor) {\n    return class extends CustomElement {\n        constructor(config) {\n            super(config);\n            this.descriptor = descriptor;\n        }\n        connectedCallback() {\n            var _a, _b;\n            (_b = (_a = this.descriptor).render) === null || _b === void 0 ? void 0 : _b.call(_a, this.attributes, this);\n        }\n        update(cfg = {}) {\n            var _a, _b;\n            this.attr(deepMix({}, this.attributes, cfg));\n            (_b = (_a = this.descriptor).render) === null || _b === void 0 ? void 0 : _b.call(_a, this.attributes, this);\n        }\n    };\n}\nexport function maybeAppend(parent, selector, node) {\n    if (!parent.querySelector(selector)) {\n        return select(parent).append(node);\n    }\n    return select(parent).select(selector);\n}\nexport function titleContent(field) {\n    return Array.isArray(field) ? field.join(', ') : `${field || ''}`;\n}\nexport function inferComponentLayout(position, userDefinitions) {\n    const preset = {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    };\n    let { flexDirection, justifyContent, alignItems } = preset;\n    const layout = {\n        top: ['row', 'flex-start', 'center'],\n        bottom: ['row', 'flex-start', 'center'],\n        left: ['column', 'flex-start', 'center'],\n        right: ['column', 'flex-start', 'center'],\n        center: ['column', 'center', 'center'],\n    };\n    if (position in layout) {\n        [flexDirection, justifyContent, alignItems] = layout[position];\n    }\n    return Object.assign({ display: 'flex', flexDirection,\n        justifyContent,\n        alignItems }, userDefinitions);\n}\nexport class G2Layout extends Layout {\n    get child() {\n        var _a;\n        return (_a = this.children) === null || _a === void 0 ? void 0 : _a[0];\n    }\n    update(options) {\n        var _a;\n        this.attr(options);\n        const { subOptions } = options;\n        (_a = this.child) === null || _a === void 0 ? void 0 : _a.update(subOptions);\n    }\n}\nexport class LegendCategoryLayout extends G2Layout {\n    update(options) {\n        var _a;\n        const { subOptions } = options;\n        this.attr(options);\n        (_a = this.child) === null || _a === void 0 ? void 0 : _a.update(subOptions);\n    }\n}\nexport function scaleOf(scales, type) {\n    var _a;\n    return (_a = scales.filter((s) => s.getOptions().name === type)) === null || _a === void 0 ? void 0 : _a[0];\n}\nexport function isHorizontal(orientation) {\n    return orientation === 'horizontal' || orientation === 0;\n}\nexport function isVertical(orientation) {\n    return orientation === 'vertical' || orientation === -Math.PI / 2;\n}\nexport function inferComponentShape(value, options, component) {\n    const { bbox } = value;\n    const { position = 'top', size: userDefinedSize, length: userDefinedLength, } = options;\n    const isHorizontal = ['top', 'bottom', 'center'].includes(position);\n    const [bboxSize, bboxLength] = isHorizontal\n        ? [bbox.height, bbox.width]\n        : [bbox.width, bbox.height];\n    const { defaultSize, defaultLength } = component.props;\n    const size = userDefinedSize || defaultSize || bboxSize;\n    const length = userDefinedLength || defaultLength || bboxLength;\n    const orientation = isHorizontal ? 'horizontal' : 'vertical';\n    const [width, height] = isHorizontal ? [length, size] : [size, length];\n    return {\n        orientation,\n        width,\n        height,\n        size,\n        length,\n    };\n}\nexport function domainOf(scales) {\n    // to get a available scale's domain\n    return scales\n        .find((scale) => scale.getOptions().domain.length > 0)\n        .getOptions().domain;\n}\nexport function adaptor(style) {\n    const reservedKeys = [\n        'arrow',\n        'crosshairs',\n        'grid',\n        'handle',\n        'handleLabel',\n        'indicator',\n        'label',\n        'line',\n        'tick',\n        'tip',\n        'title',\n        'trunc',\n    ];\n    // @ts-ignore\n    const { style: styles } = style, rest = __rest(style, [\"style\"]);\n    const finalStyle = {};\n    Object.entries(rest).forEach(([key, value]) => {\n        if (reservedKeys.includes(key)) {\n            finalStyle[`show${upperFirst(key)}`] = value;\n        }\n        else\n            finalStyle[key] = value;\n    });\n    return Object.assign(Object.assign({}, finalStyle), styles);\n}\n//# sourceMappingURL=utils.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Axis as AxisComponent } from '@antv/component';\nimport { Linear as LinearScale } from '@antv/scale';\nimport { deepMix, omit, upperFirst } from '@antv/util';\nimport { extent } from 'd3-array';\nimport { format } from 'd3-format';\nimport { angleOf, isFisheye, isParallel, isPolar, isRadial, isTheta, isTranspose, radiusOf, } from '../utils/coordinate';\nimport { prettyNumber } from '../utils/number';\nimport { capitalizeFirst } from '../utils/helper';\nimport { adaptor, isVertical, titleContent } from './utils';\nexport function rotateAxis(axis, options) {\n    const { eulerAngles, origin } = options;\n    if (origin) {\n        axis.setOrigin(origin);\n    }\n    if (eulerAngles) {\n        axis.rotate(eulerAngles[0], eulerAngles[1], eulerAngles[2]);\n    }\n}\nfunction sizeOf(coordinate) {\n    // @ts-ignore\n    const { innerWidth, innerHeight, depth } = coordinate.getOptions();\n    return [innerWidth, innerHeight, depth];\n}\nfunction createFisheye(position, coordinate) {\n    const { width, height } = coordinate.getOptions();\n    return (tick) => {\n        if (!isFisheye(coordinate))\n            return tick;\n        const tickPoint = position === 'bottom' ? [tick, 1] : [0, tick];\n        const vector = coordinate.map(tickPoint);\n        if (position === 'bottom') {\n            const v = vector[0];\n            const x = new LinearScale({\n                domain: [0, width],\n                range: [0, 1],\n            });\n            return x.map(v);\n        }\n        else if (position === 'left') {\n            const v = vector[1];\n            const x = new LinearScale({\n                domain: [0, height],\n                range: [0, 1],\n            });\n            return x.map(v);\n        }\n        return tick;\n    };\n}\nfunction ticksOf(scale, domain, tickMethod) {\n    if (scale.getTicks)\n        return scale.getTicks();\n    if (!tickMethod)\n        return domain;\n    const [min, max] = extent(domain, (d) => +d);\n    const { tickCount } = scale.getOptions();\n    return tickMethod(min, max, tickCount);\n}\n// Set inset for axis.\nfunction createInset(position, coordinate) {\n    if (isPolar(coordinate))\n        return (d) => d;\n    const options = coordinate.getOptions();\n    const { innerWidth, innerHeight, insetTop, insetBottom, insetLeft, insetRight, } = options;\n    const [start, end, size] = position === 'left' || position === 'right'\n        ? [insetTop, insetBottom, innerHeight]\n        : [insetLeft, insetRight, innerWidth];\n    const x = new LinearScale({\n        domain: [0, 1],\n        range: [start / size, 1 - end / size],\n    });\n    return (i) => x.map(i);\n}\n/**\n * Calc ticks based on scale and coordinate.\n */\nfunction getData(scale, domain, tickCount, defaultTickFormatter, tickFilter, tickMethod, position, coordinate) {\n    var _a;\n    if (tickCount !== undefined || tickMethod !== undefined) {\n        scale.update(Object.assign(Object.assign({}, (tickCount && { tickCount })), (tickMethod && { tickMethod })));\n    }\n    const ticks = ticksOf(scale, domain, tickMethod);\n    const filteredTicks = tickFilter ? ticks.filter(tickFilter) : ticks;\n    const toString = (d) => d instanceof Date\n        ? String(d)\n        : typeof d === 'object' && !!d\n            ? d\n            : String(d);\n    const labelFormatter = defaultTickFormatter || ((_a = scale.getFormatter) === null || _a === void 0 ? void 0 : _a.call(scale)) || toString;\n    const applyInset = createInset(position, coordinate);\n    const applyFisheye = createFisheye(position, coordinate);\n    const isHorizontal = (position) => ['top', 'bottom', 'center', 'outer'].includes(position);\n    const isVertical = (position) => ['left', 'right'].includes(position);\n    // @todo GUI should consider the overlap problem for the first\n    // and label of arc axis.\n    if (isPolar(coordinate) || isTranspose(coordinate)) {\n        return filteredTicks.map((d, i, array) => {\n            var _a, _b;\n            const offset = ((_a = scale.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(scale, d)) / 2 || 0;\n            const tick = applyInset(scale.map(d) + offset);\n            const shouldReverse = (isRadial(coordinate) && position === 'center') ||\n                (isTranspose(coordinate) &&\n                    ((_b = scale.getTicks) === null || _b === void 0 ? void 0 : _b.call(scale)) &&\n                    isHorizontal(position)) ||\n                (isTranspose(coordinate) && isVertical(position));\n            return {\n                value: shouldReverse ? 1 - tick : tick,\n                label: toString(labelFormatter(prettyNumber(d), i, array)),\n                id: String(i),\n            };\n        });\n    }\n    return filteredTicks.map((d, i, array) => {\n        var _a;\n        const offset = ((_a = scale.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(scale, d)) / 2 || 0;\n        const tick = applyFisheye(applyInset(scale.map(d) + offset));\n        const shouldReverse = isVertical(position);\n        return {\n            value: shouldReverse ? 1 - tick : tick,\n            label: toString(labelFormatter(prettyNumber(d), i, array)),\n            id: String(i),\n        };\n    });\n}\nfunction inferGridLength(position, coordinate, plane = 'xy') {\n    const [width, height, depth] = sizeOf(coordinate);\n    if (plane === 'xy') {\n        if (position.includes('bottom') || position.includes('top'))\n            return height;\n        return width;\n    }\n    else if (plane === 'xz') {\n        if (position.includes('bottom') || position.includes('top'))\n            return depth;\n        return width;\n    }\n    else {\n        if (position.includes('bottom') || position.includes('top'))\n            return height;\n        return depth;\n    }\n}\nfunction inferLabelOverlap(transform = [], style) {\n    if (transform.length > 0)\n        return transform;\n    const { labelAutoRotate, labelAutoHide, labelAutoEllipsis, labelAutoWrap } = style;\n    const finalTransforms = [];\n    const addToTransforms = (overlap, state) => {\n        if (state) {\n            finalTransforms.push(Object.assign(Object.assign({}, overlap), state));\n        }\n    };\n    addToTransforms({\n        type: 'rotate',\n        optionalAngles: [0, 15, 30, 45, 60, 90],\n    }, labelAutoRotate);\n    addToTransforms({ type: 'ellipsis', minLength: 20 }, labelAutoEllipsis);\n    addToTransforms({ type: 'hide' }, labelAutoHide);\n    addToTransforms({ type: 'wrap', wordWrapWidth: 100, maxLines: 3, recoveryWhenFail: true }, labelAutoWrap);\n    return finalTransforms;\n}\nfunction inferArcStyle(position, bbox, innerRadius, outerRadius, coordinate) {\n    const { x, y, width, height } = bbox;\n    const center = [x + width / 2, y + height / 2];\n    const radius = Math.min(width, height) / 2;\n    const [startAngle, endAngle] = angleOf(coordinate);\n    const [w, h] = sizeOf(coordinate);\n    const r = Math.min(w, h) / 2;\n    const common = {\n        center,\n        radius,\n        startAngle,\n        endAngle,\n        gridLength: (outerRadius - innerRadius) * r,\n    };\n    if (position === 'inner') {\n        // @ts-ignore\n        const { insetLeft, insetTop } = coordinate.getOptions();\n        return Object.assign(Object.assign({}, common), { center: [center[0] - insetLeft, center[1] - insetTop], labelAlign: 'perpendicular', labelDirection: 'positive', tickDirection: 'positive', gridDirection: 'negative' });\n    }\n    // arc outer\n    return Object.assign(Object.assign({}, common), { labelAlign: 'parallel', labelDirection: 'negative', tickDirection: 'negative', gridDirection: 'positive' });\n}\nfunction inferGrid(value, coordinate, scale) {\n    if (isTheta(coordinate) || isParallel(coordinate))\n        return false;\n    // Display axis grid for non-discrete values.\n    return value === undefined ? !!scale.getTicks : value;\n}\nfunction infer3DAxisLinearOverrideStyle(coordinate) {\n    // @ts-ignore\n    const { depth } = coordinate.getOptions();\n    return depth\n        ? {\n            tickIsBillboard: true,\n            lineIsBillboard: true,\n            labelIsBillboard: true,\n            titleIsBillboard: true,\n            gridIsBillboard: true,\n        }\n        : {};\n}\nfunction inferAxisLinearOverrideStyle(position, orientation, bbox, coordinate, xScale) {\n    const { x, y, width, height } = bbox;\n    if (position === 'bottom') {\n        return { startPos: [x, y], endPos: [x + width, y] };\n    }\n    if (position === 'left') {\n        return { startPos: [x + width, y + height], endPos: [x + width, y] };\n    }\n    if (position === 'right') {\n        return { startPos: [x, y + height], endPos: [x, y] };\n    }\n    if (position === 'top') {\n        return { startPos: [x, y + height], endPos: [x + width, y + height] };\n    }\n    // linear axis, maybe in parallel, polar, radial or radar systems.\n    if (position === 'center') {\n        // axisY\n        if (orientation === 'vertical') {\n            return {\n                startPos: [x, y],\n                endPos: [x, y + height],\n            };\n        }\n        // axisX\n        else if (orientation === 'horizontal') {\n            return {\n                startPos: [x, y],\n                endPos: [x + width, y],\n            };\n        }\n        // axis with rotate\n        else if (typeof orientation === 'number') {\n            const [cx, cy] = coordinate.getCenter();\n            const [innerRadius, outerRadius] = radiusOf(coordinate);\n            const [startAngle, endAngle] = angleOf(coordinate);\n            const r = Math.min(width, height) / 2;\n            // @ts-ignore\n            const { insetLeft, insetTop } = coordinate.getOptions();\n            const innerR = innerRadius * r;\n            const outerR = outerRadius * r;\n            const [actualCx, actualCy] = [cx + x - insetLeft, cy + y - insetTop];\n            const [cos, sin] = [Math.cos(orientation), Math.sin(orientation)];\n            const startPos = [\n                actualCx + outerR * cos,\n                actualCy + outerR * sin,\n            ];\n            const endPos = [\n                actualCx + innerR * cos,\n                actualCy + innerR * sin,\n            ];\n            const getAxisXDomainLength = () => {\n                const { domain } = xScale.getOptions();\n                return domain.length;\n            };\n            const controllAngleCount = isPolar(coordinate) && xScale ? getAxisXDomainLength() : 3;\n            return {\n                startPos,\n                endPos,\n                gridClosed: Math.abs(endAngle - startAngle - 360) < 1e-6,\n                gridCenter: [actualCx, actualCy],\n                gridControlAngles: new Array(controllAngleCount)\n                    .fill(0)\n                    .map((d, i, arr) => ((endAngle - startAngle) / controllAngleCount) * i),\n            };\n        }\n    }\n    // position is inner or outer for arc axis won't be here\n    return {};\n}\nconst ArcAxisComponent = (options) => {\n    const { order, size, position, orientation, labelFormatter, tickFilter, tickCount, tickMethod, important = {}, style = {}, indexBBox, title, grid = false } = options, rest = __rest(options, [\"order\", \"size\", \"position\", \"orientation\", \"labelFormatter\", \"tickFilter\", \"tickCount\", \"tickMethod\", \"important\", \"style\", \"indexBBox\", \"title\", \"grid\"]);\n    return ({ scales: [scale], value, coordinate, theme }) => {\n        const { bbox } = value;\n        const { domain } = scale.getOptions();\n        const data = getData(scale, domain, tickCount, labelFormatter, tickFilter, tickMethod, position, coordinate);\n        // Bind computed bbox if exists.\n        const labels = indexBBox\n            ? data.map((d, i) => {\n                const bbox = indexBBox.get(i);\n                if (!bbox)\n                    return d;\n                // bbox: [label, bbox]\n                // Make than indexBBox can match current label.\n                if (bbox[0] !== d.label)\n                    return d;\n                return Object.assign(Object.assign({}, d), { bbox: bbox[1] });\n            })\n            : data;\n        const [innerRadius, outerRadius] = radiusOf(coordinate);\n        const defaultStyle = inferArcStyle(position, bbox, innerRadius, outerRadius, coordinate);\n        const { axis: axisTheme, axisArc = {} } = theme;\n        const finalStyle = adaptor(deepMix({}, axisTheme, axisArc, defaultStyle, Object.assign(Object.assign({ type: 'arc', data: labels, titleText: titleContent(title), grid }, rest), important)));\n        return new AxisComponent({\n            // @fixme transform is not valid for arcAxis.\n            // @ts-ignore\n            style: omit(finalStyle, ['transform']),\n        });\n    };\n};\nfunction inferThemeStyle(scale, coordinate, theme, direction, position, orientation) {\n    const baseStyle = theme.axis;\n    const positionStyle = ['top', 'right', 'bottom', 'left'].includes(position)\n        ? theme[`axis${capitalizeFirst(position)}`]\n        : theme.axisLinear;\n    const channel = scale.getOptions().name;\n    const channelStyle = theme[`axis${upperFirst(channel)}`] || {};\n    return Object.assign({}, baseStyle, positionStyle, channelStyle);\n}\nfunction inferDefaultStyle(scale, coordinate, theme, direction, position, orientation) {\n    const themeStyle = inferThemeStyle(scale, coordinate, theme, direction, position, orientation);\n    if (position === 'center') {\n        return Object.assign(Object.assign(Object.assign(Object.assign({}, themeStyle), { labelDirection: direction === 'right' ? 'negative' : 'positive' }), (direction === 'center'\n            ? { labelTransform: 'translate(50%,0)' }\n            : null)), { tickDirection: direction === 'right' ? 'negative' : 'positive', labelSpacing: direction === 'center' ? 0 : 4, titleSpacing: isVertical(orientation) ? 10 : 0, tick: direction === 'center' ? false : undefined });\n    }\n    return themeStyle;\n}\nconst LinearAxisComponent = (options) => {\n    const { direction = 'left', important = {}, labelFormatter, order, orientation, actualPosition, position, size, style = {}, title, tickCount, tickFilter, tickMethod, transform, indexBBox } = options, userDefinitions = __rest(options, [\"direction\", \"important\", \"labelFormatter\", \"order\", \"orientation\", \"actualPosition\", \"position\", \"size\", \"style\", \"title\", \"tickCount\", \"tickFilter\", \"tickMethod\", \"transform\", \"indexBBox\"]);\n    return ({ scales, value, coordinate, theme }) => {\n        const { bbox } = value;\n        const [scale] = scales;\n        const { domain, xScale } = scale.getOptions();\n        const defaultStyle = inferDefaultStyle(scale, coordinate, theme, direction, position, orientation);\n        const internalAxisStyle = Object.assign(Object.assign(Object.assign({}, defaultStyle), style), userDefinitions);\n        const gridLength = inferGridLength(actualPosition || position, coordinate, options.plane);\n        const overrideStyle = inferAxisLinearOverrideStyle(position, orientation, bbox, coordinate, xScale);\n        const threeDOverrideStyle = infer3DAxisLinearOverrideStyle(coordinate);\n        const data = getData(scale, domain, tickCount, labelFormatter, tickFilter, tickMethod, position, coordinate);\n        // Bind computed bbox if exists.\n        const labels = indexBBox\n            ? data.map((d, i) => {\n                const bbox = indexBBox.get(i);\n                if (!bbox)\n                    return d;\n                // bbox: [label, bbox]\n                // Make than indexBBox can match current label.\n                if (bbox[0] !== d.label)\n                    return d;\n                return Object.assign(Object.assign({}, d), { bbox: bbox[1] });\n            })\n            : data;\n        const finalAxisStyle = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, internalAxisStyle), { type: 'linear', data: labels, crossSize: size, titleText: titleContent(title), labelOverlap: inferLabelOverlap(transform, internalAxisStyle), grid: inferGrid(internalAxisStyle.grid, coordinate, scale), gridLength, \n            // Always showLine, make title could align the end of axis.\n            line: true, indexBBox }), (!internalAxisStyle.line ? { lineOpacity: 0 } : null)), overrideStyle), threeDOverrideStyle), important);\n        // For hide overlap, do not set crossSize.\n        const hasHide = finalAxisStyle.labelOverlap.find((d) => d.type === 'hide');\n        if (hasHide)\n            finalAxisStyle.crossSize = false;\n        return new AxisComponent({\n            className: 'axis',\n            style: adaptor(finalAxisStyle),\n        });\n    };\n};\nconst axisFactor = (axis) => {\n    return (options) => {\n        const { labelFormatter: useDefinedLabelFormatter, labelFilter: userDefinedLabelFilter = () => true, } = options;\n        return (context) => {\n            var _a;\n            const { scales: [scale], } = context;\n            const ticks = ((_a = scale.getTicks) === null || _a === void 0 ? void 0 : _a.call(scale)) || scale.getOptions().domain;\n            const labelFormatter = typeof useDefinedLabelFormatter === 'string'\n                ? format(useDefinedLabelFormatter)\n                : useDefinedLabelFormatter;\n            const labelFilter = (datum, index, array) => userDefinedLabelFilter(ticks[index], index, ticks);\n            const normalizedOptions = Object.assign(Object.assign({}, options), { labelFormatter,\n                labelFilter,\n                scale });\n            return axis(normalizedOptions)(context);\n        };\n    };\n};\nexport const LinearAxis = axisFactor(LinearAxisComponent);\nexport const ArcAxis = axisFactor(ArcAxisComponent);\nLinearAxis.props = {\n    defaultPosition: 'center',\n    defaultSize: 45,\n    defaultOrder: 0,\n    defaultCrossPadding: [12, 12],\n    defaultPadding: [12, 12],\n};\nArcAxis.props = {\n    defaultPosition: 'outer',\n    defaultOrientation: 'vertical',\n    defaultSize: 45,\n    defaultOrder: 0,\n    defaultCrossPadding: [12, 12],\n    defaultPadding: [12, 12],\n};\n//# sourceMappingURL=axis.js.map","import { LinearAxis, rotateAxis } from './axis';\n/**\n * LinearAxis component bind to x scale.\n */\nexport const AxisX = (options) => {\n    return (...args) => {\n        // empirical value for crossPadding\n        const axisX = LinearAxis(Object.assign({}, { crossPadding: 50 }, options))(...args);\n        rotateAxis(axisX, options);\n        return axisX;\n    };\n};\nAxisX.props = Object.assign(Object.assign({}, LinearAxis.props), { defaultPosition: 'bottom' });\nexport function axisXConfig() { }\n//# sourceMappingURL=axisX.js.map","import { LinearAxis, rotateAxis } from './axis';\n/**\n * LinearAxis component bind to y scale.\n */\nexport const AxisY = (options) => {\n    return (...args) => {\n        const axisY = LinearAxis(Object.assign({}, { crossPadding: 10 }, options))(...args);\n        rotateAxis(axisY, options);\n        return axisY;\n    };\n};\nAxisY.props = Object.assign(Object.assign({}, LinearAxis.props), { defaultPosition: 'left' });\n//# sourceMappingURL=axisY.js.map","var isArrayLike = function (value) {\n    /**\n     * isArrayLike([1, 2, 3]) => true\n     * isArrayLike(document.body.children) => true\n     * isArrayLike('abc') => true\n     * isArrayLike(Function) => false\n     */\n    return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\nexport default isArrayLike;\n//# sourceMappingURL=is-array-like.js.map","import isArrayLike from './is-array-like';\nexport default function last(o) {\n    if (isArrayLike(o)) {\n        var arr = o;\n        return arr[arr.length - 1];\n    }\n    return undefined;\n}\n//# sourceMappingURL=last.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Category } from '@antv/component';\nimport { last } from '@antv/util';\nimport { format } from 'd3-format';\nimport { Identity } from '@antv/scale';\nimport { useMarker } from '../utils/marker';\nimport { adaptor, domainOf, LegendCategoryLayout, inferComponentLayout, inferComponentShape, scaleOf, titleContent, } from './utils';\nfunction inferShape(scales, markState) {\n    const shapeScale = scaleOf(scales, 'shape');\n    const colorScale = scaleOf(scales, 'color');\n    // NOTE!!!\n    // scaleOrdinal.map will mute domain.\n    const shapeScale1 = shapeScale ? shapeScale.clone() : null;\n    // Infer the main shape if multiple marks are used.\n    const shapes = [];\n    for (const [mark, state] of markState) {\n        const namespace = mark.type;\n        const domain = (colorScale === null || colorScale === void 0 ? void 0 : colorScale.getOptions().domain.length) > 0\n            ? colorScale === null || colorScale === void 0 ? void 0 : colorScale.getOptions().domain\n            : state.data;\n        const shape = domain.map((d, i) => {\n            var _a;\n            if (shapeScale1)\n                return shapeScale1.map(d || 'point');\n            return ((_a = mark === null || mark === void 0 ? void 0 : mark.style) === null || _a === void 0 ? void 0 : _a.shape) || state.defaultShape || 'point';\n        });\n        if (typeof namespace === 'string')\n            shapes.push([namespace, shape]);\n    }\n    if (shapes.length === 0)\n        return ['point', ['point']];\n    if (shapes.length === 1)\n        return shapes[0];\n    if (!shapeScale)\n        return shapes[0];\n    // Evaluate the maximum likelihood of shape\n    const { range } = shapeScale.getOptions();\n    return shapes\n        .map(([namespace, shape]) => {\n        let sum = 0;\n        for (let i = 0; i < shapes.length; i++) {\n            const targetShape = range[i % range.length];\n            if (shape[i] === targetShape)\n                sum++;\n        }\n        return [sum / shape.length, [namespace, shape]];\n    })\n        .sort((a, b) => b[0] - a[0])[0][1];\n}\nfunction inferItemMarker(options, context) {\n    const { scales, library, markState } = context;\n    const [mark, shapes] = inferShape(scales, markState);\n    const { itemMarker, itemMarkerSize: size } = options;\n    const create = (name, d) => {\n        var _a, _b, _c;\n        const marker = ((_c = (_b = (_a = library[`mark.${mark}`]) === null || _a === void 0 ? void 0 : _a.props) === null || _b === void 0 ? void 0 : _b.shape[name]) === null || _c === void 0 ? void 0 : _c.props.defaultMarker) || last(name.split('.'));\n        const radius = typeof size === 'function' ? size(d) : size;\n        return () => useMarker(marker, { color: d.color })(0, 0, radius);\n    };\n    const shapeOf = (i) => `${shapes[i]}`;\n    const shapeScale = scaleOf(scales, 'shape');\n    if (shapeScale && !itemMarker)\n        return (d, i) => create(shapeOf(i), d);\n    if (typeof itemMarker === 'function') {\n        return (d, i) => {\n            // @todo Fix this in GUI.\n            // It should pass primitive value rather object.\n            const node = itemMarker(d.id, i);\n            if (typeof node === 'string')\n                return create(node, d);\n            return node;\n        };\n    }\n    return (d, i) => create(itemMarker || shapeOf(i), d);\n}\nfunction inferItemMarkerOpacity(scales) {\n    const scale = scaleOf(scales, 'opacity');\n    if (scale) {\n        const { range } = scale.getOptions();\n        return (d, i) => range[i];\n    }\n    return undefined;\n}\nfunction inferItemMarkerSize(scales, defaults) {\n    const scale = scaleOf(scales, 'size');\n    if (scale instanceof Identity)\n        return scale.map(NaN) * 2;\n    return defaults;\n}\nfunction inferCategoryStyle(options, context) {\n    const { labelFormatter = (d) => `${d}` } = options;\n    const { scales, theme } = context;\n    const defaultSize = theme.legendCategory.itemMarkerSize;\n    const itemMarkerSize = inferItemMarkerSize(scales, defaultSize);\n    const baseStyle = {\n        itemMarker: inferItemMarker(Object.assign(Object.assign({}, options), { itemMarkerSize }), context),\n        itemMarkerSize: itemMarkerSize,\n        itemMarkerOpacity: inferItemMarkerOpacity(scales),\n    };\n    const finalLabelFormatter = typeof labelFormatter === 'string'\n        ? format(labelFormatter)\n        : labelFormatter;\n    const colorScale = scaleOf(scales, 'color');\n    const domain = domainOf(scales);\n    const colorOf = colorScale\n        ? (d) => colorScale.map(d)\n        : () => context.theme.color;\n    return Object.assign(Object.assign({}, baseStyle), { data: domain.map((d) => ({\n            id: d,\n            label: finalLabelFormatter(d),\n            color: colorOf(d),\n        })) });\n}\nfunction inferLegendShape(value, options, component) {\n    const { position } = options;\n    if (position === 'center') {\n        const { bbox } = value;\n        // to be confirm: if position is center, we should use the width and height of user definition.\n        const { width, height } = bbox;\n        return { width, height };\n    }\n    const { width, height } = inferComponentShape(value, options, component);\n    return { width, height };\n}\n/**\n * Guide Component for ordinal color scale.\n */\nexport const LegendCategory = (options) => {\n    const { labelFormatter, layout, order, orientation, position, size, title, cols, itemMarker } = options, style = __rest(options, [\"labelFormatter\", \"layout\", \"order\", \"orientation\", \"position\", \"size\", \"title\", \"cols\", \"itemMarker\"]);\n    const { gridRow } = style;\n    return (context) => {\n        const { value, theme } = context;\n        const { bbox } = value;\n        const { width, height } = inferLegendShape(value, options, LegendCategory);\n        const finalLayout = inferComponentLayout(position, layout);\n        const legendStyle = Object.assign(Object.assign(Object.assign(Object.assign({ orientation: ['right', 'left', 'center'].includes(position)\n                ? 'vertical'\n                : 'horizontal', width,\n            height, layout: cols !== undefined ? 'grid' : 'flex' }, (cols !== undefined && { gridCol: cols })), (gridRow !== undefined && { gridRow })), { titleText: titleContent(title) }), inferCategoryStyle(options, context));\n        const { legendCategory: legendTheme = {} } = theme;\n        const categoryStyle = adaptor(Object.assign({}, legendTheme, legendStyle, style));\n        const layoutWrapper = new LegendCategoryLayout({\n            style: Object.assign(Object.assign({ x: bbox.x, y: bbox.y, width: bbox.width, height: bbox.height }, finalLayout), { \n                // @ts-ignore\n                subOptions: categoryStyle }),\n        });\n        layoutWrapper.appendChild(new Category({\n            className: 'legend-category',\n            style: categoryStyle,\n        }));\n        return layoutWrapper;\n    };\n};\nLegendCategory.props = {\n    defaultPosition: 'top',\n    defaultOrder: 1,\n    defaultSize: 40,\n    defaultCrossPadding: [12, 12],\n    defaultPadding: [12, 12],\n};\n//# sourceMappingURL=legendCategory.js.map","var isUndefined = function (value) {\n    return value === undefined;\n};\nexport default isUndefined;\n//# sourceMappingURL=is-undefined.js.map","import { __read } from \"tslib\";\nfunction search(array, value) {\n    for (var i = 1; i < array.length; i += 1) {\n        var st = array[i - 1];\n        var end = array[i];\n        if (value >= st && value <= end) {\n            return [st, end];\n        }\n    }\n    return [value, value];\n}\nexport function getBlockColor(partition, color, orientation) {\n    var colors = Array.from(color);\n    var count = partition.length;\n    return new Array(count).fill(0).reduce(function (r, v, idx) {\n        var c = colors[idx % colors.length];\n        return (r += \" \".concat(partition[idx], \":\").concat(c).concat(idx < count - 1 ? \" \".concat(partition[idx + 1], \":\").concat(c) : ''));\n    }, \"l(\".concat(orientation === 'horizontal' ? '0' : '270', \")\"));\n}\nexport function getNextTickValue(ticks, value) {\n    var _a = __read(search(ticks, value), 2), v1 = _a[0], v2 = _a[1];\n    return { tick: value > (v1 + v2) / 2 ? v2 : v1, range: [v1, v2] };\n}\n//# sourceMappingURL=utils.js.map","import { __assign, __extends, __read } from \"tslib\";\nimport { parseColor } from '@antv/g';\nimport { isFunction } from '@antv/util';\nimport { Component } from '../../../core';\nimport { classNames, select, subStyleProps } from '../../../util';\nimport { ifHorizontal } from '../utils';\nimport { getBlockColor } from './utils';\nvar CLASS_NAMES = classNames({\n    trackGroup: 'background-group',\n    track: 'background',\n    selectionGroup: 'ribbon-group',\n    selection: 'ribbon',\n    clipPath: 'clip-path',\n}, 'ribbon');\nfunction getShape(attr) {\n    var orientation = attr.orientation, size = attr.size, length = attr.length;\n    return ifHorizontal(orientation, [length, size], [size, length]);\n}\nfunction getTrackPath(attr) {\n    var type = attr.type;\n    var _a = __read(getShape(attr), 2), cw = _a[0], ch = _a[1];\n    if (type === 'size') {\n        return [['M', 0, ch], ['L', 0 + cw, 0], ['L', 0 + cw, ch], ['Z']];\n    }\n    return [['M', 0, ch], ['L', 0, 0], ['L', 0 + cw, 0], ['L', 0 + cw, ch], ['Z']];\n}\nfunction getSelectionPath(attr) {\n    return getTrackPath(attr);\n}\nfunction getColor(attr) {\n    var orientation = attr.orientation, color = attr.color, block = attr.block, partition = attr.partition;\n    var colors;\n    if (isFunction(color)) {\n        var len = 20;\n        colors = new Array(len).fill(0).map(function (_, index, arr) { return color(index / (arr.length - 1)); });\n    }\n    else\n        colors = color;\n    var count = colors.length;\n    var genericColor = colors.map(function (c) { return parseColor(c).toString(); });\n    if (!count)\n        return '';\n    if (count === 1)\n        return genericColor[0];\n    if (block)\n        return getBlockColor(partition, genericColor, orientation);\n    return genericColor.reduce(function (r, c, idx) { return (r += \" \".concat(idx / (count - 1), \":\").concat(c)); }, \"l(\".concat(ifHorizontal(orientation, '0', '270'), \")\"));\n}\nfunction getClipPath(attr) {\n    var orientation = attr.orientation, range = attr.range;\n    if (!range)\n        return [];\n    var _a = __read(getShape(attr), 2), width = _a[0], height = _a[1];\n    var _b = __read(range, 2), st = _b[0], et = _b[1];\n    var x = ifHorizontal(orientation, st * width, 0);\n    var y = ifHorizontal(orientation, 0, st * height);\n    var w = ifHorizontal(orientation, et * width, width);\n    var h = ifHorizontal(orientation, height, et * height);\n    return [['M', x, y], ['L', x, h], ['L', w, h], ['L', w, y], ['Z']];\n}\nfunction renderTrack(container, attr) {\n    var style = subStyleProps(attr, 'track');\n    container.maybeAppendByClassName(CLASS_NAMES.track, 'path').styles(__assign({ d: getTrackPath(attr) }, style));\n}\nfunction renderSelection(container, attr) {\n    var style = subStyleProps(attr, 'selection');\n    var fill = getColor(attr);\n    var ribbon = container\n        .maybeAppendByClassName(CLASS_NAMES.selection, 'path')\n        .styles(__assign({ d: getSelectionPath(attr), fill: fill }, style));\n    var clipPath = ribbon\n        .maybeAppendByClassName(CLASS_NAMES.clipPath, 'path')\n        .styles({ d: getClipPath(attr) })\n        .node();\n    ribbon.style('clipPath', clipPath);\n}\nvar Ribbon = /** @class */ (function (_super) {\n    __extends(Ribbon, _super);\n    function Ribbon(options) {\n        return _super.call(this, options, {\n            type: 'color',\n            orientation: 'horizontal',\n            size: 30,\n            range: [0, 1],\n            length: 200,\n            block: false,\n            partition: [],\n            color: ['#fff', '#000'],\n            trackFill: '#e5e5e5',\n        }) || this;\n    }\n    Ribbon.prototype.render = function (attribute, container) {\n        var trackGroup = select(container).maybeAppendByClassName(CLASS_NAMES.trackGroup, 'g');\n        renderTrack(trackGroup, attribute);\n        /**\n         * - ribbon group\n         *  |- ribbon\n         * - clip path\n         */\n        var ribbonGroup = select(container).maybeAppendByClassName(CLASS_NAMES.selectionGroup, 'g');\n        renderSelection(ribbonGroup, attribute);\n    };\n    return Ribbon;\n}(Component));\nexport { Ribbon };\n//# sourceMappingURL=ribbon.js.map","import { __assign, __extends, __read, __spreadArray } from \"tslib\";\nimport { CustomEvent } from '@antv/g';\nimport { Linear } from '@antv/scale';\nimport { clamp, isUndefined } from '@antv/util';\nimport { Component } from '../../core';\nimport { BBox, deepAssign, getEventPos, hide, ifShow, select, show, subStyleProps, superStyleProps, toPrecision, } from '../../util';\nimport { Axis } from '../axis';\nimport { CLASS_NAMES as AXIS_CLASS_NAMES } from '../axis/constant';\nimport { Indicator } from '../indicator';\nimport { Handle as SliderHandle } from '../slider/handle';\nimport { Title } from '../title';\nimport { CLASS_NAMES, CONTINUOUS_DEFAULT_OPTIONS, STEP_RATIO } from './constant';\nimport { Handle } from './continuous/handle';\nimport { Ribbon } from './continuous/ribbon';\nimport { getNextTickValue } from './continuous/utils';\nimport { getSafetySelections, getStepValueByValue, ifHorizontal } from './utils';\nfunction getMinMax(data) {\n    return {\n        min: Math.min.apply(Math, __spreadArray([], __read(data.map(function (d) { return d.value; })), false)),\n        max: Math.max.apply(Math, __spreadArray([], __read(data.map(function (d) { return d.value; })), false)),\n    };\n}\nvar Continuous = /** @class */ (function (_super) {\n    __extends(Continuous, _super);\n    function Continuous(options) {\n        var _this = _super.call(this, options, CONTINUOUS_DEFAULT_OPTIONS) || this;\n        _this.eventToOffsetScale = new Linear({});\n        _this.innerRibbonScale = new Linear({});\n        _this.cacheLabelBBox = null;\n        _this.cacheHandleBBox = null;\n        _this.onHovering = function (e) {\n            var _a = _this.attributes, data = _a.data, block = _a.block;\n            e.stopPropagation();\n            var value = _this.getValueByCanvasPoint(e);\n            if (block) {\n                var range = getNextTickValue(data.map(function (_a) {\n                    var value = _a.value;\n                    return value;\n                }), value).range;\n                var selection = _this.getRealSelection(range);\n                _this.showIndicator((range[0] + range[1]) / 2, \"\".concat(selection[0], \"-\").concat(selection[1]));\n                _this.dispatchIndicated(value, range);\n            }\n            else {\n                var safetyValue = _this.getTickValue(value);\n                _this.showIndicator(safetyValue, \"\".concat(_this.getRealValue(safetyValue)));\n                _this.dispatchIndicated(safetyValue);\n            }\n        };\n        _this.onDragStart = function (target) { return function (e) {\n            e.stopPropagation();\n            // 关闭滑动\n            if (!_this.attributes.slidable)\n                return;\n            _this.target = target;\n            _this.prevValue = _this.getTickValue(_this.getValueByCanvasPoint(e));\n            document.addEventListener('mousemove', _this.onDragging);\n            document.addEventListener('touchmove', _this.onDragging);\n            document.addEventListener('mouseleave', _this.onDragEnd);\n            document.addEventListener('mouseup', _this.onDragEnd);\n            document.addEventListener('mouseup', _this.onDragEnd);\n            document.addEventListener('touchend', _this.onDragEnd);\n        }; };\n        _this.onDragging = function (e) {\n            var target = _this.target;\n            _this.updateMouse();\n            var _a = __read(_this.selection, 2), start = _a[0], end = _a[1];\n            var currValue = _this.getTickValue(_this.getValueByCanvasPoint(e));\n            var diffValue = currValue - _this.prevValue;\n            if (target === 'start')\n                start !== currValue && _this.updateSelection(currValue, end);\n            else if (target === 'end')\n                end !== currValue && _this.updateSelection(start, currValue);\n            else if (target === 'ribbon' && diffValue !== 0) {\n                _this.prevValue = currValue;\n                _this.updateSelection(diffValue, diffValue, true);\n            }\n        };\n        _this.onDragEnd = function () {\n            _this.style.cursor = 'pointer';\n            document.removeEventListener('mousemove', _this.onDragging);\n            document.removeEventListener('touchmove', _this.onDragging);\n            document.removeEventListener('mouseup', _this.onDragEnd);\n            document.removeEventListener('touchend', _this.onDragEnd);\n        };\n        return _this;\n    }\n    Object.defineProperty(Continuous.prototype, \"handleOffsetRatio\", {\n        get: function () {\n            return this.ifHorizontal(0.5, 0.5);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.getBBox = function () {\n        var _a = this.attributes, width = _a.width, height = _a.height;\n        return new BBox(0, 0, width, height);\n    };\n    Continuous.prototype.render = function (attributes, container) {\n        var _this = this;\n        // 渲染顺序\n        // 1. 绘制 title, 获得可用空间\n        // 2. 绘制 label, handle\n        // 3. 基于可用空间、label高度、handle 宽高，计算 ribbon 宽高\n        // 4. 绘制 ribbon\n        // 5. 调整 label、handle 位置\n        var showLabel = attributes.showLabel;\n        /** title */\n        this.renderTitle(select(container));\n        var _a = this.availableSpace, x = _a.x, y = _a.y;\n        /** label */\n        /** content */\n        var contentGroup = select(container)\n            .maybeAppendByClassName(CLASS_NAMES.contentGroup, 'g')\n            .styles({ transform: \"translate(\".concat(x, \", \").concat(y, \")\") });\n        var labelGroup = contentGroup.maybeAppendByClassName(CLASS_NAMES.labelGroup, 'g').styles({ zIndex: 1 });\n        ifShow(!!showLabel, labelGroup, function (group) {\n            _this.renderLabel(group);\n        });\n        var ribbonGroup = contentGroup.maybeAppendByClassName(CLASS_NAMES.ribbonGroup, 'g').styles({ zIndex: 0 });\n        /** handle */\n        this.handlesGroup = contentGroup.maybeAppendByClassName(CLASS_NAMES.handlesGroup, 'g').styles({ zIndex: 2 });\n        this.renderHandles();\n        /** ribbon */\n        this.renderRibbon(ribbonGroup);\n        this.renderIndicator(contentGroup);\n        /** adjust */\n        this.adjustLabel();\n        this.adjustHandles();\n        // this.adjustTitle();\n    };\n    Object.defineProperty(Continuous.prototype, \"range\", {\n        get: function () {\n            var _a = this.attributes, data = _a.data, domain = _a.domain;\n            return domain ? { min: domain[0], max: domain[1] } : getMinMax(data);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"ribbonScale\", {\n        get: function () {\n            var _a = this.range, min = _a.min, max = _a.max;\n            this.innerRibbonScale.update({\n                domain: [min, max],\n                range: [0, 1],\n            });\n            return this.innerRibbonScale;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"ribbonRange\", {\n        get: function () {\n            var _a = __read(this.selection, 2), min = _a[0], max = _a[1];\n            var scale = this.ribbonScale;\n            return [scale.map(min), scale.map(max)];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"selection\", {\n        get: function () {\n            var _a = this.range, min = _a.min, max = _a.max;\n            var _b = this.attributes.defaultValue, _c = _b === void 0 ? [min, max] : _b, _d = __read(_c, 2), start = _d[0], end = _d[1];\n            return [start, end];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.ifHorizontal = function (a, b) {\n        return ifHorizontal(this.attributes.orientation, typeof a === 'function' ? a() : a, typeof b === 'function' ? b() : b);\n    };\n    Continuous.prototype.renderTitle = function (container) {\n        var _a = this.attributes, showTitle = _a.showTitle, titleText = _a.titleText, width = _a.width, height = _a.height;\n        var style = subStyleProps(this.attributes, 'title');\n        var finalTitleStyle = __assign(__assign({}, style), { width: width, height: height, text: titleText });\n        var that = this;\n        container\n            .selectAll(CLASS_NAMES.title.class)\n            .data(showTitle ? [titleText] : [])\n            .join(function (enter) {\n            return enter\n                .append(function () { return new Title({ style: finalTitleStyle }); })\n                .attr('className', CLASS_NAMES.title.name)\n                .each(function () {\n                that.title = this;\n            });\n        }, function (update) { return update.update(finalTitleStyle); }, function (exit) {\n            return exit\n                .each(function () {\n                that.title = undefined;\n            })\n                .remove();\n        });\n    };\n    Object.defineProperty(Continuous.prototype, \"availableSpace\", {\n        get: function () {\n            if (this.title)\n                return this.title.getAvailableSpace();\n            var _a = this.attributes, width = _a.width, height = _a.height;\n            return new BBox(0, 0, width, height);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"labelFixedSpacing\", {\n        get: function () {\n            var showTick = this.attributes.showTick;\n            return showTick ? 5 : 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"labelPosition\", {\n        get: function () {\n            var _a = this.attributes, orientation = _a.orientation, labelDirection = _a.labelDirection;\n            var positions = {\n                vertical: { positive: 'right', negative: 'left' },\n                horizontal: { positive: 'bottom', negative: 'top' },\n            };\n            return positions[orientation][labelDirection];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"labelBBox\", {\n        get: function () {\n            var _a;\n            var showLabel = this.attributes.showLabel;\n            if (!showLabel)\n                return new BBox(0, 0, 0, 0);\n            if (this.cacheLabelBBox)\n                return this.cacheLabelBBox;\n            var _b = ((_a = this.label.querySelector(AXIS_CLASS_NAMES.labelGroup.class)) === null || _a === void 0 ? void 0 : _a.children.slice(-1)[0]).getBBox(), width = _b.width, height = _b.height;\n            this.cacheLabelBBox = new BBox(0, 0, width, height);\n            return this.cacheLabelBBox;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"labelShape\", {\n        get: function () {\n            var _a = this.attributes, showLabel = _a.showLabel, _b = _a.labelSpacing, labelSpacing = _b === void 0 ? 0 : _b;\n            if (!showLabel)\n                return { width: 0, height: 0, size: 0, length: 0 };\n            var _c = this.labelBBox, width = _c.width, height = _c.height;\n            var size = this.ifHorizontal(height, width) + labelSpacing + this.labelFixedSpacing;\n            var length = this.ifHorizontal(width, height);\n            return { width: width, height: height, size: size, length: length };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"ribbonBBox\", {\n        get: function () {\n            var _a = this.attributes, showHandle = _a.showHandle, userDefinedRibbonSize = _a.ribbonSize;\n            var _b = this.availableSpace, availableWidth = _b.width, availableHeight = _b.height;\n            var _c = this.labelShape, labelSize = _c.size, labelLength = _c.length;\n            var _d = __read(this.ifHorizontal([availableHeight, availableWidth], [availableWidth, availableHeight]), 2), availableSize = _d[0], availableLength = _d[1];\n            var _e = showHandle ? this.handleShape : { size: 0, length: 0 }, handleSize = _e.size, handleLength = _e.length;\n            var handleRatio = this.handleOffsetRatio;\n            var ribbonSize = 0;\n            var labelPosition = this.labelPosition;\n            if (userDefinedRibbonSize) {\n                ribbonSize = userDefinedRibbonSize;\n            }\n            else if (['bottom', 'right'].includes(labelPosition)) {\n                ribbonSize = Math.min(availableSize - labelSize, (availableSize - handleSize) / handleRatio);\n            }\n            else if (availableSize * (1 - handleRatio) > handleSize) {\n                ribbonSize = Math.max(availableSize - labelSize, 0);\n            }\n            else\n                ribbonSize = Math.max((availableSize - labelSize - handleSize) / handleRatio, 0);\n            var edgeLength = Math.max(handleLength, labelLength);\n            var ribbonLength = availableLength - edgeLength;\n            var _f = __read(this.ifHorizontal([ribbonLength, ribbonSize], [ribbonSize, ribbonLength]), 2), width = _f[0], height = _f[1];\n            // 需要考虑 handle 的占用空间\n            // todo 为了防止因为 handle 文本变化导致的 ribbon 位置变化，handle size 取最大值\n            var finalLabelOccupy = ['top', 'left'].includes(labelPosition) ? labelSize : 0;\n            var _g = __read(this.ifHorizontal([edgeLength / 2, finalLabelOccupy], [finalLabelOccupy, edgeLength / 2]), 2), x = _g[0], y = _g[1];\n            return new BBox(x, y, width, height);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"ribbonShape\", {\n        get: function () {\n            var _a = this.ribbonBBox, width = _a.width, height = _a.height;\n            return this.ifHorizontal({ size: height, length: width }, { size: width, length: height });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.renderRibbon = function (container) {\n        var _a = this.attributes, data = _a.data, type = _a.type, orientation = _a.orientation, color = _a.color, block = _a.block;\n        var ribbonStyle = subStyleProps(this.attributes, 'ribbon');\n        var _b = this.range, min = _b.min, max = _b.max;\n        var _c = this.ribbonBBox, x = _c.x, y = _c.y;\n        var _d = this.ribbonShape, length = _d.length, size = _d.size;\n        var style = deepAssign({\n            transform: \"translate(\".concat(x, \", \").concat(y, \")\"),\n            length: length,\n            size: size,\n            type: type,\n            orientation: orientation,\n            color: color,\n            block: block,\n            partition: data.map(function (d) { return (d.value - min) / (max - min); }),\n            range: this.ribbonRange,\n        }, ribbonStyle);\n        this.ribbon = container.maybeAppendByClassName(CLASS_NAMES.ribbon, function () { return new Ribbon({ style: style }); }).update(style);\n    };\n    Continuous.prototype.getHandleClassName = function (type) {\n        // @ts-ignore\n        return \"\".concat(CLASS_NAMES.prefix(\"\".concat(type, \"-handle\")));\n    };\n    Continuous.prototype.renderHandles = function () {\n        var _a = this.attributes, showHandle = _a.showHandle, orientation = _a.orientation;\n        var handleStyle = subStyleProps(this.attributes, 'handle');\n        var _b = __read(this.selection, 2), min = _b[0], max = _b[1];\n        var style = __assign(__assign({}, handleStyle), { orientation: orientation });\n        var _c = handleStyle.shape, shape = _c === void 0 ? 'slider' : _c;\n        var HandleCtor = shape === 'basic' ? Handle : SliderHandle;\n        var that = this;\n        this.handlesGroup\n            .selectAll(CLASS_NAMES.handle.class)\n            .data(showHandle\n            ? [\n                { value: min, type: 'start' },\n                { value: max, type: 'end' },\n            ]\n            : [], function (d) { return d.type; })\n            .join(function (enter) {\n            return enter\n                .append(function () { return new HandleCtor({ style: style }); })\n                .attr('className', function (_a) {\n                var type = _a.type;\n                return \"\".concat(CLASS_NAMES.handle, \" \").concat(that.getHandleClassName(type));\n            })\n                .each(function (_a) {\n                var type = _a.type, labelText = _a.value;\n                this.update({ labelText: labelText });\n                var name = \"\".concat(type, \"Handle\");\n                that[name] = this;\n                this.addEventListener('pointerdown', that.onDragStart(type));\n            });\n        }, function (update) {\n            return update.update(style).each(function (_a) {\n                var labelText = _a.value;\n                this.update({ labelText: labelText });\n            });\n        }, function (exit) {\n            return exit\n                .each(function (_a) {\n                var type = _a.type;\n                var name = \"\".concat(type, \"Handle\");\n                that[name] = undefined;\n            })\n                .remove();\n        });\n    };\n    Continuous.prototype.adjustHandles = function () {\n        var _a = __read(this.selection, 2), min = _a[0], max = _a[1];\n        this.setHandlePosition('start', min);\n        this.setHandlePosition('end', max);\n    };\n    Object.defineProperty(Continuous.prototype, \"handleBBox\", {\n        get: function () {\n            if (this.cacheHandleBBox)\n                return this.cacheHandleBBox;\n            if (!this.attributes.showHandle)\n                return new BBox(0, 0, 0, 0);\n            var _a = this.startHandle.getBBox(), startHandleWidth = _a.width, startHandleHeight = _a.height;\n            var _b = this.endHandle.getBBox(), endHandleWidth = _b.width, endHandleHeight = _b.height;\n            var _c = __read([Math.max(startHandleWidth, endHandleWidth), Math.max(startHandleHeight, endHandleHeight)], 2), width = _c[0], height = _c[1];\n            this.cacheHandleBBox = new BBox(0, 0, width, height);\n            return this.cacheHandleBBox;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"handleShape\", {\n        /**\n         *  因为 handle label 的宽高是动态的，所以 handle bbox 是第一次渲染时的 bbox\n         */\n        get: function () {\n            var _a = this.handleBBox, width = _a.width, height = _a.height;\n            var _b = __read(this.ifHorizontal([height, width], [width, height]), 2), size = _b[0], length = _b[1];\n            return { width: width, height: height, size: size, length: length };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.setHandlePosition = function (type, value) {\n        var handleFormatter = this.attributes.handleFormatter;\n        var _a = this.ribbonBBox, ribbonX = _a.x, ribbonY = _a.y;\n        var ribbonSize = this.ribbonShape.size;\n        var offset = this.getOffset(value);\n        var _b = __read(this.ifHorizontal([ribbonX + offset, ribbonY + ribbonSize * this.handleOffsetRatio], [ribbonX + ribbonSize * this.handleOffsetRatio, ribbonY + offset]), 2), x = _b[0], y = _b[1];\n        var handle = this.handlesGroup.select(\".\".concat(this.getHandleClassName(type))).node();\n        handle === null || handle === void 0 ? void 0 : handle.update({ transform: \"translate(\".concat(x, \", \").concat(y, \")\"), formatter: handleFormatter });\n    };\n    Continuous.prototype.renderIndicator = function (container) {\n        var style = subStyleProps(this.attributes, 'indicator');\n        this.indicator = container.maybeAppendByClassName(CLASS_NAMES.indicator, function () { return new Indicator({}); }).update(style);\n        // this.hideIndicator();\n    };\n    Object.defineProperty(Continuous.prototype, \"labelData\", {\n        get: function () {\n            var _this = this;\n            var data = this.attributes.data;\n            return data.reduce(function (acc, curr, index, arr) {\n                var _a, _b;\n                var id = (_a = curr === null || curr === void 0 ? void 0 : curr.id) !== null && _a !== void 0 ? _a : index.toString();\n                acc.push(__assign(__assign({}, curr), { id: id, index: index, type: 'value', label: (_b = curr === null || curr === void 0 ? void 0 : curr.label) !== null && _b !== void 0 ? _b : curr.value.toString(), value: _this.ribbonScale.map(curr.value) }));\n                if (index < arr.length - 1) {\n                    var next = arr[index + 1];\n                    var _c = __read([curr.value, next.value], 2), cr = _c[0], nx = _c[1];\n                    var midVal = (cr + nx) / 2;\n                    acc.push(__assign(__assign({}, curr), { id: id, index: index, type: 'range', range: [cr, nx], label: [cr, nx].join('~'), value: _this.ribbonScale.map(midVal) }));\n                }\n                return acc;\n            }, []);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"labelStyle\", {\n        get: function () {\n            var _a = __read(['center', 'middle'], 2), labelTextAlign = _a[0], labelTextBaseline = _a[1];\n            var labelPosition = this.labelPosition;\n            if (labelPosition === 'top')\n                labelTextBaseline = 'bottom';\n            else if (labelPosition === 'bottom')\n                labelTextBaseline = 'top';\n            else if (labelPosition === 'left')\n                labelTextAlign = 'end';\n            else if (labelPosition === 'right')\n                labelTextAlign = 'start';\n            return {\n                labelTextAlign: labelTextAlign,\n                labelTextBaseline: labelTextBaseline,\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.renderLabel = function (container) {\n        var _a = this.attributes, _b = _a.showTick, showTick = _b === void 0 ? false : _b, labelFilter = _a.labelFilter, labelFormatter = _a.labelFormatter;\n        var tickStyle = subStyleProps(this.attributes, 'tick');\n        var labelStyle = subStyleProps(this.attributes, 'label');\n        var align = labelStyle.align;\n        var style = deepAssign(__assign({ showLine: false, showGrid: false, showTick: showTick, type: 'linear', startPos: [0, 0], endPos: [0, 0], tickDirection: 'negative', labelTransform: 'rotate(0)' }, this.labelStyle), superStyleProps(tickStyle, 'tick'), superStyleProps(labelStyle, 'label'), { data: this.labelData });\n        var functionStyle = {\n            tickFilter: function (datum, index, data) {\n                if ((datum === null || datum === void 0 ? void 0 : datum.type) !== 'value')\n                    return false;\n                if (labelFilter)\n                    return labelFilter(datum, datum.index, data.filter(function (d) { return d.type !== 'value'; }));\n                return true;\n            },\n            labelFilter: function (datum, index, data) {\n                if ((datum === null || datum === void 0 ? void 0 : datum.type) !== align)\n                    return false;\n                if (labelFilter)\n                    return labelFilter(datum, datum.index, data.filter(function (d) { return d.type === align; }));\n                return true;\n            },\n            labelFormatter: labelFormatter,\n        };\n        var finalLabelStyle = __assign(__assign(__assign({}, style), functionStyle), { labelOverlap: [{ type: 'hide' }] });\n        this.label = container.maybeAppendByClassName(CLASS_NAMES.label, function () { return new Axis({ style: finalLabelStyle }); }).node();\n        this.label.update(finalLabelStyle, false);\n    };\n    Object.defineProperty(Continuous.prototype, \"labelAxisStyle\", {\n        get: function () {\n            // @ts-ignore\n            var _a = this.attributes, showTick = _a.showTick, labelDirection = _a.labelDirection, labelSpacing = _a.labelSpacing, definedTickLength = _a.tickLength;\n            var ribbonSize = this.ribbonShape.size;\n            var labelPosition = this.labelPosition;\n            var labelFixedSpacing = this.labelFixedSpacing;\n            var _b = __read([0, 0, 0], 3), offset = _b[0], spacing = _b[1], tickLength = _b[2];\n            var internalVal = definedTickLength !== null && definedTickLength !== void 0 ? definedTickLength : ribbonSize;\n            if (showTick) {\n                tickLength = internalVal;\n                spacing = labelFixedSpacing;\n                if (labelDirection === 'positive') {\n                    if (labelPosition === 'right') {\n                        offset = internalVal;\n                        tickLength = internalVal;\n                    }\n                    else if (labelPosition === 'bottom')\n                        offset = tickLength;\n                }\n                else if (labelDirection === 'negative') {\n                    if (labelPosition === 'top')\n                        offset = ribbonSize;\n                    else if (labelPosition === 'left')\n                        offset = ribbonSize;\n                }\n            }\n            else if (labelDirection === 'positive') {\n                if (labelPosition === 'right')\n                    spacing = internalVal;\n                else if (labelPosition === 'bottom') {\n                    offset = ribbonSize + labelFixedSpacing;\n                    spacing = labelSpacing;\n                }\n            }\n            else if (labelDirection === 'negative') {\n                if (labelPosition === 'left')\n                    spacing = labelSpacing;\n                else if (labelPosition === 'top')\n                    spacing = labelSpacing;\n            }\n            return { offset: offset, spacing: spacing, tickLength: tickLength };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.adjustLabel = function () {\n        var showLabel = this.attributes.showLabel;\n        if (!showLabel)\n            return;\n        var _a = this.ribbonBBox, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        var _b = this.labelAxisStyle, axisOffset = _b.offset, axisSpacing = _b.spacing, axisTickLength = _b.tickLength;\n        var _c = __read(this.ifHorizontal([\n            [x, y + axisOffset],\n            [x + width, y + axisOffset],\n        ], [\n            [x + axisOffset, y + height],\n            [x + axisOffset, y],\n        ]), 2), startPos = _c[0], endPos = _c[1];\n        this.label.update({\n            startPos: startPos,\n            endPos: endPos,\n            tickLength: axisTickLength,\n            labelSpacing: axisSpacing,\n        }, false);\n    };\n    Continuous.prototype.bindEvents = function () {\n        this.style.cursor = 'pointer';\n        // 绑定 drag 开始事件\n        this.ribbon.on('pointerdown', this.onDragStart('ribbon'));\n        this.ribbon.on('pointermove', this.onHovering);\n        this.addEventListener('pointerout', this.hideIndicator);\n    };\n    Continuous.prototype.showIndicator = function (value, text) {\n        if (text === void 0) { text = \"\".concat(value); }\n        var showIndicator = this.attributes.showIndicator;\n        if (!showIndicator || typeof value !== 'number') {\n            this.hideIndicator();\n            return;\n        }\n        var _a = this.range, min = _a.min, max = _a.max;\n        var _b = this.ribbonBBox, x = _b.x, y = _b.y;\n        var safeValue = clamp(value, min, max);\n        var offset = this.getOffset(safeValue);\n        var pos = this.ifHorizontal([offset + x, y], [x, offset + y]);\n        this.indicator.update({\n            x: pos[0],\n            y: pos[1],\n            position: this.ifHorizontal('top', 'left'),\n            labelText: text,\n        });\n        show(this.indicator.node());\n    };\n    Continuous.prototype.hideIndicator = function () {\n        hide(this.indicator.node());\n    };\n    Continuous.prototype.updateMouse = function () {\n        if (this.attributes.slidable)\n            this.style.cursor = 'grabbing';\n    };\n    Continuous.prototype.setSelection = function (start, end) {\n        this.updateSelection(start, end);\n    };\n    Continuous.prototype.updateSelection = function (stVal, endVal, isOffset) {\n        var _a;\n        if (isOffset === void 0) { isOffset = false; }\n        var _b = __read(this.selection, 2), currSt = _b[0], currEnd = _b[1];\n        var _c = __read([stVal, endVal], 2), start = _c[0], end = _c[1];\n        if (isOffset) {\n            // 获取当前值\n            start += currSt;\n            end += currEnd;\n        }\n        // 值校验\n        var _d = this.range, min = _d.min, max = _d.max;\n        _a = __read(getSafetySelections([min, max], [start, end], this.selection), 2), start = _a[0], end = _a[1];\n        this.update({ defaultValue: [start, end] });\n        this.dispatchSelection();\n    };\n    Object.defineProperty(Continuous.prototype, \"step\", {\n        get: function () {\n            var _a = this.attributes.step, step = _a === void 0 ? 1 : _a;\n            var _b = this.range, min = _b.min, max = _b.max;\n            if (isUndefined(step))\n                return toPrecision((max - min) * STEP_RATIO, 0);\n            return step;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.getTickValue = function (value) {\n        var _a = this.attributes, data = _a.data, block = _a.block;\n        var min = this.range.min;\n        if (block)\n            return getNextTickValue(data.map(function (_a) {\n                var value = _a.value;\n                return value;\n            }), value).tick;\n        return getStepValueByValue(value, this.step, min);\n    };\n    /**\n     * 事件触发的位置对应的value值\n     */\n    Continuous.prototype.getValueByCanvasPoint = function (e) {\n        var _a = this.range, min = _a.min, max = _a.max;\n        var _b = __read(this.ribbon.node().getPosition(), 2), x = _b[0], y = _b[1];\n        var startPos = this.ifHorizontal(x, y);\n        var currValue = this.ifHorizontal.apply(this, __spreadArray([], __read(getEventPos(e)), false));\n        var offset = currValue - startPos;\n        var value = clamp(this.getOffset(offset, true), min, max);\n        return value;\n    };\n    /** reverse: 屏幕偏移量 -> 值 */\n    Continuous.prototype.getOffset = function (value, reverse) {\n        if (reverse === void 0) { reverse = false; }\n        var _a = this.range, min = _a.min, max = _a.max;\n        var ribbonLen = this.ribbonShape.length;\n        var scale = this.eventToOffsetScale;\n        scale.update({ domain: [min, max], range: [0, ribbonLen] });\n        if (reverse)\n            return scale.invert(value);\n        return scale.map(value);\n    };\n    Continuous.prototype.getRealSelection = function (range) {\n        var max = this.range.max;\n        var _a = __read(range, 2), start = _a[0], end = _a[1];\n        return this.ifHorizontal([start, end], [max - end, max - start]);\n    };\n    Continuous.prototype.getRealValue = function (value) {\n        var max = this.range.max;\n        return this.ifHorizontal(value, max - value);\n    };\n    Continuous.prototype.dispatchSelection = function () {\n        var selection = this.getRealSelection(this.selection);\n        var evt = new CustomEvent('valuechange', {\n            detail: {\n                value: selection,\n            },\n        });\n        this.dispatchEvent(evt);\n    };\n    Continuous.prototype.dispatchIndicated = function (value, range) {\n        var _this = this;\n        var max = this.range.max;\n        var detail = this.ifHorizontal(function () {\n            return {\n                value: value,\n                range: range,\n            };\n        }, function () {\n            return {\n                value: max - value,\n                range: range ? _this.getRealSelection(range) : undefined,\n            };\n        });\n        var evt = new CustomEvent('indicate', {\n            detail: detail,\n        });\n        this.dispatchEvent(evt);\n    };\n    return Continuous;\n}(Component));\nexport { Continuous };\n//# sourceMappingURL=continuous.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { parseColor } from '@antv/g';\nimport { Continuous } from '@antv/component';\nimport { Constant, Quantile, Quantize, Threshold } from '@antv/scale';\nimport { format } from 'd3-format';\nimport { lastOf } from '../utils/array';\nimport { G2Layout, adaptor, inferComponentLayout, inferComponentShape, isHorizontal, scaleOf, titleContent, } from './utils';\nfunction updateShapeDimensions(shape, finalSize, orientation) {\n    shape.size = finalSize;\n    if (isHorizontal(orientation)) {\n        shape.height = finalSize;\n    }\n    else {\n        shape.width = finalSize;\n    }\n    return shape;\n}\nfunction inferContinuousShape(value, options, component) {\n    const { size } = options;\n    const shape = inferComponentShape(value, options, component);\n    return updateShapeDimensions(shape, size, shape.orientation);\n}\nfunction getFormatter(max) {\n    return (value) => ({\n        value: value / max,\n        label: String(value),\n    });\n}\nfunction getQuantizeOrQuantileConfig(shape, colorScale, min, max, range) {\n    const thresholds = colorScale.thresholds;\n    const formatter = getFormatter(max);\n    return Object.assign(Object.assign({}, shape), { color: range, data: [min, ...thresholds, max].map(formatter) });\n}\nfunction getThresholdConfig(shape, colorScale, range) {\n    const thresholds = colorScale.thresholds;\n    const data = [-Infinity, ...thresholds, Infinity].map((value, index) => ({\n        value: index,\n        label: value,\n    }));\n    return Object.assign(Object.assign({}, shape), { data, color: range, labelFilter: (datum, index) => {\n            return index > 0 && index < data.length - 1;\n        } });\n}\nfunction rangeOf(scale) {\n    const { domain } = scale.getOptions();\n    const [min, max] = [domain[0], lastOf(domain)];\n    return [min, max];\n}\n/**\n * if color scale is not defined, create a constant color scale based on default color\n * @param scale\n * @param theme\n */\nfunction createColorScale(scale, defaultColor) {\n    const options = scale.getOptions();\n    const newScale = scale.clone();\n    newScale.update(Object.assign(Object.assign({}, options), { range: [parseColor(defaultColor).toString()] }));\n    return newScale;\n}\nfunction getLinearConfig(shape, colorScale, sizeScale, opacityScale, scales, theme) {\n    const { length } = shape;\n    const definedScale = sizeScale || opacityScale;\n    // Only use defaultColor when there is no color scale\n    // in this view.\n    const defaultColor = scales.color\n        ? theme.legendContinuous.ribbonFill || 'black'\n        : theme.color;\n    const scale = colorScale || createColorScale(definedScale, defaultColor);\n    const [min, max] = rangeOf(scale);\n    const [domainMin, domainMax] = rangeOf([colorScale, sizeScale, opacityScale]\n        .filter((d) => d !== undefined)\n        .find((d) => !(d instanceof Constant)));\n    return Object.assign(Object.assign({}, shape), { domain: [domainMin, domainMax], data: scale.getTicks().map((value) => ({ value })), color: new Array(Math.floor(length)).fill(0).map((d, i) => {\n            const value = ((max - min) / (length - 1)) * i + min;\n            const color = scale.map(value) || defaultColor;\n            const opacity = opacityScale ? opacityScale.map(value) : 1;\n            return color.replace(/rgb[a]*\\(([\\d]{1,3}) *, *([\\d]{1,3}) *, *([\\d]{1,3})[\\S\\s]*\\)/, (match, p1, p2, p3) => `rgba(${p1}, ${p2}, ${p3}, ${opacity})`);\n        }) });\n}\nfunction inferContinuousConfig(scales, scale, value, options, component, theme) {\n    const colorScale = scaleOf(scales, 'color');\n    const shape = inferContinuousShape(value, options, component);\n    if (colorScale instanceof Threshold) {\n        const { range } = colorScale.getOptions();\n        const [min, max] = rangeOf(colorScale);\n        // for quantize, quantile scale\n        if (colorScale instanceof Quantize || colorScale instanceof Quantile) {\n            return getQuantizeOrQuantileConfig(shape, colorScale, min, max, range);\n        }\n        // for threshold\n        return getThresholdConfig(shape, colorScale, range);\n    }\n    // for linear, pow, sqrt, log, time, utc scale\n    const sizeScale = scaleOf(scales, 'size');\n    const opacityScale = scaleOf(scales, 'opacity');\n    return getLinearConfig(shape, colorScale, sizeScale, opacityScale, scale, theme);\n}\n/**\n * Guide Component for continuous color scale.\n * @todo Custom style.\n */\nexport const LegendContinuous = (options) => {\n    const { labelFormatter, layout, order, orientation, position, size, title, style, crossPadding, padding } = options, rest = __rest(options, [\"labelFormatter\", \"layout\", \"order\", \"orientation\", \"position\", \"size\", \"title\", \"style\", \"crossPadding\", \"padding\"]);\n    return ({ scales, value, theme, scale }) => {\n        const { bbox } = value;\n        const { x, y, width, height } = bbox;\n        const finalLayout = inferComponentLayout(position, layout);\n        const { legendContinuous: legendTheme = {} } = theme;\n        const finalStyle = adaptor(Object.assign({}, legendTheme, Object.assign(Object.assign({ titleText: titleContent(title), labelAlign: 'value', labelFormatter: typeof labelFormatter === 'string'\n                ? (d) => format(labelFormatter)(d.label)\n                : labelFormatter }, inferContinuousConfig(scales, scale, value, options, LegendContinuous, theme)), style), rest));\n        const layoutWrapper = new G2Layout({\n            style: Object.assign(Object.assign({ x,\n                y,\n                width,\n                height }, finalLayout), { \n                // @ts-ignore\n                subOptions: finalStyle }),\n        });\n        layoutWrapper.appendChild(new Continuous({\n            className: 'legend-continuous',\n            style: finalStyle,\n        }));\n        return layoutWrapper;\n    };\n};\nLegendContinuous.props = {\n    defaultPosition: 'top',\n    defaultOrientation: 'vertical',\n    defaultOrder: 1,\n    defaultSize: 60,\n    defaultLength: 200,\n    defaultLegendSize: 60,\n    defaultPadding: [20, 10],\n    defaultCrossPadding: [12, 12], // [horizontal, vertical]\n};\n//# sourceMappingURL=legendContinuous.js.map","import { Group } from '@antv/g';\n// A empty component to pass parse view tree stage.\nexport const Legends = (options) => {\n    return () => {\n        return new Group();\n    };\n};\nLegends.props = {};\n//# sourceMappingURL=legends.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { applyStyle } from '../shape/utils';\nimport { subObject } from '../utils/helper';\nimport { createComponent, maybeAppend } from './utils';\nfunction inferStyleByAlign(x, y, width, align) {\n    switch (align) {\n        case 'center':\n            return {\n                x: x + width / 2,\n                y,\n                textAlign: 'middle',\n            };\n        case 'right':\n            return {\n                x: x + width,\n                y,\n                textAlign: 'right',\n            };\n        default:\n            return {\n                x,\n                y,\n                textAlign: 'left',\n            };\n    }\n}\nconst Title = createComponent({\n    render(attributes, container) {\n        const { width, title, subtitle, spacing = 2, align = 'left', x, y } = attributes, style = __rest(attributes, [\"width\", \"title\", \"subtitle\", \"spacing\", \"align\", \"x\", \"y\"]);\n        container.style.transform = `translate(${x}, ${y})`;\n        const titleStyle = subObject(style, 'title');\n        const subtitleStyle = subObject(style, 'subtitle');\n        const mainTitle = maybeAppend(container, '.title', 'text')\n            .attr('className', 'title')\n            .call(applyStyle, Object.assign(Object.assign(Object.assign({}, inferStyleByAlign(0, 0, width, align)), { fontSize: 14, textBaseline: 'top', text: title }), titleStyle))\n            .node();\n        const bounds = mainTitle.getLocalBounds();\n        maybeAppend(container, '.sub-title', 'text')\n            .attr('className', 'sub-title')\n            .call((selection) => {\n            if (!subtitle)\n                return selection.node().remove();\n            selection.node().attr(Object.assign(Object.assign(Object.assign({}, inferStyleByAlign(0, bounds.max[1] + spacing, width, align)), { fontSize: 12, textBaseline: 'top', text: subtitle }), subtitleStyle));\n        });\n    },\n});\n/**\n * Title Component.\n */\nexport const TitleComponent = (options) => {\n    return ({ value, theme }) => {\n        const { x, y, width, height } = value.bbox;\n        return new Title({\n            style: deepMix({}, theme.title, Object.assign({ x,\n                y,\n                width,\n                height }, options)),\n        });\n    };\n};\nTitleComponent.props = {\n    defaultPosition: 'top',\n    defaultOrder: 2,\n    defaultSize: 36,\n    defaultCrossPadding: [20, 20],\n    defaultPadding: [12, 12],\n};\n//# sourceMappingURL=title.js.map","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f] = F;\n  if ((f && f.length !== 2) || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascendingDefined(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascendingDefined(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(compareDefined(f));\n}\n\nexport function compareDefined(compare = ascending) {\n  if (compare === ascending) return ascendingDefined;\n  if (typeof compare !== \"function\") throw new TypeError(\"compare is not a function\");\n  return (a, b) => {\n    const x = compare(a, b);\n    if (x || x === 0) return x;\n    return (compare(b, b) === 0) - (compare(a, a) === 0);\n  };\n}\n\nexport function ascendingDefined(a, b) {\n  return (a == null || !(a >= a)) - (b == null || !(b >= b)) || (a < b ? -1 : a > b ? 1 : 0);\n}\n","export default function permute(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n","import { bisectLeft, sort } from 'd3-array';\nfunction constrain(x, lo, hi) {\n    return Math.min(hi, Math.max(lo, x));\n}\nexport function isOrdinalScale(scale) {\n    return !!scale.getBandWidth;\n}\nexport function invert(scale, x, start) {\n    if (!isOrdinalScale(scale))\n        return scale.invert(x);\n    const { adjustedRange } = scale;\n    const { domain } = scale.getOptions();\n    const offset = start ? -1 : 0;\n    const step = scale.getStep();\n    const range = start ? adjustedRange : adjustedRange.map((d) => d + step);\n    // R[i0 - 1] < x <= R[i0]\n    const i0 = bisectLeft(range, x);\n    const i1 = constrain(i0 + offset, 0, domain.length - 1);\n    return domain[i1];\n}\nexport function domainOf(scale, values, ratioX) {\n    if (!values)\n        return scale.getOptions().domain;\n    if (!isOrdinalScale(scale)) {\n        const sortedDomain = sort(values);\n        if (!ratioX)\n            return sortedDomain;\n        const [d] = sortedDomain;\n        const { range } = scale.getOptions();\n        const [r0, r1] = range;\n        const v = r0 > r1 ? -1 : 1;\n        const d1 = scale.invert(scale.map(d) + v * ratioX);\n        return [d, d1];\n    }\n    const { domain } = scale.getOptions();\n    const v1 = values[0];\n    const start = domain.indexOf(v1);\n    if (ratioX) {\n        const end = start + Math.round(domain.length * ratioX);\n        return domain.slice(start, end);\n    }\n    const v2 = values[values.length - 1];\n    const end = domain.indexOf(v2);\n    return domain.slice(start, end + 1);\n}\nexport function selectionOf(x, y, x1, y1, scale, coordinate) {\n    const { x: scaleX, y: scaleY } = scale;\n    const abstractDomain = (point, start) => {\n        const [x, y] = coordinate.invert(point);\n        return [invert(scaleX, x, start), invert(scaleY, y, start)];\n    };\n    const p0 = abstractDomain([x, y], true);\n    const p1 = abstractDomain([x1, y1], false);\n    const domainX = domainOf(scaleX, [p0[0], p1[0]]);\n    const domainY = domainOf(scaleY, [p0[1], p1[1]]);\n    return [domainX, domainY];\n}\nexport function abstractOf(domain, scale) {\n    const [d0, d1] = domain;\n    const maybeStep = (scale) => (scale.getStep ? scale.getStep() : 0);\n    return [scale.map(d0), scale.map(d1) + maybeStep(scale)];\n}\nexport function pixelsOf(selection, scale, coordinate) {\n    const { x: scaleX, y: scaleY } = scale;\n    const [X, Y] = selection;\n    const AX = abstractOf(X, scaleX);\n    const AY = abstractOf(Y, scaleY);\n    const p0 = [AX[0], AY[0]];\n    const p1 = [AX[1], AY[1]];\n    const [x, y] = coordinate.map(p0);\n    const [x1, y1] = coordinate.map(p1);\n    return [x, y, x1, y1];\n}\n//# sourceMappingURL=scale.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Slider as SliderComponent } from '@antv/component';\nimport { format } from 'd3-format';\nimport { isArray } from '@antv/util';\nimport { isTranspose } from '../utils/coordinate';\nimport { invert } from '../utils/scale';\nfunction inferPosition(bbox, position, trackSize) {\n    const { x, y, width, height } = bbox;\n    if (position === 'left')\n        return [x + width - trackSize, y];\n    if (position === 'right')\n        return [x, y];\n    if (position === 'bottom')\n        return [x, y];\n    if (position === 'top')\n        return [x, y + height - trackSize];\n}\n/**\n * Slider component.\n */\nexport const Slider = (options) => {\n    // do not pass size.\n    const { orientation, labelFormatter, size, style = {}, position } = options, rest = __rest(options, [\"orientation\", \"labelFormatter\", \"size\", \"style\", \"position\"]);\n    return (context) => {\n        var _a;\n        const { scales: [scale], value, theme, coordinate, } = context;\n        const { bbox } = value;\n        const { width, height } = bbox;\n        const { slider: sliderTheme = {} } = theme;\n        const defaultFormatter = ((_a = scale.getFormatter) === null || _a === void 0 ? void 0 : _a.call(scale)) || ((v) => v + '');\n        const formatter = typeof labelFormatter === 'string'\n            ? format(labelFormatter)\n            : labelFormatter;\n        const isHorizontal = orientation === 'horizontal';\n        const reverse = isTranspose(coordinate) && isHorizontal;\n        const { trackSize = sliderTheme.trackSize } = style;\n        const [x0, y0] = inferPosition(bbox, position, trackSize);\n        return new SliderComponent({\n            className: 'slider',\n            style: Object.assign({}, sliderTheme, Object.assign(Object.assign({ x: x0, y: y0, trackLength: isHorizontal ? width : height, orientation, formatter: (v) => {\n                    const f = formatter || defaultFormatter;\n                    const v1 = reverse ? 1 - v : v;\n                    const tick = invert(scale, v1, true);\n                    return f(tick);\n                }, sparklineData: inferSparklineData(options, context) }, style), rest)),\n        });\n    };\n};\nfunction markValue(markState, channels) {\n    const [value] = Array.from(markState.entries())\n        .filter(([mark]) => mark.type === 'line' || mark.type === 'area')\n        .filter(([mark]) => mark.slider)\n        .map(([mark]) => {\n        const { encode, slider } = mark;\n        if (slider === null || slider === void 0 ? void 0 : slider.x) {\n            const channel = (name) => {\n                const channel = encode[name];\n                return [name, channel ? channel.value : undefined];\n            };\n            return Object.fromEntries(channels.map(channel));\n        }\n    });\n    if (!(value === null || value === void 0 ? void 0 : value.series))\n        return value === null || value === void 0 ? void 0 : value.y;\n    const result = value.series.reduce((acc, curr, index) => {\n        acc[curr] = acc[curr] || [];\n        acc[curr].push(value.y[index]);\n        return acc;\n    }, {});\n    return Object.values(result);\n}\nfunction inferSparklineData(options, context) {\n    const { markState } = context;\n    if (isArray(options.sparklineData))\n        return options.sparklineData;\n    return markValue(markState, ['y', 'series']);\n}\nSlider.props = {\n    defaultPosition: 'bottom',\n    defaultSize: 24,\n    defaultOrder: 1,\n    defaultCrossPadding: [12, 12],\n    defaultPadding: [12, 12],\n};\n//# sourceMappingURL=slider.js.map","import { Slider } from './slider';\n/**\n * SliderX component.\n */\nexport const SliderX = (options) => {\n    return Slider(Object.assign(Object.assign({}, options), { orientation: 'horizontal' }));\n};\nSliderX.props = Object.assign(Object.assign({}, Slider.props), { defaultPosition: 'bottom' });\n//# sourceMappingURL=sliderX.js.map","import { Slider } from './slider';\n/**\n * SliderY component.\n */\nexport const SliderY = (options) => {\n    return Slider(Object.assign(Object.assign({}, options), { orientation: 'vertical' }));\n};\nSliderY.props = Object.assign(Object.assign({}, Slider.props), { defaultPosition: 'left' });\n//# sourceMappingURL=sliderY.js.map","import { __assign, __extends, __read } from \"tslib\";\nimport { CustomEvent } from '@antv/g';\nimport { clamp } from '@antv/util';\nimport { Component } from '../../core';\nimport { getEventPos, parseSeriesAttr, select, subStyleProps, superStyleProps } from '../../util';\nimport { Slider } from '../slider';\nvar Scrollbar = /** @class */ (function (_super) {\n    __extends(Scrollbar, _super);\n    function Scrollbar(options) {\n        var _this = _super.call(this, options, {\n            x: 0,\n            y: 0,\n            isRound: true,\n            orientation: 'vertical',\n            padding: [2, 2, 2, 2],\n            scrollable: true,\n            slidable: true,\n            thumbCursor: 'default',\n            trackSize: 10,\n            value: 0,\n        }) || this;\n        _this.range = [0, 1];\n        /**\n         * 值改变事件\n         */\n        _this.onValueChange = function (oldValue) {\n            var newValue = _this.attributes.value;\n            if (oldValue === newValue)\n                return;\n            var evtVal = {\n                detail: {\n                    oldValue: oldValue,\n                    value: newValue,\n                },\n            };\n            _this.dispatchEvent(new CustomEvent('scroll', evtVal));\n            _this.dispatchEvent(new CustomEvent('valuechange', evtVal));\n        };\n        /**\n         * 点击轨道事件\n         */\n        _this.onTrackClick = function (e) {\n            var slidable = _this.attributes.slidable;\n            if (!slidable)\n                return;\n            var _a = __read(_this.getLocalPosition(), 2), x = _a[0], y = _a[1];\n            var _b = __read(_this.padding, 4), top = _b[0], left = _b[3];\n            var basePos = _this.getOrientVal([x + left, y + top]);\n            var clickPos = _this.getOrientVal(getEventPos(e));\n            var value = (clickPos - basePos) / _this.trackLength;\n            _this.setValue(value, true);\n        };\n        _this.onThumbMouseenter = function (e) {\n            _this.dispatchEvent(new CustomEvent('thumbMouseenter', { detail: e.detail }));\n        };\n        _this.onTrackMouseenter = function (e) {\n            _this.dispatchEvent(new CustomEvent('trackMouseenter', { detail: e.detail }));\n        };\n        _this.onThumbMouseleave = function (e) {\n            _this.dispatchEvent(new CustomEvent('thumbMouseleave', { detail: e.detail }));\n        };\n        _this.onTrackMouseleave = function (e) {\n            _this.dispatchEvent(new CustomEvent('trackMouseleave', { detail: e.detail }));\n        };\n        return _this;\n    }\n    Object.defineProperty(Scrollbar.prototype, \"padding\", {\n        get: function () {\n            var padding = this.attributes.padding;\n            return parseSeriesAttr(padding);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scrollbar.prototype, \"value\", {\n        get: function () {\n            var value = this.attributes.value;\n            var _a = __read(this.range, 2), min = _a[0], max = _a[1];\n            return clamp(value, min, max);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scrollbar.prototype, \"trackLength\", {\n        get: function () {\n            var _a = this.attributes, viewportLength = _a.viewportLength, _b = _a.trackLength, trackLength = _b === void 0 ? viewportLength : _b;\n            return trackLength;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scrollbar.prototype, \"availableSpace\", {\n        get: function () {\n            var trackSize = this.attributes.trackSize;\n            var trackLength = this.trackLength;\n            var _a = __read(this.padding, 4), top = _a[0], right = _a[1], bottom = _a[2], left = _a[3];\n            var _b = __read(this.getOrientVal([\n                [trackLength, trackSize],\n                [trackSize, trackLength],\n            ]), 2), width = _b[0], height = _b[1];\n            return {\n                x: left,\n                y: top,\n                width: +width - (left + right),\n                height: +height - (top + bottom),\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scrollbar.prototype, \"trackRadius\", {\n        get: function () {\n            var _a = this.attributes, isRound = _a.isRound, trackSize = _a.trackSize;\n            if (!isRound)\n                return 0;\n            return trackSize / 2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scrollbar.prototype, \"thumbRadius\", {\n        get: function () {\n            var _a = this.attributes, isRound = _a.isRound, thumbRadius = _a.thumbRadius;\n            if (!isRound)\n                return 0;\n            var _b = this.availableSpace, width = _b.width, height = _b.height;\n            return thumbRadius || this.getOrientVal([height, width]) / 2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * accord to thumbLen and value, calculate the values of slider\n     */\n    Scrollbar.prototype.getValues = function (value) {\n        if (value === void 0) { value = this.value; }\n        var _a = this.attributes, viewportLength = _a.viewportLength, contentLength = _a.contentLength;\n        var unit = viewportLength / contentLength;\n        var _b = __read(this.range, 2), min = _b[0], max = _b[1];\n        var start = value * (max - min - unit);\n        return [start, start + unit];\n    };\n    Scrollbar.prototype.getValue = function () {\n        return this.value;\n    };\n    Scrollbar.prototype.renderSlider = function (container) {\n        var _a = this.attributes, x = _a.x, y = _a.y, orientation = _a.orientation, trackSize = _a.trackSize, padding = _a.padding, slidable = _a.slidable;\n        var trackStyle = subStyleProps(this.attributes, 'track');\n        var selectionStyle = subStyleProps(this.attributes, 'thumb');\n        var style = __assign(__assign({ x: x, y: y, brushable: false, orientation: orientation, padding: padding, selectionRadius: this.thumbRadius, showHandle: false, slidable: slidable, trackLength: this.trackLength, trackRadius: this.trackRadius, trackSize: trackSize, values: this.getValues() }, superStyleProps(trackStyle, 'track')), superStyleProps(selectionStyle, 'selection'));\n        this.slider = select(container)\n            .maybeAppendByClassName('scrollbar', function () { return new Slider({ style: style }); })\n            .update(style)\n            .node();\n    };\n    Scrollbar.prototype.render = function (attributes, container) {\n        this.renderSlider(container);\n    };\n    /**\n     * 设置value\n     * @param value 当前位置的占比\n     */\n    Scrollbar.prototype.setValue = function (value, animate) {\n        if (animate === void 0) { animate = false; }\n        var oldValue = this.attributes.value;\n        var _a = __read(this.range, 2), min = _a[0], max = _a[1];\n        this.slider.setValues(this.getValues(clamp(value, min, max)), animate);\n        // 通知触发valueChange\n        // todo 调用 setValue 不触发 valuechange\n        this.onValueChange(oldValue);\n    };\n    Scrollbar.prototype.bindEvents = function () {\n        var _this = this;\n        this.slider.addEventListener('trackClick', function (e) {\n            e.stopPropagation();\n            _this.onTrackClick(e.detail);\n        });\n        this.onHover();\n    };\n    /**\n     * 根据orient取出对应轴向上的值\n     * 主要用于取鼠标坐标在orient方向上的位置\n     */\n    Scrollbar.prototype.getOrientVal = function (values) {\n        var orientation = this.attributes.orientation;\n        return orientation === 'horizontal' ? values[0] : values[1];\n    };\n    /**\n     * 悬浮事件\n     */\n    Scrollbar.prototype.onHover = function () {\n        this.slider.addEventListener('selectionMouseenter', this.onThumbMouseenter);\n        this.slider.addEventListener('trackMouseenter', this.onTrackMouseenter);\n        this.slider.addEventListener('selectionMouseleave', this.onThumbMouseleave);\n        this.slider.addEventListener('trackMouseleave', this.onTrackMouseleave);\n    };\n    Scrollbar.tag = 'scrollbar';\n    return Scrollbar;\n}(Component));\nexport { Scrollbar };\n//# sourceMappingURL=index.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Scrollbar as ScrollbarComponent } from '@antv/component';\n/**\n * Scrollbar component.\n */\nexport const Scrollbar = (options) => {\n    const { orientation, labelFormatter, style } = options, rest = __rest(options, [\"orientation\", \"labelFormatter\", \"style\"]);\n    return ({ scales: [scale], value, theme }) => {\n        const { bbox } = value;\n        const { x, y, width, height } = bbox;\n        const { scrollbar: scrollbarTheme = {} } = theme;\n        const { ratio, range } = scale.getOptions();\n        const mainSize = orientation === 'horizontal' ? width : height;\n        const actualSize = mainSize / ratio;\n        const [r0, r1] = range;\n        const value1 = r1 > r0 ? 0 : 1;\n        return new ScrollbarComponent({\n            className: 'g2-scrollbar',\n            style: Object.assign({}, scrollbarTheme, Object.assign(Object.assign(Object.assign(Object.assign({}, style), { x,\n                y, trackLength: mainSize, value: value1 }), rest), { orientation, contentLength: actualSize, viewportLength: mainSize })),\n        });\n    };\n};\nScrollbar.props = {\n    defaultPosition: 'bottom',\n    defaultSize: 24,\n    defaultOrder: 1,\n    defaultCrossPadding: [12, 12],\n    defaultPadding: [12, 12],\n};\n//# sourceMappingURL=scrollbar.js.map","import { Scrollbar } from './scrollbar';\n/**\n * ScrollbarX component.\n */\nexport const ScrollbarX = (options) => {\n    return Scrollbar(Object.assign(Object.assign({}, options), { orientation: 'horizontal' }));\n};\nScrollbarX.props = Object.assign(Object.assign({}, Scrollbar.props), { defaultPosition: 'bottom' });\n//# sourceMappingURL=scrollbarX.js.map","import { Scrollbar } from './scrollbar';\n/**\n * ScrollbarY component.\n */\nexport const ScrollbarY = (options) => {\n    return Scrollbar(Object.assign(Object.assign({}, options), { orientation: 'vertical' }));\n};\nScrollbarY.props = Object.assign(Object.assign({}, Scrollbar.props), { defaultPosition: 'left' });\n//# sourceMappingURL=scrollbarY.js.map","import { isTranspose } from '../utils/coordinate';\n/**\n * Scale mark from nothing to desired shape in x direction.\n */\nexport const ScaleInX = (options, context) => {\n    // Small enough to hide or show very small part of mark,\n    // but bigger enough to not cause bug.\n    const ZERO = 0.0001;\n    const { coordinate } = context;\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { transform: prefix = '', fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = shape.style;\n        const [transformOrigin, transform] = isTranspose(coordinate)\n            ? [`left bottom`, `scale(1, ${ZERO})`] // left-bottom corner\n            : [`left top`, `scale(${ZERO}, 1)`]; // left-top corner\n        // Using a short fadeIn transition to hide element with scale(0.001)\n        // which is still visible.\n        const keyframes = [\n            {\n                transform: `${prefix} ${transform}`.trimStart(),\n                transformOrigin,\n                fillOpacity: 0,\n                strokeOpacity: 0,\n                opacity: 0,\n            },\n            {\n                transform: `${prefix} ${transform}`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n                offset: 0.01,\n            },\n            {\n                transform: `${prefix} scale(1, 1)`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n            },\n        ];\n        const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n        return animation;\n    };\n};\n//# sourceMappingURL=scaleInX.js.map","import { isTranspose } from '../utils/coordinate';\n/**\n * Scale mark from desired shape to nothing in x direction.\n */\nexport const ScaleOutX = (options, context) => {\n    // Small enough to hide or show very small part of mark,\n    // but bigger enough to not cause bug.\n    const ZERO = 0.0001;\n    const { coordinate } = context;\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { transform: prefix = '', fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = shape.style;\n        const [transformOrigin, transform] = isTranspose(coordinate)\n            ? [`left bottom`, `scale(1, ${ZERO})`] // left-bottom corner\n            : [`left top`, `scale(${ZERO}, 1)`]; // left-top corner\n        // Using a short fadeIn transition to hide element with scale(0.001)\n        // which is still visible.\n        const keyframes = [\n            {\n                transform: `${prefix} scale(1, 1)`.trimStart(),\n                transformOrigin,\n            },\n            {\n                transform: `${prefix} ${transform}`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n                offset: 0.99,\n            },\n            {\n                transform: `${prefix} ${transform}`.trimStart(),\n                transformOrigin,\n                fillOpacity: 0,\n                strokeOpacity: 0,\n                opacity: 0,\n            },\n        ];\n        const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n        return animation;\n    };\n};\n//# sourceMappingURL=scaleOutX.js.map","import { arc } from 'd3-shape';\nimport { Path, convertToPath, CSS, PropertySyntax, } from '@antv/g';\nimport { isTranspose, isPolar } from '../utils/coordinate';\nimport { getArcObject } from '../shape/utils';\n/**\n * Scale mark from nothing to desired shape in y direction.\n */\nexport const ScaleInY = (options, context) => {\n    // Small enough to hide or show very small part of mark,\n    // but bigger enough to not cause bug.\n    const ZERO = 0.0001;\n    const { coordinate } = context;\n    // the polar coordinate need\n    CSS.registerProperty({\n        name: 'scaleInYRadius',\n        inherits: false,\n        initialValue: '',\n        interpolable: true,\n        syntax: PropertySyntax.NUMBER,\n    });\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const PolarScaleInY = (shape) => {\n            const { __data__, style } = shape;\n            const { radius = 0, inset = 0, fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = style;\n            const { points, y, y1 } = __data__;\n            const arcObject = getArcObject(coordinate, points, [y, y1]);\n            const { innerRadius, outerRadius } = arcObject;\n            const path = arc()\n                .cornerRadius(radius)\n                .padAngle((inset * Math.PI) / 180);\n            const pathForConversion = new Path({});\n            const createArcPath = (arcParams) => {\n                pathForConversion.attr({\n                    d: path(arcParams),\n                });\n                const convertedPathDefinition = convertToPath(pathForConversion);\n                return convertedPathDefinition;\n            };\n            const keyframes = [\n                {\n                    scaleInYRadius: innerRadius + ZERO,\n                    fillOpacity: 0,\n                    strokeOpacity: 0,\n                    opacity: 0,\n                },\n                {\n                    scaleInYRadius: innerRadius + ZERO,\n                    fillOpacity,\n                    strokeOpacity,\n                    opacity,\n                    offset: 0.01,\n                },\n                {\n                    scaleInYRadius: outerRadius,\n                    fillOpacity,\n                    strokeOpacity,\n                    opacity,\n                },\n            ];\n            const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n            animation.onframe = function () {\n                shape.style.d = createArcPath(Object.assign(Object.assign({}, arcObject), { outerRadius: Number(shape.style.scaleInYRadius) }));\n            };\n            animation.onfinish = function () {\n                shape.style.d = createArcPath(Object.assign(Object.assign({}, arcObject), { outerRadius: outerRadius }));\n            };\n            return animation;\n        };\n        const RectangularScaleInY = (shape) => {\n            const { style } = shape;\n            const { transform: prefix = '', fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = style;\n            const [transformOrigin, transform] = isTranspose(coordinate)\n                ? [`left top`, `scale(${ZERO}, 1)`] // left-top corner\n                : [`left bottom`, `scale(1, ${ZERO})`]; // left-bottom corner\n            // Using a short fadeIn transition to hide element with scale(0.001)\n            // which is still visible.\n            const keyframes = [\n                {\n                    transform: `${prefix} ${transform}`.trimStart(),\n                    transformOrigin,\n                    fillOpacity: 0,\n                    strokeOpacity: 0,\n                    opacity: 0,\n                },\n                {\n                    transform: `${prefix} ${transform}`.trimStart(),\n                    transformOrigin,\n                    fillOpacity,\n                    strokeOpacity,\n                    opacity,\n                    offset: 0.01,\n                },\n                {\n                    transform: `${prefix} scale(1, 1)`.trimStart(),\n                    transformOrigin,\n                    fillOpacity,\n                    strokeOpacity,\n                    opacity,\n                },\n            ];\n            const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n            return animation;\n        };\n        if (isPolar(coordinate)) {\n            return PolarScaleInY(shape);\n        }\n        else {\n            return RectangularScaleInY(shape);\n        }\n    };\n};\n//# sourceMappingURL=scaleInY.js.map","import { isTranspose } from '../utils/coordinate';\n/**\n * Scale mark from desired shape to nothing in y direction.\n */\nexport const ScaleOutY = (options, context) => {\n    // Small enough to hide or show very small part of mark,\n    // but bigger enough to not cause bug.\n    const ZERO = 0.0001;\n    const { coordinate } = context;\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { transform: prefix = '', fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = shape.style;\n        const [transformOrigin, transform] = isTranspose(coordinate)\n            ? [`left top`, `scale(${ZERO}, 1)`] // left-top corner\n            : [`left bottom`, `scale(1, ${ZERO})`]; // left-bottom corner\n        // Using a short fadeIn transition to hide element with scale(0.001)\n        // which is still visible.\n        const keyframes = [\n            {\n                transform: `${prefix} scale(1, 1)`.trimStart(),\n                transformOrigin,\n            },\n            {\n                transform: `${prefix} ${transform}`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n                offset: 0.99,\n            },\n            {\n                transform: `${prefix} ${transform}`.trimStart(),\n                transformOrigin,\n                fillOpacity: 0,\n                strokeOpacity: 0,\n                opacity: 0,\n            },\n        ];\n        const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n        return animation;\n    };\n};\n//# sourceMappingURL=scaleOutY.js.map","import { arc } from 'd3-shape';\nimport { CSS, PropertySyntax } from '@antv/g';\nimport { getArcObject } from '../shape/utils';\nimport { isPolar } from '../utils/coordinate';\nimport { ScaleInX } from './scaleInX';\n/**\n * Transform mark from transparent to solid.\n */\nexport const WaveIn = (options, context) => {\n    const ZERO = 0.0001;\n    // @see https://g-next.antv.vision/zh/docs/api/css/css-properties-values-api#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7\n    CSS.registerProperty({\n        name: 'waveInArcAngle',\n        inherits: false,\n        initialValue: '',\n        interpolable: true,\n        syntax: PropertySyntax.NUMBER,\n    });\n    const { coordinate } = context;\n    return (from, to, defaults) => {\n        const [shape] = from;\n        if (!isPolar(coordinate)) {\n            return ScaleInX(options, context)(from, to, defaults);\n        }\n        const { __data__, style } = shape;\n        const { radius = 0, inset = 0, fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = style;\n        const { points, y, y1 } = __data__;\n        const path = arc()\n            .cornerRadius(radius)\n            .padAngle((inset * Math.PI) / 180);\n        const arcObject = getArcObject(coordinate, points, [y, y1]);\n        const { startAngle, endAngle } = arcObject;\n        const keyframes = [\n            // Use custom interpolable CSS property.\n            {\n                waveInArcAngle: startAngle + ZERO,\n                fillOpacity: 0,\n                strokeOpacity: 0,\n                opacity: 0,\n            },\n            {\n                waveInArcAngle: startAngle + ZERO,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n                offset: 0.01,\n            },\n            {\n                waveInArcAngle: endAngle,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n            },\n        ];\n        const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n        animation.onframe = function () {\n            shape.style.d = path(Object.assign(Object.assign({}, arcObject), { endAngle: Number(shape.style.waveInArcAngle) }));\n        };\n        animation.onfinish = function () {\n            shape.style.d = path(Object.assign(Object.assign({}, arcObject), { endAngle: endAngle }));\n        };\n        return animation;\n    };\n};\nWaveIn.props = {};\n//# sourceMappingURL=waveIn.js.map","/**\n * Transform mark from transparent to solid.\n */\nexport const FadeIn = (options) => {\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { fillOpacity = 1, strokeOpacity = 1, opacity = 1 } = shape.style;\n        const keyframes = [\n            { fillOpacity: 0, strokeOpacity: 0, opacity: 0 },\n            {\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n            },\n        ];\n        return shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n    };\n};\nFadeIn.props = {};\n//# sourceMappingURL=fadeIn.js.map","/**\n * Transform mark from solid to transparent.\n */\nexport const FadeOut = (options) => {\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { fillOpacity = 1, strokeOpacity = 1, opacity = 1 } = shape.style;\n        const keyframes = [\n            {\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n            },\n            { fillOpacity: 0, strokeOpacity: 0, opacity: 0 },\n        ];\n        return shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n    };\n};\nFadeOut.props = {};\n//# sourceMappingURL=fadeOut.js.map","export const ZoomIn = (options) => {\n    // Small enough to hide or show very small part of mark,\n    // but bigger enough to not cause bug.\n    const ZERO = 0.0001;\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { transform: prefix = '', fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = shape.style;\n        const transformOrigin = 'center center';\n        const keyframes = [\n            {\n                transform: `${prefix} scale(${ZERO})`.trimStart(),\n                transformOrigin,\n                fillOpacity: 0,\n                strokeOpacity: 0,\n                opacity: 0,\n            },\n            {\n                transform: `${prefix} scale(${ZERO})`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n                offset: 0.01,\n            },\n            {\n                transform: `${prefix} scale(1)`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n            },\n        ];\n        const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n        return animation;\n    };\n};\n//# sourceMappingURL=zoomIn.js.map","export const ZoomOut = (options) => {\n    // Small enough to hide or show very small part of mark,\n    // but bigger enough to not cause bug.\n    const ZERO = 0.0001;\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { transform: prefix = '', fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = shape.style;\n        const transformOrigin = 'center center';\n        const keyframes = [\n            { transform: `${prefix} scale(1)`.trimStart(), transformOrigin },\n            {\n                transform: `${prefix} scale(${ZERO})`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n                offset: 0.99,\n            },\n            {\n                transform: `${prefix} scale(${ZERO})`.trimStart(),\n                transformOrigin,\n                fillOpacity: 0,\n                strokeOpacity: 0,\n                opacity: 0,\n            },\n        ];\n        const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n        return animation;\n    };\n};\n//# sourceMappingURL=zoomOut.js.map","/**\n * Transform mark from transparent to solid.\n */\nexport const PathIn = (options) => {\n    return (from, _, defaults) => {\n        var _a, _b;\n        const [shape] = from;\n        const length = ((_b = (_a = shape).getTotalLength) === null || _b === void 0 ? void 0 : _b.call(_a)) || 0;\n        const keyframes = [\n            { lineDash: [0, length] },\n            { lineDash: [length, 0] },\n        ];\n        return shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n    };\n};\nPathIn.props = {};\n//# sourceMappingURL=pathIn.js.map","/**\n * 判断值是否为字符串\n * @return 是否为字符串\n */\nexport default function isString(value) {\n    return typeof value === 'string';\n}\n//# sourceMappingURL=is-string.js.map","import isString from './is-string';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param key\n * @param defaultValue\n */\nexport default (function (obj, key, defaultValue) {\n    var p = 0;\n    var keyArr = isString(key) ? key.split('.') : key;\n    while (obj && p < keyArr.length) {\n        obj = obj[keyArr[p++]];\n    }\n    return obj === undefined || p < keyArr.length ? defaultValue : obj;\n});\n//# sourceMappingURL=get.js.map","import { Shape } from '@antv/g';\nconst DEFAULT_ATTRIBUTE_VALUE = {\n    opacity: 1,\n    strokeOpacity: 1,\n    fillOpacity: 1,\n    lineWidth: 0,\n    x: 0,\n    y: 0,\n    cx: 0,\n    cy: 0,\n    r: 0,\n    rx: 0,\n    ry: 0,\n    width: 0,\n    height: 0,\n};\nexport const GEOMETRY_ATTRIBUTES = {\n    [Shape.CIRCLE]: ['cx', 'cy', 'r'],\n    [Shape.ELLIPSE]: ['cx', 'cy', 'rx', 'ry'],\n    [Shape.RECT]: ['x', 'y', 'width', 'height'],\n    [Shape.IMAGE]: ['x', 'y', 'width', 'height'],\n    [Shape.LINE]: ['x1', 'y1', 'x2', 'y2'],\n    [Shape.POLYLINE]: ['points'],\n    [Shape.POLYGON]: ['points'],\n};\nexport function attributeOf(shape, keys, useDefaultValue = false) {\n    const attribute = {};\n    for (const key of keys) {\n        const value = shape.style[key];\n        if (value) {\n            attribute[key] = value;\n        }\n        else if (useDefaultValue) {\n            attribute[key] = DEFAULT_ATTRIBUTE_VALUE[key];\n        }\n    }\n    return attribute;\n}\nexport const attributeKeys = [\n    'fill',\n    'stroke',\n    'fillOpacity',\n    'strokeOpacity',\n    'opacity',\n    'lineWidth',\n];\n//# sourceMappingURL=utils.js.map","import { convertToPath, Path, Shape, } from '@antv/g';\nimport { get } from '@antv/util';\nimport { copyAttributes } from '../utils/helper';\nimport { attributeKeys, attributeOf, GEOMETRY_ATTRIBUTES } from './utils';\nfunction localBBoxOf(shape) {\n    const { min, max } = shape.getLocalBounds();\n    const [x0, y0] = min;\n    const [x1, y1] = max;\n    const height = y1 - y0;\n    const width = x1 - x0;\n    return [x0, y0, width, height];\n}\nfunction d(bbox) {\n    const [x, y, width, height] = bbox;\n    return `\n    M ${x} ${y}\n    L ${x + width} ${y}\n    L ${x + width} ${y + height}\n    L ${x} ${y + height}\n    Z\n  `;\n}\nfunction pack(shape, count) {\n    const [x0, y0, width, height] = localBBoxOf(shape);\n    const aspect = height / width;\n    const col = Math.ceil(Math.sqrt(count / aspect));\n    const row = Math.ceil(count / col);\n    const B = [];\n    const h = height / row;\n    let j = 0;\n    let n = count;\n    while (n > 0) {\n        const c = Math.min(n, col);\n        const w = width / c;\n        for (let i = 0; i < c; i++) {\n            const x = x0 + i * w;\n            const y = y0 + j * h;\n            B.push(d([x, y, w, h]));\n        }\n        n -= c;\n        j += 1;\n    }\n    return B;\n}\nfunction normalizeSplit(split = 'pack') {\n    if (typeof split == 'function')\n        return split;\n    return pack;\n}\n/**\n * Use attributes relative to geometry to do shape to shape animation.\n *\n * For example, the x, y, width, height of `Rect`, the cx, cy, r of `Circle`.\n * And for `Group`, it will use the bbox of the group.\n */\nfunction shapeToShape(from, to, timeEffect) {\n    let { transform: fromTransform } = from.style;\n    const { transform: toTransform } = to.style;\n    // Replace first to get right bbox after mounting.\n    replaceChild(to, from);\n    let keys = attributeKeys;\n    if (from.nodeName === Shape.GROUP) {\n        // Apply translate and scale transform.\n        const [x0, y0, w0, h0] = localBBoxOf(from);\n        const [x1, y1, w1, h1] = localBBoxOf(to);\n        const dx = x0 - x1;\n        const dy = y0 - y1;\n        const sx = w0 / w1;\n        const sy = h0 / h1;\n        fromTransform = `translate(${dx}, ${dy}) scale(${sx}, ${sy})`;\n    }\n    else {\n        keys = keys.concat(GEOMETRY_ATTRIBUTES[from.nodeName] || []);\n    }\n    const keyframes = [\n        Object.assign({ transform: fromTransform !== null && fromTransform !== void 0 ? fromTransform : 'none' }, attributeOf(from, keys, true)),\n        Object.assign({ transform: toTransform !== null && toTransform !== void 0 ? toTransform : 'none' }, attributeOf(to, keys, true)),\n    ];\n    const animation = to.animate(keyframes, timeEffect);\n    return animation;\n}\n/**\n * Replace object and copy className and __data__\n */\nfunction replaceChild(newChild, oldChild) {\n    newChild['__data__'] = oldChild['__data__'];\n    newChild.className = oldChild.className;\n    // @ts-ignore\n    newChild.markType = oldChild.markType;\n    oldChild.parentNode.replaceChild(newChild, oldChild);\n}\n/**\n * Replace element with a path shape.\n */\nfunction maybePath(node, d) {\n    const { nodeName } = node;\n    if (nodeName === 'path')\n        return node;\n    const path = new Path({\n        style: Object.assign(Object.assign({}, attributeOf(node, attributeKeys)), { d }),\n    });\n    replaceChild(path, node);\n    return path;\n}\nfunction hasUniqueString(search, pattern) {\n    const first = search.indexOf(pattern);\n    const last = search.lastIndexOf(pattern);\n    return first === last;\n}\n// Path definition with multiple m and M command has sub path.\n// eg. 'M10,10...M20,20', 'm10,10...m20,20'\nfunction hasSubPath(path) {\n    return !hasUniqueString(path, 'm') || !hasUniqueString(path, 'M');\n}\nfunction shape2path(shape) {\n    const path = convertToPath(shape);\n    if (!path)\n        return;\n    // Path definition with sub path can't do path morphing animation,\n    // so skip this kind of path.\n    if (hasSubPath(path))\n        return;\n    return path;\n}\n// Check if the path has a markerEnd | markerStart\nfunction hasMarker(shape) {\n    const { nodeName } = shape;\n    if (nodeName === 'path') {\n        const attributes = get(shape, 'attributes');\n        return attributes.markerEnd || attributes.markerStart;\n    }\n    return false;\n}\nfunction oneToOne(shape, from, to, timeEffect) {\n    // If the nodeTypes of from and to are equal,\n    // or non of them can convert to path,\n    // the apply shape to shape animation.\n    const { nodeName: fromName } = from;\n    const { nodeName: toName } = to;\n    const fromPath = shape2path(from);\n    const toPath = shape2path(to);\n    const isSameNodes = fromName === toName && fromName !== 'path';\n    const hasNonPathNode = fromPath === undefined || toPath === undefined;\n    // Path with mark can not use animate like ordinary path.\n    const isPathWithMarker = hasMarker(from) || hasMarker(to);\n    if (isSameNodes || hasNonPathNode || isPathWithMarker)\n        return shapeToShape(from, to, timeEffect);\n    const pathShape = maybePath(shape, fromPath);\n    // Convert Path will take transform, anchor, etc into account,\n    // so there is no need to specify these attributes in keyframes.\n    const keyframes = [\n        Object.assign({}, attributeOf(from, attributeKeys)),\n        Object.assign({}, attributeOf(to, attributeKeys)),\n    ];\n    if (fromPath !== toPath) {\n        keyframes[0].d = fromPath;\n        keyframes[1].d = toPath;\n        const animation = pathShape.animate(keyframes, timeEffect);\n        animation.onfinish = () => {\n            // Should keep the original path definition.\n            const d = pathShape.style.d;\n            copyAttributes(pathShape, to);\n            pathShape.style.d = d;\n            pathShape.style.transform = 'none';\n        };\n        // Remove transform because it already applied in path\n        // converted by convertToPath.\n        pathShape.style.transform = 'none';\n        return animation;\n    }\n    // No need to apply animation since fromPath equals toPath.\n    return null;\n}\nfunction oneToMultiple(from, to, timeEffect, split) {\n    // Hide the shape to be split before being removing.\n    from.style.visibility = 'hidden';\n    const D = split(from, to.length);\n    return to.map((shape, i) => {\n        const path = new Path({\n            style: Object.assign({ d: D[i] }, attributeOf(from, attributeKeys)),\n        });\n        return oneToOne(shape, path, shape, timeEffect);\n    });\n}\nfunction multipleToOne(from, to, timeEffect, split) {\n    const D = split(to, from.length);\n    const { fillOpacity = 1, strokeOpacity = 1, opacity = 1 } = to.style;\n    const keyframes = [\n        { fillOpacity: 0, strokeOpacity: 0, opacity: 0 },\n        { fillOpacity: 0, strokeOpacity: 0, opacity: 0, offset: 0.99 },\n        {\n            fillOpacity,\n            strokeOpacity,\n            opacity,\n        },\n    ];\n    const animation = to.animate(keyframes, timeEffect);\n    const animations = from.map((shape, i) => {\n        const path = new Path({\n            style: {\n                d: D[i],\n                fill: to.style.fill,\n            },\n        });\n        return oneToOne(shape, shape, path, timeEffect);\n    });\n    return [...animations, animation];\n}\n/**\n * Morphing animations.\n * @todo Support more split function.\n */\nexport const Morphing = (options) => {\n    return (from, to, defaults) => {\n        const split = normalizeSplit(options.split);\n        const timeEffect = Object.assign(Object.assign({}, defaults), options);\n        const { length: fl } = from;\n        const { length: tl } = to;\n        if ((fl === 1 && tl === 1) || (fl > 1 && tl > 1)) {\n            const [f] = from;\n            const [t] = to;\n            return oneToOne(f, f, t, timeEffect);\n        }\n        if (fl === 1 && tl > 1) {\n            const [f] = from;\n            return oneToMultiple(f, to, timeEffect, split);\n        }\n        if (fl > 1 && tl === 1) {\n            const [t] = to;\n            return multipleToOne(from, t, timeEffect, split);\n        }\n        return null;\n    };\n};\nMorphing.props = {};\n//# sourceMappingURL=morphing.js.map","import { Path } from '@antv/g';\nimport { ScaleInX } from './scaleInX';\n/**\n * Scale mark from nothing to desired shape in x direction.\n */\nexport const GrowInX = (options, context) => {\n    return (from, to, defaults) => {\n        const [shape] = from;\n        const { min: [x, y], halfExtents, } = shape.getLocalBounds();\n        const width = halfExtents[0] * 2;\n        const height = halfExtents[1] * 2;\n        const clipPath = new Path({\n            style: {\n                d: `M${x},${y}L${x + width},${y}L${x + width},${y + height}L${x},${y + height}Z`,\n            },\n        });\n        shape.appendChild(clipPath);\n        shape.style.clipPath = clipPath;\n        const animation = ScaleInX(options, context)([clipPath], to, defaults);\n        return animation;\n    };\n};\nGrowInX.props = {};\n//# sourceMappingURL=growInX.js.map","import { Path } from '@antv/g';\nimport { ScaleInY } from './scaleInY';\n/**\n * Scale mark from nothing to desired shape in x direction.\n */\nexport const GrowInY = (options, context) => {\n    return (from, to, defaults) => {\n        const [shape] = from;\n        const { min: [x, y], halfExtents, } = shape.getLocalBounds();\n        const width = halfExtents[0] * 2;\n        const height = halfExtents[1] * 2;\n        const clipPath = new Path({\n            style: {\n                d: `M${x},${y}L${x + width},${y}L${x + width},${y + height}L${x},${y + height}Z`,\n            },\n        });\n        shape.appendChild(clipPath);\n        shape.style.clipPath = clipPath;\n        const animation = ScaleInY(options, context)([clipPath], to, defaults);\n        return animation;\n    };\n};\nGrowInY.props = {};\n//# sourceMappingURL=growInY.js.map","import isArrayLike from './is-array-like';\nvar filter = function (arr, func) {\n    if (!isArrayLike(arr)) {\n        return arr;\n    }\n    var result = [];\n    for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n        if (func(value, index)) {\n            result.push(value);\n        }\n    }\n    return result;\n};\nexport default filter;\n//# sourceMappingURL=filter.js.map","export const MAIN_LAYER_CLASS_NAME = 'main-layer';\nexport const LABEL_LAYER_CLASS_NAME = 'label-layer';\nexport const ELEMENT_CLASS_NAME = 'element';\nexport const VIEW_CLASS_NAME = 'view';\nexport const PLOT_CLASS_NAME = 'plot';\nexport const COMPONENT_CLASS_NAME = 'component';\nexport const LABEL_CLASS_NAME = 'label';\nexport const AREA_CLASS_NAME = 'area';\nexport const MASK_CLASS_NAME = 'mask';\n//# sourceMappingURL=constant.js.map","const defaultStyle = {\n    visibility: 'visible',\n    opacity: 1,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n};\nexport function getStyle(element, key) {\n    var _a;\n    return (_a = element.style[key]) !== null && _a !== void 0 ? _a : defaultStyle[key];\n}\nexport function setStyle(element, key, value, recursive) {\n    element.style[key] = value;\n    if (recursive) {\n        element.children.forEach((child) => setStyle(child, key, value, recursive));\n    }\n}\nexport function hide(element) {\n    setStyle(element, 'visibility', 'hidden', true);\n}\nexport function show(element) {\n    setStyle(element, 'visibility', 'visible', true);\n}\n//# sourceMappingURL=style.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Path, AABB } from '@antv/g';\nimport { path as d3Path } from 'd3-path';\nimport { sort } from 'd3-array';\nimport { filter } from '@antv/util';\nimport { select } from '../utils/selection';\nimport { mapObject } from '../utils/array';\nimport { ELEMENT_CLASS_NAME, PLOT_CLASS_NAME, } from '../runtime';\nimport { isOrdinalScale } from '../utils/scale';\nimport { rect } from '../shape/interval/color';\nimport { isPolar, isTranspose } from '../utils/coordinate';\nimport { getStyle } from '../utils/style';\nimport { reorder } from '../shape/utils';\nimport { angle, angleBetween, sub } from '../utils/vector';\n/**\n * Given root of chart returns elements to be manipulated\n */\nexport function selectG2Elements(root) {\n    return select(root)\n        .selectAll(`.${ELEMENT_CLASS_NAME}`)\n        .nodes()\n        .filter((d) => !d.__removed__);\n}\nexport function selectFacetG2Elements(target, viewInstances) {\n    return selectFacetViews(target, viewInstances).flatMap(({ container }) => selectG2Elements(container));\n}\nexport function selectFacetViews(target, viewInstances) {\n    return viewInstances.filter((d) => d !== target && d.options.parentKey === target.options.key);\n}\nexport function selectPlotArea(root) {\n    return select(root).select(`.${PLOT_CLASS_NAME}`).node();\n}\nexport function bboxOf(element) {\n    // The geometry bounds of a group is empty, so return the render bounds.\n    if (element.tagName === 'g')\n        return element.getRenderBounds();\n    // Compute the geometry bounds related to the parent.\n    const bounds = element.getGeometryBounds();\n    const aabb = new AABB();\n    aabb.setFromTransformedAABB(bounds, element.getWorldTransform());\n    return aabb;\n}\nexport function mousePosition(target, event) {\n    const { offsetX, offsetY } = event;\n    const bbox = bboxOf(target);\n    const { min: [x, y], max: [x1, y1], } = bbox;\n    const isOutX = offsetX < x || offsetX > x1;\n    const isOutY = offsetY < y || offsetY > y1;\n    if (isOutX || isOutY)\n        return null;\n    return [offsetX - x, offsetY - y];\n}\n/**\n * @todo Pass bbox rather than calc it here.\n */\nexport function brushMousePosition(target, event) {\n    const { offsetX, offsetY } = event;\n    const [x, y, x1, y1] = boundsOfBrushArea(target);\n    return [\n        Math.min(x1, Math.max(x, offsetX)) - x,\n        Math.min(y1, Math.max(y, offsetY)) - y,\n    ];\n}\nexport function boundsOfBrushArea(target) {\n    // Calc bbox after clipping.\n    const bbox = target.getRenderBounds();\n    const { min: [x0, y0], max: [x1, y1], } = bbox;\n    return [x0, y0, x1, y1];\n}\nexport function createColorKey(view) {\n    return (element) => element.__data__.color;\n}\nexport function createXKey(view) {\n    return (element) => element.__data__.x;\n}\nexport function createDatumof(view) {\n    const views = Array.isArray(view) ? view : [view];\n    const keyData = new Map(views.flatMap((view) => {\n        const marks = Array.from(view.markState.keys());\n        return marks.map((mark) => [keyed(view.key, mark.key), mark.data]);\n    }));\n    return (element) => {\n        const { index, markKey, viewKey } = element.__data__;\n        const data = keyData.get(keyed(viewKey, markKey));\n        return data[index];\n    };\n}\n/**\n * A state manager for G2Element.\n * The keys for each state's style start with the state name.\n * { selectedFill, selectedStroke } is for selected state.\n * { unselectedFill, unselectedStroke } is for unselected state.\n */\nexport function useState(style, valueof = (d, element) => d, setAttribute = (element, key, v) => element.setAttribute(key, v)) {\n    const STATES = '__states__';\n    const ORIGINAL = '__ordinal__';\n    // Mix style for each state and apply it to element.\n    const updateState = (element) => {\n        const { [STATES]: states = [], [ORIGINAL]: original = {} } = element;\n        const stateStyle = states.reduce((mixedStyle, state) => (Object.assign(Object.assign({}, mixedStyle), style[state])), original);\n        if (Object.keys(stateStyle).length === 0)\n            return;\n        for (const [key, value] of Object.entries(stateStyle)) {\n            const currentValue = getStyle(element, key);\n            const v = valueof(value, element);\n            setAttribute(element, key, v);\n            // Store the attribute if it does not exist in original.\n            if (!(key in original))\n                original[key] = currentValue;\n        }\n        element[ORIGINAL] = original;\n    };\n    const initState = (element) => {\n        if (element[STATES])\n            return;\n        element[STATES] = [];\n        return;\n    };\n    /**\n     * Set the states and update element.\n     */\n    const setState = (element, ...states) => {\n        initState(element);\n        element[STATES] = [...states];\n        updateState(element);\n    };\n    /**\n     * Remove the states and update element.\n     */\n    const removeState = (element, ...states) => {\n        initState(element);\n        for (const state of states) {\n            const index = element[STATES].indexOf(state);\n            if (index !== -1) {\n                element[STATES].splice(index, 1);\n            }\n        }\n        updateState(element);\n    };\n    const hasState = (element, state) => {\n        initState(element);\n        return element[STATES].indexOf(state) !== -1;\n    };\n    return {\n        setState,\n        removeState,\n        hasState,\n    };\n}\nfunction isEmptyObject(obj) {\n    if (obj === undefined)\n        return true;\n    if (typeof obj !== 'object')\n        return false;\n    return Object.keys(obj).length === 0;\n}\n// A function to generate key for mark each view.\nfunction keyed(viewKey, markKey) {\n    return `${viewKey},${markKey}`;\n}\nexport function mergeState(options, states) {\n    // Index state by mark key and view key.\n    const views = Array.isArray(options) ? options : [options];\n    const markState = views.flatMap((view) => view.marks.map((mark) => [keyed(view.key, mark.key), mark.state]));\n    const state = {};\n    // Update each specified state.\n    for (const descriptor of states) {\n        const [key, defaults] = Array.isArray(descriptor)\n            ? descriptor\n            : [descriptor, {}];\n        // Update each specified mark state.\n        state[key] = markState.reduce((merged, mark) => {\n            // Normalize state.\n            const [markKey, markState = {}] = mark;\n            const selectedState = isEmptyObject(markState[key])\n                ? defaults\n                : markState[key];\n            // Update each state attribute.\n            for (const [attr, value] of Object.entries(selectedState)) {\n                const oldValue = merged[attr];\n                const newValue = (data, index, array, element) => {\n                    const k = keyed(element.__data__.viewKey, element.__data__.markKey);\n                    if (markKey !== k)\n                        return oldValue === null || oldValue === void 0 ? void 0 : oldValue(data, index, array, element);\n                    if (typeof value !== 'function')\n                        return value;\n                    return value(data, index, array, element);\n                };\n                merged[attr] = newValue;\n            }\n            return merged;\n        }, {});\n    }\n    return state;\n}\n// @todo Support elements from different view.\nexport function createValueof(elements, datum) {\n    const elementIndex = new Map(elements.map((d, i) => [d, i]));\n    const fa = datum ? elements.map(datum) : elements;\n    return (d, e) => {\n        if (typeof d !== 'function')\n            return d;\n        const i = elementIndex.get(e);\n        const fe = datum ? datum(e) : e;\n        return d(fe, i, fa, e);\n    };\n}\nexport function renderLink(_a) {\n    var { link = false, valueof = (d, element) => d, coordinate } = _a, style = __rest(_a, [\"link\", \"valueof\", \"coordinate\"]);\n    const LINK_CLASS_NAME = 'element-link';\n    if (!link)\n        return [() => { }, () => { }];\n    const pointsOf = (element) => element.__data__.points;\n    const pathPointsOf = (P0, P1) => {\n        const [, p1, p2] = P0;\n        const [p0, , , p3] = P1;\n        const P = [p1, p0, p3, p2];\n        return P;\n    };\n    const append = (elements) => {\n        var _a;\n        if (elements.length <= 1)\n            return;\n        // Sort elements by normalized x to avoid cross.\n        const sortedElements = sort(elements, (e0, e1) => {\n            const { x: x0 } = e0.__data__;\n            const { x: x1 } = e1.__data__;\n            const dx = x0 - x1;\n            return dx;\n        });\n        for (let i = 1; i < sortedElements.length; i++) {\n            const p = d3Path();\n            const e0 = sortedElements[i - 1];\n            const e1 = sortedElements[i];\n            const [p0, p1, p2, p3] = pathPointsOf(pointsOf(e0), pointsOf(e1));\n            p.moveTo(...p0);\n            p.lineTo(...p1);\n            p.lineTo(...p2);\n            p.lineTo(...p3);\n            p.closePath();\n            const _b = mapObject(style, (d) => valueof(d, e0)), { fill = e0.getAttribute('fill') } = _b, rest = __rest(_b, [\"fill\"]);\n            const link = new Path({\n                className: LINK_CLASS_NAME,\n                style: Object.assign({ d: p.toString(), fill, zIndex: -2 }, rest),\n            });\n            // @ts-ignore\n            (_a = e0.link) === null || _a === void 0 ? void 0 : _a.remove();\n            e0.parentNode.appendChild(link);\n            // @ts-ignore\n            e0.link = link;\n        }\n    };\n    const remove = (element) => {\n        var _a;\n        (_a = element.link) === null || _a === void 0 ? void 0 : _a.remove();\n        element.link = null;\n    };\n    return [append, remove];\n}\n// Apply translate to mock slice out.\nexport function offsetTransform(element, offset, coordinate) {\n    const append = (t) => {\n        const { transform } = element.style;\n        return transform ? `${transform} ${t}` : t;\n    };\n    if (isPolar(coordinate)) {\n        const { points } = element.__data__;\n        const [p0, p1] = isTranspose(coordinate) ? reorder(points) : points;\n        const center = coordinate.getCenter();\n        const v0 = sub(p0, center);\n        const v1 = sub(p1, center);\n        const a0 = angle(v0);\n        const da = angleBetween(v0, v1);\n        const amid = a0 + da / 2;\n        const dx = offset * Math.cos(amid);\n        const dy = offset * Math.sin(amid);\n        return append(`translate(${dx}, ${dy})`);\n    }\n    if (isTranspose(coordinate))\n        return append(`translate(${offset}, 0)`);\n    return append(`translate(0, ${-offset})`);\n}\nexport function renderBackground(_a) {\n    var { document, background, scale, coordinate, valueof } = _a, rest = __rest(_a, [\"document\", \"background\", \"scale\", \"coordinate\", \"valueof\"]);\n    const BACKGROUND_CLASS_NAME = 'element-background';\n    // Don't have background.\n    if (!background)\n        return [() => { }, () => { }];\n    const extentOf = (scale, x, padding) => {\n        const ax = scale.invert(x);\n        const mid = x + scale.getBandWidth(ax) / 2;\n        const half = scale.getStep(ax) / 2;\n        const offset = half * padding;\n        return [mid - half + offset, mid + half - offset];\n    };\n    const sizeXOf = (element, padding) => {\n        const { x: scaleX } = scale;\n        if (!isOrdinalScale(scaleX))\n            return [0, 1];\n        const { __data__: data } = element;\n        const { x } = data;\n        const [e1, e2] = extentOf(scaleX, x, padding);\n        return [e1, e2];\n    };\n    const sizeYOf = (element, padding) => {\n        const { y: scaleY } = scale;\n        if (!isOrdinalScale(scaleY))\n            return [0, 1];\n        const { __data__: data } = element;\n        const { y } = data;\n        const [e1, e2] = extentOf(scaleY, y, padding);\n        return [e1, e2];\n    };\n    const bandShapeOf = (element, style) => {\n        const { padding } = style;\n        const [x1, x2] = sizeXOf(element, padding);\n        const [y1, y2] = sizeYOf(element, padding);\n        const points = [\n            [x1, y1],\n            [x2, y1],\n            [x2, y2],\n            [x1, y2],\n        ].map((d) => coordinate.map(d));\n        const { __data__: data } = element;\n        const { y: dy, y1: dy1 } = data;\n        return rect(document, points, { y: dy, y1: dy1 }, coordinate, style);\n    };\n    // Shape without ordinal style.\n    // Clone and scale it.\n    const cloneShapeOf = (element, style) => {\n        const { transform = 'scale(1.2, 1.2)', transformOrigin = 'center center', stroke = '' } = style, rest = __rest(style, [\"transform\", \"transformOrigin\", \"stroke\"]);\n        const finalStyle = Object.assign({ transform, transformOrigin, stroke }, rest);\n        const shape = element.cloneNode(true);\n        for (const [key, value] of Object.entries(finalStyle)) {\n            shape.style[key] = value;\n        }\n        return shape;\n    };\n    const isOrdinalShape = () => {\n        const { x, y } = scale;\n        return [x, y].some(isOrdinalScale);\n    };\n    const append = (element) => {\n        if (element.background)\n            element.background.remove();\n        const _a = mapObject(rest, (d) => valueof(d, element)), { fill = '#CCD6EC', fillOpacity = 0.3, zIndex = -2, padding = 0.001, lineWidth = 0 } = _a, style = __rest(_a, [\"fill\", \"fillOpacity\", \"zIndex\", \"padding\", \"lineWidth\"]);\n        const finalStyle = Object.assign(Object.assign({}, style), { fill,\n            fillOpacity,\n            zIndex,\n            padding,\n            lineWidth });\n        const shapeOf = isOrdinalShape() ? bandShapeOf : cloneShapeOf;\n        const shape = shapeOf(element, finalStyle);\n        shape.className = BACKGROUND_CLASS_NAME;\n        element.parentNode.parentNode.appendChild(shape);\n        element.background = shape;\n    };\n    const remove = (element) => {\n        var _a;\n        (_a = element.background) === null || _a === void 0 ? void 0 : _a.remove();\n        element.background = null;\n    };\n    const is = (element) => {\n        return element.className === BACKGROUND_CLASS_NAME;\n    };\n    return [append, remove, is];\n}\nexport function setCursor(root, cursor) {\n    // @ts-ignore\n    const canvas = root.getRootNode().defaultView;\n    const dom = canvas.getContextService().getDomElement();\n    if (dom === null || dom === void 0 ? void 0 : dom.style) {\n        root.cursor = dom.style.cursor;\n        dom.style.cursor = cursor;\n    }\n}\nexport function restoreCursor(root) {\n    setCursor(root, root.cursor);\n}\nexport function selectElementByData(elements, data, datum) {\n    return elements.find((d) => Object.entries(data).every(([key, value]) => datum(d)[key] === value));\n}\nexport function getPointsR(point, nextPoint) {\n    return Math.sqrt(Math.pow(point[0] - nextPoint[0], 2) + Math.pow(point[1] - nextPoint[1], 2));\n}\n// Points create path.\nexport function getPointsPath(points, isClose = false) {\n    const path = filter(points, (d) => !!d).map((d, i) => {\n        return [i === 0 ? 'M' : 'L', ...d];\n    });\n    if (isClose) {\n        path.push(['Z']);\n    }\n    return path;\n}\n// Get element.\nexport function getElements(plot) {\n    return plot.querySelectorAll('.element');\n}\n// Get Theta coordinate round path.\nexport function getThetaPath(center, points, isBig = 0) {\n    const path = [['M', ...points[1]]];\n    const innerRadius = getPointsR(center, points[1]);\n    const outerRadius = getPointsR(center, points[0]);\n    if (innerRadius === 0) {\n        path.push(['L', ...points[3]], ['A', outerRadius, outerRadius, 0, isBig, 1, ...points[0]], ['Z']);\n    }\n    else {\n        path.push(['A', innerRadius, innerRadius, 0, isBig, 0, ...points[2]], ['L', ...points[3]], ['A', outerRadius, outerRadius, 0, isBig, 1, ...points[0]], ['Z']);\n    }\n    return path;\n}\nexport function maybeRoot(node, rootOf) {\n    if (rootOf(node))\n        return node;\n    let root = node.parent;\n    while (root && !rootOf(root))\n        root = root.parent;\n    return root;\n}\n//# sourceMappingURL=utils.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { group } from 'd3-array';\nimport { subObject } from '../utils/helper';\nimport { createDatumof, createValueof, mergeState, offsetTransform, renderBackground, renderLink, selectElementByData, selectG2Elements, selectPlotArea, useState, } from './utils';\n/**\n * highlight a group of elements.\n */\nexport function elementHighlight(root, { elements: elementsof, // given the root of chart returns elements to be manipulated\ndatum, // given each element returns the datum of it\ngroupKey = (d) => d, // group elements by specified key\nlink = false, // draw link or not\nbackground = false, // draw background or not\ndelay = 60, // delay to unhighlighted element\nscale, coordinate, emitter, state = {}, }) {\n    var _a;\n    const elements = elementsof(root);\n    const elementSet = new Set(elements);\n    const keyGroup = group(elements, groupKey);\n    const valueof = createValueof(elements, datum);\n    const [appendLink, removeLink] = renderLink(Object.assign({ elements,\n        valueof,\n        link,\n        coordinate }, subObject(state.active, 'link')));\n    const [appendBackground, removeBackground, isBackground] = renderBackground(Object.assign({ document: root.ownerDocument, scale,\n        coordinate,\n        background,\n        valueof }, subObject(state.active, 'background')));\n    const elementStyle = deepMix(state, {\n        active: Object.assign({}, (((_a = state.active) === null || _a === void 0 ? void 0 : _a.offset) && {\n            //Apply translate to mock slice out.\n            transform: (...params) => {\n                const value = state.active.offset(...params);\n                const [, i] = params;\n                return offsetTransform(elements[i], value, coordinate);\n            },\n        })),\n    });\n    const { setState, removeState, hasState } = useState(elementStyle, valueof);\n    let out; // Timer for delaying unhighlighted.\n    const pointerover = (event) => {\n        const { target: element, nativeEvent = true } = event;\n        if (!elementSet.has(element))\n            return;\n        if (out)\n            clearTimeout(out);\n        const k = groupKey(element);\n        const group = keyGroup.get(k);\n        const groupSet = new Set(group);\n        for (const e of elements) {\n            if (groupSet.has(e)) {\n                if (!hasState(e, 'active'))\n                    setState(e, 'active');\n            }\n            else {\n                setState(e, 'inactive');\n                removeLink(e);\n            }\n            if (e !== element)\n                removeBackground(e);\n        }\n        appendBackground(element);\n        appendLink(group);\n        // Emit events.\n        if (!nativeEvent)\n            return;\n        emitter.emit('element:highlight', {\n            nativeEvent,\n            data: {\n                data: datum(element),\n                group: group.map(datum),\n            },\n        });\n    };\n    const delayUnhighlighted = () => {\n        if (out)\n            clearTimeout(out);\n        out = setTimeout(() => {\n            unhighlighted();\n            out = null;\n        }, delay);\n    };\n    const unhighlighted = (nativeEvent = true) => {\n        for (const e of elements) {\n            removeState(e, 'active', 'inactive');\n            removeBackground(e);\n            removeLink(e);\n        }\n        if (nativeEvent) {\n            emitter.emit('element:unhighlight', { nativeEvent });\n        }\n    };\n    const pointerout = (event) => {\n        const { target: element } = event;\n        if (background && !isBackground(element))\n            return;\n        if (!background && !elementSet.has(element))\n            return;\n        if (delay > 0)\n            delayUnhighlighted();\n        else\n            unhighlighted();\n    };\n    const pointerleave = () => {\n        unhighlighted();\n    };\n    root.addEventListener('pointerover', pointerover);\n    root.addEventListener('pointerout', pointerout);\n    root.addEventListener('pointerleave', pointerleave);\n    const onRest = (e) => {\n        const { nativeEvent } = e;\n        if (nativeEvent)\n            return;\n        unhighlighted(false);\n    };\n    const onHighlight = (e) => {\n        const { nativeEvent } = e;\n        if (nativeEvent)\n            return;\n        const { data } = e.data;\n        const element = selectElementByData(elements, data, datum);\n        if (!element)\n            return;\n        pointerover({ target: element, nativeEvent: false });\n    };\n    emitter.on('element:highlight', onHighlight);\n    emitter.on('element:unhighlight', onRest);\n    return () => {\n        root.removeEventListener('pointerover', pointerover);\n        root.removeEventListener('pointerout', pointerout);\n        root.removeEventListener('pointerleave', pointerleave);\n        emitter.off('element:highlight', onHighlight);\n        emitter.off('element:unhighlight', onRest);\n        for (const e of elements) {\n            removeBackground(e);\n            removeLink(e);\n        }\n    };\n}\nexport function ElementHighlight(_a) {\n    var { delay, createGroup, background = false, link = false } = _a, rest = __rest(_a, [\"delay\", \"createGroup\", \"background\", \"link\"]);\n    return (context, _, emitter) => {\n        const { container, view, options } = context;\n        const { scale, coordinate } = view;\n        const plotArea = selectPlotArea(container);\n        return elementHighlight(plotArea, Object.assign({ elements: selectG2Elements, datum: createDatumof(view), groupKey: createGroup ? createGroup(view) : undefined, coordinate,\n            scale, state: mergeState(options, [\n                ['active', background ? {} : { lineWidth: '1', stroke: '#000' }],\n                'inactive',\n            ]), background,\n            link,\n            delay,\n            emitter }, rest));\n    };\n}\nElementHighlight.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=elementHighlight.js.map","import { createXKey } from './utils';\nimport { ElementHighlight } from './elementHighlight';\nexport function ElementHighlightByX(options) {\n    return ElementHighlight(Object.assign(Object.assign({}, options), { createGroup: createXKey }));\n}\nElementHighlightByX.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=elementHighlightByX.js.map","import { createColorKey } from './utils';\nimport { ElementHighlight } from './elementHighlight';\nexport function ElementHighlightByColor(options) {\n    return ElementHighlight(Object.assign(Object.assign({}, options), { createGroup: createColorKey }));\n}\nElementHighlightByColor.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=elementHighlightByColor.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { group } from 'd3-array';\nimport { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { createValueof, createDatumof, selectG2Elements, useState, renderLink, renderBackground, selectPlotArea, offsetTransform, mergeState, selectElementByData, } from './utils';\n/**\n * Active a group of elements.\n */\nexport function elementSelect(root, { elements: elementsof, // given the root of chart returns elements to be manipulated\ndatum, // given each element returns the datum of it\ngroupKey = (d) => d, // group elements by specified key\nlink = false, // draw link or not\nsingle = false, // single select or not\ncoordinate, background = false, scale, emitter, state = {}, }) {\n    var _a;\n    const elements = elementsof(root);\n    const elementSet = new Set(elements);\n    const keyGroup = group(elements, groupKey);\n    const valueof = createValueof(elements, datum);\n    const [appendLink, removeLink] = renderLink(Object.assign({ link,\n        elements,\n        valueof,\n        coordinate }, subObject(state.selected, 'link')));\n    const [appendBackground, removeBackground] = renderBackground(Object.assign({ document: root.ownerDocument, background,\n        coordinate,\n        scale,\n        valueof }, subObject(state.selected, 'background')));\n    const elementStyle = deepMix(state, {\n        selected: Object.assign({}, (((_a = state.selected) === null || _a === void 0 ? void 0 : _a.offset) && {\n            //Apply translate to mock slice out.\n            transform: (...params) => {\n                const value = state.selected.offset(...params);\n                const [, i] = params;\n                return offsetTransform(elements[i], value, coordinate);\n            },\n        })),\n    });\n    const { setState, removeState, hasState } = useState(elementStyle, valueof);\n    const clear = (nativeEvent = true) => {\n        for (const e of elements) {\n            removeState(e, 'selected', 'unselected');\n            removeLink(e);\n            removeBackground(e);\n        }\n        if (nativeEvent)\n            emitter.emit('element:unselect', { nativeEvent: true });\n        return;\n    };\n    const singleSelect = (event, element, nativeEvent = true) => {\n        // Clear states if clicked selected element.\n        if (hasState(element, 'selected'))\n            clear();\n        else {\n            const k = groupKey(element);\n            const group = keyGroup.get(k);\n            const groupSet = new Set(group);\n            for (const e of elements) {\n                if (groupSet.has(e))\n                    setState(e, 'selected');\n                else {\n                    setState(e, 'unselected');\n                    removeLink(e);\n                }\n                if (e !== element)\n                    removeBackground(e);\n            }\n            appendLink(group);\n            appendBackground(element);\n            if (!nativeEvent)\n                return;\n            emitter.emit('element:select', Object.assign(Object.assign({}, event), { nativeEvent, data: {\n                    data: [datum(element), ...group.map(datum)],\n                } }));\n        }\n    };\n    const multipleSelect = (event, element, nativeEvent = true) => {\n        const k = groupKey(element);\n        const group = keyGroup.get(k);\n        const groupSet = new Set(group);\n        if (!hasState(element, 'selected')) {\n            const hasSelectedGroup = group.some((e) => hasState(e, 'selected'));\n            for (const e of elements) {\n                if (groupSet.has(e))\n                    setState(e, 'selected');\n                else if (!hasState(e, 'selected'))\n                    setState(e, 'unselected');\n            }\n            // Append link for each group only once.\n            if (!hasSelectedGroup && link)\n                appendLink(group);\n            appendBackground(element);\n        }\n        else {\n            // If there is no selected elements after resetting this group,\n            // clear the states.\n            const hasSelected = elements.some((e) => !groupSet.has(e) && hasState(e, 'selected'));\n            if (!hasSelected)\n                return clear();\n            // If there are still some selected elements after resetting this group,\n            // only remove the link.\n            for (const e of group) {\n                setState(e, 'unselected');\n                removeLink(e);\n                removeBackground(e);\n            }\n        }\n        if (!nativeEvent)\n            return;\n        emitter.emit('element:select', Object.assign(Object.assign({}, event), { nativeEvent, data: {\n                data: elements.filter((e) => hasState(e, 'selected')).map(datum),\n            } }));\n    };\n    const click = (event) => {\n        const { target: element, nativeEvent = true } = event;\n        // Click non-element shape, reset.\n        // Such as the rest of content area(background).\n        if (!elementSet.has(element))\n            return clear();\n        if (single)\n            return singleSelect(event, element, nativeEvent);\n        return multipleSelect(event, element, nativeEvent);\n    };\n    root.addEventListener('click', click);\n    const onSelect = (e) => {\n        const { nativeEvent, data } = e;\n        if (nativeEvent)\n            return;\n        const selectedData = single ? data.data.slice(0, 1) : data.data;\n        for (const d of selectedData) {\n            const element = selectElementByData(elements, d, datum);\n            click({ target: element, nativeEvent: false });\n        }\n    };\n    const onUnSelect = () => {\n        clear(false);\n    };\n    emitter.on('element:select', onSelect);\n    emitter.on('element:unselect', onUnSelect);\n    return () => {\n        for (const e of elements)\n            removeLink(e);\n        root.removeEventListener('click', click);\n        emitter.off('element:select', onSelect);\n        emitter.off('element:unselect', onUnSelect);\n    };\n}\nexport function ElementSelect(_a) {\n    var { createGroup, background = false, link = false } = _a, rest = __rest(_a, [\"createGroup\", \"background\", \"link\"]);\n    return (context, _, emitter) => {\n        const { container, view, options } = context;\n        const { coordinate, scale } = view;\n        const plotArea = selectPlotArea(container);\n        return elementSelect(plotArea, Object.assign({ elements: selectG2Elements, datum: createDatumof(view), groupKey: createGroup ? createGroup(view) : undefined, coordinate,\n            scale, state: mergeState(options, [\n                ['selected', background ? {} : { lineWidth: '1', stroke: '#000' }],\n                'unselected',\n            ]), background,\n            link,\n            emitter }, rest));\n    };\n}\nElementSelect.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=elementSelect.js.map","import { createXKey } from './utils';\nimport { ElementSelect } from './elementSelect';\nexport function ElementSelectByX(options) {\n    return ElementSelect(Object.assign(Object.assign({}, options), { createGroup: createXKey }));\n}\nElementSelectByX.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=elementSelectByX.js.map","import { createColorKey } from './utils';\nimport { ElementSelect } from './elementSelect';\nexport function ElementSelectByColor(options) {\n    return ElementSelect(Object.assign(Object.assign({}, options), { createGroup: createColorKey }));\n}\nElementSelectByColor.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=elementSelectByColor.js.map","export default (function (func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options)\n        options = {};\n    var later = function () {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout)\n            context = args = null;\n    };\n    var throttled = function () {\n        var now = Date.now();\n        if (!previous && options.leading === false)\n            previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout)\n                context = args = null;\n        }\n        else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n    throttled.cancel = function () {\n        clearTimeout(timeout);\n        previous = 0;\n        timeout = context = args = null;\n    };\n    return throttled;\n});\n//# sourceMappingURL=throttle.js.map","import { throttle, deepMix } from '@antv/util';\nimport { selectPlotArea, mousePosition } from './utils';\nfunction maybeCoordinate(options) {\n    const { coordinate = {} } = options;\n    const { transform = [] } = coordinate;\n    const fisheye = transform.find((d) => d.type === 'fisheye');\n    if (fisheye)\n        return fisheye;\n    const newFisheye = { type: 'fisheye' };\n    transform.push(newFisheye);\n    coordinate.transform = transform;\n    options.coordinate = coordinate;\n    return newFisheye;\n}\n/**\n * @todo Bind abstract data or data index.\n */\nexport function Fisheye({ wait = 30, leading, trailing = false, }) {\n    return (context) => {\n        const { options, update, setState, container } = context;\n        const plotArea = selectPlotArea(container);\n        const updateFocus = throttle((event) => {\n            const focus = mousePosition(plotArea, event);\n            if (!focus) {\n                setState('fisheye');\n                update();\n                return;\n            }\n            setState('fisheye', (options) => {\n                // Clone options and mutate it.\n                // Disable animation.\n                const clonedOptions = deepMix({}, options, {\n                    interaction: { tooltip: { preserve: true } },\n                });\n                for (const mark of clonedOptions.marks)\n                    mark.animate = false;\n                const [x, y] = focus;\n                const fisheye = maybeCoordinate(clonedOptions);\n                fisheye.focusX = x;\n                fisheye.focusY = y;\n                fisheye.visual = true;\n                return clonedOptions;\n            });\n            update();\n        }, wait, { leading, trailing });\n        // Bind events.\n        plotArea.addEventListener('pointerenter', updateFocus);\n        plotArea.addEventListener('pointermove', updateFocus);\n        plotArea.addEventListener('pointerleave', updateFocus);\n        return () => {\n            plotArea.removeEventListener('pointerenter', updateFocus);\n            plotArea.removeEventListener('pointermove', updateFocus);\n            plotArea.removeEventListener('pointerleave', updateFocus);\n        };\n    };\n}\n//# sourceMappingURL=fisheye.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Line, Text } from '@antv/g';\nimport { deepMix, throttle } from '@antv/util';\nimport { max, min, rollup, sort, bisectCenter, bisector, group, } from 'd3-array';\nimport { subObject } from '../utils/helper';\nimport { ELEMENT_CLASS_NAME, LABEL_CLASS_NAME, } from '../runtime';\nimport { selectPlotArea, mousePosition } from './utils';\nfunction maybeTransform(options) {\n    const { transform = [] } = options;\n    const normalizeY = transform.find((d) => d.type === 'normalizeY');\n    if (normalizeY)\n        return normalizeY;\n    const newNormalizeY = { type: 'normalizeY' };\n    transform.push(newNormalizeY);\n    options.transform = transform;\n    return newNormalizeY;\n}\nfunction markValue(markState, markName, channels) {\n    const [value] = Array.from(markState.entries())\n        .filter(([mark]) => mark.type === markName)\n        .map(([mark]) => {\n        const { encode } = mark;\n        const channel = (name) => {\n            const channel = encode[name];\n            return [name, channel ? channel.value : undefined];\n        };\n        return Object.fromEntries(channels.map(channel));\n    });\n    return value;\n}\n/**\n * @todo Perf\n */\nexport function ChartIndex(_a) {\n    var { wait = 20, leading, trailing = false, labelFormatter = (date) => `${date}` } = _a, style = __rest(_a, [\"wait\", \"leading\", \"trailing\", \"labelFormatter\"]);\n    return (context) => {\n        const { view, container, update, setState } = context;\n        const { markState, scale, coordinate } = view;\n        // Get line mark value, exit if it is not existed.\n        const value = markValue(markState, 'line', ['x', 'y', 'series']);\n        if (!value)\n            return;\n        // Prepare channel value.\n        const { y: Y, x: X, series: S = [] } = value;\n        const I = Y.map((_, i) => i);\n        const sortedX = sort(I.map((i) => X[i]));\n        // Prepare shapes.\n        const plotArea = selectPlotArea(container);\n        const lines = container.getElementsByClassName(ELEMENT_CLASS_NAME);\n        const labels = container.getElementsByClassName(LABEL_CLASS_NAME);\n        // The format of label key: `${elementKey}-index`,\n        // group labels by elementKey.\n        const keyofLabel = (d) => d.__data__.key.split('-')[0];\n        const keyLabels = group(labels, keyofLabel);\n        const rule = new Line({\n            style: Object.assign({ x1: 0, y1: 0, x2: 0, y2: plotArea.getAttribute('height'), stroke: 'black', lineWidth: 1 }, subObject(style, 'rule')),\n        });\n        const text = new Text({\n            style: Object.assign({ x: 0, y: plotArea.getAttribute('height'), text: '', fontSize: 10 }, subObject(style, 'label')),\n        });\n        rule.append(text);\n        plotArea.appendChild(rule);\n        // Get the closet date to the rule.\n        const dateByFocus = (coordinate, scaleX, focus) => {\n            const [normalizedX] = coordinate.invert(focus);\n            const date = scaleX.invert(normalizedX);\n            return sortedX[bisectCenter(sortedX, date)];\n        };\n        // Update rule and label content.\n        const updateRule = (focus, date) => {\n            rule.setAttribute('x1', focus[0]);\n            rule.setAttribute('x2', focus[0]);\n            text.setAttribute('text', labelFormatter(date));\n        };\n        // Store the new inner state alter rerender the view.\n        let newView;\n        // Rerender the view to update basis for each line.\n        const updateBasisByRerender = (focus) => __awaiter(this, void 0, void 0, function* () {\n            // Find the closetDate to the rule.\n            const { x: scaleX } = scale;\n            const date = dateByFocus(coordinate, scaleX, focus);\n            updateRule(focus, date);\n            setState('chartIndex', (options) => {\n                // Clone options and get line mark.\n                const clonedOptions = deepMix({}, options);\n                const lineMark = clonedOptions.marks.find((d) => d.type === 'line');\n                // Update domain of y scale for the line mark.\n                const r = (I) => max(I, (i) => +Y[i]) / min(I, (i) => +Y[i]);\n                const k = max(rollup(I, r, (i) => S[i]).values());\n                const domainY = [1 / k, k];\n                deepMix(lineMark, {\n                    scale: { y: { domain: domainY } },\n                });\n                // Update normalize options.\n                const normalizeY = maybeTransform(lineMark);\n                normalizeY.groupBy = 'color';\n                normalizeY.basis = (I, Y) => {\n                    const i = I[bisector((i) => X[+i]).center(I, date)];\n                    return Y[i];\n                };\n                // Disable animation.\n                for (const mark of clonedOptions.marks)\n                    mark.animate = false;\n                return clonedOptions;\n            });\n            const newState = yield update('chartIndex');\n            newView = newState.view;\n        });\n        // Only apply translate to update basis for each line.\n        // If performance is ok, there is no need to use this\n        // strategy to update basis.\n        const updateBasisByTranslate = (focus) => {\n            // Find the closetDate to the rule.\n            const { scale, coordinate } = newView;\n            const { x: scaleX, y: scaleY } = scale;\n            const date = dateByFocus(coordinate, scaleX, focus);\n            updateRule(focus, date);\n            // Translate mark and label for better performance.\n            for (const line of lines) {\n                // Compute transform in y direction.\n                const { seriesIndex: SI, key } = line.__data__;\n                const i = SI[bisector((i) => X[+i]).center(SI, date)];\n                const p0 = [0, scaleY.map(1)]; // basis point\n                const p1 = [0, scaleY.map(Y[i] / Y[SI[0]])];\n                const [, y0] = coordinate.map(p0);\n                const [, y1] = coordinate.map(p1);\n                const dy = y0 - y1;\n                line.setAttribute('transform', `translate(0, ${dy})`);\n                // Update line and related label.\n                const labels = keyLabels.get(key) || [];\n                for (const label of labels) {\n                    // @todo Replace with style.transform.\n                    // It now has unexpected behavior.\n                    label.setAttribute('dy', dy);\n                }\n            }\n        };\n        const updateBasis = throttle((event) => {\n            const focus = mousePosition(plotArea, event);\n            if (!focus)\n                return;\n            updateBasisByTranslate(focus);\n        }, wait, { leading, trailing });\n        updateBasisByRerender([0, 0]);\n        plotArea.addEventListener('pointerenter', updateBasis);\n        plotArea.addEventListener('pointermove', updateBasis);\n        plotArea.addEventListener('pointerleave', updateBasis);\n        return () => {\n            rule.remove();\n            plotArea.removeEventListener('pointerenter', updateBasis);\n            plotArea.removeEventListener('pointermove', updateBasis);\n            plotArea.removeEventListener('pointerleave', updateBasis);\n        };\n    };\n}\nChartIndex.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=chartIndex.js.map","export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n","export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n","// to prevent users from tampering with internal values.\nexport const ChartEvent = {\n    BEFORE_RENDER: 'beforerender',\n    AFTER_RENDER: 'afterrender',\n    BEFORE_PAINT: 'beforepaint',\n    AFTER_PAINT: 'afterpaint',\n    BEFORE_CHANGE_DATA: 'beforechangedata',\n    AFTER_CHANGE_DATA: 'afterchangedata',\n    BEFORE_CLEAR: 'beforeclear',\n    AFTER_CLEAR: 'afterclear',\n    BEFORE_DESTROY: 'beforedestroy',\n    AFTER_DESTROY: 'afterdestroy',\n    BEFORE_CHANGE_SIZE: 'beforechangesize',\n    AFTER_CHANGE_SIZE: 'afterchangesize',\n    POINTER_TAP: 'pointertap',\n    POINTER_DOWN: 'pointerdown',\n    POINTER_UP: 'pointerup',\n    POINTER_OVER: 'pointerover',\n    POINTER_OUT: 'pointerout',\n    POINTER_MOVE: 'pointermove',\n    POINTER_ENTER: 'pointerenter',\n    POINTER_LEAVE: 'pointerleave',\n    POINTER_UPOUTSIDE: 'pointerupoutside',\n    DRAG_START: 'dragstart',\n    DRAG: 'drag',\n    DRAG_END: 'dragend',\n    DRAG_ENTER: 'dragenter',\n    DRAG_LEAVE: 'dragleave',\n    DRAG_OVER: 'dragover',\n    DROP: 'DROP',\n    CLICK: 'click',\n    DBLCLICK: 'dblclick',\n};\n//# sourceMappingURL=event.js.map","import { ChartEvent } from '../utils/event';\nimport { maybeRoot } from './utils';\nexport function dataOf(element, view) {\n    const { __data__: datum } = element;\n    const { markKey, index, seriesIndex } = datum;\n    const { markState } = view;\n    const selectedMark = Array.from(markState.keys()).find((mark) => mark.key === markKey);\n    if (!selectedMark)\n        return;\n    if (seriesIndex) {\n        return seriesIndex.map((i) => selectedMark.data[i]);\n    }\n    return selectedMark.data[index];\n}\n// For extended component\nfunction maybeComponentRoot(node) {\n    return maybeRoot(node, (node) => node.className === 'component');\n}\n// For extended shape.\nfunction maybeElementRoot(node) {\n    return maybeRoot(node, (node) => node.className === 'element');\n}\n// For extended label.\nfunction maybeLabelRoot(node) {\n    return maybeRoot(node, (node) => node.className === 'label');\n}\nfunction bubblesEvent(eventType, view, emitter, predicate = (event) => true) {\n    return (e) => {\n        if (!predicate(e))\n            return;\n        // Emit plot events.\n        emitter.emit(`plot:${eventType}`, e);\n        const { target } = e;\n        // There is no target for pointerupoutside event if out of canvas.\n        if (!target)\n            return;\n        const { className } = target;\n        // If target area is plot area, do not emit extra events.\n        if (className === 'plot')\n            return;\n        // If target is element or child of element.\n        const elementRoot = maybeElementRoot(target);\n        // If target is component or child of component.\n        const componentRoot = maybeComponentRoot(target);\n        //  If target is babel or child of babel.\n        const babelRoot = maybeLabelRoot(target);\n        const root = elementRoot || componentRoot || babelRoot;\n        if (!root)\n            return;\n        const { className: elementType, markType } = root;\n        const e1 = Object.assign(Object.assign({}, e), { nativeEvent: true });\n        if (elementType === 'element') {\n            e1['data'] = { data: dataOf(root, view) };\n            emitter.emit(`element:${eventType}`, e1);\n            emitter.emit(`${markType}:${eventType}`, e1);\n        }\n        else if (elementType === 'label') {\n            //label children [Text2, Rect2, Path2],\n            e1['data'] = { data: root.attributes.datum };\n            emitter.emit(`label:${eventType}`, e1);\n            emitter.emit(`${className}:${eventType}`, e1);\n        }\n        else {\n            emitter.emit(`component:${eventType}`, e1);\n            emitter.emit(`${className}:${eventType}`, e1);\n        }\n    };\n}\n// @todo Provide more info for event.dataset.\nexport function Event() {\n    return (context, _, emitter) => {\n        const { container, view } = context;\n        // Click events.\n        const click = bubblesEvent(ChartEvent.CLICK, view, emitter, (e) => e.detail === 1);\n        const dblclick = bubblesEvent(ChartEvent.DBLCLICK, view, emitter, (e) => e.detail === 2);\n        // Pointer events.\n        const pointertap = bubblesEvent(ChartEvent.POINTER_TAP, view, emitter);\n        const pointerdown = bubblesEvent(ChartEvent.POINTER_DOWN, view, emitter);\n        const pointerup = bubblesEvent(ChartEvent.POINTER_UP, view, emitter);\n        const pointerover = bubblesEvent(ChartEvent.POINTER_OVER, view, emitter);\n        const pointerout = bubblesEvent(ChartEvent.POINTER_OUT, view, emitter);\n        const pointermove = bubblesEvent(ChartEvent.POINTER_MOVE, view, emitter);\n        const pointerenter = bubblesEvent(ChartEvent.POINTER_ENTER, view, emitter);\n        const pointerleave = bubblesEvent(ChartEvent.POINTER_LEAVE, view, emitter);\n        const pointerupoutside = bubblesEvent(ChartEvent.POINTER_UPOUTSIDE, view, emitter);\n        // Drag and drop events.\n        const dragstart = bubblesEvent(ChartEvent.DRAG_START, view, emitter);\n        const drag = bubblesEvent(ChartEvent.DRAG, view, emitter);\n        const dragend = bubblesEvent(ChartEvent.DRAG_END, view, emitter);\n        const dragenter = bubblesEvent(ChartEvent.DRAG_ENTER, view, emitter);\n        const dragleave = bubblesEvent(ChartEvent.DRAG_LEAVE, view, emitter);\n        const dragover = bubblesEvent(ChartEvent.DRAG_OVER, view, emitter);\n        const drop = bubblesEvent(ChartEvent.DROP, view, emitter);\n        // For legacy usage.\n        container.addEventListener('click', click);\n        container.addEventListener('click', dblclick);\n        // Recommend events.\n        container.addEventListener('pointertap', pointertap);\n        container.addEventListener('pointerdown', pointerdown);\n        container.addEventListener('pointerup', pointerup);\n        container.addEventListener('pointerover', pointerover);\n        container.addEventListener('pointerout', pointerout);\n        container.addEventListener('pointermove', pointermove);\n        container.addEventListener('pointerenter', pointerenter);\n        container.addEventListener('pointerleave', pointerleave);\n        container.addEventListener('pointerupoutside', pointerupoutside);\n        // Plugin events.\n        container.addEventListener('dragstart', dragstart);\n        container.addEventListener('drag', drag);\n        container.addEventListener('dragend', dragend);\n        container.addEventListener('dragenter', dragenter);\n        container.addEventListener('dragleave', dragleave);\n        container.addEventListener('dragover', dragover);\n        container.addEventListener('drop', drop);\n        return () => {\n            container.removeEventListener('click', click);\n            container.removeEventListener('click', dblclick);\n            container.removeEventListener('pointertap', pointertap);\n            container.removeEventListener('pointerdown', pointerdown);\n            container.removeEventListener('pointerup', pointerup);\n            container.removeEventListener('pointerover', pointerover);\n            container.removeEventListener('pointerout', pointerout);\n            container.removeEventListener('pointermove', pointermove);\n            container.removeEventListener('pointerenter', pointerenter);\n            container.removeEventListener('pointerleave', pointerleave);\n            container.removeEventListener('pointerupoutside', pointerupoutside);\n            container.removeEventListener('dragstart', dragstart);\n            container.removeEventListener('drag', drag);\n            container.removeEventListener('dragend', dragend);\n            container.removeEventListener('dragenter', dragenter);\n            container.removeEventListener('dragleave', dragleave);\n            container.removeEventListener('dragover', dragover);\n            container.removeEventListener('drop', drop);\n        };\n    };\n}\nEvent.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=event.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Circle, Line } from '@antv/g';\nimport { sort, group, mean, bisector, minIndex } from 'd3-array';\nimport { deepMix, lowerFirst, throttle } from '@antv/util';\nimport { Tooltip as TooltipComponent } from '@antv/component';\nimport { Constant, Band } from '@antv/scale';\nimport { defined, subObject } from '../utils/helper';\nimport { isTranspose, isPolar } from '../utils/coordinate';\nimport { angle, sub, dist } from '../utils/vector';\nimport { invert } from '../utils/scale';\nimport { selectG2Elements, createXKey, selectPlotArea, mousePosition, selectFacetG2Elements, createDatumof, selectElementByData, bboxOf, maybeRoot, } from './utils';\nimport { dataOf } from './event';\nfunction getContainer(group, mount) {\n    if (mount) {\n        return typeof mount === 'string' ? document.querySelector(mount) : mount;\n    }\n    const canvas = group.ownerDocument.defaultView\n        .getContextService()\n        .getDomElement();\n    return canvas.parentElement;\n}\nfunction getBounding(root) {\n    const bbox = root.getRenderBounds();\n    const { min: [x1, y1], max: [x2, y2], } = bbox;\n    return {\n        x: x1,\n        y: y1,\n        width: x2 - x1,\n        height: y2 - y1,\n    };\n}\nfunction getContainerOffset(container1, container2) {\n    const r1 = container1.getBoundingClientRect();\n    const r2 = container2.getBoundingClientRect();\n    return {\n        x: r1.x - r2.x,\n        y: r1.y - r2.y,\n    };\n}\nfunction createTooltip(container, x0, y0, position, enterable, bounding, containerOffset, css = {}, offset = [10, 10]) {\n    const defaults = {\n        '.g2-tooltip': {},\n        '.g2-tooltip-title': {\n            overflow: 'hidden',\n            'white-space': 'nowrap',\n            'text-overflow': 'ellipsis',\n        },\n    };\n    const tooltipElement = new TooltipComponent({\n        className: 'tooltip',\n        style: {\n            x: x0,\n            y: y0,\n            container: containerOffset,\n            data: [],\n            bounding,\n            position,\n            enterable,\n            title: '',\n            offset,\n            template: {\n                prefixCls: 'g2-',\n            },\n            style: deepMix(defaults, css),\n        },\n    });\n    container.appendChild(tooltipElement.HTMLTooltipElement);\n    return tooltipElement;\n}\nfunction showTooltip({ root, data, x, y, render, event, single, position = 'right-bottom', enterable = false, css, mount, bounding, offset, }) {\n    const container = getContainer(root, mount);\n    const canvasContainer = getContainer(root);\n    // All the views share the same tooltip.\n    const parent = single ? canvasContainer : root;\n    const b = bounding || getBounding(root);\n    const containerOffset = getContainerOffset(canvasContainer, container);\n    const { tooltipElement = createTooltip(container, x, y, position, enterable, b, containerOffset, css, offset), } = parent;\n    const { items, title = '' } = data;\n    tooltipElement.update(Object.assign({ x,\n        y, data: items, title,\n        position,\n        enterable, container: containerOffset }, (render !== undefined && {\n        content: render(event, { items, title }),\n    })));\n    parent.tooltipElement = tooltipElement;\n}\nfunction hideTooltip({ root, single, emitter, nativeEvent = true, event = null, }) {\n    if (nativeEvent) {\n        emitter.emit('tooltip:hide', { nativeEvent });\n    }\n    const container = getContainer(root);\n    const parent = single ? container : root;\n    const { tooltipElement } = parent;\n    if (tooltipElement) {\n        // Must be clientX, clientY.\n        tooltipElement.hide(event === null || event === void 0 ? void 0 : event.clientX, event === null || event === void 0 ? void 0 : event.clientY);\n    }\n    hideRuleY(root);\n    hideRuleX(root);\n    hideMarker(root);\n}\nfunction destroyTooltip({ root, single }) {\n    const container = getContainer(root);\n    const parent = single ? container : root;\n    if (!parent)\n        return;\n    const { tooltipElement } = parent;\n    if (tooltipElement) {\n        tooltipElement.destroy();\n        parent.tooltipElement = undefined;\n    }\n    hideRuleY(root);\n    hideRuleX(root);\n    hideMarker(root);\n}\nfunction showUndefined(item) {\n    const { value } = item;\n    return Object.assign(Object.assign({}, item), { value: value === undefined ? 'undefined' : value });\n}\nfunction singleItem(element) {\n    const { __data__: datum } = element;\n    const { title, items = [] } = datum;\n    const newItems = items\n        .filter(defined)\n        .map((_a) => {\n        var { color = itemColorOf(element) } = _a, item = __rest(_a, [\"color\"]);\n        return (Object.assign(Object.assign({}, item), { color }));\n    })\n        .map(showUndefined);\n    return Object.assign(Object.assign({}, (title && { title })), { items: newItems });\n}\nfunction groupNameOf(scale, datum) {\n    const { color: scaleColor, series: scaleSeries, facet = false } = scale;\n    const { color, series } = datum;\n    const invertAble = (scale) => {\n        return (scale &&\n            scale.invert &&\n            !(scale instanceof Band) &&\n            !(scale instanceof Constant));\n    };\n    // For non constant color channel.\n    if (invertAble(scaleSeries)) {\n        const cloned = scaleSeries.clone();\n        return cloned.invert(series);\n    }\n    if (series &&\n        scaleSeries instanceof Band &&\n        scaleSeries.invert(series) !== color &&\n        !facet) {\n        return scaleSeries.invert(series);\n    }\n    if (invertAble(scaleColor)) {\n        const name = scaleColor.invert(color);\n        // For threshold scale.\n        if (Array.isArray(name))\n            return null;\n        return name;\n    }\n    return null;\n}\nfunction itemColorOf(element) {\n    const fill = element.getAttribute('fill');\n    const stroke = element.getAttribute('stroke');\n    const { __data__: datum } = element;\n    const { color = fill && fill !== 'transparent' ? fill : stroke } = datum;\n    return color;\n}\nfunction unique(items, key = (d) => d) {\n    const valueName = new Map(items.map((d) => [key(d), d]));\n    return Array.from(valueName.values());\n}\nfunction groupItems(elements, scale, groupName, data = elements.map((d) => d['__data__']), theme = {}) {\n    const key = (d) => (d instanceof Date ? +d : d);\n    const T = unique(data.map((d) => d.title), key).filter(defined);\n    const newItems = data\n        .flatMap((datum, i) => {\n        const element = elements[i];\n        const { items = [], title } = datum;\n        const definedItems = items.filter(defined);\n        // If there is only one item, use groupName as title by default.\n        const useGroupName = groupName !== undefined ? groupName : items.length <= 1 ? true : false;\n        return definedItems.map((_a) => {\n            var { color = itemColorOf(element) || theme.color, name } = _a, item = __rest(_a, [\"color\", \"name\"]);\n            const groupName = groupNameOf(scale, datum);\n            const name1 = useGroupName ? groupName || name : name || groupName;\n            return Object.assign(Object.assign({}, item), { color, name: name1 || title });\n        });\n    })\n        .map(showUndefined);\n    return Object.assign(Object.assign({}, (T.length > 0 && { title: T.join(',') })), { items: unique(newItems, (d) => `(${key(d.name)}, ${key(d.value)}, ${key(d.color)})`) });\n}\nfunction updateRuleX(root, points, mouse, _a) {\n    var { plotWidth, plotHeight, mainWidth, mainHeight, startX, startY, transposed, polar, insetLeft, insetTop } = _a, rest = __rest(_a, [\"plotWidth\", \"plotHeight\", \"mainWidth\", \"mainHeight\", \"startX\", \"startY\", \"transposed\", \"polar\", \"insetLeft\", \"insetTop\"]);\n    const defaults = Object.assign({ lineWidth: 1, stroke: '#1b1e23', strokeOpacity: 0.5 }, rest);\n    const createCircle = (cx, cy, r) => {\n        const circle = new Circle({\n            style: Object.assign({ cx,\n                cy,\n                r }, defaults),\n        });\n        root.appendChild(circle);\n        return circle;\n    };\n    const createLine = (x1, x2, y1, y2) => {\n        const line = new Line({\n            style: Object.assign({ x1,\n                x2,\n                y1,\n                y2 }, defaults),\n        });\n        root.appendChild(line);\n        return line;\n    };\n    const minDistPoint = (mouse, points) => {\n        // only one point do not need compute\n        if (points.length === 1) {\n            return points[0];\n        }\n        const dists = points.map((p) => dist(p, mouse));\n        const minDistIndex = minIndex(dists, (d) => d);\n        return points[minDistIndex];\n    };\n    const target = minDistPoint(mouse, points);\n    const pointsOf = () => {\n        if (transposed)\n            return [\n                startX + target[0],\n                startX + target[0],\n                startY,\n                startY + plotHeight,\n            ];\n        return [startX, startX + plotWidth, target[1] + startY, target[1] + startY];\n    };\n    const pointsOfPolar = () => {\n        const cx = startX + insetLeft + mainWidth / 2;\n        const cy = startY + insetTop + mainHeight / 2;\n        const cdist = dist([cx, cy], target);\n        return [cx, cy, cdist];\n    };\n    if (polar) {\n        const [cx, cy, r] = pointsOfPolar();\n        const ruleX = root.ruleX || createCircle(cx, cy, r);\n        ruleX.style.cx = cx;\n        ruleX.style.cy = cy;\n        ruleX.style.r = r;\n        root.ruleX = ruleX;\n    }\n    else {\n        const [x1, x2, y1, y2] = pointsOf();\n        const ruleX = root.ruleX || createLine(x1, x2, y1, y2);\n        ruleX.style.x1 = x1;\n        ruleX.style.x2 = x2;\n        ruleX.style.y1 = y1;\n        ruleX.style.y2 = y2;\n        root.ruleX = ruleX;\n    }\n}\nfunction updateRuleY(root, points, _a) {\n    var { plotWidth, plotHeight, mainWidth, mainHeight, startX, startY, transposed, polar, insetLeft, insetTop } = _a, rest = __rest(_a, [\"plotWidth\", \"plotHeight\", \"mainWidth\", \"mainHeight\", \"startX\", \"startY\", \"transposed\", \"polar\", \"insetLeft\", \"insetTop\"]);\n    const defaults = Object.assign({ lineWidth: 1, stroke: '#1b1e23', strokeOpacity: 0.5 }, rest);\n    const Y = points.map((p) => p[1]);\n    const X = points.map((p) => p[0]);\n    const y = mean(Y);\n    const x = mean(X);\n    const pointsOf = () => {\n        if (polar) {\n            const r = Math.min(mainWidth, mainHeight) / 2;\n            const cx = startX + insetLeft + mainWidth / 2;\n            const cy = startY + insetTop + mainHeight / 2;\n            const a = angle(sub([x, y], [cx, cy]));\n            const x0 = cx + r * Math.cos(a);\n            const y0 = cy + r * Math.sin(a);\n            return [cx, x0, cy, y0];\n        }\n        if (transposed)\n            return [startX, startX + plotWidth, y + startY, y + startY];\n        return [x + startX, x + startX, startY, startY + plotHeight];\n    };\n    const [x1, x2, y1, y2] = pointsOf();\n    const createLine = () => {\n        const line = new Line({\n            style: Object.assign({ x1,\n                x2,\n                y1,\n                y2 }, defaults),\n        });\n        root.appendChild(line);\n        return line;\n    };\n    // Only update rule with defined series elements.\n    if (X.length > 0) {\n        const ruleY = root.ruleY || createLine();\n        ruleY.style.x1 = x1;\n        ruleY.style.x2 = x2;\n        ruleY.style.y1 = y1;\n        ruleY.style.y2 = y2;\n        root.ruleY = ruleY;\n    }\n}\nfunction hideRuleY(root) {\n    if (root.ruleY) {\n        root.ruleY.remove();\n        root.ruleY = undefined;\n    }\n}\nfunction hideRuleX(root) {\n    if (root.ruleX) {\n        root.ruleX.remove();\n        root.ruleX = undefined;\n    }\n}\nfunction updateMarker(root, { data, style, theme }) {\n    if (root.markers)\n        root.markers.forEach((d) => d.remove());\n    const { type = '' } = style;\n    const markers = data\n        .filter((d) => {\n        const [{ x, y }] = d;\n        return defined(x) && defined(y);\n    })\n        .map((d) => {\n        const [{ color, element }, point] = d;\n        const originColor = color || // encode value\n            element.style.fill ||\n            element.style.stroke ||\n            theme.color;\n        const fill = type === 'hollow' ? 'transparent' : originColor;\n        const stroke = type === 'hollow' ? originColor : '#fff';\n        const shape = new Circle({\n            className: 'g2-tooltip-marker',\n            style: Object.assign({ cx: point[0], cy: point[1], fill, r: 4, stroke, lineWidth: 2 }, style),\n        });\n        return shape;\n    });\n    for (const marker of markers)\n        root.appendChild(marker);\n    root.markers = markers;\n}\nfunction hideMarker(root) {\n    if (root.markers) {\n        root.markers.forEach((d) => d.remove());\n        root.markers = [];\n    }\n}\nfunction interactionKeyof(markState, key) {\n    return Array.from(markState.values()).some(\n    // @ts-ignore\n    (d) => { var _a; return (_a = d.interaction) === null || _a === void 0 ? void 0 : _a[key]; });\n}\nfunction maybeValue(specified, defaults) {\n    return specified === undefined ? defaults : specified;\n}\nfunction isEmptyTooltipData(data) {\n    const { title, items } = data;\n    if (items.length === 0 && title === undefined)\n        return true;\n    return false;\n}\nfunction hasSeries(markState) {\n    return Array.from(markState.values()).some(\n    // @ts-ignore\n    (d) => { var _a; return ((_a = d.interaction) === null || _a === void 0 ? void 0 : _a.seriesTooltip) && d.tooltip; });\n}\n/**\n * Show tooltip for series item.\n */\nexport function seriesTooltip(root, _a) {\n    var { elements: elementsof, sort: sortFunction, filter: filterFunction, scale, coordinate, crosshairs, crosshairsX, crosshairsY, render, groupName, emitter, wait = 50, leading = true, trailing = false, startX = 0, startY = 0, body = true, single = true, position, enterable, mount, bounding, theme, offset, disableNative = false, marker = true, preserve = false, style: _style = {}, css = {} } = _a, rest = __rest(_a, [\"elements\", \"sort\", \"filter\", \"scale\", \"coordinate\", \"crosshairs\", \"crosshairsX\", \"crosshairsY\", \"render\", \"groupName\", \"emitter\", \"wait\", \"leading\", \"trailing\", \"startX\", \"startY\", \"body\", \"single\", \"position\", \"enterable\", \"mount\", \"bounding\", \"theme\", \"offset\", \"disableNative\", \"marker\", \"preserve\", \"style\", \"css\"]);\n    const elements = elementsof(root);\n    const transposed = isTranspose(coordinate);\n    const polar = isPolar(coordinate);\n    const style = deepMix(_style, rest);\n    const { innerWidth: plotWidth, innerHeight: plotHeight, width: mainWidth, height: mainHeight, insetLeft, insetTop, } = coordinate.getOptions();\n    // Split elements into series elements and item elements.\n    const seriesElements = [];\n    const itemElements = [];\n    for (const element of elements) {\n        const { __data__: data } = element;\n        const { seriesX, title, items } = data;\n        if (seriesX)\n            seriesElements.push(element);\n        else if (title || items)\n            itemElements.push(element);\n    }\n    const inInterval = (d) => d.markType === 'interval';\n    const isBar = itemElements.length &&\n        itemElements.every(inInterval) &&\n        !isPolar(coordinate);\n    const xof = (d) => d.__data__.x;\n    // For band scale x, find the closest series element to focus,\n    // useful for interval + line mark.\n    const isBandScale = !!scale.x.getBandWidth;\n    const closest = isBandScale && itemElements.length > 0;\n    // Sorted elements from top to bottom visually,\n    // or from right to left in transpose coordinate.\n    seriesElements.sort((a, b) => {\n        const index = transposed ? 0 : 1;\n        const minY = (d) => d.getBounds().min[index];\n        return transposed ? minY(b) - minY(a) : minY(a) - minY(b);\n    });\n    const extent = (d) => {\n        const index = transposed ? 1 : 0;\n        const { min, max } = d.getLocalBounds();\n        return sort([min[index], max[index]]);\n    };\n    // Sort itemElements for bisector search.\n    if (isBar)\n        elements.sort((a, b) => xof(a) - xof(b));\n    else {\n        itemElements.sort((a, b) => {\n            const [minA, maxA] = extent(a);\n            const [minB, maxB] = extent(b);\n            const midA = (minA + maxA) / 2;\n            const midB = (minB + maxB) / 2;\n            return transposed ? midB - midA : midA - midB;\n        });\n    }\n    // Get sortedIndex and X for each series elements\n    const elementSortedX = new Map(seriesElements.map((element) => {\n        const { __data__: data } = element;\n        const { seriesX } = data;\n        const seriesIndex = seriesX.map((_, i) => i);\n        const sortedIndex = sort(seriesIndex, (i) => seriesX[+i]);\n        return [element, [sortedIndex, seriesX]];\n    }));\n    const { x: scaleX } = scale;\n    // Apply offset for band scale x.\n    const offsetX = (scaleX === null || scaleX === void 0 ? void 0 : scaleX.getBandWidth) ? scaleX.getBandWidth() / 2 : 0;\n    const abstractX = (focus) => {\n        const [normalizedX] = coordinate.invert(focus);\n        return normalizedX - offsetX;\n    };\n    const indexByFocus = (event, focus, I, X) => {\n        // _x is from emit event, to find the right element.\n        const { _x } = event;\n        const finalX = _x !== undefined ? scaleX.map(_x) : abstractX(focus);\n        const DX = X.filter(defined);\n        const [minX, maxX] = sort([DX[0], DX[DX.length - 1]]);\n        // If only has one element(minX == maxX), show tooltip when hover whole chart\n        const isOnlyOneElement = minX === maxX;\n        // If closest is true, always find at least one element.\n        // Otherwise, skip element out of plot area.\n        if (!closest && (finalX < minX || finalX > maxX) && !isOnlyOneElement)\n            return null;\n        const search = bisector((i) => X[+i]).center;\n        const i = search(I, finalX);\n        return I[i];\n    };\n    const elementsByFocus = isBar\n        ? (focus, elements) => {\n            const search = bisector(xof).center;\n            const i = search(elements, abstractX(focus));\n            const find = elements[i];\n            const groups = group(elements, xof);\n            const selected = groups.get(xof(find));\n            return selected;\n        }\n        : (focus, elements) => {\n            const index = transposed ? 1 : 0;\n            const x = focus[index];\n            const filtered = elements.filter((element) => {\n                const [min, max] = extent(element);\n                return x >= min && x <= max;\n            });\n            // If closet is true, always find at least one element.\n            if (!closest || filtered.length > 0)\n                return filtered;\n            // Search the closet element to the focus.\n            const search = bisector((element) => {\n                const [min, max] = extent(element);\n                return (min + max) / 2;\n            }).center;\n            const i = search(elements, x);\n            return [elements[i]].filter(defined);\n        };\n    const seriesData = (element, index) => {\n        const { __data__: data } = element;\n        return Object.fromEntries(Object.entries(data)\n            .filter(([key]) => key.startsWith('series') && key !== 'series')\n            .map(([key, V]) => {\n            const d = V[index];\n            return [lowerFirst(key.replace('series', '')), d];\n        }));\n    };\n    const update = throttle((event) => {\n        var _a;\n        const mouse = mousePosition(root, event);\n        if (!mouse)\n            return;\n        const bbox = bboxOf(root);\n        const x = bbox.min[0];\n        const y = bbox.min[1];\n        const focus = [mouse[0] - startX, mouse[1] - startY];\n        if (!focus)\n            return;\n        // Get selected item element.\n        const selectedItems = elementsByFocus(focus, itemElements);\n        // Get selected data item from both series element and item element.\n        const selectedSeriesElements = [];\n        const selectedSeriesData = [];\n        for (const element of seriesElements) {\n            const [sortedIndex, X] = elementSortedX.get(element);\n            const index = indexByFocus(event, focus, sortedIndex, X);\n            if (index !== null) {\n                selectedSeriesElements.push(element);\n                const d = seriesData(element, index);\n                const { x, y } = d;\n                const p = coordinate.map([(x || 0) + offsetX, y || 0]);\n                selectedSeriesData.push([Object.assign(Object.assign({}, d), { element }), p]);\n            }\n        }\n        // Filter selectedSeriesData with different x,\n        // make sure there is only one x closest to focusX.\n        const SX = Array.from(new Set(selectedSeriesData.map((d) => d[0].x)));\n        const closestX = SX[minIndex(SX, (x) => Math.abs(x - abstractX(focus)))];\n        const filteredSeriesData = selectedSeriesData.filter((d) => d[0].x === closestX);\n        const selectedData = [\n            ...filteredSeriesData.map((d) => d[0]),\n            ...selectedItems.map((d) => d.__data__),\n        ];\n        // Get the displayed tooltip data.\n        const selectedElements = [...selectedSeriesElements, ...selectedItems];\n        const tooltipData = groupItems(selectedElements, scale, groupName, selectedData, theme);\n        // Sort items and filter items.\n        if (sortFunction) {\n            tooltipData.items.sort((a, b) => sortFunction(a) - sortFunction(b));\n        }\n        if (filterFunction) {\n            tooltipData.items = tooltipData.items.filter(filterFunction);\n        }\n        // Hide tooltip with no selected tooltip.\n        if (selectedElements.length === 0 || isEmptyTooltipData(tooltipData)) {\n            hide(event);\n            return;\n        }\n        if (body) {\n            showTooltip({\n                root,\n                data: tooltipData,\n                x: mouse[0] + x,\n                y: mouse[1] + y,\n                render,\n                event,\n                single,\n                position,\n                enterable,\n                mount,\n                bounding,\n                css,\n                offset,\n            });\n        }\n        if (crosshairs || crosshairsX || crosshairsY) {\n            const ruleStyle = subObject(style, 'crosshairs');\n            const ruleStyleX = Object.assign(Object.assign({}, ruleStyle), subObject(style, 'crosshairsX'));\n            const ruleStyleY = Object.assign(Object.assign({}, ruleStyle), subObject(style, 'crosshairsY'));\n            const points = filteredSeriesData.map((d) => d[1]);\n            if (crosshairsX) {\n                updateRuleX(root, points, mouse, Object.assign(Object.assign({}, ruleStyleX), { plotWidth,\n                    plotHeight,\n                    mainWidth,\n                    mainHeight,\n                    insetLeft,\n                    insetTop,\n                    startX,\n                    startY,\n                    transposed,\n                    polar }));\n            }\n            if (crosshairsY) {\n                updateRuleY(root, points, Object.assign(Object.assign({}, ruleStyleY), { plotWidth,\n                    plotHeight,\n                    mainWidth,\n                    mainHeight,\n                    insetLeft,\n                    insetTop,\n                    startX,\n                    startY,\n                    transposed,\n                    polar }));\n            }\n        }\n        if (marker) {\n            const markerStyles = subObject(style, 'marker');\n            updateMarker(root, {\n                data: filteredSeriesData,\n                style: markerStyles,\n                theme,\n            });\n        }\n        // X in focus may related multiple points when dataset is large,\n        // so we need to find the first x to show tooltip.\n        const firstX = (_a = filteredSeriesData[0]) === null || _a === void 0 ? void 0 : _a[0].x;\n        const transformedX = firstX !== null && firstX !== void 0 ? firstX : abstractX(focus);\n        emitter.emit('tooltip:show', Object.assign(Object.assign({}, event), { nativeEvent: true, data: Object.assign(Object.assign({}, tooltipData), { data: { x: invert(scale.x, transformedX, true) } }) }));\n    }, wait, { leading, trailing });\n    const hide = (event) => {\n        hideTooltip({ root, single, emitter, event });\n    };\n    const destroy = () => {\n        destroyTooltip({ root, single });\n    };\n    const onTooltipShow = (_a) => {\n        var _b;\n        var { nativeEvent, data, offsetX, offsetY } = _a, rest = __rest(_a, [\"nativeEvent\", \"data\", \"offsetX\", \"offsetY\"]);\n        if (nativeEvent)\n            return;\n        const x = (_b = data === null || data === void 0 ? void 0 : data.data) === null || _b === void 0 ? void 0 : _b.x;\n        const scaleX = scale.x;\n        const x1 = scaleX.map(x);\n        const [x2, y2] = coordinate.map([x1, 0.5]);\n        const rootBounds = root.getRenderBounds();\n        const minX = rootBounds.min[0];\n        const minY = rootBounds.min[1];\n        update(Object.assign(Object.assign({}, rest), { offsetX: offsetX !== undefined ? offsetX : minX + x2, offsetY: offsetY !== undefined ? offsetY : minY + y2, _x: x }));\n    };\n    const onTooltipHide = () => {\n        hideTooltip({ root, single, emitter, nativeEvent: false });\n    };\n    const onTooltipDisable = () => {\n        removeEventListeners();\n        destroy();\n    };\n    const onTooltipEnable = () => {\n        addEventListeners();\n    };\n    const addEventListeners = () => {\n        if (!disableNative) {\n            root.addEventListener('pointerenter', update);\n            root.addEventListener('pointermove', update);\n            // Only emit pointerleave event when the pointer is not in the root area.\n            root.addEventListener('pointerleave', (e) => {\n                if (mousePosition(root, e))\n                    return;\n                hide(e);\n            });\n        }\n    };\n    const removeEventListeners = () => {\n        if (!disableNative) {\n            root.removeEventListener('pointerenter', update);\n            root.removeEventListener('pointermove', update);\n            root.removeEventListener('pointerleave', hide);\n        }\n    };\n    addEventListeners();\n    emitter.on('tooltip:show', onTooltipShow);\n    emitter.on('tooltip:hide', onTooltipHide);\n    emitter.on('tooltip:disable', onTooltipDisable);\n    emitter.on('tooltip:enable', onTooltipEnable);\n    return () => {\n        removeEventListeners();\n        emitter.off('tooltip:show', onTooltipShow);\n        emitter.off('tooltip:hide', onTooltipHide);\n        emitter.off('tooltip:disable', onTooltipDisable);\n        emitter.off('tooltip:enable', onTooltipEnable);\n        if (preserve) {\n            hideTooltip({ root, single, emitter, nativeEvent: false });\n        }\n        else {\n            destroy();\n        }\n    };\n}\n/**\n * Show tooltip for non-series item.\n */\nexport function tooltip(root, { elements: elementsof, coordinate, scale, render, groupName, sort: sortFunction, filter: filterFunction, emitter, wait = 50, leading = true, trailing = false, groupKey = (d) => d, // group elements by specified key\nsingle = true, position, enterable, datum, view, mount, bounding, theme, offset, shared = false, body = true, disableNative = false, preserve = false, css = {}, }) {\n    var _a, _b;\n    const elements = elementsof(root);\n    const keyGroup = group(elements, groupKey);\n    const inInterval = (d) => d.markType === 'interval';\n    const isBar = elements.every(inInterval) && !isPolar(coordinate);\n    const scaleX = scale.x;\n    const scaleSeries = scale.series;\n    const bandWidth = (_b = (_a = scaleX === null || scaleX === void 0 ? void 0 : scaleX.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(scaleX)) !== null && _b !== void 0 ? _b : 0;\n    const xof = scaleSeries\n        ? (d) => {\n            const seriesCount = Math.round(1 / scaleSeries.valueBandWidth);\n            return (d.__data__.x +\n                d.__data__.series * bandWidth +\n                bandWidth / (seriesCount * 2));\n        }\n        : (d) => d.__data__.x + bandWidth / 2;\n    // Sort for bisector search.\n    if (isBar)\n        elements.sort((a, b) => xof(a) - xof(b));\n    const findElementByTarget = (event) => {\n        const { target } = event;\n        return maybeRoot(target, (node) => {\n            if (!node.classList)\n                return false;\n            return node.classList.includes('element');\n        });\n    };\n    const findElement = isBar\n        ? (event) => {\n            const mouse = mousePosition(root, event);\n            if (!mouse)\n                return;\n            const [abstractX] = coordinate.invert(mouse);\n            const search = bisector(xof).center;\n            const i = search(elements, abstractX);\n            const target = elements[i];\n            if (!shared) {\n                // For grouped bar chart without shared options.\n                const isGrouped = elements.find((d) => d !== target && xof(d) === xof(target));\n                if (isGrouped)\n                    return findElementByTarget(event);\n            }\n            return target;\n        }\n        : findElementByTarget;\n    const pointermove = throttle((event) => {\n        const element = findElement(event);\n        if (!element) {\n            hideTooltip({ root, single, emitter, event });\n            return;\n        }\n        const k = groupKey(element);\n        const group = keyGroup.get(k);\n        if (!group) {\n            return;\n        }\n        const data = group.length === 1 && !shared\n            ? singleItem(group[0])\n            : groupItems(group, scale, groupName, undefined, theme);\n        // Sort items and sort.\n        if (sortFunction) {\n            data.items.sort((a, b) => sortFunction(a) - sortFunction(b));\n        }\n        if (filterFunction) {\n            data.items = data.items.filter(filterFunction);\n        }\n        if (isEmptyTooltipData(data)) {\n            hideTooltip({ root, single, emitter, event });\n            return;\n        }\n        const { offsetX, offsetY } = event;\n        if (body) {\n            showTooltip({\n                root,\n                data,\n                x: offsetX,\n                y: offsetY,\n                render,\n                event,\n                single,\n                position,\n                enterable,\n                mount,\n                bounding,\n                css,\n                offset,\n            });\n        }\n        emitter.emit('tooltip:show', Object.assign(Object.assign({}, event), { nativeEvent: true, data: Object.assign(Object.assign({}, data), { data: dataOf(element, view) }) }));\n    }, wait, { leading, trailing });\n    const pointerleave = (event) => {\n        hideTooltip({ root, single, emitter, event });\n    };\n    const addEventListeners = () => {\n        if (!disableNative) {\n            root.addEventListener('pointermove', pointermove);\n            // Only emit pointerleave event when the pointer is not in the root area.\n            // !!!DO NOT USE pointerout event, it will emit when the pointer is in the child area.\n            root.addEventListener('pointerleave', pointerleave);\n        }\n    };\n    const removeEventListeners = () => {\n        if (!disableNative) {\n            root.removeEventListener('pointermove', pointermove);\n            root.removeEventListener('pointerleave', pointerleave);\n        }\n    };\n    const onTooltipShow = ({ nativeEvent, offsetX, offsetY, data: raw }) => {\n        if (nativeEvent)\n            return;\n        const { data } = raw;\n        const element = selectElementByData(elements, data, datum);\n        if (!element)\n            return;\n        const bbox = element.getBBox();\n        const { x, y, width, height } = bbox;\n        const rootBBox = root.getBBox();\n        pointermove({\n            target: element,\n            offsetX: offsetX !== undefined ? offsetX + rootBBox.x : x + width / 2,\n            offsetY: offsetY !== undefined ? offsetY + rootBBox.y : y + height / 2,\n        });\n    };\n    const onTooltipHide = ({ nativeEvent } = {}) => {\n        if (nativeEvent)\n            return;\n        hideTooltip({ root, single, emitter, nativeEvent: false });\n    };\n    const onTooltipDisable = () => {\n        removeEventListeners();\n        destroyTooltip({ root, single });\n    };\n    const onTooltipEnable = () => {\n        addEventListeners();\n    };\n    emitter.on('tooltip:show', onTooltipShow);\n    emitter.on('tooltip:hide', onTooltipHide);\n    emitter.on('tooltip:enable', onTooltipEnable);\n    emitter.on('tooltip:disable', onTooltipDisable);\n    addEventListeners();\n    return () => {\n        removeEventListeners();\n        emitter.off('tooltip:show', onTooltipShow);\n        emitter.off('tooltip:hide', onTooltipHide);\n        if (preserve) {\n            hideTooltip({ root, single, emitter, nativeEvent: false });\n        }\n        else {\n            destroyTooltip({ root, single });\n        }\n    };\n}\nexport function Tooltip(options) {\n    const { shared, crosshairs, crosshairsX, crosshairsY, series, name, item = () => ({}), facet = false } = options, rest = __rest(options, [\"shared\", \"crosshairs\", \"crosshairsX\", \"crosshairsY\", \"series\", \"name\", \"item\", \"facet\"]);\n    return (target, viewInstances, emitter) => {\n        const { container, view } = target;\n        const { scale, markState, coordinate, theme } = view;\n        // Get default value from mark states.\n        const defaultSeries = interactionKeyof(markState, 'seriesTooltip');\n        const defaultShowCrosshairs = interactionKeyof(markState, 'crosshairs');\n        const plotArea = selectPlotArea(container);\n        const isSeries = maybeValue(series, defaultSeries);\n        const crosshairsSetting = maybeValue(crosshairs, defaultShowCrosshairs);\n        // For non-facet and series tooltip.\n        if (isSeries && hasSeries(markState) && !facet) {\n            return seriesTooltip(plotArea, Object.assign(Object.assign({}, rest), { theme, elements: selectG2Elements, scale,\n                coordinate, crosshairs: crosshairsSetting, \n                // the crosshairsX settings level: crosshairsX > crosshairs > false\n                // it means crosshairsX default is false\n                crosshairsX: maybeValue(maybeValue(crosshairsX, crosshairs), false), \n                // crosshairsY default depend on the crossharisSettings\n                crosshairsY: maybeValue(crosshairsY, crosshairsSetting), item,\n                emitter }));\n        }\n        // For facet and series tooltip.\n        if (isSeries && facet) {\n            // Get sub view instances for this view.\n            const facetInstances = viewInstances.filter((d) => d !== target && d.options.parentKey === target.options.key);\n            const elements = selectFacetG2Elements(target, viewInstances);\n            // Use the scale of the first view.\n            const scale = facetInstances[0].view.scale;\n            const bbox = plotArea.getBounds();\n            const startX = bbox.min[0];\n            const startY = bbox.min[1];\n            Object.assign(scale, { facet: true });\n            // @todo Nested structure rather than flat structure for facet?\n            // Add listener to the root area.\n            // @ts-ignore\n            return seriesTooltip(plotArea.parentNode.parentNode, Object.assign(Object.assign({}, rest), { theme, elements: () => elements, scale,\n                coordinate, crosshairs: maybeValue(crosshairs, defaultShowCrosshairs), \n                // the crosshairsX settings level: crosshairsX > crosshairs > false\n                // it means crosshairsX default is false\n                crosshairsX: maybeValue(maybeValue(crosshairsX, crosshairs), false), crosshairsY: maybeValue(crosshairsY, crosshairsSetting), item,\n                startX,\n                startY,\n                emitter }));\n        }\n        return tooltip(plotArea, Object.assign(Object.assign({}, rest), { datum: createDatumof(view), elements: selectG2Elements, scale,\n            coordinate, groupKey: shared ? createXKey(view) : undefined, item,\n            emitter,\n            view,\n            theme,\n            shared }));\n    };\n}\nTooltip.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=tooltip.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { deepMix, throttle } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { useState, setCursor, restoreCursor } from './utils';\nexport const CATEGORY_LEGEND_CLASS_NAME = 'legend-category';\nexport const CONTINUOUS_LEGEND_CLASS_NAME = 'legend-continuous';\nexport const LEGEND_ITEMS_CLASS_NAME = 'items-item';\nexport const LEGEND_MAKER_CLASS_NAME = 'legend-category-item-marker';\nexport const LEGEND_LABEL_CLASS_NAME = 'legend-category-item-label';\nexport function markerOf(item) {\n    return item.getElementsByClassName(LEGEND_MAKER_CLASS_NAME)[0];\n}\nexport function labelOf(item) {\n    return item.getElementsByClassName(LEGEND_LABEL_CLASS_NAME)[0];\n}\nexport function itemsOf(root) {\n    return root.getElementsByClassName(LEGEND_ITEMS_CLASS_NAME);\n}\nexport function legendsOf(root) {\n    return root.getElementsByClassName(CATEGORY_LEGEND_CLASS_NAME);\n}\nexport function legendsContinuousOf(root) {\n    return root.getElementsByClassName(CONTINUOUS_LEGEND_CLASS_NAME);\n}\nexport function legendClearSetState(root, setState) {\n    const legends = [...legendsOf(root), ...legendsContinuousOf(root)];\n    legends.forEach((legend) => {\n        setState(legend, (v) => v);\n    });\n}\nexport function dataOf(root) {\n    // legend -> layout -> container\n    let parent = root.parentNode;\n    while (parent && !parent.__data__) {\n        parent = parent.parentNode;\n    }\n    return parent.__data__;\n}\nexport function attributesOf(root) {\n    let child = root;\n    while (child && !child.attr('class').startsWith('legend')) {\n        child = child.children[0];\n    }\n    return child.attributes;\n}\nfunction legendFilterOrdinal(root, { legends, // given the root of chart returns legends to be manipulated\nmarker: markerOf, // given the legend returns the marker\nlabel: labelOf, // given the legend returns the label\ndatum, // given the legend returns the value\nfilter, // invoke when dispatch filter event,\nemitter, channel, state = {}, // state options\n }) {\n    // Index handler by item.\n    const itemClick = new Map();\n    const itemPointerenter = new Map();\n    const itemPointerout = new Map();\n    const { unselected = {\n        markerStroke: '#aaa',\n        markerFill: '#aaa',\n        labelFill: '#aaa',\n    }, } = state;\n    const markerStyle = { unselected: subObject(unselected, 'marker') };\n    const labelStyle = { unselected: subObject(unselected, 'label') };\n    const { setState: setM, removeState: removeM } = useState(markerStyle, undefined);\n    const { setState: setL, removeState: removeL } = useState(labelStyle, undefined);\n    const items = Array.from(legends(root));\n    let selectedValues = items.map(datum);\n    const updateLegendState = () => {\n        for (const item of items) {\n            const value = datum(item);\n            const marker = markerOf(item);\n            const label = labelOf(item);\n            if (!selectedValues.includes(value)) {\n                setM(marker, 'unselected');\n                setL(label, 'unselected');\n            }\n            else {\n                removeM(marker, 'unselected');\n                removeL(label, 'unselected');\n            }\n        }\n    };\n    for (const item of items) {\n        // Defined handlers.\n        const pointerenter = () => {\n            setCursor(root, 'pointer');\n        };\n        const pointerout = () => {\n            restoreCursor(root);\n        };\n        const click = (event) => __awaiter(this, void 0, void 0, function* () {\n            const value = datum(item);\n            const index = selectedValues.indexOf(value);\n            if (index === -1)\n                selectedValues.push(value);\n            else\n                selectedValues.splice(index, 1);\n            yield filter(selectedValues);\n            updateLegendState();\n            const { nativeEvent = true } = event;\n            if (!nativeEvent)\n                return;\n            if (selectedValues.length === items.length) {\n                emitter.emit('legend:reset', { nativeEvent });\n            }\n            else {\n                // Emit events.\n                emitter.emit('legend:filter', Object.assign(Object.assign({}, event), { nativeEvent, data: {\n                        channel,\n                        values: selectedValues,\n                    } }));\n            }\n        });\n        // Bind and store handlers.\n        item.addEventListener('click', click);\n        item.addEventListener('pointerenter', pointerenter);\n        item.addEventListener('pointerout', pointerout);\n        itemClick.set(item, click);\n        itemPointerenter.set(item, pointerenter);\n        itemPointerout.set(item, pointerout);\n    }\n    const onFilter = (event) => __awaiter(this, void 0, void 0, function* () {\n        const { nativeEvent } = event;\n        if (nativeEvent)\n            return;\n        const { data } = event;\n        const { channel: specifiedChannel, values } = data;\n        if (specifiedChannel !== channel)\n            return;\n        selectedValues = values;\n        yield filter(selectedValues);\n        updateLegendState();\n    });\n    const onEnd = (event) => __awaiter(this, void 0, void 0, function* () {\n        const { nativeEvent } = event;\n        if (nativeEvent)\n            return;\n        selectedValues = items.map(datum);\n        yield filter(selectedValues);\n        updateLegendState();\n    });\n    emitter.on('legend:filter', onFilter);\n    emitter.on('legend:reset', onEnd);\n    return () => {\n        for (const item of items) {\n            item.removeEventListener('click', itemClick.get(item));\n            item.removeEventListener('pointerenter', itemPointerenter.get(item));\n            item.removeEventListener('pointerout', itemPointerout.get(item));\n            emitter.off('legend:filter', onFilter);\n            emitter.off('legend:reset', onEnd);\n        }\n    };\n}\nfunction legendFilterContinuous(_, { legend, filter, emitter, channel }) {\n    const onValueChange = ({ detail: { value } }) => {\n        filter(value);\n        emitter.emit({\n            nativeEvent: true,\n            data: {\n                channel,\n                values: value,\n            },\n        });\n    };\n    legend.addEventListener('valuechange', onValueChange);\n    return () => {\n        legend.removeEventListener('valuechange', onValueChange);\n    };\n}\nfunction filterView(context, // View instance,\n{ legend, // Legend instance.\nchannel, // Filter Channel.\nvalue, // Filtered Values.\nordinal, // Data type of the legend.\nchannels, // Channels for this legend.\nallChannels, // Channels for all legends.\nfacet = false, // For facet.\n }) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { view, update, setState } = context;\n        setState(legend, (viewOptions) => {\n            const { marks } = viewOptions;\n            // Add filter transform for every marks,\n            // which will skip for mark without color channel.\n            const newMarks = marks.map((mark) => {\n                if (mark.type === 'legends')\n                    return mark;\n                // Inset after aggregate transform, such as group, and bin.\n                const { transform = [], data = [] } = mark;\n                const index = transform.findIndex(({ type }) => type.startsWith('group') || type.startsWith('bin'));\n                const newTransform = [...transform];\n                if (data.length) {\n                    newTransform.splice(index + 1, 0, {\n                        type: 'filter',\n                        [channel]: { value, ordinal },\n                    });\n                }\n                // Set domain of scale to preserve encoding.\n                const newScale = Object.fromEntries(channels.map((channel) => [\n                    channel,\n                    { domain: view.scale[channel].getOptions().domain },\n                ]));\n                return deepMix({}, mark, Object.assign(Object.assign({ transform: newTransform, scale: newScale }, (!ordinal && { animate: false })), { legend: facet\n                        ? false\n                        : Object.fromEntries(allChannels.map((d) => [d, { preserve: true }])) }));\n            });\n            return Object.assign(Object.assign({}, viewOptions), { marks: newMarks });\n        });\n        yield update();\n    });\n}\nfunction filterFacets(facets, options) {\n    for (const facet of facets) {\n        filterView(facet, Object.assign(Object.assign({}, options), { facet: true }));\n    }\n}\nexport function LegendFilter() {\n    return (context, contexts, emitter) => {\n        const { container } = context;\n        const facets = contexts.filter((d) => d !== context);\n        const isFacet = facets.length > 0;\n        const channelsOf = (legend) => {\n            return dataOf(legend).scales.map((d) => d.name);\n        };\n        const legends = [\n            ...legendsOf(container),\n            ...legendsContinuousOf(container),\n        ];\n        const allChannels = legends.flatMap(channelsOf);\n        const filter = isFacet\n            ? throttle(filterFacets, 50, { trailing: true })\n            : throttle(filterView, 50, { trailing: true });\n        const removes = legends.map((legend) => {\n            const { name: channel, domain } = dataOf(legend).scales[0];\n            const channels = channelsOf(legend);\n            const common = {\n                legend,\n                channel,\n                channels,\n                allChannels,\n            };\n            if (legend.className === CATEGORY_LEGEND_CLASS_NAME) {\n                return legendFilterOrdinal(container, {\n                    legends: itemsOf,\n                    marker: markerOf,\n                    label: labelOf,\n                    datum: (d) => {\n                        const { __data__: datum } = d;\n                        const { index } = datum;\n                        return domain[index];\n                    },\n                    filter: (value) => {\n                        const options = Object.assign(Object.assign({}, common), { value, ordinal: true });\n                        if (isFacet)\n                            filter(facets, options);\n                        else\n                            filter(context, options);\n                    },\n                    state: legend.attributes.state,\n                    channel,\n                    emitter,\n                });\n            }\n            else {\n                return legendFilterContinuous(container, {\n                    legend,\n                    filter: (value) => {\n                        const options = Object.assign(Object.assign({}, common), { value, ordinal: false });\n                        if (isFacet)\n                            filter(facets, options);\n                        else\n                            filter(context, options);\n                    },\n                    emitter,\n                    channel,\n                });\n            }\n        });\n        return () => {\n            removes.forEach((remove) => remove());\n        };\n    };\n}\n//# sourceMappingURL=legendFilter.js.map","import { group } from 'd3-array';\nimport { subObject } from '../utils/helper';\nimport { mergeState, selectG2Elements, useState, createValueof, createDatumof, } from './utils';\nimport { markerOf, labelOf, itemsOf, legendsOf, dataOf } from './legendFilter';\nexport function LegendHighlight() {\n    return (context, _, emitter) => {\n        const { container, view, options } = context;\n        const legends = legendsOf(container);\n        const elements = selectG2Elements(container);\n        const channelOf = (legend) => {\n            return dataOf(legend).scales[0].name;\n        };\n        const scaleOf = (channel) => {\n            const { scale: { [channel]: scale }, } = view;\n            return scale;\n        };\n        const markState = mergeState(options, ['active', 'inactive']);\n        const valueof = createValueof(elements, createDatumof(view));\n        const destroys = [];\n        // Bind events for each legend.\n        for (const legend of legends) {\n            const datumOf = (item) => {\n                const { data } = legend.attributes;\n                const { __data__: datum } = item;\n                const { index } = datum;\n                return data[index].label;\n            };\n            const channel = channelOf(legend);\n            const items = itemsOf(legend);\n            const scale = scaleOf(channel);\n            const elementGroup = group(elements, (d) => scale.invert(d.__data__[channel]));\n            const { state: legendState = {} } = legend.attributes;\n            const { inactive = {} } = legendState;\n            const { setState, removeState } = useState(markState, valueof);\n            // Handle styles of inner item.\n            const markerStyle = { inactive: subObject(inactive, 'marker') };\n            const labelStyle = { inactive: subObject(inactive, 'label') };\n            const { setState: setM, removeState: removeM } = useState(markerStyle);\n            const { setState: setL, removeState: removeL } = useState(labelStyle);\n            const updateLegendState = (highlight) => {\n                for (const item of items) {\n                    const marker = markerOf(item);\n                    const label = labelOf(item);\n                    if (item === highlight || highlight === null) {\n                        removeM(marker, 'inactive');\n                        removeL(label, 'inactive');\n                    }\n                    else {\n                        setM(marker, 'inactive');\n                        setL(label, 'inactive');\n                    }\n                }\n            };\n            const highlightItem = (event, item) => {\n                // Update UI.\n                const value = datumOf(item);\n                const elementSet = new Set(elementGroup.get(value));\n                for (const e of elements) {\n                    if (elementSet.has(e))\n                        setState(e, 'active');\n                    else\n                        setState(e, 'inactive');\n                }\n                updateLegendState(item);\n                // Emit events.\n                const { nativeEvent = true } = event;\n                if (!nativeEvent)\n                    return;\n                emitter.emit('legend:highlight', Object.assign(Object.assign({}, event), { nativeEvent, data: { channel, value } }));\n            };\n            const itemPointerover = new Map();\n            // Add listener for the legend items.\n            for (const item of items) {\n                const pointerover = (event) => {\n                    highlightItem(event, item);\n                };\n                item.addEventListener('pointerover', pointerover);\n                itemPointerover.set(item, pointerover);\n            }\n            // Add listener for the legend group.\n            const pointerleave = (event) => {\n                for (const e of elements)\n                    removeState(e, 'inactive', 'active');\n                updateLegendState(null);\n                // Emit events.\n                const { nativeEvent = true } = event;\n                if (!nativeEvent)\n                    return;\n                emitter.emit('legend:unhighlight', { nativeEvent });\n            };\n            const onHighlight = (event) => {\n                const { nativeEvent, data } = event;\n                if (nativeEvent)\n                    return;\n                const { channel: specifiedChannel, value } = data;\n                if (specifiedChannel !== channel)\n                    return;\n                const item = items.find((d) => datumOf(d) === value);\n                if (!item)\n                    return;\n                highlightItem({ nativeEvent: false }, item);\n            };\n            const onUnHighlight = (event) => {\n                const { nativeEvent } = event;\n                if (nativeEvent)\n                    return;\n                pointerleave({ nativeEvent: false });\n            };\n            legend.addEventListener('pointerleave', pointerleave);\n            emitter.on('legend:highlight', onHighlight);\n            emitter.on('legend:unhighlight', onUnHighlight);\n            const destroy = () => {\n                legend.removeEventListener(pointerleave);\n                emitter.off('legend:highlight', onHighlight);\n                emitter.off('legend:unhighlight', onUnHighlight);\n                for (const [item, pointerover] of itemPointerover) {\n                    item.removeEventListener(pointerover);\n                }\n            };\n            destroys.push(destroy);\n        }\n        return () => destroys.forEach((d) => d());\n    };\n}\n//# sourceMappingURL=legendHighlight.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Rect, Path } from '@antv/g';\nimport { subObject, omitPrefixObject } from '../utils/helper';\nimport { selectionOf, pixelsOf } from '../utils/scale';\nimport { createElement } from '../utils/createElement';\nimport { select } from '../utils/selection';\nimport { selectG2Elements, selectPlotArea, createDatumof, useState, createValueof, setCursor, brushMousePosition, selectFacetG2Elements, mergeState, selectFacetViews, } from './utils';\nfunction intersect(bbox1, bbox2) {\n    const [minX1, minY1, maxX1, maxY1] = bbox1;\n    const [minX2, minY2, maxX2, maxY2] = bbox2;\n    return !(minX2 > maxX1 || maxX2 < minX1 || minY2 > maxY1 || maxY2 < minY1);\n}\nfunction normalizeBounds(x, y, x1, y1, extent) {\n    const [minX, minY, maxX, maxY] = extent;\n    return [\n        Math.max(minX, Math.min(x, x1)),\n        Math.max(minY, Math.min(y, y1)),\n        Math.min(maxX, Math.max(x, x1)),\n        Math.min(maxY, Math.max(y, y1)),\n    ];\n}\nfunction bboxOf(root) {\n    const { width, height } = root.getBBox();\n    return [0, 0, width, height];\n}\nfunction applyStyle(selection, style) {\n    for (const [key, value] of Object.entries(style)) {\n        selection.style(key, value);\n    }\n}\nconst ResizableMask = createElement((g) => {\n    const _a = g.attributes, { x, y, width, height, class: className, renders = {}, handleSize: size = 10, document } = _a, style = __rest(_a, [\"x\", \"y\", \"width\", \"height\", \"class\", \"renders\", \"handleSize\", \"document\"]);\n    if (!document ||\n        width === undefined ||\n        height === undefined ||\n        x === undefined ||\n        y === undefined)\n        return;\n    const half = size / 2;\n    const renderRect = (g, options, document) => {\n        if (!g.handle) {\n            g.handle = document.createElement('rect');\n            g.append(g.handle);\n        }\n        const { handle } = g;\n        handle.attr(options);\n        return handle;\n    };\n    const _b = subObject(omitPrefixObject(style, 'handleNW', 'handleNE'), 'handleN'), { render: handleNRender = renderRect } = _b, handleNStyle = __rest(_b, [\"render\"]);\n    const _c = subObject(style, 'handleE'), { render: handleERender = renderRect } = _c, handleEStyle = __rest(_c, [\"render\"]);\n    const _d = subObject(omitPrefixObject(style, 'handleSE', 'handleSW'), 'handleS'), { render: handleSRender = renderRect } = _d, handleSStyle = __rest(_d, [\"render\"]);\n    const _e = subObject(style, 'handleW'), { render: handleWRender = renderRect } = _e, handleWStyle = __rest(_e, [\"render\"]);\n    const _f = subObject(style, 'handleNW'), { render: handleNWRender = renderRect } = _f, handleNWStyle = __rest(_f, [\"render\"]);\n    const _g = subObject(style, 'handleNE'), { render: handleNERender = renderRect } = _g, handleNEStyle = __rest(_g, [\"render\"]);\n    const _h = subObject(style, 'handleSE'), { render: handleSERender = renderRect } = _h, handleSEStyle = __rest(_h, [\"render\"]);\n    const _j = subObject(style, 'handleSW'), { render: handleSWRender = renderRect } = _j, handleSWStyle = __rest(_j, [\"render\"]);\n    const renderHandle = (g, renderNode) => {\n        const { id } = g;\n        const handle = renderNode(g, g.attributes, document);\n        handle.id = id;\n        handle.style.draggable = true;\n    };\n    const appendHandle = (handleRender) => {\n        return () => {\n            const Node = createElement((g) => renderHandle(g, handleRender));\n            return new Node({});\n        };\n    };\n    const container = select(g)\n        .attr('className', className)\n        .style('transform', `translate(${x}, ${y})`)\n        .style('draggable', true);\n    container\n        .maybeAppend('selection', 'rect')\n        .style('draggable', true)\n        .style('fill', 'transparent')\n        .call(applyStyle, Object.assign(Object.assign({ width,\n        height }, omitPrefixObject(style, 'handle')), { transform: undefined }));\n    container\n        .maybeAppend('handle-n', appendHandle(handleNRender))\n        .style('x', half)\n        .style('y', -half)\n        .style('width', width - size)\n        .style('height', size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleNStyle);\n    container\n        .maybeAppend('handle-e', appendHandle(handleERender))\n        .style('x', width - half)\n        .style('y', half)\n        .style('width', size)\n        .style('height', height - size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleEStyle);\n    container\n        .maybeAppend('handle-s', appendHandle(handleSRender))\n        .style('x', half)\n        .style('y', height - half)\n        .style('width', width - size)\n        .style('height', size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleSStyle);\n    container\n        .maybeAppend('handle-w', appendHandle(handleWRender))\n        .style('x', -half)\n        .style('y', half)\n        .style('width', size)\n        .style('height', height - size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleWStyle);\n    container\n        .maybeAppend('handle-nw', appendHandle(handleNWRender))\n        .style('x', -half)\n        .style('y', -half)\n        .style('width', size)\n        .style('height', size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleNWStyle);\n    container\n        .maybeAppend('handle-ne', appendHandle(handleNERender))\n        .style('x', width - half)\n        .style('y', -half)\n        .style('width', size)\n        .style('height', size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleNEStyle);\n    container\n        .maybeAppend('handle-se', appendHandle(handleSERender))\n        .style('x', width - half)\n        .style('y', height - half)\n        .style('width', size)\n        .style('height', size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleSEStyle);\n    container\n        .maybeAppend('handle-sw', appendHandle(handleSWRender))\n        .style('x', -half)\n        .style('y', height - half)\n        .style('width', size)\n        .style('height', size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleSWStyle);\n});\nexport function brush(root, _a) {\n    var { brushed = () => { }, brushended = () => { }, brushcreated = () => { }, brushstarted = () => { }, brushupdated = () => { }, extent = bboxOf(root), brushRegion = (x, y, x1, y1, extent) => [x, y, x1, y1], reverse = false, fill = '#777', fillOpacity = '0.3', stroke = '#fff', selectedHandles = [\n        'handle-n',\n        'handle-e',\n        'handle-s',\n        'handle-w',\n        'handle-nw',\n        'handle-ne',\n        'handle-se',\n        'handle-sw',\n    ] } = _a, style = __rest(_a, [\"brushed\", \"brushended\", \"brushcreated\", \"brushstarted\", \"brushupdated\", \"extent\", \"brushRegion\", \"reverse\", \"fill\", \"fillOpacity\", \"stroke\", \"selectedHandles\"]);\n    let start = null; // Start point of mask.\n    let end = null; // End point of mask.\n    let moveStart = null; // Start point of moving mask.\n    let mask = null; // Mask instance.\n    let background = null;\n    let creating = false;\n    const [originX, originY, width, height] = extent;\n    setCursor(root, 'crosshair');\n    root.style.draggable = true; // Make it response to drag event.\n    // Remove old mask and init new mask.\n    const initMask = (x, y, event) => {\n        brushstarted(event);\n        if (mask)\n            mask.remove();\n        if (background)\n            background.remove();\n        start = [x, y];\n        if (reverse)\n            return initReverseMask();\n        initNormalMask();\n    };\n    const initReverseMask = () => {\n        background = new Path({\n            style: Object.assign(Object.assign({}, style), { fill,\n                fillOpacity,\n                stroke, pointerEvents: 'none' }),\n        });\n        mask = new ResizableMask({\n            // @ts-ignore\n            style: {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n                draggable: true,\n                document: root.ownerDocument,\n            },\n            className: 'mask',\n        });\n        root.appendChild(background);\n        root.appendChild(mask);\n    };\n    const initNormalMask = () => {\n        mask = new ResizableMask({\n            // @ts-ignore\n            style: Object.assign(Object.assign({ document: root.ownerDocument, x: 0, y: 0 }, style), { fill,\n                fillOpacity,\n                stroke, draggable: true }),\n            className: 'mask',\n        });\n        root.appendChild(mask);\n    };\n    // Remove mask and reset states.\n    const removeMask = (emit = true) => {\n        if (mask)\n            mask.remove();\n        if (background)\n            background.remove();\n        start = null;\n        end = null;\n        moveStart = null;\n        creating = false;\n        mask = null;\n        background = null;\n        brushended(emit);\n    };\n    // Update mask and invoke brushended callback.\n    const updateMask = (start, end, emit = true) => {\n        const [x, y, x1, y1] = normalizeBounds(start[0], start[1], end[0], end[1], extent);\n        const [fx, fy, fx1, fy1] = brushRegion(x, y, x1, y1, extent);\n        if (reverse)\n            updateReverseMask(fx, fy, fx1, fy1);\n        else\n            updateNormalMask(fx, fy, fx1, fy1);\n        brushed(fx, fy, fx1, fy1, emit);\n        return [fx, fy, fx1, fy1];\n    };\n    const updateNormalMask = (x, y, x1, y1) => {\n        mask.style.x = x;\n        mask.style.y = y;\n        mask.style.width = x1 - x;\n        mask.style.height = y1 - y;\n    };\n    const updateReverseMask = (x, y, x1, y1) => {\n        background.style.d = `\n      M${originX},${originY}L${width},${originY}L${width},${height}L${originX},${height}Z\n      M${x},${y}L${x},${y1}L${x1},${y1}L${x1},${y}Z\n    `;\n        mask.style.x = x;\n        mask.style.y = y;\n        mask.style.width = x1 - x;\n        mask.style.height = y1 - y;\n    };\n    // Move and update mask.\n    const moveMask = (current) => {\n        const clip = (dt, start, end, min, max) => {\n            if (dt + start < min)\n                return min - start;\n            if (dt + end > max)\n                return max - end;\n            return dt;\n        };\n        const dx = current[0] - moveStart[0];\n        const dy = current[1] - moveStart[1];\n        const dx1 = clip(dx, start[0], end[0], originX, width);\n        const dy1 = clip(dy, start[1], end[1], originY, height);\n        const currentStart = [start[0] + dx1, start[1] + dy1];\n        const currentEnd = [end[0] + dx1, end[1] + dy1];\n        updateMask(currentStart, currentEnd);\n    };\n    const handles = {\n        'handle-n': { vector: [0, 1, 0, 0], cursor: 'ns-resize' },\n        'handle-e': { vector: [0, 0, 1, 0], cursor: 'ew-resize' },\n        'handle-s': { vector: [0, 0, 0, 1], cursor: 'ns-resize' },\n        'handle-w': { vector: [1, 0, 0, 0], cursor: 'ew-resize' },\n        'handle-nw': { vector: [1, 1, 0, 0], cursor: 'nwse-resize' },\n        'handle-ne': { vector: [0, 1, 1, 0], cursor: 'nesw-resize' },\n        'handle-se': { vector: [0, 0, 1, 1], cursor: 'nwse-resize' },\n        'handle-sw': { vector: [1, 0, 0, 1], cursor: 'nesw-resize' },\n    };\n    const isMask = (target) => {\n        return isSelection(target) || isHandle(target);\n    };\n    const isHandle = (target) => {\n        const { id } = target;\n        if (selectedHandles.indexOf(id) === -1)\n            return false;\n        return new Set(Object.keys(handles)).has(id);\n    };\n    const isSelection = (target) => {\n        return target === mask.getElementById('selection');\n    };\n    // If target is plot area, create mask.\n    // If target is mask, about to update position.\n    const dragstart = (event) => {\n        const { target } = event;\n        const [offsetX, offsetY] = brushMousePosition(root, event);\n        if (!mask || !isMask(target)) {\n            initMask(offsetX, offsetY, event);\n            creating = true;\n            return;\n        }\n        if (isMask(target)) {\n            moveStart = [offsetX, offsetY];\n        }\n    };\n    const drag = (event) => {\n        const { target } = event;\n        const mouse = brushMousePosition(root, event);\n        if (!start)\n            return;\n        // If target is plot area, resize mask.\n        if (!moveStart)\n            return updateMask(start, mouse);\n        // If target is selection area, move mask.\n        if (isSelection(target))\n            return moveMask(mouse);\n        // If target is handle area, resize mask.\n        const [dx, dy] = [mouse[0] - moveStart[0], mouse[1] - moveStart[1]];\n        const { id } = target;\n        if (handles[id]) {\n            const [sx, sy, ex, ey] = handles[id].vector;\n            return updateMask([start[0] + dx * sx, start[1] + dy * sy], [end[0] + dx * ex, end[1] + dy * ey]);\n        }\n    };\n    // If target is plot area, finish creating.\n    // If target is mask, finish moving mask.\n    const dragend = (event) => {\n        if (moveStart) {\n            moveStart = null;\n            // Update start and end;\n            const { x, y, width, height } = mask.style;\n            start = [x, y];\n            end = [x + width, y + height];\n            brushupdated(x, y, x + width, y + height, event);\n            return;\n        }\n        end = brushMousePosition(root, event);\n        const [fx, fy, fx1, fy1] = updateMask(start, end);\n        creating = false;\n        brushcreated(fx, fy, fx1, fy1, event);\n    };\n    // Hide mask.\n    const click = (event) => {\n        const { target } = event;\n        if (mask && !isMask(target))\n            removeMask();\n    };\n    // Update cursor depends on hovered element.\n    const pointermove = (event) => {\n        const { target } = event;\n        if (!mask || !isMask(target) || creating)\n            setCursor(root, 'crosshair');\n        else if (isSelection(target))\n            setCursor(root, 'move');\n        else if (isHandle(target))\n            setCursor(root, handles[target.id].cursor);\n    };\n    const pointerleave = () => {\n        setCursor(root, 'default');\n    };\n    root.addEventListener('dragstart', dragstart);\n    root.addEventListener('drag', drag);\n    root.addEventListener('dragend', dragend);\n    root.addEventListener('click', click);\n    root.addEventListener('pointermove', pointermove);\n    root.addEventListener('pointerleave', pointerleave);\n    return {\n        mask,\n        move(x, y, x1, y1, emit = true) {\n            if (!mask)\n                initMask(x, y, {});\n            start = [x, y];\n            end = [x1, y1];\n            updateMask([x, y], [x1, y1], emit);\n        },\n        remove(emit = true) {\n            if (mask)\n                removeMask(emit);\n        },\n        destroy() {\n            // Do not emit brush:end event.\n            if (mask)\n                removeMask(false);\n            setCursor(root, 'default');\n            root.removeEventListener('dragstart', dragstart);\n            root.removeEventListener('drag', drag);\n            root.removeEventListener('dragend', dragend);\n            root.removeEventListener('click', click);\n            root.removeEventListener('pointermove', pointermove);\n            root.removeEventListener('pointerleave', pointerleave);\n        },\n    };\n}\nfunction selectSiblingViews(target, viewInstances, brushKey) {\n    return viewInstances.filter((d) => {\n        if (d === target)\n            return false;\n        const { interaction = {} } = d.options;\n        return Object.values(interaction).find((d) => d.brushKey === brushKey);\n    });\n}\nfunction selectSiblingContainers(target, viewInstances, brushKey) {\n    return selectSiblingViews(target, viewInstances, brushKey).map((d) => selectPlotArea(d.container));\n}\nfunction selectSiblingOptions(target, viewInstances, brushKey) {\n    return selectSiblingViews(target, viewInstances, brushKey).map((d) => d.options);\n}\n/**\n * @todo Brush over view for series view.\n * @todo Test perf.\n */\nexport function brushHighlight(root, _a) {\n    var { elements: elementof, selectedHandles, siblings: siblingsof = (root) => [], datum, brushRegion, extent: optionalExtent, reverse, scale, coordinate, series = false, key = (d) => d, bboxOf = (root) => {\n        const { x, y, width, height } = root.style;\n        return { x, y, width, height };\n    }, state = {}, emitter } = _a, rest = __rest(_a, [\"elements\", \"selectedHandles\", \"siblings\", \"datum\", \"brushRegion\", \"extent\", \"reverse\", \"scale\", \"coordinate\", \"series\", \"key\", \"bboxOf\", \"state\", \"emitter\"]);\n    const elements = elementof(root);\n    const siblings = siblingsof(root);\n    const siblingElements = siblings.flatMap(elementof);\n    const valueof = createValueof(elements, datum);\n    const brushStyle = subObject(rest, 'mask');\n    const { setState, removeState } = useState(state, valueof);\n    const clonedElement = new Map();\n    const { width: rootWidth, height: rootHeight, x: ordinalX = 0, y: ordinalY = 0, } = bboxOf(root);\n    const extent = optionalExtent\n        ? optionalExtent\n        : [0, 0, rootWidth, rootHeight];\n    const brushended = () => {\n        for (const element of [...elements, ...siblingElements]) {\n            removeState(element, 'active', 'inactive');\n        }\n    };\n    const brushed = (x, y, x1, y1) => {\n        var _a;\n        // Hide brush for the sibling view.\n        for (const sibling of siblings)\n            (_a = sibling.brush) === null || _a === void 0 ? void 0 : _a.remove();\n        // Store the key of the active element.\n        const keys = new Set();\n        // Highlight and store selected elements.\n        for (const element of elements) {\n            const { min, max } = element.getLocalBounds();\n            const [ex, ey] = min;\n            const [ex1, ey1] = max;\n            if (!intersect([ex, ey, ex1, ey1], [x, y, x1, y1])) {\n                setState(element, 'inactive');\n            }\n            else {\n                setState(element, 'active');\n                keys.add(key(element));\n            }\n        }\n        // Highlight elements with same key in sibling view.\n        for (const element of siblingElements) {\n            if (keys.has(key(element)))\n                setState(element, 'active');\n            else\n                setState(element, 'inactive');\n        }\n    };\n    const seriesBrushend = () => {\n        for (const element of elements)\n            removeState(element, 'inactive');\n        for (const cloned of clonedElement.values())\n            cloned.remove();\n        clonedElement.clear();\n    };\n    const seriesBrushed = (x, y, x1, y1) => {\n        const clone = (element) => {\n            const cloned = element.cloneNode();\n            cloned.__data__ = element.__data__;\n            element.parentNode.appendChild(cloned);\n            clonedElement.set(element, cloned);\n            return cloned;\n        };\n        // Create a clipPath shared between all children.\n        const clipPath = new Rect({\n            style: {\n                x: x + ordinalX,\n                y: y + ordinalY,\n                width: x1 - x,\n                height: y1 - y,\n            },\n        });\n        root.appendChild(clipPath);\n        for (const element of elements) {\n            const cloned = clonedElement.get(element) || clone(element);\n            cloned.style.clipPath = clipPath;\n            setState(element, 'inactive');\n            setState(cloned, 'active');\n        }\n    };\n    const brushHandler = brush(root, Object.assign(Object.assign({}, brushStyle), { extent,\n        brushRegion,\n        reverse,\n        selectedHandles, brushended: (emit) => {\n            const handler = series ? seriesBrushend : brushended;\n            if (emit) {\n                emitter.emit('brush:remove', { nativeEvent: true });\n            }\n            handler();\n        }, brushed: (x, y, x1, y1, emit) => {\n            const selection = selectionOf(x, y, x1, y1, scale, coordinate);\n            if (emit) {\n                emitter.emit('brush:highlight', {\n                    nativeEvent: true,\n                    data: { selection },\n                });\n            }\n            const handler = series ? seriesBrushed : brushed;\n            handler(x, y, x1, y1);\n        }, brushcreated: (x, y, x1, y1, event) => {\n            const selection = selectionOf(x, y, x1, y1, scale, coordinate);\n            emitter.emit('brush:end', Object.assign(Object.assign({}, event), { nativeEvent: true, data: { selection } }));\n        }, brushupdated: (x, y, x1, y1, event) => {\n            const selection = selectionOf(x, y, x1, y1, scale, coordinate);\n            emitter.emit('brush:end', Object.assign(Object.assign({}, event), { nativeEvent: true, data: { selection } }));\n        }, brushstarted: (e) => {\n            emitter.emit('brush:start', e);\n        } }));\n    // Move brush and highlight data.\n    const onHighlight = ({ nativeEvent, data }) => {\n        if (nativeEvent)\n            return;\n        const { selection } = data;\n        const [x, y, x1, y1] = pixelsOf(selection, scale, coordinate);\n        brushHandler.move(x, y, x1, y1, false);\n    };\n    emitter.on('brush:highlight', onHighlight);\n    // Remove brush and reset data.\n    const onRemove = ({ nativeEvent } = {}) => {\n        if (nativeEvent)\n            return;\n        brushHandler.remove(false);\n    };\n    emitter.on('brush:remove', onRemove);\n    // Remove event handlers.\n    const preBrushDestroy = brushHandler.destroy.bind(brushHandler);\n    brushHandler.destroy = () => {\n        emitter.off('brush:highlight', onHighlight);\n        emitter.off('brush:remove', onRemove);\n        preBrushDestroy();\n    };\n    return brushHandler;\n}\nexport function BrushHighlight(_a) {\n    var { facet, brushKey } = _a, rest = __rest(_a, [\"facet\", \"brushKey\"]);\n    return (target, viewInstances, emitter) => {\n        const { container, view, options } = target;\n        const plotArea = selectPlotArea(container);\n        const defaultOptions = {\n            maskFill: '#777',\n            maskFillOpacity: '0.3',\n            maskStroke: '#fff',\n            reverse: false,\n        };\n        const defaultStates = ['active', ['inactive', { opacity: 0.5 }]];\n        const { scale, coordinate } = view;\n        if (facet) {\n            const bbox = plotArea.getBounds();\n            const x = bbox.min[0];\n            const y = bbox.min[1];\n            const x1 = bbox.max[0];\n            const y1 = bbox.max[1];\n            return brushHighlight(plotArea.parentNode.parentNode, Object.assign(Object.assign({ elements: () => selectFacetG2Elements(target, viewInstances), datum: createDatumof(selectFacetViews(target, viewInstances).map((d) => d.view)), brushRegion: (x, y, x1, y1) => [x, y, x1, y1], extent: [x, y, x1, y1], state: mergeState(selectFacetViews(target, viewInstances).map((d) => d.options), defaultStates), emitter,\n                scale,\n                coordinate, selectedHandles: undefined }, defaultOptions), rest));\n        }\n        const brush = brushHighlight(plotArea, Object.assign(Object.assign({ elements: selectG2Elements, key: (element) => element.__data__.key, siblings: () => selectSiblingContainers(target, viewInstances, brushKey), datum: createDatumof([\n                view,\n                ...selectSiblingViews(target, viewInstances, brushKey).map((d) => d.view),\n            ]), brushRegion: (x, y, x1, y1) => [x, y, x1, y1], extent: undefined, state: mergeState([options, ...selectSiblingOptions(target, viewInstances, brushKey)], defaultStates), emitter,\n            scale,\n            coordinate, selectedHandles: undefined }, defaultOptions), rest));\n        // Bind brush to the view it belongs to.\n        //@ts-ignore\n        plotArea.brush = brush;\n        return () => brush.destroy();\n    };\n}\n//# sourceMappingURL=brushHighlight.js.map","import { BrushHighlight } from './brushHighlight';\nexport function brushXRegion(x, y, x1, y1, extent) {\n    const [, minY, , maxY] = extent;\n    return [x, minY, x1, maxY];\n}\nexport function BrushXHighlight(options) {\n    return BrushHighlight(Object.assign(Object.assign({}, options), { brushRegion: brushXRegion, selectedHandles: ['handle-e', 'handle-w'] }));\n}\n//# sourceMappingURL=brushXHighlight.js.map","import { BrushHighlight } from './brushHighlight';\nexport function brushYRegion(x, y, x1, y1, extent) {\n    const [minX, , maxX] = extent;\n    return [minX, y, maxX, y1];\n}\nexport function BrushYHighlight(options) {\n    return BrushHighlight(Object.assign(Object.assign({}, options), { brushRegion: brushYRegion, selectedHandles: ['handle-n', 'handle-s'] }));\n}\n//# sourceMappingURL=brushYHighlight.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Rect } from '@antv/g';\nimport { subObject } from '../utils/helper';\nimport { domainOf } from '../utils/scale';\nimport { brush } from './brushHighlight';\nimport { brushXRegion } from './brushXHighlight';\nimport { brushYRegion } from './brushYHighlight';\nimport { selectG2Elements, createDatumof, createValueof, useState, selectPlotArea, mergeState, } from './utils';\nexport const AXIS_CLASS_NAME = 'axis';\nexport const AXIS_LINE_CLASS_NAME = 'axis-line';\nexport const AXIS_MAIN_CLASS_NAME = 'axis-main-group';\nexport const AXIS_HOT_AREA_CLASS_NAME = 'axis-hot-area';\nfunction axesOf(container) {\n    return container.getElementsByClassName(AXIS_CLASS_NAME);\n}\nfunction lineOf(axis) {\n    return axis.getElementsByClassName(AXIS_LINE_CLASS_NAME)[0];\n}\nfunction mainGroupOf(axis) {\n    return axis.getElementsByClassName(AXIS_MAIN_CLASS_NAME)[0];\n}\n// Use the bounds of main group of axis as the bounds of axis,\n// get rid of grid and title.\nfunction boundsOfAxis(axis) {\n    return mainGroupOf(axis).getLocalBounds();\n}\n// Brush for vertical axis.\nfunction verticalBrush(axis, _a) {\n    var { cross, offsetX, offsetY } = _a, style = __rest(_a, [\"cross\", \"offsetX\", \"offsetY\"]);\n    const bounds = boundsOfAxis(axis);\n    const axisLine = lineOf(axis);\n    const [lineX] = axisLine.getLocalBounds().min;\n    const [minX, minY] = bounds.min;\n    const [maxX, maxY] = bounds.max;\n    const size = (maxX - minX) * 2;\n    return {\n        brushRegion: brushYRegion,\n        hotZone: new Rect({\n            className: AXIS_HOT_AREA_CLASS_NAME,\n            style: Object.assign({ \n                // If it is not cross, draw brush in both side of axisLine,\n                // otherwise the draw brush within bounds area.\n                width: cross ? size / 2 : size, transform: `translate(${(cross ? minX : lineX - size / 2).toFixed(2)}, ${minY})`, height: maxY - minY }, style),\n        }),\n        extent: cross\n            ? // If it is cross, the x range is ignored.\n                (x, y, x1, y1) => [-Infinity, y, Infinity, y1]\n            : (x, y, x1, y1) => [\n                Math.floor(minX - offsetX),\n                y,\n                Math.ceil(maxX - offsetX),\n                y1,\n            ],\n    };\n}\n// Brush for horizontal axis.\nfunction horizontalBrush(axis, _a) {\n    var { offsetY, offsetX, cross = false } = _a, style = __rest(_a, [\"offsetY\", \"offsetX\", \"cross\"]);\n    const bounds = boundsOfAxis(axis);\n    const axisLine = lineOf(axis);\n    const [, lineY] = axisLine.getLocalBounds().min;\n    const [minX, minY] = bounds.min;\n    const [maxX, maxY] = bounds.max;\n    const size = maxY - minY;\n    return {\n        brushRegion: brushXRegion,\n        hotZone: new Rect({\n            className: AXIS_HOT_AREA_CLASS_NAME,\n            style: Object.assign({ width: maxX - minX, \n                // If it is not cross, draw brush in both side of axisLine,\n                // otherwise the draw brush within bounds area.\n                height: cross ? size : size * 2, transform: `translate(${minX}, ${cross ? minY : lineY - size})` }, style),\n        }),\n        extent: cross\n            ? // If it is cross, the y range is ignored.\n                (x, y, x1, y1) => [x, -Infinity, x1, Infinity]\n            : (x, y, x1, y1) => [\n                x,\n                Math.floor(minY - offsetY),\n                x1,\n                Math.ceil(maxY - offsetY),\n            ],\n    };\n}\nexport function brushAxisHighlight(root, _a) {\n    var { axes: axesOf, // given root, return axes\n    elements: elementsOf, // given root, return elements\n    points: pointsOf, // given shape, return control points\n    horizontal: isHorizontal, // given axis, return direction\n    datum, // given shape, return datum\n    offsetY, // offsetY for shape area\n    offsetX, // offsetX for shape area\n    reverse = false, state = {}, emitter, coordinate } = _a, rest = __rest(_a, [\"axes\", \"elements\", \"points\", \"horizontal\", \"datum\", \"offsetY\", \"offsetX\", \"reverse\", \"state\", \"emitter\", \"coordinate\"]) // style\n    ;\n    const elements = elementsOf(root);\n    const axes = axesOf(root);\n    const valueof = createValueof(elements, datum);\n    const { setState, removeState } = useState(state, valueof);\n    const axisExtent = new Map();\n    const brushStyle = subObject(rest, 'mask');\n    // Only some of shape's points in all mask, it is selected.\n    const brushed = (points) => Array.from(axisExtent.values()).every(([x, y, x1, y1]) => points.some(([x0, y0]) => {\n        return x0 >= x && x0 <= x1 && y0 >= y && y0 <= y1;\n    }));\n    const scales = axes.map((d) => d.attributes.scale);\n    const extentOf = (D) => (D.length > 2 ? [D[0], D[D.length - 1]] : D);\n    const indexDomain = new Map();\n    const initIndexDomain = () => {\n        indexDomain.clear();\n        for (let i = 0; i < axes.length; i++) {\n            const scale = scales[i];\n            const { domain } = scale.getOptions();\n            indexDomain.set(i, extentOf(domain));\n        }\n    };\n    initIndexDomain();\n    // Update element when brush changed.\n    const updateElement = (i, emit) => {\n        const selectedElements = [];\n        for (const element of elements) {\n            const points = pointsOf(element);\n            if (brushed(points)) {\n                setState(element, 'active');\n                selectedElements.push(element);\n            }\n            else\n                setState(element, 'inactive');\n        }\n        indexDomain.set(i, selectionOf(selectedElements, i));\n        if (!emit)\n            return;\n        // Emit events.\n        const selection = () => {\n            if (!cross)\n                return Array.from(indexDomain.values());\n            const S = [];\n            for (const [index, domain] of indexDomain) {\n                const scale = scales[index];\n                const { name } = scale.getOptions();\n                if (name === 'x')\n                    S[0] = domain;\n                else\n                    S[1] = domain;\n            }\n            return S;\n        };\n        emitter.emit('brushAxis:highlight', {\n            nativeEvent: true,\n            data: {\n                selection: selection(),\n            },\n        });\n    };\n    const clearElement = (emit) => {\n        for (const element of elements)\n            removeState(element, 'active', 'inactive');\n        initIndexDomain();\n        if (!emit)\n            return;\n        emitter.emit('brushAxis:remove', { nativeEvent: true });\n    };\n    const selectionOf = (selected, i) => {\n        const scale = scales[i];\n        const { name } = scale.getOptions();\n        const domain = selected.map((d) => {\n            const data = d.__data__;\n            return scale.invert(data[name]);\n        });\n        return extentOf(domainOf(scale, domain));\n    };\n    // Distinguish between parallel coordinates and normal charts.\n    const cross = axes.some(isHorizontal) && axes.some((d) => !isHorizontal(d));\n    const handlers = [];\n    for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const createBrush = isHorizontal(axis) ? horizontalBrush : verticalBrush;\n        const { hotZone, brushRegion, extent } = createBrush(axis, {\n            offsetY,\n            offsetX,\n            cross,\n            zIndex: 999,\n            fill: 'transparent', // Make it interactive.\n        });\n        axis.parentNode.appendChild(hotZone);\n        const brushHandler = brush(hotZone, Object.assign(Object.assign({}, brushStyle), { reverse,\n            brushRegion,\n            brushended(emit) {\n                axisExtent.delete(axis);\n                if (Array.from(axisExtent.entries()).length === 0)\n                    clearElement(emit);\n                else\n                    updateElement(i, emit);\n            },\n            brushed(x, y, x1, y1, emit) {\n                axisExtent.set(axis, extent(x, y, x1, y1));\n                updateElement(i, emit);\n            } }));\n        handlers.push(brushHandler);\n    }\n    const onRemove = (event = {}) => {\n        const { nativeEvent } = event;\n        if (nativeEvent)\n            return;\n        handlers.forEach((d) => d.remove(false));\n    };\n    const rangeOf = (domain, scale, axis) => {\n        const [d0, d1] = domain;\n        const maybeStep = (scale) => (scale.getStep ? scale.getStep() : 0);\n        const x = abstractOf(d0, scale, axis);\n        const x1 = abstractOf(d1, scale, axis) + maybeStep(scale);\n        if (isHorizontal(axis))\n            return [x, -Infinity, x1, Infinity];\n        return [-Infinity, x, Infinity, x1];\n    };\n    const abstractOf = (x, scale, axis) => {\n        const { height, width } = coordinate.getOptions();\n        const scale1 = scale.clone();\n        if (isHorizontal(axis))\n            scale1.update({ range: [0, width] });\n        else\n            scale1.update({ range: [height, 0] });\n        return scale1.map(x);\n    };\n    const onHighlight = (event) => {\n        const { nativeEvent } = event;\n        if (nativeEvent)\n            return;\n        const { selection } = event.data;\n        for (let i = 0; i < handlers.length; i++) {\n            const domain = selection[i];\n            const handler = handlers[i];\n            const axis = axes[i];\n            if (domain) {\n                const scale = scales[i];\n                handler.move(...rangeOf(domain, scale, axis), false);\n            }\n            else {\n                handler.remove(false);\n            }\n        }\n    };\n    emitter.on('brushAxis:remove', onRemove);\n    emitter.on('brushAxis:highlight', onHighlight);\n    return () => {\n        handlers.forEach((d) => d.destroy());\n        emitter.off('brushAxis:remove', onRemove);\n        emitter.off('brushAxis:highlight', onHighlight);\n    };\n}\n/**\n * @todo Support mask size.\n */\nexport function BrushAxisHighlight(options) {\n    return (target, _, emitter) => {\n        const { container, view, options: viewOptions } = target;\n        const plotArea = selectPlotArea(container);\n        const { x: x0, y: y0 } = plotArea.getBBox();\n        const { coordinate } = view;\n        return brushAxisHighlight(container, Object.assign({ elements: selectG2Elements, axes: axesOf, offsetY: y0, offsetX: x0, points: (element) => element.__data__.points, horizontal: (axis) => {\n                const { startPos: [sx, sy], endPos: [ex, ey], } = axis.attributes;\n                // attention, non-horizontal does not mean vertical\n                // it may has a specific degree angle\n                return sx !== ex && sy === ey;\n            }, datum: createDatumof(view), state: mergeState(viewOptions, [\n                'active',\n                ['inactive', { opacity: 0.5 }],\n            ]), coordinate,\n            emitter }, options));\n    };\n}\n//# sourceMappingURL=brushAxisHighlight.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { selectionOf } from '../utils/scale';\nimport { brush as createBrush } from './brushHighlight';\nimport { selectPlotArea } from './utils';\n// Mock dblclick events.\nfunction dblclick(interval = 300) {\n    let preTimeStamp = null;\n    return (e) => {\n        const { timeStamp } = e;\n        if (preTimeStamp !== null && timeStamp - preTimeStamp < interval) {\n            preTimeStamp = timeStamp;\n            return true;\n        }\n        preTimeStamp = timeStamp;\n        return false;\n    };\n}\nexport function brushFilter(root, _a) {\n    var { filter, reset, brushRegion, extent: optionalExtent, reverse, emitter, scale, coordinate, selection, series = false } = _a, rest = __rest(_a, [\"filter\", \"reset\", \"brushRegion\", \"extent\", \"reverse\", \"emitter\", \"scale\", \"coordinate\", \"selection\", \"series\"]);\n    const brushStyle = subObject(rest, 'mask');\n    const { width: rootWidth, height: rootHeight } = root.getBBox();\n    const extent = optionalExtent\n        ? optionalExtent\n        : [0, 0, rootWidth, rootHeight];\n    const isDblclick = dblclick();\n    const brush = createBrush(root, Object.assign(Object.assign({}, brushStyle), { extent,\n        brushRegion,\n        reverse,\n        brushcreated }));\n    root.addEventListener('click', click);\n    // Filter when brush created.\n    function brushcreated(x, y, x1, y1, event) {\n        event.nativeEvent = true;\n        filter(selection(x, y, x1, y1), event);\n        brush.remove();\n    }\n    // Reset when dblclick.\n    function click(e) {\n        if (isDblclick(e)) {\n            e.nativeEvent = true;\n            reset(e);\n        }\n    }\n    const onFilter = ({ nativeEvent, data }) => {\n        if (nativeEvent)\n            return;\n        const { selection } = data;\n        filter(selection, { nativeEvent: false });\n    };\n    emitter.on('brush:filter', onFilter);\n    return () => {\n        brush.destroy();\n        emitter.off('brush:filter', onFilter);\n        root.removeEventListener('click', click);\n    };\n}\nexport function BrushFilter(_a) {\n    var { hideX = true, hideY = true } = _a, rest = __rest(_a, [\"hideX\", \"hideY\"]);\n    return (target, viewInstances, emitter) => {\n        const { container, view, options: viewOptions, update, setState } = target;\n        const plotArea = selectPlotArea(container);\n        const defaultOptions = {\n            maskFill: '#777',\n            maskFillOpacity: '0.3',\n            maskStroke: '#fff',\n            unhighlightedOpacity: 0.5,\n            reverse: false,\n        };\n        let filtered = false;\n        let filtering = false;\n        let newView = view;\n        const { scale, coordinate } = view;\n        return brushFilter(plotArea, Object.assign(Object.assign({ brushRegion: (x, y, x1, y1) => [x, y, x1, y1], selection: (x, y, x1, y1) => {\n                const { scale, coordinate } = newView;\n                return selectionOf(x, y, x1, y1, scale, coordinate);\n            }, filter: (selection, event) => __awaiter(this, void 0, void 0, function* () {\n                // Avoid redundant filter.\n                if (filtering)\n                    return;\n                filtering = true;\n                // Update the domain of x and y scale to filter data.\n                const [domainX, domainY] = selection;\n                setState('brushFilter', (options) => {\n                    const { marks } = options;\n                    const newMarks = marks.map((mark) => deepMix({\n                        // Hide label to keep smooth transition.\n                        axis: Object.assign(Object.assign({}, (hideX && { x: { transform: [{ type: 'hide' }] } })), (hideY && { y: { transform: [{ type: 'hide' }] } })),\n                    }, mark, {\n                        // Set nice to false to avoid modify domain.\n                        scale: {\n                            x: { domain: domainX, nice: false },\n                            y: { domain: domainY, nice: false },\n                        },\n                    }));\n                    return Object.assign(Object.assign({}, viewOptions), { marks: newMarks, clip: true });\n                });\n                // Emit event.\n                emitter.emit('brush:filter', Object.assign(Object.assign({}, event), { data: { selection: [domainX, domainY] } }));\n                const newState = yield update();\n                newView = newState.view;\n                filtering = false;\n                filtered = true;\n            }), reset: (event) => {\n                if (filtering || !filtered)\n                    return;\n                // Emit event.\n                const { scale } = view;\n                const { x: scaleX, y: scaleY } = scale;\n                const domainX = scaleX.getOptions().domain;\n                const domainY = scaleY.getOptions().domain;\n                emitter.emit('brush:filter', Object.assign(Object.assign({}, event), { data: { selection: [domainX, domainY] } }));\n                filtered = false;\n                newView = view;\n                setState('brushFilter');\n                update();\n            }, extent: undefined, emitter,\n            scale,\n            coordinate }, defaultOptions), rest));\n    };\n}\n//# sourceMappingURL=brushFilter.js.map","import { BrushFilter } from './brushFilter';\nimport { brushXRegion } from './brushXHighlight';\nexport function BrushXFilter(options) {\n    return BrushFilter(Object.assign(Object.assign({ hideX: true }, options), { brushRegion: brushXRegion }));\n}\n//# sourceMappingURL=brushXFilter.js.map","import { BrushFilter } from './brushFilter';\nimport { brushYRegion } from './brushYHighlight';\nexport function BrushYFilter(options) {\n    return BrushFilter(Object.assign(Object.assign({ hideY: true }, options), { brushRegion: brushYRegion }));\n}\n//# sourceMappingURL=brushYFilter.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { deepMix, throttle, upperFirst } from '@antv/util';\nimport { CustomEvent } from '@antv/g';\nimport { isTranspose } from '../utils/coordinate';\nimport { invert, domainOf, abstractOf } from '../utils/scale';\nexport const SLIDER_CLASS_NAME = 'slider';\nfunction filterDataByDomain(options, scaleOptions, prefix, hasState = false, channel0 = 'x', channel1 = 'y') {\n    const { marks } = options;\n    const newMarks = marks.map((mark) => {\n        var _a, _b;\n        return deepMix({\n            // Hide label to keep smooth transition.\n            axis: {\n                x: { transform: [{ type: 'hide' }] },\n                y: { transform: [{ type: 'hide' }] },\n            },\n        }, mark, {\n            scale: scaleOptions,\n            // Don't rerender sliders.\n            [prefix]: Object.assign(Object.assign({}, (((_a = mark[prefix]) === null || _a === void 0 ? void 0 : _a[channel0]) && {\n                [channel0]: Object.assign({ preserve: true }, (hasState && { ratio: null })),\n            })), (((_b = mark[prefix]) === null || _b === void 0 ? void 0 : _b[channel1]) && {\n                [channel1]: { preserve: true },\n            })),\n            animate: false,\n        });\n    });\n    // Rerender and update view.\n    return Object.assign(Object.assign({}, options), { marks: newMarks, clip: true, animate: false });\n}\nfunction abstractValue(values, scale, reverse) {\n    const [x, x1] = values;\n    const v = reverse ? (d) => 1 - d : (d) => d;\n    const d0 = invert(scale, v(x), true);\n    const d1 = invert(scale, v(x1), false);\n    return domainOf(scale, [d0, d1]);\n}\nfunction extentOf(domain) {\n    return [domain[0], domain[domain.length - 1]];\n}\n/**\n * @todo Support click to reset after fix click and dragend conflict.\n */\nexport function SliderFilter({ initDomain = {}, className = SLIDER_CLASS_NAME, prefix = 'slider', setValue = (component, values) => component.setValues(values), hasState = false, wait = 50, leading = true, trailing = false, getInitValues = (slider) => {\n    var _a;\n    const values = (_a = slider === null || slider === void 0 ? void 0 : slider.attributes) === null || _a === void 0 ? void 0 : _a.values;\n    if (values[0] !== 0 || values[1] !== 1)\n        return values;\n}, }) {\n    return (context, _, emitter) => {\n        const { container, view, update, setState } = context;\n        const sliders = container.getElementsByClassName(className);\n        if (!sliders.length)\n            return () => { };\n        let filtering = false;\n        const { scale, coordinate, layout } = view;\n        const { paddingLeft, paddingTop, paddingBottom, paddingRight } = layout;\n        const { x: scaleX, y: scaleY } = scale;\n        const transposed = isTranspose(coordinate);\n        const channelOf = (orientation) => {\n            const channel0 = orientation === 'vertical' ? 'y' : 'x';\n            const channel1 = orientation === 'vertical' ? 'x' : 'y';\n            if (transposed)\n                return [channel1, channel0];\n            return [channel0, channel1];\n        };\n        const sliderHandler = new Map();\n        const emitHandlers = new Set();\n        // Store current domain of x and y scale.\n        const channelDomain = {\n            x: initDomain.x || scaleX.getOptions().domain,\n            y: initDomain.y || scaleY.getOptions().domain,\n        };\n        for (const slider of sliders) {\n            const { orientation } = slider.attributes;\n            const [channel0, channel1] = channelOf(orientation);\n            const eventName = `${prefix}${upperFirst(channel0)}:filter`;\n            const isX = channel0 === 'x';\n            const { ratio: ratioX } = scaleX.getOptions();\n            const { ratio: ratioY } = scaleY.getOptions();\n            const domainsOf = (event) => {\n                // From abstract values.\n                if (event.data) {\n                    const { selection } = event.data;\n                    const [X = extentOf(channelDomain.x), Y = extentOf(channelDomain.y)] = selection;\n                    return isX\n                        ? [domainOf(scaleX, X, ratioX), domainOf(scaleY, Y, ratioY)]\n                        : [domainOf(scaleY, Y, ratioY), domainOf(scaleX, X, ratioX)];\n                }\n                // From visual values.\n                const { value: values } = event.detail;\n                const scale0 = scale[channel0];\n                const domain0 = abstractValue(values, scale0, transposed && orientation === 'horizontal');\n                const domain1 = channelDomain[channel1];\n                return [domain0, domain1];\n            };\n            const onValueChange = throttle((event) => __awaiter(this, void 0, void 0, function* () {\n                const { initValue = false } = event;\n                if (filtering && !initValue)\n                    return;\n                filtering = true;\n                const { nativeEvent = true } = event;\n                // Get and update domain.\n                const [domain0, domain1] = domainsOf(event);\n                channelDomain[channel0] = domain0;\n                channelDomain[channel1] = domain1;\n                if (nativeEvent) {\n                    // Emit events.\n                    const X = isX ? domain0 : domain1;\n                    const Y = isX ? domain1 : domain0;\n                    emitter.emit(eventName, Object.assign(Object.assign({}, event), { nativeEvent, data: { selection: [extentOf(X), extentOf(Y)] } }));\n                }\n                setState(slider, (options) => (Object.assign(Object.assign({}, filterDataByDomain(options, \n                // Set nice to false to avoid modify domain.\n                // Only update domain of current slider / scrollbar.\n                { [channel0]: { domain: domain0, nice: false } }, prefix, hasState, channel0, channel1)), { paddingLeft,\n                    paddingTop,\n                    paddingBottom,\n                    paddingRight })));\n                yield update();\n                filtering = false;\n            }), wait, { leading, trailing });\n            const emitHandler = (event) => {\n                const { nativeEvent } = event;\n                if (nativeEvent)\n                    return;\n                const { data } = event;\n                const { selection } = data;\n                const [X, Y] = selection;\n                // Update data.\n                slider.dispatchEvent(new CustomEvent('valuechange', {\n                    data,\n                    nativeEvent: false,\n                }));\n                // Update slider.\n                const V = isX ? abstractOf(X, scaleX) : abstractOf(Y, scaleY);\n                setValue(slider, V);\n            };\n            emitter.on(eventName, emitHandler);\n            slider.addEventListener('valuechange', onValueChange);\n            sliderHandler.set(slider, onValueChange);\n            emitHandlers.add([eventName, emitHandler]);\n            const values = getInitValues(slider);\n            if (values) {\n                // Init values.\n                slider.dispatchEvent(new CustomEvent('valuechange', {\n                    detail: {\n                        value: values,\n                    },\n                    nativeEvent: false,\n                    initValue: true,\n                }));\n            }\n        }\n        return () => {\n            for (const [slider, handler] of sliderHandler) {\n                slider.removeEventListener('valuechange', handler);\n            }\n            for (const [name, handler] of emitHandlers) {\n                emitter.off(name, handler);\n            }\n        };\n    };\n}\n//# sourceMappingURL=sliderFilter.js.map","import { SliderFilter } from './sliderFilter';\nexport const SCROLLBAR_CLASS_NAME = 'g2-scrollbar';\nexport function ScrollbarFilter(options = {}) {\n    return (context, _, emitter) => {\n        const { view, container } = context;\n        const scrollbars = container.getElementsByClassName(SCROLLBAR_CLASS_NAME);\n        if (!scrollbars.length)\n            return () => { };\n        const { scale } = view;\n        const { x: scaleX, y: scaleY } = scale;\n        // The filtered domain, computed by the ratio attribute.\n        const initDomain = {\n            x: [...scaleX.getOptions().domain],\n            y: [...scaleY.getOptions().domain],\n        };\n        // The ordinal domain for each channel.\n        scaleX.update({ domain: scaleX.getOptions().expectedDomain });\n        scaleY.update({ domain: scaleY.getOptions().expectedDomain });\n        const interaction = SliderFilter(Object.assign(Object.assign({}, options), { initDomain, className: SCROLLBAR_CLASS_NAME, prefix: 'scrollbar', hasState: true, setValue: (component, values) => component.setValue(values[0]), getInitValues: (scrollbar) => {\n                const values = scrollbar.slider.attributes.values;\n                if (values[0] !== 0)\n                    return values;\n            } }));\n        return interaction(context, _, emitter);\n    };\n}\n//# sourceMappingURL=scrollbarFilter.js.map","/**\n * camelCase('foo-bar');\n * // => 'fooBar'\n * @param s\n */\nexport function camelCase(s) {\n    return s.replace(/-(\\w)/g, function (_, letter) {\n        return letter.toUpperCase();\n    });\n}\n/**\n * kebabCase('fooBar');\n * // => 'foo-bar'\n * @param s\n */\nexport function kebabCase(s) {\n    return s.replace(/([A-Z])/g, '-$1').toLowerCase();\n}\n//# sourceMappingURL=string.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { HTML } from '@antv/g';\nimport { kebabCase } from '../utils/string';\nimport { subObject } from '../utils/helper';\nfunction dom(tag, children, style) {\n    return `<${tag} style=\"${Object.entries(style)\n        .map(([key, value]) => `${kebabCase(key)}:${value}`)\n        .join(';')}\">${children}</${tag}>`;\n}\nconst defaultTipStyle = {\n    backgroundColor: 'rgba(0,0,0,0.75)',\n    color: '#fff',\n    width: 'max-content',\n    padding: '1px 4px',\n    fontSize: '12px',\n    borderRadius: '2.5px',\n    boxShadow: '0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)',\n};\nfunction isTipText(element) {\n    if (element.nodeName !== 'text')\n        return false;\n    if (element.isOverflowing())\n        return true;\n    return false;\n}\nexport function Poptip(_a) {\n    var { offsetX = 8, offsetY = 8 } = _a, style = __rest(_a, [\"offsetX\", \"offsetY\"]);\n    return (context) => {\n        const { container } = context;\n        const [x0, y0] = container.getBounds().min;\n        const tipStyle = subObject(style, 'tip');\n        const tips = new Set();\n        const pointerover = (e) => {\n            const { target } = e;\n            if (!isTipText(target)) {\n                e.stopPropagation();\n                return;\n            }\n            const { offsetX: mouseX, offsetY: mouseY } = e;\n            const x = mouseX + offsetX - x0;\n            const y = mouseY + offsetY - y0;\n            if (target.tip) {\n                target.tip.style.x = x;\n                target.tip.style.y = y;\n                return;\n            }\n            const { text } = target.style;\n            const tipELement = new HTML({\n                className: 'poptip',\n                style: {\n                    innerHTML: dom('div', text, Object.assign(Object.assign({}, defaultTipStyle), tipStyle)),\n                    x,\n                    y,\n                },\n            });\n            container.appendChild(tipELement);\n            target.tip = tipELement;\n            tips.add(tipELement);\n        };\n        const pointerout = (e) => {\n            const { target } = e;\n            if (!isTipText(target)) {\n                e.stopPropagation();\n                return;\n            }\n            if (!target.tip)\n                return;\n            target.tip.remove();\n            target.tip = null;\n            tips.delete(target.tip);\n        };\n        container.addEventListener('pointerover', pointerover);\n        container.addEventListener('pointerout', pointerout);\n        return () => {\n            container.removeEventListener('pointerover', pointerover);\n            container.removeEventListener('pointerout', pointerout);\n            tips.forEach((tip) => tip.remove());\n        };\n    };\n}\nPoptip.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=poptip.js.map","import isNil from './is-nil';\nimport isArraylike from './is-array-like';\nexport default function size(o) {\n    if (isNil(o)) {\n        return 0;\n    }\n    if (isArraylike(o)) {\n        return o.length;\n    }\n    return Object.keys(o).length;\n}\n//# sourceMappingURL=size.js.map","/**\n * 判断值是否为函数\n * @return 是否为函数\n */\nexport default function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=is-function.js.map","import each from './each';\nimport isFunction from './is-function';\nvar keys = Object.keys\n    ? function (obj) { return Object.keys(obj); }\n    : function (obj) {\n        var result = [];\n        each(obj, function (value, key) {\n            if (!(isFunction(obj) && key === 'prototype')) {\n                result.push(key);\n            }\n        });\n        return result;\n    };\nexport default keys;\n//# sourceMappingURL=keys.js.map","import isNil from './is-nil';\nimport keys from './keys';\nfunction isMatch(obj, attrs) {\n    var _keys = keys(attrs);\n    var length = _keys.length;\n    if (isNil(obj))\n        return !length;\n    for (var i = 0; i < length; i += 1) {\n        var key = _keys[i];\n        if (attrs[key] !== obj[key] || !(key in obj)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default isMatch;\n//# sourceMappingURL=is-match.js.map","import isFunction from './is-function';\nimport isMatch from './is-match';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nfunction find(arr, predicate) {\n    if (!isArray(arr))\n        return null;\n    var _predicate;\n    if (isFunction(predicate)) {\n        _predicate = predicate;\n    }\n    if (isPlainObject(predicate)) {\n        _predicate = function (a) { return isMatch(a, predicate); };\n    }\n    if (_predicate) {\n        for (var i = 0; i < arr.length; i += 1) {\n            if (_predicate(arr[i])) {\n                return arr[i];\n            }\n        }\n    }\n    return null;\n}\nexport default find;\n//# sourceMappingURL=find.js.map","import each from './each';\nimport isPlainObject from './is-plain-object';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport default (function (object, keys) {\n    if (object === null || !isPlainObject(object)) {\n        return {};\n    }\n    var result = {};\n    each(keys, function (key) {\n        if (hasOwnProperty.call(object, key)) {\n            result[key] = object[key];\n        }\n    });\n    return result;\n});\n//# sourceMappingURL=pick.js.map","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import {optional} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {},\n    imputed = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId,\n      path;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        currentId = id,\n        currentParentId = parentId,\n        n,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    if (path != null) {\n      const I = nodes.map((d, i) => normalize(path(d, i, data)));\n      const P = I.map(parentof);\n      const S = new Set(I).add(\"\");\n      for (const i of P) {\n        if (!S.has(i)) {\n          S.add(i);\n          I.push(i);\n          P.push(parentof(i));\n          nodes.push(imputed);\n        }\n      }\n      currentId = (_, i) => I[i];\n      currentParentId = (_, i) => P[i];\n    }\n\n    for (i = 0, n = nodes.length; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = currentId(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = currentParentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n\n    // When imputing internal nodes, only introduce roots if needed.\n    // Then replace the imputed marker data with null.\n    if (path != null) {\n      while (root.data === imputed && root.children.length === 1) {\n        root = root.children[0], --n;\n      }\n      for (let i = nodes.length - 1; i >= 0; --i) {\n        node = nodes[i];\n        if (node.data !== imputed) break;\n        node.data = null;\n      }\n    }\n\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = optional(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = optional(x), stratify) : parentId;\n  };\n\n  stratify.path = function(x) {\n    return arguments.length ? (path = optional(x), stratify) : path;\n  };\n\n  return stratify;\n}\n\n// To normalize a path, we coerce to a string, strip the trailing slash if any\n// (as long as the trailing slash is not immediately preceded by another slash),\n// and add leading slash if missing.\nfunction normalize(path) {\n  path = `${path}`;\n  let i = path.length;\n  if (slash(path, i - 1) && !slash(path, i - 2)) path = path.slice(0, -1);\n  return path[0] === \"/\" ? path : `/${path}`;\n}\n\n// Walk backwards to find the first slash that is not the leading slash, e.g.:\n// \"/foo/bar\" ⇥ \"/foo\", \"/foo\" ⇥ \"/\", \"/\" ↦ \"\". (The root is special-cased\n// because the id of the root must be a truthy value.)\nfunction parentof(path) {\n  let i = path.length;\n  if (i < 2) return \"\";\n  while (--i > 1) if (slash(path, i)) break;\n  return path.slice(0, i);\n}\n\n// Slashes can be escaped; to determine whether a slash is a path delimiter, we\n// count the number of preceding backslashes escaping the forward slash: an odd\n// number indicates an escaped forward slash.\nfunction slash(path, i) {\n  if (path[i] === \"/\") {\n    let k = 0;\n    while (i > 0 && path[--i] === \"\\\\\") ++k;\n    if ((k & 1) === 0) return true;\n  }\n  return false;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import { isArray, get } from '@antv/util';\nimport { stratify, hierarchy, treemap as treemapLayout, treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify, } from 'd3-hierarchy';\nimport { field } from '../mark/utils';\n/**\n * @description Path need when the data is a flat json structure,\n * and the tree object structure do not need.\n */\nfunction generateHierarchyRoot(data, path) {\n    if (Array.isArray(data)) {\n        return typeof path === 'function'\n            ? stratify().path(path)(data)\n            : stratify()(data);\n    }\n    return hierarchy(data);\n}\nfunction addObjectDataPath(root, path = [root.data.name]) {\n    root.id = root.id || root.data.name;\n    root.path = path;\n    if (root.children) {\n        root.children.forEach((item) => {\n            item.id = `${root.id}/${item.data.name}`;\n            item.path = [...path, item.data.name];\n            addObjectDataPath(item, item.path);\n        });\n    }\n}\nfunction addArrayDataPath(root) {\n    const name = get(root, ['data', 'name']);\n    if (name.replaceAll) {\n        root.path = name.replaceAll('.', '/').split('/');\n    }\n    if (root.children) {\n        root.children.forEach((item) => {\n            addArrayDataPath(item);\n        });\n    }\n}\nfunction getTileMethod(tile, ratio) {\n    const tiles = {\n        treemapBinary,\n        treemapDice,\n        treemapSlice,\n        treemapSliceDice,\n        treemapSquarify,\n        treemapResquarify,\n    };\n    const tileMethod = tile === 'treemapSquarify' ? tiles[tile].ratio(ratio) : tiles[tile];\n    if (!tileMethod) {\n        throw new TypeError('Invalid tile method!');\n    }\n    return tileMethod;\n}\nexport function treeDataTransform(data, layout, encode) {\n    const { value } = encode;\n    const tileMethod = getTileMethod(layout.tile, layout.ratio);\n    const root = generateHierarchyRoot(data, layout.path);\n    if (isArray(data)) {\n        addArrayDataPath(root);\n    }\n    else {\n        addObjectDataPath(root);\n    }\n    // Calculate the value and sort.\n    value\n        ? root\n            .sum((d) => layout.ignoreParentValue && d.children ? 0 : field(value)(d))\n            .sort(layout.sort)\n        : root.count();\n    treemapLayout()\n        .tile(tileMethod)\n        // @ts-ignore\n        .size(layout.size)\n        .round(layout.round)\n        .paddingInner(layout.paddingInner)\n        .paddingOuter(layout.paddingOuter)\n        .paddingTop(layout.paddingTop)\n        .paddingRight(layout.paddingRight)\n        .paddingBottom(layout.paddingBottom)\n        .paddingLeft(layout.paddingLeft)(root);\n    const nodes = root.descendants().map((d) => Object.assign(d, {\n        id: d.id.replace(/^\\//, ''),\n        x: [d.x0, d.x1],\n        y: [d.y0, d.y1],\n    }));\n    const filterData = nodes.filter(typeof layout.layer === 'function'\n        ? layout.layer\n        : (d) => d.height === layout.layer);\n    return [filterData, nodes];\n}\n//# sourceMappingURL=treeDataTransform.js.map","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Text, Group } from '@antv/g';\nimport { get, deepMix, pick, keys, find, size, last } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { PLOT_CLASS_NAME } from '../runtime';\nimport { select } from '../utils/selection';\nimport { treeDataTransform } from '../utils/treeDataTransform';\nimport { legendClearSetState } from './legendFilter';\nimport { getElements } from './utils';\nfunction selectPlotArea(root) {\n    return select(root).select(`.${PLOT_CLASS_NAME}`).node();\n}\n// Default breadCrumb config.\nconst DEFAULT_BREADCRUMB_STYLE = {\n    breadCrumbFill: 'rgba(0, 0, 0, 0.85)',\n    breadCrumbFontSize: 12,\n    breadCrumbY: 12,\n    activeFill: 'rgba(0, 0, 0, 0.5)',\n};\n/**\n * TreemapDrillDown interaction.\n */\nexport function TreemapDrillDown(drillDownOptions = {}) {\n    const { originData = [], layout } = drillDownOptions, style = __rest(drillDownOptions, [\"originData\", \"layout\"]);\n    const breadCrumb = deepMix({}, DEFAULT_BREADCRUMB_STYLE, style);\n    const breadCrumbStyle = subObject(breadCrumb, 'breadCrumb');\n    const breadCrumbActiveStyle = subObject(breadCrumb, 'active');\n    return (context) => {\n        const { update, setState, container, options } = context;\n        const plotArea = selectPlotArea(container);\n        const mark = options.marks[0];\n        const { state } = mark;\n        // Create breadCrumbTextsGroup,save textSeparator、drillTexts.\n        const textGroup = new Group();\n        plotArea.appendChild(textGroup);\n        // Modify the data and scale according to the path and the level of the current click, so as to achieve the effect of drilling down and drilling up and initialization.\n        const drillDownClick = (path, depth) => __awaiter(this, void 0, void 0, function* () {\n            // Clear text.\n            textGroup.removeChildren();\n            // More path creation text.\n            if (depth) {\n                let name = '';\n                let y = breadCrumbStyle.y;\n                let x = 0;\n                const textPath = [];\n                const maxWidth = plotArea.getBBox().width;\n                // Create path: 'type1 / type2 / type3' -> '/ type1 / type2 / type3'.\n                const drillTexts = path.map((text, index) => {\n                    name = `${name}${text}/`;\n                    textPath.push(text);\n                    const drillText = new Text({\n                        name: name.replace(/\\/$/, ''),\n                        style: Object.assign(Object.assign({ text,\n                            x, \n                            // @ts-ignore\n                            path: [...textPath], depth: index }, breadCrumbStyle), { y }),\n                    });\n                    textGroup.appendChild(drillText);\n                    x += drillText.getBBox().width;\n                    const textSeparator = new Text({\n                        style: Object.assign(Object.assign({ x, text: ' / ' }, breadCrumbStyle), { y }),\n                    });\n                    textGroup.appendChild(textSeparator);\n                    x += textSeparator.getBBox().width;\n                    /**\n                     * Page width exceeds maximum, line feed.\n                     * | ----maxWidth---- |\n                     * | / tyep1 / tyep2 / type3 |\n                     * ->\n                     * | ----maxWidth---- |\n                     * | / tyep1 / tyep2  |\n                     * | / type3 |\n                     */\n                    if (x > maxWidth) {\n                        y = textGroup.getBBox().height + breadCrumbStyle.y;\n                        x = 0;\n                        drillText.attr({\n                            x,\n                            y,\n                        });\n                        x += drillText.getBBox().width;\n                        textSeparator.attr({\n                            x,\n                            y,\n                        });\n                        x += textSeparator.getBBox().width;\n                    }\n                    if (index === size(path) - 1) {\n                        textSeparator.remove();\n                    }\n                    return drillText;\n                });\n                // Add Active, Add TreemapDrillDown\n                drillTexts.forEach((item, index) => {\n                    // Last drillText\n                    if (index === size(drillTexts) - 1)\n                        return;\n                    const originalAttrs = Object.assign({}, item.attributes);\n                    item.attr('cursor', 'pointer');\n                    item.addEventListener('mouseenter', () => {\n                        item.attr(breadCrumbActiveStyle);\n                    });\n                    item.addEventListener('mouseleave', () => {\n                        item.attr(originalAttrs);\n                    });\n                    item.addEventListener('click', () => {\n                        drillDownClick(get(item, ['style', 'path']), get(item, ['style', 'depth']));\n                    });\n                });\n            }\n            // LegendFilter interaction and treemapDrillDown clash.\n            legendClearSetState(container, setState);\n            // Update marks.\n            setState('treemapDrillDown', (viewOptions) => {\n                const { marks } = viewOptions;\n                // Add filter transform for every marks,\n                // which will skip for mark without color channel.\n                const strPath = path.join('/');\n                const newMarks = marks.map((mark) => {\n                    if (mark.type !== 'rect')\n                        return mark;\n                    let newData = originData;\n                    if (depth) {\n                        const filterData = originData\n                            .filter((item) => {\n                            const id = get(item, ['id']);\n                            return id && (id.match(`${strPath}/`) || strPath.match(id));\n                        })\n                            .map((item) => ({\n                            value: item.height === 0 ? get(item, ['value']) : undefined,\n                            name: get(item, ['id']),\n                        }));\n                        const { paddingLeft, paddingBottom, paddingRight } = layout;\n                        // New drill layout for calculation x y and filtration data.\n                        const newLayout = Object.assign(Object.assign({}, layout), { paddingTop: (layout.paddingTop || textGroup.getBBox().height + 10) /\n                                (depth + 1), paddingLeft: paddingLeft / (depth + 1), paddingBottom: paddingBottom / (depth + 1), paddingRight: paddingRight / (depth + 1), path: (d) => d.name, layer: (d) => d.depth === depth + 1 });\n                        // Transform the new matrix tree data.\n                        newData = treeDataTransform(filterData, newLayout, {\n                            value: 'value',\n                        })[0];\n                    }\n                    else {\n                        newData = originData.filter((item) => {\n                            return item.depth === 1;\n                        });\n                    }\n                    const colorDomain = [];\n                    newData.forEach(({ path }) => {\n                        colorDomain.push(last(path));\n                    });\n                    // TreemapDrillDown by filtering the data and scale.\n                    return deepMix({}, mark, {\n                        data: newData,\n                        scale: {\n                            color: { domain: colorDomain },\n                        },\n                    });\n                });\n                return Object.assign(Object.assign({}, viewOptions), { marks: newMarks });\n            });\n            // The second argument is to allow the legendFilter event to be re-added; the update method itself causes legend to lose the interaction event.\n            yield update(undefined, ['legendFilter']);\n        });\n        // Elements and BreadCrumb click.\n        const createDrillClick = (e) => {\n            const item = e.target;\n            if (get(item, ['markType']) !== 'rect')\n                return;\n            const key = get(item, ['__data__', 'key']);\n            const node = find(originData, (d) => d.id === key);\n            // Node height = 0 no children\n            if (get(node, 'height')) {\n                drillDownClick(get(node, 'path'), get(node, 'depth'));\n            }\n        };\n        // Add click drill interaction.\n        plotArea.addEventListener('click', createDrillClick);\n        // Change attributes keys.\n        const changeStyleKey = keys(Object.assign(Object.assign({}, state.active), state.inactive));\n        const createActive = () => {\n            const elements = getElements(plotArea);\n            elements.forEach((element) => {\n                const cursor = get(element, ['style', 'cursor']);\n                const node = find(originData, (d) => d.id === get(element, ['__data__', 'key']));\n                if (cursor !== 'pointer' && (node === null || node === void 0 ? void 0 : node.height)) {\n                    element.style.cursor = 'pointer';\n                    const originalAttrs = pick(element.attributes, changeStyleKey);\n                    element.addEventListener('mouseenter', () => {\n                        element.attr(state.active);\n                    });\n                    element.addEventListener('mouseleave', () => {\n                        element.attr(deepMix(originalAttrs, state.inactive));\n                    });\n                }\n            });\n        };\n        createActive();\n        // Animate elements update, Add active.\n        plotArea.addEventListener('mousemove', createActive);\n        return () => {\n            textGroup.remove();\n            plotArea.removeEventListener('click', createDrillClick);\n            plotArea.removeEventListener('mousemove', createActive);\n        };\n    };\n}\n//# sourceMappingURL=treemapDrillDown.js.map","var isUndefined = function (value) {\n    return value === undefined;\n};\nexport default isUndefined;\n//# sourceMappingURL=is-undefined.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Text, Group, Circle, Path } from '@antv/g';\nimport { deepMix, isUndefined, find, get } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { selectPlotArea, getPointsR, getPointsPath, getElements, getThetaPath, } from './utils';\nconst DEFAULT_STYLE = {\n    pointR: 6,\n    pointStrokeWidth: 1,\n    pointStroke: '#888',\n    pointActiveStroke: '#f5f5f5',\n    pathStroke: '#888',\n    pathLineDash: [3, 4],\n    labelFontSize: 12,\n    labelFill: '#888',\n    labelStroke: '#fff',\n    labelLineWidth: 1,\n    labelY: -6,\n    labelX: 2,\n};\n// point shape name.\nconst MOVE_POINT_NAME = 'movePoint';\n// Element mouseenter change style.\nconst elementMouseenter = (e) => {\n    const element = e.target;\n    const { markType } = element;\n    // Mark line.\n    if (markType === 'line') {\n        element.attr('_lineWidth', element.attr('lineWidth') || 1);\n        element.attr('lineWidth', element.attr('_lineWidth') + 3);\n    }\n    // Mark interval.\n    if (markType === 'interval') {\n        element.attr('_opacity', element.attr('opacity') || 1);\n        element.attr('opacity', 0.7 * element.attr('_opacity'));\n    }\n};\n// Element mouseleave change style.\nconst elementMouseleave = (e) => {\n    const element = e.target;\n    const { markType } = element;\n    // Mark line.\n    if (markType === 'line') {\n        element.attr('lineWidth', element.attr('_lineWidth'));\n    }\n    // Mark interval.\n    if (markType === 'interval') {\n        element.attr('opacity', element.attr('_opacity'));\n    }\n};\n// Get the latest overall data based on the individual data changes.\nconst getNewData = (newChangeData, data, encode) => {\n    return data.map((d) => {\n        const isUpdate = ['x', 'color'].reduce((v, key) => {\n            const field = encode[key];\n            if (!field)\n                return v;\n            if (d[field] !== newChangeData[field])\n                return false;\n            return v;\n        }, true);\n        return isUpdate ? Object.assign(Object.assign({}, d), newChangeData) : d;\n    });\n};\n// Find mark interval origin element data.\nconst getIntervalDataRatioTransformFn = (element) => {\n    const y = get(element, ['__data__', 'y']);\n    const y1 = get(element, ['__data__', 'y1']);\n    const v = y1 - y;\n    const { __data__: { data, encode, transform }, childNodes, } = element.parentNode;\n    const isNormalizeY = find(transform, ({ type }) => type === 'normalizeY');\n    const yField = get(encode, ['y', 'field']);\n    const value = data[childNodes.indexOf(element)][yField];\n    return (newValue, isTheta = false) => {\n        if (isNormalizeY || isTheta) {\n            return (newValue / (1 - newValue) / (v / (1 - v))) * value;\n        }\n        return newValue;\n    };\n};\n// Find origin path data.\nconst getPathDataRatioTransformFn = (element, index) => {\n    const v = get(element, ['__data__', 'seriesItems', index, '0', 'value']);\n    const i = get(element, ['__data__', 'seriesIndex', index]);\n    const { __data__: { data, encode, transform }, } = element.parentNode;\n    const isNormalizeY = find(transform, ({ type }) => type === 'normalizeY');\n    const yField = get(encode, ['y', 'field']);\n    const value = data[i][yField];\n    return (newValue) => {\n        if (isNormalizeY) {\n            if (v === 1) {\n                return newValue;\n            }\n            return (newValue / (1 - newValue) / (v / (1 - v))) * value;\n        }\n        return newValue;\n    };\n};\n// Point shape select change style.\nconst selectedPointsStyle = (pointsShape, selection, defaultStyle) => {\n    pointsShape.forEach((shape, index) => {\n        shape.attr('stroke', selection[1] === index\n            ? defaultStyle['activeStroke']\n            : defaultStyle['stroke']);\n    });\n};\n// Create help show message shape.\nconst createHelpShape = (group, circle, pathStyle, labelStyle) => {\n    const pathShape = new Path({\n        style: pathStyle,\n    });\n    const labelShape = new Text({\n        style: labelStyle,\n    });\n    circle.appendChild(labelShape);\n    group.appendChild(pathShape);\n    return [pathShape, labelShape];\n};\n// Get color scale type.\nconst getColorType = (scaleColor, color) => {\n    const indexOf = get(scaleColor, ['options', 'range', 'indexOf']);\n    if (!indexOf)\n        return;\n    const i = scaleColor.options.range.indexOf(color);\n    return scaleColor.sortedDomain[i];\n};\n// Get the same direction new point.\nconst getSamePointPosition = (center, point, target) => {\n    const oldR = getPointsR(center, point);\n    const newR = getPointsR(center, target);\n    const ratio = newR / oldR;\n    const newX = center[0] + (point[0] - center[0]) * ratio;\n    const newY = center[1] + (point[1] - center[1]) * ratio;\n    return [newX, newY];\n};\n/**\n * ElementPointMove interaction.\n */\nexport function ElementPointMove(elementPointMoveOptions = {}) {\n    const { selection = [], precision = 2 } = elementPointMoveOptions, style = __rest(elementPointMoveOptions, [\"selection\", \"precision\"]);\n    const defaultStyle = Object.assign(Object.assign({}, DEFAULT_STYLE), (style || {}));\n    // Shape default style.\n    const pathDefaultStyle = subObject(defaultStyle, 'path');\n    const labelDefaultStyle = subObject(defaultStyle, 'label');\n    const pointDefaultStyle = subObject(defaultStyle, 'point');\n    return (context, _, emitter) => {\n        const { update, setState, container, view, options: { marks, coordinate: coordinateOptions }, } = context;\n        const plotArea = selectPlotArea(container);\n        let elements = getElements(plotArea);\n        let newState;\n        let newSelection = selection;\n        const { transform = [], type: coordinateType } = coordinateOptions;\n        const isTranspose = !!find(transform, ({ type }) => type === 'transpose');\n        const isPolar = coordinateType === 'polar';\n        const isTheta = coordinateType === 'theta';\n        const isArea = !!find(elements, ({ markType }) => markType === 'area');\n        if (isArea) {\n            elements = elements.filter(({ markType }) => markType === 'area');\n        }\n        // Create points\n        const pointsGroup = new Group({\n            style: {\n                // Tooltip point need down.\n                zIndex: 2,\n            },\n        });\n        plotArea.appendChild(pointsGroup);\n        const selectedChange = () => {\n            emitter.emit('element-point:select', {\n                nativeEvent: true,\n                data: {\n                    selection: newSelection,\n                },\n            });\n        };\n        const dataChange = (changeData, data) => {\n            emitter.emit('element-point:moved', {\n                nativeEvent: true,\n                data: {\n                    changeData,\n                    data,\n                },\n            });\n        };\n        // Element click change style.\n        const elementClick = (e) => {\n            const element = e.target;\n            newSelection = [element.parentNode.childNodes.indexOf(element)];\n            selectedChange();\n            createPoints(element);\n        };\n        const elementSelect = (d) => {\n            const { data: { selection }, nativeEvent, } = d;\n            if (nativeEvent)\n                return;\n            newSelection = selection;\n            const element = get(elements, [newSelection === null || newSelection === void 0 ? void 0 : newSelection[0]]);\n            if (element) {\n                createPoints(element);\n            }\n        };\n        // Create select element points.\n        const createPoints = (element) => {\n            const { attributes, markType, __data__: data } = element;\n            const { stroke: fill } = attributes;\n            const { points, seriesTitle, color, title, seriesX, y1 } = data;\n            // Transpose Currently only do mark interval;\n            if (isTranspose && markType !== 'interval')\n                return;\n            const { scale, coordinate } = (newState === null || newState === void 0 ? void 0 : newState.view) || view;\n            const { color: scaleColor, y: scaleY, x: scaleX } = scale;\n            const center = coordinate.getCenter();\n            pointsGroup.removeChildren();\n            let downPoint;\n            const updateView = (x, y, color, markTypes) => __awaiter(this, void 0, void 0, function* () {\n                setState('elementPointMove', (viewOptions) => {\n                    var _a;\n                    // Update marks.\n                    const newMarks = (((_a = newState === null || newState === void 0 ? void 0 : newState.options) === null || _a === void 0 ? void 0 : _a.marks) || marks).map((mark) => {\n                        if (!markTypes.includes(mark.type))\n                            return mark;\n                        const { data, encode } = mark;\n                        const encodeKeys = Object.keys(encode);\n                        // Get change new one element data.\n                        const newChangeData = encodeKeys.reduce((value, key) => {\n                            const dataKey = encode[key];\n                            if (key === 'x') {\n                                value[dataKey] = x;\n                            }\n                            if (key === 'y') {\n                                value[dataKey] = y;\n                            }\n                            if (key === 'color') {\n                                value[dataKey] = color;\n                            }\n                            return value;\n                        }, {});\n                        // Get change new all data.\n                        const newData = getNewData(newChangeData, data, encode);\n                        dataChange(newChangeData, newData);\n                        return deepMix({}, mark, {\n                            data: newData,\n                            // No need animate\n                            animate: false,\n                        });\n                    });\n                    return Object.assign(Object.assign({}, viewOptions), { marks: newMarks });\n                });\n                return yield update('elementPointMove');\n            });\n            if (['line', 'area'].includes(markType)) {\n                points.forEach((p, index) => {\n                    const title = scaleX.invert(seriesX[index]);\n                    // Area points have bottom point.\n                    if (!title)\n                        return;\n                    const circle = new Circle({\n                        name: MOVE_POINT_NAME,\n                        style: Object.assign({ cx: p[0], cy: p[1], fill }, pointDefaultStyle),\n                    });\n                    const ratioTransform = getPathDataRatioTransformFn(element, index);\n                    circle.addEventListener('mousedown', (e) => {\n                        const oldPoint = coordinate.output([seriesX[index], 0]);\n                        const pathLength = seriesTitle === null || seriesTitle === void 0 ? void 0 : seriesTitle.length;\n                        container.attr('cursor', 'move');\n                        if (newSelection[1] !== index) {\n                            newSelection[1] = index;\n                            selectedChange();\n                        }\n                        selectedPointsStyle(pointsGroup.childNodes, newSelection, pointDefaultStyle);\n                        const [pathShape, labelShape] = createHelpShape(pointsGroup, circle, pathDefaultStyle, labelDefaultStyle);\n                        // Point move change text\n                        const pointMousemove = (e) => {\n                            const newCy = p[1] + e.clientY - downPoint[1];\n                            // Area/Radar chart.\n                            if (isArea) {\n                                // Radar chart.\n                                if (isPolar) {\n                                    const newCx = p[0] + e.clientX - downPoint[0];\n                                    const [newX, newY] = getSamePointPosition(center, oldPoint, [\n                                        newCx,\n                                        newCy,\n                                    ]);\n                                    const [, initY] = coordinate.output([1, scaleY.output(0)]);\n                                    const [, y] = coordinate.invert([\n                                        newX,\n                                        initY - (points[index + pathLength][1] - newY),\n                                    ]);\n                                    const nextIndex = (index + 1) % pathLength;\n                                    const lastIndex = (index - 1 + pathLength) % pathLength;\n                                    const newPath = getPointsPath([\n                                        points[lastIndex],\n                                        [newX, newY],\n                                        seriesTitle[nextIndex] && points[nextIndex],\n                                    ]);\n                                    labelShape.attr('text', ratioTransform(scaleY.invert(y)).toFixed(precision));\n                                    pathShape.attr('d', newPath);\n                                    circle.attr('cx', newX);\n                                    circle.attr('cy', newY);\n                                }\n                                else {\n                                    // Area chart.\n                                    const [, initY] = coordinate.output([1, scaleY.output(0)]);\n                                    const [, y] = coordinate.invert([\n                                        p[0],\n                                        initY - (points[index + pathLength][1] - newCy),\n                                    ]);\n                                    const newPath = getPointsPath([\n                                        points[index - 1],\n                                        [p[0], newCy],\n                                        seriesTitle[index + 1] && points[index + 1],\n                                    ]);\n                                    labelShape.attr('text', ratioTransform(scaleY.invert(y)).toFixed(precision));\n                                    pathShape.attr('d', newPath);\n                                    circle.attr('cy', newCy);\n                                }\n                            }\n                            else {\n                                // Line chart.\n                                const [, y] = coordinate.invert([p[0], newCy]);\n                                const newPath = getPointsPath([\n                                    points[index - 1],\n                                    [p[0], newCy],\n                                    points[index + 1],\n                                ]);\n                                labelShape.attr('text', scaleY.invert(y).toFixed(precision));\n                                pathShape.attr('d', newPath);\n                                circle.attr('cy', newCy);\n                            }\n                        };\n                        downPoint = [e.clientX, e.clientY];\n                        window.addEventListener('mousemove', pointMousemove);\n                        const mouseupFn = () => __awaiter(this, void 0, void 0, function* () {\n                            container.attr('cursor', 'default');\n                            window.removeEventListener('mousemove', pointMousemove);\n                            container.removeEventListener('mouseup', mouseupFn);\n                            if (isUndefined(labelShape.attr('text')))\n                                return;\n                            const y = Number(labelShape.attr('text'));\n                            const colorType = getColorType(scaleColor, color);\n                            newState = yield updateView(title, y, colorType, [\n                                'line',\n                                'area',\n                            ]);\n                            labelShape.remove();\n                            pathShape.remove();\n                            createPoints(element);\n                        });\n                        container.addEventListener('mouseup', mouseupFn);\n                    });\n                    pointsGroup.appendChild(circle);\n                });\n                selectedPointsStyle(pointsGroup.childNodes, newSelection, pointDefaultStyle);\n            }\n            else if (markType === 'interval') {\n                // Column chart point.\n                let circlePoint = [(points[0][0] + points[1][0]) / 2, points[0][1]];\n                // Bar chart point.\n                if (isTranspose) {\n                    circlePoint = [points[0][0], (points[0][1] + points[1][1]) / 2];\n                }\n                else if (isTheta) {\n                    // Pie chart point.\n                    circlePoint = points[0];\n                }\n                const ratioTransform = getIntervalDataRatioTransformFn(element);\n                const circle = new Circle({\n                    name: MOVE_POINT_NAME,\n                    style: Object.assign(Object.assign({ cx: circlePoint[0], cy: circlePoint[1], fill }, pointDefaultStyle), { stroke: pointDefaultStyle['activeStroke'] }),\n                });\n                circle.addEventListener('mousedown', (e) => {\n                    container.attr('cursor', 'move');\n                    const colorType = getColorType(scaleColor, color);\n                    const [pathShape, labelShape] = createHelpShape(pointsGroup, circle, pathDefaultStyle, labelDefaultStyle);\n                    // Point move change text\n                    const pointMousemove = (e) => {\n                        if (isTranspose) {\n                            // Bar chart.\n                            const newCx = circlePoint[0] + e.clientX - downPoint[0];\n                            const [initX] = coordinate.output([\n                                scaleY.output(0),\n                                scaleY.output(0),\n                            ]);\n                            const [, x] = coordinate.invert([\n                                initX + (newCx - points[2][0]),\n                                circlePoint[1],\n                            ]);\n                            const newPath = getPointsPath([\n                                [newCx, points[0][1]],\n                                [newCx, points[1][1]],\n                                points[2],\n                                points[3],\n                            ], true);\n                            labelShape.attr('text', ratioTransform(scaleY.invert(x)).toFixed(precision));\n                            pathShape.attr('d', newPath);\n                            circle.attr('cx', newCx);\n                        }\n                        else if (isTheta) {\n                            // Pie chart.\n                            const newCy = circlePoint[1] + e.clientY - downPoint[1];\n                            const newCx = circlePoint[0] + e.clientX - downPoint[0];\n                            const [newXOut, newYOut] = getSamePointPosition(center, [newCx, newCy], circlePoint);\n                            const [newXIn, newYIn] = getSamePointPosition(center, [newCx, newCy], points[1]);\n                            const lastPercent = coordinate.invert([newXOut, newYOut])[1];\n                            const percent = y1 - lastPercent;\n                            if (percent < 0)\n                                return;\n                            const newPath = getThetaPath(center, [[newXOut, newYOut], [newXIn, newYIn], points[2], points[3]], percent > 0.5 ? 1 : 0);\n                            labelShape.attr('text', ratioTransform(percent, true).toFixed(precision));\n                            pathShape.attr('d', newPath);\n                            circle.attr('cx', newXOut);\n                            circle.attr('cy', newYOut);\n                        }\n                        else {\n                            // Column chart.\n                            const newCy = circlePoint[1] + e.clientY - downPoint[1];\n                            const [, initY] = coordinate.output([1, scaleY.output(0)]);\n                            const [, y] = coordinate.invert([\n                                circlePoint[0],\n                                initY - (points[2][1] - newCy),\n                            ]);\n                            const newPath = getPointsPath([\n                                [points[0][0], newCy],\n                                [points[1][0], newCy],\n                                points[2],\n                                points[3],\n                            ], true);\n                            labelShape.attr('text', ratioTransform(scaleY.invert(y)).toFixed(precision));\n                            pathShape.attr('d', newPath);\n                            circle.attr('cy', newCy);\n                        }\n                    };\n                    downPoint = [e.clientX, e.clientY];\n                    window.addEventListener('mousemove', pointMousemove);\n                    // Change mosueup change data and update 、clear shape.\n                    const mouseupFn = () => __awaiter(this, void 0, void 0, function* () {\n                        container.attr('cursor', 'default');\n                        container.removeEventListener('mouseup', mouseupFn);\n                        window.removeEventListener('mousemove', pointMousemove);\n                        if (isUndefined(labelShape.attr('text')))\n                            return;\n                        const y = Number(labelShape.attr('text'));\n                        newState = yield updateView(title, y, colorType, [markType]);\n                        labelShape.remove();\n                        pathShape.remove();\n                        createPoints(element);\n                    });\n                    container.addEventListener('mouseup', mouseupFn);\n                });\n                pointsGroup.appendChild(circle);\n            }\n        };\n        // Add EventListener.\n        elements.forEach((element, index) => {\n            if (newSelection[0] === index) {\n                createPoints(element);\n            }\n            element.addEventListener('click', elementClick);\n            element.addEventListener('mouseenter', elementMouseenter);\n            element.addEventListener('mouseleave', elementMouseleave);\n        });\n        const rootClick = (e) => {\n            const element = e === null || e === void 0 ? void 0 : e.target;\n            if (!element ||\n                (element.name !== MOVE_POINT_NAME && !elements.includes(element))) {\n                newSelection = [];\n                selectedChange();\n                pointsGroup.removeChildren();\n            }\n        };\n        emitter.on('element-point:select', elementSelect);\n        emitter.on('element-point:unselect', rootClick);\n        container.addEventListener('mousedown', rootClick);\n        // Remove EventListener.\n        return () => {\n            pointsGroup.remove();\n            emitter.off('element-point:select', elementSelect);\n            emitter.off('element-point:unselect', rootClick);\n            container.removeEventListener('mousedown', rootClick);\n            elements.forEach((element) => {\n                element.removeEventListener('click', elementClick);\n                element.removeEventListener('mouseenter', elementMouseenter);\n                element.removeEventListener('mouseleave', elementMouseleave);\n            });\n        };\n    };\n}\n//# sourceMappingURL=elementPointMove.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\n/**\n * Adaptor return default options for raw options.\n */\nexport function useDefaultAdaptor(adaptor) {\n    return (options, ...rest) => deepMix({}, adaptor(options, ...rest), options);\n}\n/**\n * Adaptor return options override raw options.\n */\nexport function useOverrideAdaptor(adaptor) {\n    return (options, ...rest) => deepMix({}, options, adaptor(options, ...rest));\n}\nexport function isObject(d) {\n    if (d instanceof Date)\n        return false;\n    return typeof d === 'object';\n}\nexport function mergeData(dataDescriptor, dataValue) {\n    if (!dataDescriptor)\n        return dataValue;\n    if (Array.isArray(dataDescriptor))\n        return dataDescriptor;\n    if (isObject(dataDescriptor)) {\n        const { value = dataValue } = dataDescriptor, rest = __rest(dataDescriptor, [\"value\"]);\n        return Object.assign(Object.assign({}, rest), { value });\n    }\n    return dataDescriptor;\n}\n//# sourceMappingURL=utils.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { mergeData } from './utils';\n/**\n * @todo Propagate more options to children.\n */\nexport const SpaceLayer = () => {\n    return (options) => {\n        const { children } = options;\n        if (!Array.isArray(children))\n            return [];\n        const { x: viewX = 0, y: viewY = 0, width: viewWidth, height: viewHeight, data: layerData, } = options;\n        return children.map((_a) => {\n            var { data, x, y, width, height } = _a, rest = __rest(_a, [\"data\", \"x\", \"y\", \"width\", \"height\"]);\n            return (Object.assign(Object.assign({}, rest), { data: mergeData(data, layerData), x: x !== null && x !== void 0 ? x : viewX, y: y !== null && y !== void 0 ? y : viewY, width: width !== null && width !== void 0 ? width : viewWidth, height: height !== null && height !== void 0 ? height : viewHeight }));\n        });\n    };\n};\nSpaceLayer.props = {};\n//# sourceMappingURL=spaceLayer.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { mergeData } from './utils';\n/**\n * @todo Propagate more options to children.\n */\nexport const SpaceFlex = () => {\n    return (options) => {\n        const { children } = options;\n        if (!Array.isArray(children))\n            return [];\n        const { direction = 'row', ratio = children.map(() => 1), padding = 0, data: flexData, } = options;\n        const [mainStart, mainSize, crossSize, crossStart] = direction === 'col'\n            ? ['y', 'height', 'width', 'x']\n            : ['x', 'width', 'height', 'y'];\n        const sum = ratio.reduce((total, value) => total + value);\n        const totalSize = options[mainSize] - padding * (children.length - 1);\n        const sizes = ratio.map((value) => totalSize * (value / sum));\n        const newChildren = [];\n        let next = options[mainStart] || 0;\n        for (let i = 0; i < sizes.length; i += 1) {\n            const _a = children[i], { data } = _a, rest = __rest(_a, [\"data\"]);\n            const newData = mergeData(data, flexData);\n            newChildren.push(Object.assign({ [mainStart]: next, [mainSize]: sizes[i], [crossStart]: options[crossStart] || 0, [crossSize]: options[crossSize], data: newData }, rest));\n            next += sizes[i] + padding;\n        }\n        return newChildren;\n    };\n};\nSpaceFlex.props = {};\n//# sourceMappingURL=spaceFlex.js.map","class Container {\n    constructor(x) {\n        this.$value = x;\n    }\n    static of(x) {\n        return new Container(x);\n    }\n    call(f, ...rest) {\n        return (this.$value = f(this.$value, ...rest)), this;\n    }\n    value() {\n        return this.$value;\n    }\n}\nexport { Container };\n//# sourceMappingURL=container.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { extent, group, max } from 'd3-array';\nimport { calcBBox } from '../utils/vector';\nimport { Container } from '../utils/container';\nimport { indexOf } from '../utils/array';\nimport { useDefaultAdaptor, useOverrideAdaptor } from './utils';\nconst setScale = useDefaultAdaptor((options) => {\n    const { encode, data, scale, shareSize = false } = options;\n    const { x, y } = encode;\n    const flexDomain = (encode, channel) => {\n        var _a;\n        if (encode === undefined || !shareSize)\n            return {};\n        const groups = group(data, (d) => d[encode]);\n        const domain = ((_a = scale === null || scale === void 0 ? void 0 : scale[channel]) === null || _a === void 0 ? void 0 : _a.domain) || Array.from(groups.keys());\n        const flex = domain.map((key) => {\n            if (!groups.has(key))\n                return 1;\n            return groups.get(key).length;\n        });\n        return { domain, flex };\n    };\n    return {\n        scale: {\n            x: Object.assign(Object.assign({ paddingOuter: 0, paddingInner: 0.1, guide: x === undefined ? null : { position: 'top' } }, (x === undefined && { paddingInner: 0 })), flexDomain(x, 'x')),\n            y: Object.assign(Object.assign({ range: [0, 1], paddingOuter: 0, paddingInner: 0.1, guide: y === undefined ? null : { position: 'right' } }, (y === undefined && { paddingInner: 0 })), flexDomain(y, 'y')),\n        },\n    };\n});\n/**\n * BFS view tree and using the last discovered color encode\n * as the top-level encode for this plot. This is useful when\n * color encode and color scale is specified in mark node.\n * It makes sense because the whole facet should shared the same\n * color encoding, but it also can be override with explicity\n * encode and scale specification.\n */\nexport const inferColor = useOverrideAdaptor((options) => {\n    const { data, scale, legend } = options;\n    const discovered = [options];\n    let encodeColor;\n    let scaleColor;\n    let legendColor;\n    while (discovered.length) {\n        const node = discovered.shift();\n        const { children, encode = {}, scale = {}, legend = {} } = node;\n        const { color: c } = encode;\n        const { color: cs } = scale;\n        const { color: cl } = legend;\n        if (c !== undefined)\n            encodeColor = c;\n        if (cs !== undefined)\n            scaleColor = cs;\n        if (cl !== undefined)\n            legendColor = cl;\n        if (Array.isArray(children)) {\n            discovered.push(...children);\n        }\n    }\n    const domainColor = () => {\n        var _a;\n        const domain = (_a = scale === null || scale === void 0 ? void 0 : scale.color) === null || _a === void 0 ? void 0 : _a.domain;\n        if (domain !== undefined)\n            return [domain];\n        if (encodeColor === undefined)\n            return [undefined];\n        const color = typeof encodeColor === 'function' ? encodeColor : (d) => d[encodeColor];\n        const values = data.map(color);\n        if (values.some((d) => typeof d === 'number'))\n            return [extent(values)];\n        return [Array.from(new Set(values)), 'ordinal'];\n    };\n    const title = typeof encodeColor === 'string' ? encodeColor : '';\n    const [domain, type] = domainColor();\n    return Object.assign({ encode: { color: { type: 'column', value: domain !== null && domain !== void 0 ? domain : [] } }, scale: { color: deepMix({}, scaleColor, { domain, type }) } }, (legend === undefined && {\n        legend: { color: deepMix({ title }, legendColor) },\n    }));\n});\nexport const setAnimation = useDefaultAdaptor(() => ({\n    animate: {\n        enterType: 'fadeIn',\n    },\n}));\nexport const setStyle = useOverrideAdaptor(() => ({\n    frame: false,\n    encode: {\n        shape: 'hollow',\n    },\n    style: {\n        lineWidth: 0,\n    },\n}));\nexport const toCell = useOverrideAdaptor(() => ({\n    type: 'cell',\n}));\n/**\n * Do not set cell data directly, the children will get wrong do if do\n * so. Use transform to set new data.\n **/\nexport const setData = useOverrideAdaptor((options) => {\n    const { data } = options;\n    const connector = {\n        type: 'custom',\n        callback: () => {\n            const { data, encode } = options;\n            const { x, y } = encode;\n            const X = x ? Array.from(new Set(data.map((d) => d[x]))) : [];\n            const Y = y ? Array.from(new Set(data.map((d) => d[y]))) : [];\n            const cellData = () => {\n                if (X.length && Y.length) {\n                    const cellData = [];\n                    for (const vx of X) {\n                        for (const vy of Y) {\n                            cellData.push({ [x]: vx, [y]: vy });\n                        }\n                    }\n                    return cellData;\n                }\n                if (X.length)\n                    return X.map((d) => ({ [x]: d }));\n                if (Y.length)\n                    return Y.map((d) => ({ [y]: d }));\n            };\n            return cellData();\n        },\n    };\n    return {\n        data: { type: 'inline', value: data, transform: [connector] },\n    };\n});\n/**\n * @todo Move some options assignment to runtime.\n */\nexport const setChildren = useOverrideAdaptor((options, subLayout = subLayoutRect, createGuideX = createGuideXRect, createGuideY = createGuideYRect, childOptions = {}) => {\n    const { data: dataValue, encode, children, scale: facetScale, x: originX = 0, y: originY = 0, shareData = false, key: viewKey, } = options;\n    const { value: data } = dataValue;\n    // Only support field encode now.\n    const { x: encodeX, y: encodeY } = encode;\n    const { color: facetScaleColor } = facetScale;\n    const { domain: facetDomainColor } = facetScaleColor;\n    const createChildren = (visualData, scale, layout) => {\n        const { x: scaleX, y: scaleY } = scale;\n        const { paddingLeft, paddingTop, marginLeft, marginTop } = layout;\n        const { domain: domainX } = scaleX.getOptions();\n        const { domain: domainY } = scaleY.getOptions();\n        const index = indexOf(visualData);\n        const bboxs = visualData.map(subLayout);\n        const values = visualData.map(({ x, y }) => [\n            scaleX.invert(x),\n            scaleY.invert(y),\n        ]);\n        const filters = values.map(([fx, fy]) => (d) => {\n            const { [encodeX]: x, [encodeY]: y } = d;\n            const inX = encodeX !== undefined ? x === fx : true;\n            const inY = encodeY !== undefined ? y === fy : true;\n            return inX && inY;\n        });\n        const facetData2d = filters.map((f) => data.filter(f));\n        const maxDataDomain = shareData\n            ? max(facetData2d, (data) => data.length)\n            : undefined;\n        const facets = values.map(([fx, fy]) => ({\n            columnField: encodeX,\n            columnIndex: domainX.indexOf(fx),\n            columnValue: fx,\n            columnValuesLength: domainX.length,\n            rowField: encodeY,\n            rowIndex: domainY.indexOf(fy),\n            rowValue: fy,\n            rowValuesLength: domainY.length,\n        }));\n        const normalizedChildren = facets.map((facet) => {\n            if (Array.isArray(children))\n                return children;\n            return [children(facet)].flat(1);\n        });\n        return index.flatMap((i) => {\n            const [left, top, width, height] = bboxs[i];\n            const facet = facets[i];\n            const facetData = facetData2d[i];\n            const children = normalizedChildren[i];\n            return children.map((_a) => {\n                var _b, _c;\n                var { scale, key, facet: isFacet = true, axis = {}, legend = {} } = _a, rest = __rest(_a, [\"scale\", \"key\", \"facet\", \"axis\", \"legend\"]);\n                const guideY = ((_b = scale === null || scale === void 0 ? void 0 : scale.y) === null || _b === void 0 ? void 0 : _b.guide) || axis.y;\n                const guideX = ((_c = scale === null || scale === void 0 ? void 0 : scale.x) === null || _c === void 0 ? void 0 : _c.guide) || axis.x;\n                const defaultScale = {\n                    x: { tickCount: encodeX ? 5 : undefined },\n                    y: { tickCount: encodeY ? 5 : undefined },\n                };\n                const newData = isFacet\n                    ? facetData\n                    : facetData.length === 0\n                        ? []\n                        : data;\n                const newScale = {\n                    color: { domain: facetDomainColor },\n                };\n                const newAxis = {\n                    x: createGuide(guideX, createGuideX)(facet, newData),\n                    y: createGuide(guideY, createGuideY)(facet, newData),\n                };\n                return Object.assign(Object.assign({ key: `${key}-${i}`, data: newData, margin: 0, x: left + paddingLeft + originX + marginLeft, y: top + paddingTop + originY + marginTop, parentKey: viewKey, width,\n                    height, paddingLeft: 0, paddingRight: 0, paddingTop: 0, paddingBottom: 0, frame: newData.length ? true : false, dataDomain: maxDataDomain, scale: deepMix(defaultScale, scale, newScale), axis: deepMix({}, axis, newAxis), \n                    // Hide all legends for child mark by default,\n                    // they are displayed in the top-level.\n                    legend: false }, rest), childOptions);\n            });\n        });\n    };\n    return {\n        children: createChildren,\n    };\n});\nfunction subLayoutRect(data) {\n    const { points } = data;\n    return calcBBox(points);\n}\n/**\n * Inner guide not show title, tickLine, label and subTickLine,\n * if data is empty, do not show guide.\n */\nexport function createInnerGuide(guide, data) {\n    return data.length\n        ? deepMix({\n            title: false,\n            tick: null,\n            label: null,\n        }, guide)\n        : deepMix({\n            title: false,\n            tick: null,\n            label: null,\n            grid: null,\n        }, guide);\n}\nfunction createGuideXRect(guide) {\n    return (facet, data) => {\n        const { rowIndex, rowValuesLength, columnIndex, columnValuesLength } = facet;\n        // Only the bottom-most facet show axisX.\n        if (rowIndex !== rowValuesLength - 1)\n            return createInnerGuide(guide, data);\n        // Only the bottom-left facet show title.\n        const title = columnIndex !== columnValuesLength - 1 ? false : undefined;\n        // If data is empty, do not show cell.\n        const grid = data.length ? undefined : null;\n        return deepMix({ title, grid }, guide);\n    };\n}\nfunction createGuideYRect(guide) {\n    return (facet, data) => {\n        const { rowIndex, columnIndex } = facet;\n        // Only the left-most facet show axisY.\n        if (columnIndex !== 0)\n            return createInnerGuide(guide, data);\n        // Only the left-top facet show title.\n        const title = rowIndex !== 0 ? false : undefined;\n        // If data is empty, do not show cell.\n        const grid = data.length ? undefined : null;\n        return deepMix({ title, grid }, guide);\n    };\n}\nfunction createGuide(guide, factory) {\n    if (typeof guide === 'function')\n        return guide;\n    if (guide === null || guide === false)\n        return () => null;\n    return factory(guide);\n}\nexport const FacetRect = () => {\n    return (options) => {\n        const newOptions = Container.of(options)\n            .call(toCell)\n            .call(inferColor)\n            .call(setAnimation)\n            .call(setScale)\n            .call(setStyle)\n            .call(setData)\n            .call(setChildren)\n            .value();\n        return [newOptions];\n    };\n};\nFacetRect.props = {};\n//# sourceMappingURL=facetRect.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { Container } from '../utils/container';\nimport { calcBBox } from '../utils/vector';\nimport { indexOf } from '../utils/array';\nimport { createInnerGuide, inferColor, setAnimation, setStyle, toCell, } from './facetRect';\nimport { useDefaultAdaptor, useOverrideAdaptor } from './utils';\nconst setScale = useDefaultAdaptor((options) => {\n    return {\n        scale: {\n            x: { guide: null, paddingOuter: 0, paddingInner: 0.1 },\n            y: { guide: null, range: [0, 1], paddingOuter: 0, paddingInner: 0.1 },\n        },\n    };\n});\nconst setChildren = useOverrideAdaptor((options) => {\n    const { data, children, x: originX = 0, y: originY = 0, key: viewKey, } = options;\n    const createChildren = (visualData, scale, layout) => {\n        const { x: scaleX, y: scaleY } = scale;\n        const { paddingLeft, paddingTop, marginLeft, marginTop } = layout;\n        const { domain: domainX } = scaleX.getOptions();\n        const { domain: domainY } = scaleY.getOptions();\n        const index = indexOf(visualData);\n        const bboxs = visualData.map(({ points }) => calcBBox(points));\n        const values = visualData.map(({ x, y }) => [\n            scaleX.invert(x),\n            scaleY.invert(y),\n        ]);\n        const facets = values.map(([fx, fy]) => ({\n            columnField: fx,\n            columnIndex: domainX.indexOf(fx),\n            columnValue: fx,\n            columnValuesLength: domainX.length,\n            rowField: fy,\n            rowIndex: domainY.indexOf(fy),\n            rowValue: fy,\n            rowValuesLength: domainY.length,\n        }));\n        const normalizedChildren = facets.map((facet) => {\n            if (Array.isArray(children))\n                return children;\n            return [children(facet)].flat(1);\n        });\n        return index.flatMap((i) => {\n            const [left, top, width, height] = bboxs[i];\n            const [fx, fy] = values[i];\n            const facet = facets[i];\n            const children = normalizedChildren[i];\n            return children.map((d) => {\n                var _a, _b;\n                const { scale, key, encode, axis, interaction } = d, rest = __rest(d, [\"scale\", \"key\", \"encode\", \"axis\", \"interaction\"]);\n                const guideY = (_a = scale === null || scale === void 0 ? void 0 : scale.y) === null || _a === void 0 ? void 0 : _a.guide;\n                const guideX = (_b = scale === null || scale === void 0 ? void 0 : scale.x) === null || _b === void 0 ? void 0 : _b.guide;\n                const defaultScale = {\n                    // Do not sync position scales among facets by default.\n                    x: { facet: false },\n                    // Do not sync position scales among facets by default.\n                    y: { facet: false },\n                };\n                const newAxis = {\n                    x: createGuideX(guideX)(facet, data),\n                    y: createGuideY(guideY)(facet, data),\n                };\n                const defaultAxis = {\n                    x: { tickCount: 5 },\n                    y: { tickCount: 5 },\n                };\n                return Object.assign({ data, parentKey: viewKey, key: `${key}-${i}`, x: left + paddingLeft + originX + marginLeft, y: top + paddingTop + originY + marginTop, width,\n                    height, margin: 0, paddingLeft: 0, paddingRight: 0, paddingTop: 0, paddingBottom: 0, frame: true, scale: deepMix(defaultScale, scale), axis: deepMix(defaultAxis, axis, newAxis), \n                    // Hide all legends for child mark by default,\n                    // they are displayed in the top-level.\n                    legend: false, encode: deepMix({}, encode, {\n                        x: fx,\n                        y: fy,\n                    }), interaction: deepMix({}, interaction, {\n                        // Register this interaction in parent node.\n                        legendFilter: false,\n                    }) }, rest);\n            });\n        });\n    };\n    return {\n        children: createChildren,\n    };\n});\n/**\n * @todo Use transform instead of override data directly.\n */\nconst setData = useOverrideAdaptor((options) => {\n    const { encode } = options, rest = __rest(options, [\"encode\"]);\n    const { position: P = [], x: X = P, y: Y = [...P].reverse() } = encode, restEncode = __rest(encode, [\"position\", \"x\", \"y\"]);\n    const data = [];\n    for (const $x of [X].flat(1)) {\n        for (const $y of [Y].flat(1)) {\n            data.push({ $x, $y });\n        }\n    }\n    return Object.assign(Object.assign({}, rest), { data, encode: Object.assign(Object.assign({}, restEncode), { x: '$x', y: '$y' }), scale: Object.assign(Object.assign({}, ([X].flat(1).length === 1 && { x: { paddingInner: 0 } })), ([Y].flat(1).length === 1 && { y: { paddingInner: 0 } })) });\n});\nfunction createGuideX(guideX) {\n    if (typeof guideX === 'function')\n        return guideX;\n    if (guideX === null)\n        return () => null;\n    return (facet, data) => {\n        const { rowIndex, rowValuesLength } = facet;\n        // Only the bottom-most facet show axisX.\n        if (rowIndex !== rowValuesLength - 1)\n            return createInnerGuide(guideX, data);\n    };\n}\nfunction createGuideY(guideY) {\n    if (typeof guideY === 'function')\n        return guideY;\n    if (guideY === null)\n        return () => null;\n    return (facet, data) => {\n        const { columnIndex } = facet;\n        // Only the left-most facet show axisY.\n        if (columnIndex !== 0)\n            return createInnerGuide(guideY, data);\n    };\n}\n/**\n * @todo Layout mode: layer, row, col...\n * @todo Specify show axis or not.\n */\nexport const RepeatMatrix = () => {\n    return (options) => {\n        const newOptions = Container.of(options)\n            .call(toCell)\n            .call(inferColor)\n            .call(setChildren)\n            .call(setData)\n            .call(setAnimation)\n            .call(setStyle)\n            .call(setScale)\n            .value();\n        return [newOptions];\n    };\n};\n//# sourceMappingURL=repeatMatrix.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Container } from '../utils/container';\nimport { angleWithQuadrant, angleBetween, dist, sub } from '../utils/vector';\nimport { inferColor, setAnimation, setStyle, toCell, setChildren, setData, } from './facetRect';\nimport { useDefaultAdaptor } from './utils';\nconst setScale = useDefaultAdaptor((options) => {\n    return {\n        scale: {\n            x: { guide: { type: 'axisArc' }, paddingOuter: 0, paddingInner: 0.1 },\n            y: { guide: null, range: [0, 1], paddingOuter: 0, paddingInner: 0.1 },\n        },\n    };\n});\nconst setCoordinate = useDefaultAdaptor((options) => {\n    return {\n        coordinate: { type: 'polar' },\n    };\n});\nconst setEncode = (options) => {\n    const { encode } = options, rest = __rest(options, [\"encode\"]);\n    const { position } = encode;\n    return Object.assign(Object.assign({}, rest), { encode: { x: position } });\n};\n/**\n * Every facet should do not show both axisX and axisY by default.\n */\nfunction createGuideFacetCircle(guide) {\n    return (facet) => null;\n}\n/**\n * Use the inscribed circle of the sector as the\n * circumscribed circle of the new bbox.\n */\nfunction subLayoutFacetCircle(data) {\n    const { points } = data;\n    const [p0, p1, p2, p3] = points;\n    const sr = dist(p0, p3); // radius of sector\n    const v0 = sub(p0, p3);\n    const v1 = sub(p1, p2);\n    const a01 = angleBetween(v0, v1);\n    // sr = ir + ir / sin(theta/2)\n    const t = 1 / Math.sin(a01 / 2);\n    const ir = sr / (1 + t); // radius of inscribed circle\n    const s = ir * Math.sqrt(2); // size of the bbox.\n    // This assume the innerRadius of polar is 0.\n    // @todo Compute the right origin if it's not 0,\n    // or maybe pass the coordinates to get the right center.\n    const [x0, y0] = p2;\n    const a0 = angleWithQuadrant(v0);\n    const a3 = a0 + a01 / 2;\n    const d = ir * t;\n    const cx = x0 + d * Math.sin(a3); // center x of inscribed circle\n    const cy = y0 - d * Math.cos(a3); // center y of inscribed circle\n    return [cx - s / 2, cy - s / 2, s, s];\n}\n/**\n * @todo Pack.\n */\nexport const FacetCircle = () => {\n    return (options) => {\n        const newOptions = Container.of(options)\n            .call(toCell)\n            .call(setEncode)\n            .call(inferColor)\n            .call(setCoordinate)\n            .call(setData)\n            .call(setChildren, subLayoutFacetCircle, createGuideFacetCircle, createGuideFacetCircle, { frame: false })\n            .call(setAnimation)\n            .call(setStyle)\n            .call(setScale)\n            .value();\n        return [newOptions];\n    };\n};\n//# sourceMappingURL=facetCircle.js.map","import { deepMix } from '@antv/util';\nfunction range(direction, iterationCount, keyframeCount) {\n    const start = 0;\n    const end = keyframeCount;\n    const normal = [start, end];\n    const reverse = [-end + 1, -start + 1];\n    if (direction === 'normal')\n        return normal;\n    if (direction === 'reverse')\n        return reverse;\n    if (direction === 'alternate') {\n        return iterationCount % 2 === 0 ? normal : reverse;\n    }\n    if (direction === 'reverse-alternate') {\n        return iterationCount % 2 === 0 ? reverse : normal;\n    }\n}\n/**\n * Set animation options for all descendants.\n */\nfunction setAnimation(node, duration, easing) {\n    const discovered = [node];\n    while (discovered.length) {\n        const n = discovered.pop();\n        n.animate = deepMix({\n            enter: {\n                duration,\n            },\n            update: {\n                duration,\n                easing,\n                type: 'morphing',\n                fill: 'both',\n            },\n            exit: {\n                type: 'fadeOut',\n                duration,\n            },\n        }, n.animate || {});\n        const { children } = n;\n        if (Array.isArray(children))\n            discovered.push(...children);\n    }\n    return node;\n}\n/**\n * @todo More options, such as fill, totalDuration...\n */\nexport const TimingKeyframe = () => {\n    return (options) => {\n        const { children = [], duration = 1000, iterationCount = 1, direction = 'normal', easing = 'ease-in-out-sine', } = options;\n        const n = children.length;\n        if (!Array.isArray(children) || n === 0)\n            return [];\n        const { key } = children[0];\n        const newChildren = children\n            .map((d) => (Object.assign(Object.assign({}, d), { key })))\n            .map((d) => setAnimation(d, duration, easing));\n        return function* () {\n            let count = 0;\n            let prevIndex;\n            while (iterationCount === 'infinite' || count < iterationCount) {\n                const [start, end] = range(direction, count, n);\n                for (let i = start; i < end; i += 1) {\n                    // For reverse direction, the range is from negative to negative\n                    // so the absolute value of i is the real index for newChildren.\n                    const index = Math.abs(i);\n                    // This is for preventing alternate or reverse-alternate keyframe\n                    // to yield two same node one by one when the direction change.\n                    if (prevIndex !== index)\n                        yield newChildren[index];\n                    prevIndex = index;\n                }\n                count++;\n            }\n        };\n    };\n};\nTimingKeyframe.props = {};\n//# sourceMappingURL=timingKeyframe.js.map","export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n","import { group, ascending, maxIndex } from 'd3-array';\nimport { defined } from '../../utils/helper';\nimport { indexOf } from '../../utils/array';\nimport { columnOf } from './helper';\nexport function createGroups(groupBy, I, mark) {\n    const { encode } = mark;\n    if (groupBy === null)\n        return [I];\n    const G = normalizeGroupBy(groupBy)\n        .map((k) => { var _a; return [k, (_a = columnOf(encode, k)) === null || _a === void 0 ? void 0 : _a[0]]; })\n        .filter(([, column]) => defined(column));\n    const key = (i) => G.map(([, V]) => V[i]).join('-');\n    return Array.from(group(I, key).values());\n}\nexport function normalizeComparator(order) {\n    if (Array.isArray(order))\n        return createFieldsOrder(order);\n    if (typeof order === 'function')\n        return createFunctionOrder(order);\n    if (order === 'series')\n        return createSeriesOrder;\n    if (order === 'value')\n        return createValueOrder;\n    if (order === 'sum')\n        return createSumOrder;\n    if (order === 'maxIndex')\n        return createMaxIndexOrder;\n    return null;\n}\nexport function applyOrder(groups, comparator) {\n    for (const group of groups) {\n        group.sort(comparator);\n    }\n}\nexport function domainOf(value, scale) {\n    return (scale === null || scale === void 0 ? void 0 : scale.domain) || Array.from(new Set(value));\n}\nfunction normalizeGroupBy(groupBy) {\n    if (Array.isArray(groupBy))\n        return groupBy;\n    return [groupBy];\n}\nfunction createSeriesOrder(data, Y, S) {\n    return ascendingComparator((i) => S[i]);\n}\nfunction createFunctionOrder(order) {\n    return (data, Y, S) => {\n        return ascendingComparator((i) => order(data[i]));\n    };\n}\nfunction createFieldsOrder(order) {\n    return (data, Y, S) => {\n        return (i, j) => order.reduce((eq, f) => (eq !== 0 ? eq : ascending(data[i][f], data[j][f])), 0);\n    };\n}\nfunction createValueOrder(data, Y, S) {\n    return ascendingComparator((i) => Y[i]);\n}\nfunction createSumOrder(data, Y, S) {\n    const I = indexOf(data);\n    const groups = Array.from(group(I, (i) => S[+i]).entries());\n    const seriesSum = new Map(groups.map(([k, GI]) => [k, GI.reduce((s, i) => s + +Y[i])]));\n    return ascendingComparator((i) => seriesSum.get(S[i]));\n}\nfunction createMaxIndexOrder(data, Y, S) {\n    const I = indexOf(data);\n    const groups = Array.from(group(I, (i) => S[+i]).entries());\n    const seriesMaxIndex = new Map(groups.map(([k, GI]) => [k, maxIndex(GI, (i) => Y[i])]));\n    return ascendingComparator((i) => seriesMaxIndex.get(S[i]));\n}\nfunction ascendingComparator(order) {\n    return (i, j) => ascending(order(i), order(j));\n}\n//# sourceMappingURL=order.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf, inferredColumn, maybeColumnOf, } from './utils/helper';\nimport { normalizeComparator, createGroups, applyOrder } from './utils/order';\n/**\n * The stack transform group marks into series by color channel,\n * and then produce new y channel for each series by specified order,\n * say to form vertical \"stacks\" by specified channels.\n */\nexport const StackY = (options = {}) => {\n    const { groupBy = 'x', orderBy = null, reverse = false, y: fromY = 'y', y1: fromY1 = 'y1', series = true, } = options;\n    return (I, mark) => {\n        var _a;\n        const { data, encode, style = {} } = mark;\n        const [Y, fy] = columnOf(encode, 'y');\n        const [Y1, fy1] = columnOf(encode, 'y1');\n        const [S] = series\n            ? maybeColumnOf(encode, 'series', 'color')\n            : columnOf(encode, 'color');\n        // Create groups and apply specified order for each group.\n        const groups = createGroups(groupBy, I, mark);\n        const createComparator = (_a = normalizeComparator(orderBy)) !== null && _a !== void 0 ? _a : (() => null);\n        const comparator = createComparator(data, Y, S);\n        if (comparator)\n            applyOrder(groups, comparator);\n        // Stack y channels to produce new y and y1 channel.\n        const newY = new Array(I.length);\n        const newY1 = new Array(I.length);\n        const TY = new Array(I.length);\n        const F = [];\n        const L = [];\n        for (const G of groups) {\n            if (reverse)\n                G.reverse();\n            // For range interval with specified y and y1.\n            const start = Y1 ? +Y1[G[0]] : 0;\n            // Split positive indices of Y and negative Y.\n            const PG = [];\n            const NG = [];\n            for (const i of G) {\n                const y = (TY[i] = +Y[i] - start);\n                if (y < 0)\n                    NG.push(i);\n                else if (y >= 0)\n                    PG.push(i);\n            }\n            // Store the first and last layer.\n            const FG = PG.length > 0 ? PG : NG;\n            const LG = NG.length > 0 ? NG : PG;\n            let i = PG.length - 1;\n            let j = 0;\n            // Find the last non-zero index.\n            while (i > 0 && Y[FG[i]] === 0)\n                i--;\n            // Find the first non-zero index.\n            while (j < LG.length - 1 && Y[LG[j]] === 0)\n                j++;\n            F.push(FG[i]);\n            L.push(LG[j]);\n            // Stack negative y in reverse order.\n            let ny = start;\n            for (const i of NG.reverse()) {\n                const y = TY[i];\n                ny = newY[i] = (newY1[i] = ny) + y;\n            }\n            // Stack positive y in input order.\n            let py = start;\n            for (const i of PG) {\n                const y = TY[i];\n                if (y > 0)\n                    py = newY[i] = (newY1[i] = py) + y;\n                else\n                    newY[i] = newY1[i] = py;\n            }\n        }\n        // Only set top radius for the first layer,\n        // and set bottom radius for the last layer.\n        const FS = new Set(F);\n        const LS = new Set(L);\n        // Choose new y or y1 channel as the new y channel.\n        const V = fromY === 'y' ? newY : newY1;\n        const V1 = fromY1 === 'y' ? newY : newY1;\n        let newEncode;\n        // mark point will compute the actural Y = (y + y1) / 2 if y1 exists\n        if (mark.type === 'point') {\n            newEncode = {\n                y0: inferredColumn(Y, fy),\n                y: column(V, fy),\n            };\n        }\n        else {\n            newEncode = {\n                y0: inferredColumn(Y, fy),\n                y: column(V, fy),\n                y1: column(V1, fy1),\n            };\n        }\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: Object.assign({}, newEncode),\n                style: Object.assign({ first: (_, i) => FS.has(i), last: (_, i) => LS.has(i) }, style),\n            }),\n        ];\n    };\n};\nStackY.props = {};\n//# sourceMappingURL=stackY.js.map","export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n","import variance from \"./variance.js\";\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function constant(x) {\n  return () => x;\n}\n","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","import count from \"../count.js\";\n\nexport default function thresholdSturges(values) {\n  return Math.max(1, Math.ceil(Math.log(count(values)) / Math.LN2) + 1);\n}\n","import {slice} from \"./array.js\";\nimport bisect from \"./bisect.js\";\nimport constant from \"./constant.js\";\nimport extent from \"./extent.js\";\nimport identity from \"./identity.js\";\nimport nice from \"./nice.js\";\nimport ticks, {tickIncrement} from \"./ticks.js\";\nimport sturges from \"./threshold/sturges.js\";\n\nexport default function bin() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        step,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds, and nice the\n    // default domain accordingly.\n    if (!Array.isArray(tz)) {\n      const max = x1, tn = +tz;\n      if (domain === extent) [x0, x1] = nice(x0, x1, tn);\n      tz = ticks(x0, x1, tn);\n\n      // If the domain is aligned with the first tick (which it will by\n      // default), then we can use quantization rather than bisection to bin\n      // values, which is substantially faster.\n      if (tz[0] <= x0) step = tickIncrement(x0, x1, tn);\n\n      // If the last threshold is coincident with the domain’s upper bound, the\n      // last bin will be zero-width. If the default domain is used, and this\n      // last threshold is coincident with the maximum input value, we can\n      // extend the niced upper bound by one tick to ensure uniform bin widths;\n      // otherwise, we simply remove the last threshold. Note that we don’t\n      // coerce values or the domain to numbers, and thus must be careful to\n      // compare order (>=) rather than strict equality (===)!\n      if (tz[tz.length - 1] >= x1) {\n        if (max >= x1 && domain === extent) {\n          const step = tickIncrement(x0, x1, tn);\n          if (isFinite(step)) {\n            if (step > 0) {\n              x1 = (Math.floor(x1 / step) + 1) * step;\n            } else if (step < 0) {\n              x1 = (Math.ceil(x1 * -step) + 1) / -step;\n            }\n          }\n        } else {\n          tz.pop();\n        }\n      }\n    }\n\n    // Remove any thresholds outside the domain.\n    // Be careful not to mutate an array owned by the user!\n    var m = tz.length, a = 0, b = m;\n    while (tz[a] <= x0) ++a;\n    while (tz[b - 1] > x1) --b;\n    if (a || b < m) tz = tz.slice(a, b), m = b - a;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    if (isFinite(step)) {\n      if (step > 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            bins[Math.min(m, Math.floor((x - x0) / step))].push(data[i]);\n          }\n        }\n      } else if (step < 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            const j = Math.floor((x0 - x) * step);\n            bins[Math.min(m, j + (tz[j] <= x))].push(data[i]); // handle off-by-one due to rounding\n          }\n        }\n      }\n    } else {\n      for (i = 0; i < n; ++i) {\n        if ((x = values[i]) != null && x0 <= x && x <= x1) {\n          bins[bisect(tz, x, 0, m)].push(data[i]);\n        }\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : constant(Array.isArray(_) ? slice.call(_) : _), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","import {tickIncrement} from \"./ticks.js\";\n\nexport default function nice(start, stop, count) {\n  let prestep;\n  while (true) {\n    const step = tickIncrement(start, stop, count);\n    if (step === prestep || step === 0 || !isFinite(step)) {\n      return [start, stop];\n    } else if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n    }\n    prestep = step;\n  }\n}\n","import {ascendingDefined, compareDefined} from \"./sort.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = Infinity, compare) {\n  k = Math.floor(k);\n  left = Math.floor(Math.max(0, left));\n  right = Math.floor(Math.min(array.length - 1, right));\n\n  if (!(left <= k && k <= right)) return array;\n\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import max from \"./max.js\";\nimport maxIndex from \"./maxIndex.js\";\nimport min from \"./min.js\";\nimport minIndex from \"./minIndex.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\nimport {ascendingDefined} from \"./sort.js\";\nimport greatest from \"./greatest.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileIndex(values, p, valueof = number) {\n  if (isNaN(p = +p)) return;\n  numbers = Float64Array.from(values, (_, i) => number(valueof(values[i], i, values)));\n  if (p <= 0) return minIndex(numbers);\n  if (p >= 1) return maxIndex(numbers);\n  var numbers,\n      index = Uint32Array.from(values, (_, i) => i),\n      j = numbers.length - 1,\n      i = Math.floor(j * p);\n  quickselect(index, i, 0, j, (i, j) => ascendingDefined(numbers[i], numbers[j]));\n  i = greatest(index.subarray(0, i + 1), (i) => numbers[i]);\n  return i >= 0 ? i : -1;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n","import quantile, {quantileIndex} from \"./quantile.js\";\n\nexport default function median(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n\nexport function medianIndex(values, valueof) {\n  return quantileIndex(values, 0.5, valueof);\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { max as d3Max, mean as d3Mean, sum as d3Sum, min as d3Min, median as d3Median, } from 'd3-array';\nimport { indexOf } from '../utils/array';\nimport { columnOf, column, nonConstantColumn } from './utils/helper';\nfunction builtinFormatter(summary) {\n    return (d) => (d === null ? summary : `${summary} of ${d}`);\n}\nfunction normalizeReducer(reducer) {\n    if (typeof reducer === 'function')\n        return [reducer, null];\n    const registry = { mean, max, count, first, last, sum, min, median };\n    const reducerFunction = registry[reducer];\n    if (!reducerFunction)\n        throw new Error(`Unknown reducer: ${reducer}.`);\n    return reducerFunction();\n}\nfunction mean() {\n    const reducer = (I, V) => d3Mean(I, (i) => +V[i]);\n    const formatter = builtinFormatter('mean');\n    return [reducer, formatter];\n}\nfunction median() {\n    const reducer = (I, V) => d3Median(I, (i) => +V[i]);\n    const formatter = builtinFormatter('median');\n    return [reducer, formatter];\n}\nfunction max() {\n    const reducer = (I, V) => d3Max(I, (i) => +V[i]);\n    const formatter = builtinFormatter('max');\n    return [reducer, formatter];\n}\nfunction min() {\n    const reducer = (I, V) => d3Min(I, (i) => +V[i]);\n    const formatter = builtinFormatter('min');\n    return [reducer, formatter];\n}\nfunction count() {\n    const reducer = (I, V) => I.length;\n    const formatter = builtinFormatter('count');\n    return [reducer, formatter];\n}\nfunction sum() {\n    const reducer = (I, V) => d3Sum(I, (i) => +V[i]);\n    const formatter = builtinFormatter('sum');\n    return [reducer, formatter];\n}\nfunction first() {\n    const reducer = (I, V) => V[I[0]];\n    const formatter = builtinFormatter('first');\n    return [reducer, formatter];\n}\nfunction last() {\n    const reducer = (I, V) => V[I[I.length - 1]];\n    const formatter = builtinFormatter('last');\n    return [reducer, formatter];\n}\n/**\n * The Group transform group data by x and y channels, and aggregate.\n */\nexport const GroupN = (options = {}) => {\n    const { groupBy } = options, rest = __rest(options, [\"groupBy\"]);\n    return (I, mark) => {\n        const { data, encode } = mark;\n        const groups = groupBy(I, mark);\n        if (!groups)\n            return [I, mark];\n        // Extract field from from channel\n        // x1 from x, y1 from y, etc,.\n        const maybeFrom = (field, reducer) => {\n            if (field)\n                return field;\n            const { from } = reducer;\n            if (!from)\n                return field;\n            const [, field1] = columnOf(encode, from);\n            return field1;\n        };\n        const outputs = Object.entries(rest).map(([channel, reducer]) => {\n            const [reducerFunction, formatter] = normalizeReducer(reducer);\n            const [V, field] = columnOf(encode, channel);\n            const field1 = maybeFrom(field, reducer);\n            const RV = groups.map((I) => reducerFunction(I, V !== null && V !== void 0 ? V : data));\n            return [\n                channel,\n                Object.assign(Object.assign({}, nonConstantColumn(RV, (formatter === null || formatter === void 0 ? void 0 : formatter(field1)) || field1)), { aggregate: true }),\n            ];\n        });\n        const reducedColumns = Object.keys(encode).map((key) => {\n            const [V, fv] = columnOf(encode, key);\n            const GV = groups.map((I) => V[I[0]]);\n            return [key, column(GV, fv)];\n        });\n        const GD = groups.map((I) => data[I[0]]);\n        const GI = indexOf(groups);\n        return [\n            GI,\n            deepMix({}, mark, {\n                data: GD,\n                encode: Object.fromEntries([...reducedColumns, ...outputs]),\n            }),\n        ];\n    };\n};\nGroupN.props = {};\n//# sourceMappingURL=groupN.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { bin as d3Bin, group, thresholdScott, extent } from 'd3-array';\nimport { defined, subObject } from '../utils/helper';\nimport { GroupN } from './groupN';\nimport { columnOf } from './utils/helper';\nconst THRESHOLD = 'thresholds';\n/**\n * @see https://github.com/observablehq/plot/blob/main/src/transforms/bin.js\n */\nfunction thresholdAuto(values) {\n    const [min, max] = extent(values);\n    return Math.min(200, thresholdScott(values, min, max));\n}\n/**\n * The Bin aggregate data.\n * @todo More threshold method.\n * @todo Performance.\n */\nexport const Bin = (options = {}) => {\n    const { groupChannels = ['color'], binChannels = ['x', 'y'] } = options, rest = __rest(options, [\"groupChannels\", \"binChannels\"]);\n    const channelIndexKey = {};\n    // Group indexes and update channelIndexKey.\n    const groupBy = (I, mark) => {\n        const { encode } = mark;\n        const binValues = binChannels.map((channel) => {\n            const [V] = columnOf(encode, channel);\n            return V;\n        });\n        const thresholds = subObject(rest, THRESHOLD);\n        const DI = I.filter((i) => binValues.every((V) => defined(V[i])));\n        // Group indexes by both discrete and quantitative channels.\n        const groupKeys = [\n            // For discrete channels, use value as group key.\n            ...groupChannels\n                .map((d) => {\n                const [V] = columnOf(encode, d);\n                return V;\n            })\n                .filter(defined)\n                .map((V) => (i) => V[i]),\n            // For quantitative channels, use extent of bin as group key.\n            ...binChannels.map((d, i) => {\n                const V = binValues[i];\n                const t = thresholds[d] || thresholdAuto(V);\n                const bins = d3Bin()\n                    .thresholds(t)\n                    .value((i) => +V[i])(DI);\n                const indexKey = new Map(bins.flatMap((bin) => {\n                    const { x0, x1 } = bin;\n                    const key = `${x0},${x1}`;\n                    return bin.map((i) => [i, key]);\n                }));\n                channelIndexKey[d] = indexKey;\n                return (i) => indexKey.get(i);\n            }),\n        ];\n        // Group by indexes by channel keys.\n        const key = (i) => groupKeys.map((key) => key(i)).join('-');\n        return Array.from(group(DI, key).values());\n    };\n    return GroupN(Object.assign(Object.assign(Object.assign({}, Object.fromEntries(Object.entries(rest).filter(([k]) => !k.startsWith(THRESHOLD)))), Object.fromEntries(binChannels.flatMap((channel) => {\n        const start = ([i]) => +channelIndexKey[channel].get(i).split(',')[0];\n        const end = ([i]) => +channelIndexKey[channel].get(i).split(',')[1];\n        end.from = channel;\n        return [\n            [channel, start],\n            [`${channel}1`, end],\n        ];\n    }))), { groupBy }));\n};\nBin.props = {};\n//# sourceMappingURL=bin.js.map","import count from \"../count.js\";\nimport deviation from \"../deviation.js\";\n\nexport default function thresholdScott(values, min, max) {\n  const c = count(values), d = deviation(values);\n  return c && d ? Math.ceil((max - min) * Math.cbrt(c) / (3.49 * d)) : 1;\n}\n","import { Bin } from './bin';\nexport const BinX = (options = {}) => {\n    const { thresholds } = options;\n    return Bin(Object.assign(Object.assign({}, options), { thresholdsX: thresholds, groupChannels: ['color'], binChannels: ['x'] }));\n};\nBinX.props = {};\n//# sourceMappingURL=binX.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { column, columnOf, maybeColumnOf } from './utils/helper';\nimport { createGroups, normalizeComparator, applyOrder, domainOf, } from './utils/order';\n/**\n * The dodge group marks into series by color or series channel,\n * and then produce new series channel for each series by specified order,\n * say to form horizontal \"columns\" by specified channels.\n */\nexport const DodgeX = (options = {}) => {\n    const { groupBy = 'x', reverse = false, orderBy, padding } = options, rest = __rest(options, [\"groupBy\", \"reverse\", \"orderBy\", \"padding\"]);\n    return (I, mark) => {\n        const { data, encode, scale } = mark;\n        const { series: scaleSeries } = scale;\n        const [Y] = columnOf(encode, 'y');\n        const [S] = maybeColumnOf(encode, 'series', 'color');\n        const domainSeries = domainOf(S, scaleSeries);\n        const newMark = deepMix({}, mark, {\n            scale: {\n                series: {\n                    domain: domainSeries,\n                    paddingInner: padding,\n                },\n            },\n        });\n        // Create groups and apply specified order for each group.\n        const groups = createGroups(groupBy, I, mark);\n        const createComparator = normalizeComparator(orderBy);\n        if (!createComparator) {\n            return [I, deepMix(newMark, { encode: { series: column(S) } })];\n        }\n        // Sort and Update series for each mark related to series domain.\n        const comparator = createComparator(data, Y, S);\n        if (comparator)\n            applyOrder(groups, comparator);\n        const newS = new Array(I.length);\n        for (const G of groups) {\n            if (reverse)\n                G.reverse();\n            for (let i = 0; i < G.length; i++) {\n                newS[G[i]] = domainSeries[i];\n            }\n        }\n        return [\n            I,\n            deepMix(newMark, {\n                encode: {\n                    series: column(orderBy ? newS : S),\n                },\n            }),\n        ];\n    };\n};\nDodgeX.props = {};\n//# sourceMappingURL=dodgeX.js.map","import { Band } from '@antv/scale';\nimport { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\nimport { domainOf } from './utils/order';\nexport function rangeOf(value, scaleOptions, padding) {\n    if (value === null)\n        return [-0.5, 0.5];\n    const domain = domainOf(value, scaleOptions);\n    const scale = new Band({ domain, range: [0, 1], padding });\n    const step = scale.getBandWidth();\n    return [-step / 2, step / 2];\n}\nexport function interpolate(t, a, b) {\n    return a * (1 - t) + b * t;\n}\n/**\n * The jitter transform produce dx and dy channels for marks (especially for point)\n * with ordinal x and y dimension, say to make them jitter in their own space.\n */\nexport const Jitter = (options = {}) => {\n    const { padding = 0, paddingX = padding, paddingY = padding, random = Math.random, } = options;\n    return (I, mark) => {\n        const { encode, scale } = mark;\n        const { x: scaleX, y: scaleY } = scale;\n        const [X] = columnOf(encode, 'x');\n        const [Y] = columnOf(encode, 'y');\n        const rangeX = rangeOf(X, scaleX, paddingX);\n        const rangeY = rangeOf(Y, scaleY, paddingY);\n        const DY = I.map(() => interpolate(random(), ...rangeY));\n        const DX = I.map(() => interpolate(random(), ...rangeX));\n        return [\n            I,\n            deepMix({\n                scale: {\n                    x: { padding: 0.5 },\n                    y: { padding: 0.5 },\n                },\n            }, mark, {\n                encode: { dy: column(DY), dx: column(DX) },\n            }),\n        ];\n    };\n};\nJitter.props = {};\n//# sourceMappingURL=jitter.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\nimport { rangeOf, interpolate } from './jitter';\n/**\n * The JitterX transform produce dy channels for marks (especially for point)\n * with ordinal x and y dimension, say to make them jitter in their own space.\n */\nexport const JitterX = (options = {}) => {\n    const { padding = 0, random = Math.random } = options;\n    return (I, mark) => {\n        const { encode, scale } = mark;\n        const { x: scaleX } = scale;\n        const [X] = columnOf(encode, 'x');\n        const rangeX = rangeOf(X, scaleX, padding);\n        const DX = I.map(() => interpolate(random(), ...rangeX));\n        return [\n            I,\n            deepMix({ scale: { x: { padding: 0.5 } } }, mark, {\n                encode: { dx: column(DX) },\n            }),\n        ];\n    };\n};\nJitterX.props = {};\n//# sourceMappingURL=jitterX.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\nimport { rangeOf, interpolate } from './jitter';\n/**\n * The JitterY transform produce dy channels for marks (especially for point)\n * with ordinal x and y dimension, say to make them jitter in their own space.\n */\nexport const JitterY = (options = {}) => {\n    const { padding = 0, random = Math.random } = options;\n    return (I, mark) => {\n        const { encode, scale } = mark;\n        const { y: scaleY } = scale;\n        const [Y] = columnOf(encode, 'y');\n        const rangeY = rangeOf(Y, scaleY, padding);\n        const DY = I.map(() => interpolate(random(), ...rangeY));\n        return [\n            I,\n            deepMix({ scale: { y: { padding: 0.5 } } }, mark, {\n                encode: { dy: column(DY) },\n            }),\n        ];\n    };\n};\nJitterY.props = {};\n//# sourceMappingURL=jitterY.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { extent } from 'd3-array';\nimport { columnOf, column } from './utils/helper';\nimport { createGroups } from './utils/order';\n/**\n * The SymmetryY transform apply offset for y channels, say to transform\n * them to be symmetry.\n */\nexport const SymmetryY = (options = {}) => {\n    const { groupBy = 'x' } = options;\n    return (I, mark) => {\n        const { encode } = mark;\n        const { x } = encode, rest = __rest(encode, [\"x\"]);\n        // Extract and create new channels starts with y, such as y, y1.\n        const Yn = Object.entries(rest)\n            .filter(([k]) => k.startsWith('y'))\n            .map(([k]) => [k, columnOf(encode, k)[0]]);\n        const newYn = Yn.map(([k]) => [k, new Array(I.length)]);\n        // Group marks into series by specified keys.\n        const groups = createGroups(groupBy, I, mark);\n        const MY = new Array(groups.length);\n        for (let i = 0; i < groups.length; i++) {\n            const I = groups[i];\n            const Y = I.flatMap((i) => Yn.map(([, V]) => +V[i]));\n            const [minY, maxY] = extent(Y);\n            MY[i] = (minY + maxY) / 2;\n        }\n        const maxMiddleY = Math.max(...MY);\n        for (let m = 0; m < groups.length; m++) {\n            const offset = maxMiddleY - MY[m];\n            const I = groups[m];\n            for (const i of I) {\n                for (let j = 0; j < Yn.length; j++) {\n                    const [, V] = Yn[j];\n                    const [, newV] = newYn[j];\n                    newV[i] = +V[i] + offset;\n                }\n            }\n        }\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: Object.fromEntries(newYn.map(([k, v]) => [k, column(v, columnOf(encode, k)[1])])),\n            }),\n        ];\n    };\n};\nSymmetryY.props = {};\n//# sourceMappingURL=symmetryY.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf, maybeColumnOf } from './utils/helper';\nimport { createGroups } from './utils/order';\n/**\n * The DiffY transform apply offset for y0 channels.\n * Keep y unchanged, set y1 = max(otherY), if y1 > y, remove the data.\n */\nexport const DiffY = (options = {}) => {\n    const { groupBy = 'x', series = true } = options;\n    return (I, mark) => {\n        const { encode } = mark;\n        const [Y] = columnOf(encode, 'y');\n        const [_, fy1] = columnOf(encode, 'y1');\n        const [S] = series\n            ? maybeColumnOf(encode, 'series', 'color')\n            : columnOf(encode, 'color');\n        // Create groups and apply specified order for each group.\n        const groups = createGroups(groupBy, I, mark);\n        // Only adjust Y1 channel.\n        const newY1 = new Array(I.length);\n        for (const G of groups) {\n            const YG = G.map((i) => +Y[i]);\n            // Process each series.\n            for (let idx = 0; idx < G.length; idx++) {\n                const i = G[idx];\n                // Get the max Y of current group with current Y exclude.\n                const max = Math.max(...YG.filter((_, _i) => _i !== idx));\n                // Diff Y value.\n                newY1[i] = +Y[i] > max ? max : Y[i];\n            }\n        }\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: {\n                    y1: column(newY1, fy1),\n                },\n            }),\n        ];\n    };\n};\nDiffY.props = {};\n//# sourceMappingURL=diffY.js.map","import { deepMix } from '@antv/util';\nimport { group, max } from 'd3-array';\nimport { columnOf, constant, maybeColumnOf, visualColumn, } from './utils/helper';\n/**\n * Group marks by channels into groups and stacking their enterDelay\n * to make marks show up groups by groups.\n * It will update enterDelay channel for each mark by its enterDuration and group.\n * @todo Support orderBy.\n * @todo Sort among groups(e.g. reverse).\n * @todo Stack enter in groups rather than between groups?\n * @todo Auto inter this statistic for scaleInY animation in stacked interval?\n * @todo All the groups shared the enterDuration?\n */\nexport const StackEnter = (options) => {\n    const { groupBy = ['x'], reducer = (I, V) => V[I[0]], orderBy = null, reverse = false, duration, } = options;\n    return (I, mark) => {\n        const { encode } = mark;\n        // Extract group information by each specified channel,\n        // and skip if all values of channels are empty.\n        const by = Array.isArray(groupBy) ? groupBy : [groupBy];\n        const groupEntries = by.map((k) => [k, columnOf(encode, k)[0]]);\n        if (groupEntries.length === 0)\n            return [I, mark];\n        // Nest group index and flatten them in right order among timeline.\n        // [[1, 2, 3, 4, 5, 6]] ->\n        // [[1, 2, 3], [4, 5, 6]] ->\n        // [[1], [2], [3], [4], [5], [6]]\n        let groups = [I];\n        for (const [, V] of groupEntries) {\n            const newGroups = [];\n            for (const I of groups) {\n                const G = Array.from(group(I, (i) => V[i]).values());\n                // @todo sort by x.\n                newGroups.push(...G);\n            }\n            groups = newGroups;\n        }\n        // const {color} = encode;\n        if (orderBy) {\n            const [V] = columnOf(encode, orderBy);\n            if (V)\n                groups.sort((I, J) => reducer(I, V) - reducer(J, V));\n            if (reverse)\n                groups.reverse();\n        }\n        // Stack delay for each group.\n        const t = (duration || 3000) / groups.length;\n        const [ED] = duration\n            ? [constant(I, t)] // If specified duration, generate enter duration for each.\n            : maybeColumnOf(encode, 'enterDuration', constant(I, t));\n        const [EDL] = maybeColumnOf(encode, 'enterDelay', constant(I, 0));\n        const newEnterDelay = new Array(I.length);\n        for (let i = 0, pd = 0; i < groups.length; i++) {\n            const I = groups[i];\n            const maxDuration = max(I, (i) => +ED[i]);\n            for (const j of I)\n                newEnterDelay[j] = +EDL[j] + pd;\n            pd += maxDuration;\n        }\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: {\n                    enterDuration: visualColumn(ED),\n                    enterDelay: visualColumn(newEnterDelay),\n                },\n            }),\n        ];\n    };\n};\nStackEnter.props = {};\n//# sourceMappingURL=stackEnter.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { mean, deviation, median, sum, max, min } from 'd3-array';\nimport { isUnset } from '../utils/helper';\nimport { column, columnOf } from './utils/helper';\nimport { createGroups } from './utils/order';\nfunction normalizeBasis(basis) {\n    if (typeof basis === 'function')\n        return basis;\n    const registry = {\n        min: (I, Y) => min(I, (i) => Y[+i]),\n        max: (I, Y) => max(I, (i) => Y[+i]),\n        first: (I, Y) => Y[I[0]],\n        last: (I, Y) => Y[I[I.length - 1]],\n        mean: (I, Y) => mean(I, (i) => Y[+i]),\n        median: (I, Y) => median(I, (i) => Y[+i]),\n        sum: (I, Y) => sum(I, (i) => Y[+i]),\n        deviation: (I, Y) => deviation(I, (i) => Y[+i]),\n    };\n    return registry[basis] || max;\n}\n/**\n * Group marks into series by specified channels, and then transform\n * each series's value, say to transform them relative to some basis\n * to apply a moving average.\n */\nexport const NormalizeY = (options = {}) => {\n    const { groupBy = 'x', basis = 'max' } = options;\n    return (I, mark) => {\n        const { encode, tooltip } = mark;\n        const { x } = encode, rest = __rest(encode, [\"x\"]);\n        // Extract and create new channels starts with y, such as y, y1.\n        const Yn = Object.entries(rest)\n            .filter(([k]) => k.startsWith('y'))\n            .map(([k]) => [k, columnOf(encode, k)[0]]);\n        const [, Y] = Yn.find(([k]) => k === 'y');\n        const newYn = Yn.map(([k]) => [k, new Array(I.length)]);\n        // Group marks into series by specified keys.\n        const groups = createGroups(groupBy, I, mark);\n        // Transform y channels for each group based on basis.\n        const basisFunction = normalizeBasis(basis);\n        for (const I of groups) {\n            // Compute basis only base on y.\n            const basisValue = basisFunction(I, Y);\n            for (const i of I) {\n                for (let j = 0; j < Yn.length; j++) {\n                    const [, V] = Yn[j];\n                    const [, newV] = newYn[j];\n                    newV[i] = +V[i] / basisValue;\n                }\n            }\n        }\n        const specifiedTooltip = isUnset(tooltip) || ((tooltip === null || tooltip === void 0 ? void 0 : tooltip.items) && (tooltip === null || tooltip === void 0 ? void 0 : tooltip.items.length) !== 0);\n        return [\n            I,\n            deepMix({}, mark, Object.assign({ encode: Object.fromEntries(newYn.map(([k, v]) => [k, column(v, columnOf(encode, k)[1])])) }, (!specifiedTooltip &&\n                encode.y0 && {\n                tooltip: { items: [{ channel: 'y0' }] },\n            }))),\n        ];\n    };\n};\nNormalizeY.props = {};\n//# sourceMappingURL=normalizeY.js.map","import { maxIndex, minIndex } from 'd3-array';\nimport { columnOf } from './utils/helper';\nimport { createGroups } from './utils/order';\nfunction first(I, V) {\n    return [I[0]];\n}\nfunction last(I, V) {\n    const i = I.length - 1;\n    return [I[i]];\n}\nfunction max(I, V) {\n    const i = maxIndex(I, (i) => V[i]);\n    return [I[i]];\n}\nfunction min(I, V) {\n    const i = minIndex(I, (i) => V[i]);\n    return [I[i]];\n}\nfunction normalizeSelector(selector) {\n    if (typeof selector === 'function')\n        return selector;\n    const registry = { first, last, max, min };\n    return registry[selector] || first;\n}\n/**\n * The select transform groups marks with specified channels, and\n * filter index by specified selector for each series, say to\n * pull a single or multiple values out of each series.\n */\nexport const Select = (options = {}) => {\n    const { groupBy = 'series', channel, selector } = options;\n    return (I, mark) => {\n        const { encode } = mark;\n        const groups = createGroups(groupBy, I, mark);\n        const [V] = columnOf(encode, channel);\n        const selectFunction = normalizeSelector(selector);\n        return [groups.flatMap((GI) => selectFunction(GI, V)), mark];\n    };\n};\nSelect.props = {};\n//# sourceMappingURL=select.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Select } from './select';\n/**\n * The selectX transform filter index by y channel.\n */\nexport const SelectX = (options = {}) => {\n    const { selector } = options, rest = __rest(options, [\"selector\"]);\n    return Select(Object.assign({ channel: 'x', selector }, rest));\n};\nSelectX.props = {};\n//# sourceMappingURL=selectX.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Select } from './select';\n/**\n * The selectY transform filter index by y channel.\n */\nexport const SelectY = (options = {}) => {\n    const { selector } = options, rest = __rest(options, [\"selector\"]);\n    return Select(Object.assign({ channel: 'y', selector }, rest));\n};\nSelectY.props = {};\n//# sourceMappingURL=selectY.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { createGroups } from './utils/order';\nimport { GroupN } from './groupN';\n/**\n * The Group transform group data by x and y channels, and aggregate.\n */\nexport const Group = (options = {}) => {\n    const { channels = ['x', 'y'] } = options, rest = __rest(options, [\"channels\"]);\n    const groupBy = (I, mark) => createGroups(channels, I, mark);\n    return GroupN(Object.assign(Object.assign({}, rest), { groupBy }));\n};\nGroup.props = {};\n//# sourceMappingURL=group.js.map","import { Group } from './group';\n/**\n * The GroupX transform group data by x channel, and aggregate.\n */\nexport const GroupX = (options = {}) => {\n    return Group(Object.assign(Object.assign({}, options), { channels: ['x', 'color', 'series'] }));\n};\nGroupX.props = {};\n//# sourceMappingURL=groupX.js.map","import { Group } from './group';\n/**\n * The GroupY transform group data by x channel, and aggregate.\n */\nexport const GroupY = (options = {}) => {\n    return Group(Object.assign(Object.assign({}, options), { channels: ['y', 'color', 'series'] }));\n};\nGroupY.props = {};\n//# sourceMappingURL=groupY.js.map","import { Group } from './group';\n/**\n * The GroupColor transform group data by x channel, and aggregate.\n */\nexport const GroupColor = (options = {}) => {\n    return Group(Object.assign(Object.assign({}, options), { channels: ['color'] }));\n};\nGroupColor.props = {};\n//# sourceMappingURL=groupColor.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { groupSort, max, min, sum, mean, median, sort, } from 'd3-array';\nimport { columnOf } from './utils/helper';\nfunction createReducer(channel, options, encode) {\n    const { by = channel, reducer = 'max' } = options;\n    const [V] = columnOf(encode, by);\n    if (typeof reducer === 'function')\n        return (GI) => reducer(GI, V);\n    if (reducer === 'max')\n        return (GI) => max(GI, (i) => +V[i]);\n    if (reducer === 'min')\n        return (GI) => min(GI, (i) => +V[i]);\n    if (reducer === 'sum')\n        return (GI) => sum(GI, (i) => +V[i]);\n    if (reducer === 'median')\n        return (GI) => median(GI, (i) => +V[i]);\n    if (reducer === 'mean')\n        return (GI) => mean(GI, (i) => +V[i]);\n    if (reducer === 'first')\n        return (GI) => V[GI[0]];\n    if (reducer === 'last')\n        return (GI) => V[GI[GI.length - 1]];\n    throw new Error(`Unknown reducer: ${reducer}`);\n}\nfunction sortQuantitative(I, mark, options) {\n    const { reverse, channel } = options;\n    const { encode } = mark;\n    const [V] = columnOf(encode, channel);\n    const sortedI = sort(I, (i) => V[i]);\n    if (reverse)\n        sortedI.reverse();\n    // const s = typeof slice === 'number' ? [0, slice] : slice;\n    return [sortedI, mark];\n}\n// If domain is specified, only sort data in the domain.\nfunction filterIndex(I, values, specifiedDomain) {\n    if (!Array.isArray(specifiedDomain))\n        return I;\n    const domain = new Set(specifiedDomain);\n    return I.filter((i) => domain.has(values[i]));\n}\nfunction sortOrdinal(I, mark, options) {\n    var _a;\n    const { reverse, slice, channel } = options, rest = __rest(options, [\"reverse\", \"slice\", \"channel\"]);\n    const { encode, scale = {} } = mark;\n    const domain = (_a = scale[channel]) === null || _a === void 0 ? void 0 : _a.domain;\n    const [T] = columnOf(encode, channel);\n    const normalizeReducer = createReducer(channel, rest, encode);\n    const SI = filterIndex(I, T, domain);\n    const sortedDomain = groupSort(SI, normalizeReducer, (i) => T[i]);\n    if (reverse)\n        sortedDomain.reverse();\n    const s = typeof slice === 'number' ? [0, slice] : slice;\n    const slicedDomain = slice ? sortedDomain.slice(...s) : sortedDomain;\n    return [\n        I,\n        deepMix(mark, {\n            scale: {\n                [channel]: {\n                    domain: slicedDomain,\n                },\n            },\n        }),\n    ];\n}\n/**\n * Sort marks groups by groups.\n */\nexport const Sort = (options = {}) => {\n    const { reverse = false, slice, channel, ordinal = true } = options, rest = __rest(options, [\"reverse\", \"slice\", \"channel\", \"ordinal\"]);\n    return (I, mark) => {\n        if (!ordinal) {\n            return sortQuantitative(I, mark, Object.assign({ reverse,\n                slice,\n                channel }, rest));\n        }\n        return sortOrdinal(I, mark, Object.assign({ reverse, slice, channel }, rest));\n    };\n};\nSort.props = {};\n//# sourceMappingURL=sort.js.map","import ascending from \"./ascending.js\";\nimport group, {rollup} from \"./group.js\";\nimport sort from \"./sort.js\";\n\nexport default function groupSort(values, reduce, key) {\n  return (reduce.length !== 2\n    ? sort(rollup(values, reduce, key), (([ak, av], [bk, bv]) => ascending(av, bv) || ascending(ak, bk)))\n    : sort(group(values, key), (([ak, av], [bk, bv]) => reduce(av, bv) || ascending(ak, bk))))\n    .map(([key]) => key);\n}\n","import { Sort } from './sort';\n/**\n * Sort domain of x scale of mark groups by groups.\n */\nexport const SortX = (options = {}) => {\n    return Sort(Object.assign(Object.assign({}, options), { channel: 'x' }));\n};\nSortX.props = {};\n//# sourceMappingURL=sortX.js.map","import { Sort } from './sort';\n/**\n * Sort domain of x scale of mark groups by groups.\n */\nexport const SortY = (options = {}) => {\n    return Sort(Object.assign(Object.assign({}, options), { channel: 'y' }));\n};\nSortY.props = {};\n//# sourceMappingURL=sortY.js.map","import { Sort } from './sort';\n/**\n * Sort domain of x scale of mark groups by groups.\n */\nexport const SortColor = (options = {}) => {\n    return Sort(Object.assign(Object.assign({}, options), { channel: 'color' }));\n};\nSortColor.props = {};\n//# sourceMappingURL=sortColor.js.map","import { deepMix } from '@antv/util';\nimport { rollups, sum } from 'd3-array';\nimport { columnOf } from './utils/helper';\nfunction valueOf(data, field) {\n    if (typeof field === 'string')\n        return data.map((d) => d[field]);\n    return data.map(field);\n}\nfunction createReducer(reducer, V) {\n    if (typeof reducer === 'function')\n        return (GI) => reducer(GI, V);\n    if (reducer === 'sum')\n        return (GI) => sum(GI, (i) => +V[i]);\n    throw new Error(`Unknown reducer: ${reducer}`);\n}\n/**\n * Produce flex options from data for x scale.\n */\nexport const FlexX = (options = {}) => {\n    const { field, channel = 'y', reducer = 'sum' } = options;\n    return (I, mark) => {\n        const { data, encode } = mark;\n        const [x] = columnOf(encode, 'x');\n        const V = field ? valueOf(data, field) : columnOf(encode, channel)[0];\n        const reducerFunction = createReducer(reducer, V);\n        const flex = rollups(I, reducerFunction, (i) => x[i]).map((d) => d[1]);\n        return [I, deepMix({}, mark, { scale: { x: { flex } } })];\n    };\n};\nFlexX.props = {};\n//# sourceMappingURL=flexX.js.map","import { deepMix } from '@antv/util';\nimport { calcBBox } from '../utils/vector';\nfunction pack(options) {\n    const { padding = 0, direction = 'col' } = options;\n    return (P, count, layout) => {\n        const pcount = P.length;\n        if (pcount === 0)\n            return [];\n        // col * row >= count\n        // row is close to col * aspect, so\n        // col * (col * aspect) >= count\n        const { innerWidth, innerHeight } = layout;\n        const aspect = innerHeight / innerWidth;\n        let col = Math.ceil(Math.sqrt(count / aspect));\n        // Increase col to avoid total height of packed shape\n        // being large than height of bbox.\n        let size = innerWidth / col;\n        let row = Math.ceil(count / col);\n        let h0 = row * size;\n        while (h0 > innerHeight) {\n            col = col + 1;\n            size = innerWidth / col;\n            row = Math.ceil(count / col);\n            h0 = row * size;\n        }\n        // Some offset to increase the space usage.\n        const space = innerHeight - row * size;\n        const intervalY = row <= 1 ? 0 : space / (row - 1);\n        const [offsetX, offsetY] = row <= 1\n            ? [\n                (innerWidth - pcount * size) / (pcount - 1),\n                (innerHeight - size) / 2,\n            ]\n            : [0, 0];\n        return P.map((points, m) => {\n            const [x, y, width, height] = calcBBox(points);\n            const i = direction === 'col' ? m % col : Math.floor(m / row);\n            const j = direction === 'col' ? Math.floor(m / col) : m % row;\n            const newX = i * size;\n            const newY = (row - j - 1) * size + space;\n            const sx = (size - padding) / width;\n            const sy = (size - padding) / height;\n            // Translate the shape and mark to make sure the center of\n            // shape is overlap before and after scale transformation.\n            const tx = newX - x + offsetX * i + (1 / 2) * padding;\n            const ty = newY - y - intervalY * j - offsetY + (1 / 2) * padding;\n            return `translate(${tx}, ${ty}) scale(${sx}, ${sy})`;\n        });\n    };\n}\n/**\n * Uniform pack to avid overlap.\n * @todo Improve or change algorithm to increase space usage.\n * @todo Take some special case into account.\n */\nexport const Pack = (options) => {\n    return (I, mark) => {\n        return [I, deepMix({}, mark, { modifier: pack(options), axis: false })];\n    };\n};\nPack.props = {};\n//# sourceMappingURL=pack.js.map","/**\n * Sample data with lttb(Largest-Triangle-Three-Buckets) algo (https://github.com/pingec/downsample-lttb).\n * Return the sampled index array.\n */\nexport function lttb(I, X, Y, thresholds) {\n    const length = I.length;\n    if (thresholds >= length || thresholds === 0) {\n        return I;\n    }\n    const x = (i) => X[I[i]] * 1;\n    const y = (i) => Y[I[i]] * 1;\n    const sampled = [];\n    // Bucket size. Leave room for start and end data points.\n    const every = (length - 2) / (thresholds - 2);\n    let a = 0; // Initially a is the first point in the triangle.\n    let maxArea;\n    let area;\n    let nextA;\n    sampled.push(a); // Always add the first point.\n    for (let i = 0; i < thresholds - 2; i++) {\n        // Calculate point average for next bucket (containing c).\n        let avgX = 0;\n        let avgY = 0;\n        let start = Math.floor((i + 1) * every) + 1;\n        let end = Math.floor((i + 2) * every) + 1;\n        end = Math.min(end, length);\n        const size = end - start;\n        for (; start < end; start++) {\n            avgX += x(start);\n            avgY += y(start);\n        }\n        avgX /= size;\n        avgY /= size;\n        // Get the range for this bucket.\n        let frameStart = Math.floor((i + 0) * every) + 1;\n        const frameEnd = Math.floor((i + 1) * every) + 1;\n        // Point a.\n        const pointA = [x(a), y(a)];\n        maxArea = area = -1;\n        for (; frameStart < frameEnd; frameStart++) {\n            // Calculate triangle area over three buckets.\n            area =\n                Math.abs((pointA[0] - avgX) * (x(frameStart) - pointA[1]) -\n                    (pointA[0] - y(frameStart)) * (avgY - pointA[0])) * 0.5;\n            if (area > maxArea) {\n                maxArea = area;\n                nextA = frameStart; // Next a is this b.\n            }\n        }\n        sampled.push(nextA); // Pick this point from the bucket.\n        a = nextA; // This a is the next a (chosen b).\n    }\n    sampled.push(length - 1); // Always add last.\n    return sampled.map((a) => I[a]);\n}\n//# sourceMappingURL=lttb.js.map","// @ts-ignore medianIndex exist in d3-array@3.2.0, but @types/d3-array Expired.\nimport { maxIndex, minIndex, medianIndex } from 'd3-array';\nimport { createGroups } from './utils/order';\nimport { columnOf } from './utils/helper';\nimport { lttb } from './utils/lttb';\nfunction normalizeSample(strategy) {\n    if (typeof strategy === 'function')\n        return strategy;\n    if (strategy === 'lttb')\n        return lttb;\n    const strategies = {\n        first: (f) => [f[0]],\n        last: (f) => [f[f.length - 1]],\n        min: (f, X, Y) => [\n            f[minIndex(f, (i) => Y[i])],\n        ],\n        max: (f, X, Y) => [\n            f[maxIndex(f, (i) => Y[i])],\n        ],\n        median: (f, X, Y) => [\n            f[medianIndex(f, (i) => Y[i])],\n        ],\n    };\n    const sampleFunction = strategies[strategy] || strategies.median;\n    return (I, X, Y, thresholds) => {\n        // Sepreate group to frames, then sample each frame.\n        // Keep more data as possible.\n        const frameSize = Math.max(1, Math.floor(I.length / thresholds));\n        const frames = getFrames(I, frameSize);\n        return frames.flatMap((frame) => sampleFunction(frame, X, Y));\n    };\n}\n/**\n * Split the array into frame with each frameSize.\n */\nfunction getFrames(I, frameSize) {\n    const size = I.length;\n    const frames = [];\n    let i = 0;\n    while (i < size) {\n        frames.push(I.slice(i, (i += frameSize)));\n    }\n    return frames;\n}\n/**\n * The sample transform groups marks with specified groupBy fields, and\n * sample data for each group when data.length >= threshold(default = 2000).\n */\nexport const Sample = (options = {}) => {\n    const { strategy = 'median', thresholds = 2000, groupBy = ['series', 'color'], } = options;\n    const sampleFunction = normalizeSample(strategy);\n    return (I, mark) => {\n        const { encode } = mark;\n        const groups = createGroups(groupBy, I, mark);\n        const [X] = columnOf(encode, 'x');\n        const [Y] = columnOf(encode, 'y');\n        return [\n            groups.flatMap((g) => sampleFunction(g, X, Y, thresholds)),\n            mark,\n        ];\n    };\n};\nSample.props = {};\n//# sourceMappingURL=sample.js.map","import { deepMix } from '@antv/util';\nimport { defined } from '../utils/helper';\nimport { columnOf } from './utils/helper';\nfunction normalizeValue(value) {\n    if (typeof value === 'object')\n        return [value.value, value.ordinal];\n    else\n        return [value, true];\n}\nfunction filterWhenNoElements(mark) {\n    var _a;\n    const { encode } = mark;\n    // keep y-axis\n    const noElementMark = Object.assign(Object.assign({}, mark), { encode: Object.assign(Object.assign({}, mark.encode), { y: Object.assign(Object.assign({}, mark.encode.y), { value: [] }) }) });\n    const targetField = (_a = encode === null || encode === void 0 ? void 0 : encode.color) === null || _a === void 0 ? void 0 : _a.field;\n    if (!encode || !targetField) {\n        return noElementMark;\n    }\n    // 获取color的筛选源\n    let filterObject;\n    for (const [key, v] of Object.entries(encode)) {\n        if ((key === 'x' || key === 'y') && v.field === targetField) {\n            filterObject = Object.assign(Object.assign({}, filterObject), { [key]: Object.assign(Object.assign({}, v), { value: [] }) });\n        }\n    }\n    if (!filterObject) {\n        return noElementMark;\n    }\n    return Object.assign(Object.assign({}, mark), { encode: Object.assign(Object.assign({}, mark.encode), filterObject) });\n}\n/**\n * The Filter transform filter channels.\n */\nexport const Filter = (options = {}) => {\n    return (I, mark) => {\n        const { encode, data } = mark;\n        const filters = Object.entries(options)\n            .map(([key, v]) => {\n            const [V] = columnOf(encode, key);\n            // Skip empty channel.\n            if (!V)\n                return null;\n            const [value, ordinal = true] = normalizeValue(v);\n            if (typeof value === 'function')\n                return (i) => value(V[i]);\n            if (ordinal) {\n                const expectedValues = Array.isArray(value) ? value : [value];\n                // Skip empty expected values.\n                if (expectedValues.length === 0)\n                    return null;\n                return (i) => expectedValues.includes(V[i]);\n            }\n            else {\n                const [start, end] = value;\n                return (i) => V[i] >= start && V[i] <= end;\n            }\n        })\n            .filter(defined);\n        // Filter index and channels.\n        const totalFilter = (i) => filters.every((f) => f(i));\n        const FI = I.filter(totalFilter);\n        const newIndex = FI.map((_, i) => i);\n        if (filters.length === 0) {\n            const targetMark = filterWhenNoElements(mark);\n            return [I, targetMark];\n        }\n        const newEncodes = Object.entries(encode).map(([key, encode]) => {\n            return [\n                key,\n                Object.assign(Object.assign({}, encode), { value: newIndex\n                        .map((i) => encode.value[FI[i]])\n                        .filter((v) => v !== undefined) }),\n            ];\n        });\n        return [\n            newIndex,\n            deepMix({}, mark, {\n                encode: Object.fromEntries(newEncodes),\n                // Filter data for tooltip item.\n                data: FI.map((i) => data[i]),\n            }),\n        ];\n    };\n};\nFilter.props = {};\n//# sourceMappingURL=filter.js.map","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nconst fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { dsvFormat, autoType as d3AutoType } from 'd3-dsv';\nimport { identity } from '../utils/helper';\nexport const Fetch = (options) => {\n    const { value, format = value.split('.').pop(), delimiter = ',', autoType = true, } = options;\n    return () => __awaiter(void 0, void 0, void 0, function* () {\n        const response = yield fetch(value);\n        if (format === 'csv') {\n            // @see: https://github.com/d3/d3-dsv#dsv_parse\n            const str = yield response.text();\n            return dsvFormat(delimiter).parse(str, autoType ? d3AutoType : identity);\n        }\n        else if (format === 'json') {\n            return yield response.json();\n        }\n        throw new Error(`Unknown format: ${format}.`);\n    });\n};\nFetch.props = {};\n//# sourceMappingURL=fetch.js.map","export const Inline = (options) => {\n    const { value } = options;\n    return () => value;\n};\nInline.props = {};\n//# sourceMappingURL=inline.js.map","import { normalizeFields } from './utils/fields';\n/**\n * Immutable data sort by specified fields.\n */\nexport const SortBy = (options) => {\n    const { fields: F = [] } = options;\n    const normalizedF = normalizeFields(F, true);\n    return (data) => {\n        const comparator = (a, b) => normalizedF.reduce((ret, [field, order = true]) => {\n            if (ret !== 0) {\n                return ret;\n            }\n            if (order) {\n                return a[field] < b[field] ? -1 : +(a[field] !== b[field]);\n            }\n            else {\n                return a[field] > b[field] ? -1 : +(a[field] !== b[field]);\n            }\n        }, 0);\n        return [...data].sort(comparator);\n    };\n};\nSortBy.props = {};\n//# sourceMappingURL=sortBy.js.map","/**\n *\n * @description Converts a random format array into a regular two-dimensional array\n * @example ['a', 'b', ['c', value]] => [['a', defaultValue], ['b', defaultValue], ['c', value]]\n */\nexport function normalizeFields(fields, defaultValue) {\n    return fields.map((d) => {\n        if (Array.isArray(d)) {\n            const [field, value = defaultValue] = d;\n            return [field, value];\n        }\n        return [d, defaultValue];\n    });\n}\n//# sourceMappingURL=fields.js.map","export function defined(d) {\n    return d !== undefined && d !== null && !Number.isNaN(d);\n}\n/**\n * Sort data similar with Array.prototypo.sort.\n */\nexport const Sort = (options) => {\n    const { callback } = options;\n    return (data) => (Array.isArray(data) ? [...data].sort(callback) : data);\n};\nSort.props = {};\n//# sourceMappingURL=sort.js.map","export function defined(d) {\n    return d !== undefined && d !== null && !Number.isNaN(d);\n}\n/**\n * Filter data by specified fields and filter callback for each fields.\n * It saves datum with every fields defined by default.\n */\nexport const Filter = (options) => {\n    const { callback = defined } = options;\n    return (data) => data.filter(callback);\n};\nFilter.props = {};\n//# sourceMappingURL=filter.js.map","function pick(v, fields = []) {\n    return fields.reduce((datum, field) => {\n        // Pick the data deeply.\n        if (field in v) {\n            datum[field] = v[field];\n        }\n        return datum;\n    }, {});\n}\n/**\n * Immutable data pick by specified fields.\n */\nexport const Pick = (options) => {\n    const { fields } = options;\n    return (data) => data.map((d) => pick(d, fields));\n};\nPick.props = {};\n//# sourceMappingURL=pick.js.map","export function isEmpty(obj) {\n    return Object.keys(obj).length === 0;\n}\n/**\n * Immutable data rename by specified fields.\n */\nexport const Rename = (options) => {\n    return (data) => {\n        if (!options || isEmpty(options))\n            return data;\n        const rename = (v) => Object.entries(v).reduce((datum, [key, value]) => ((datum[options[key] || key] = value), datum), {});\n        return data.map(rename);\n    };\n};\nRename.props = {};\n//# sourceMappingURL=rename.js.map","export function isEmpty(obj) {\n    return !obj || Object.keys(obj).length === 0;\n}\n/**\n * Collapses (or “folds”) one or more data fields into two\n * properties: `key` (contains the original data field name)\n * and `value` (contains the original data value.)\n */\nexport const Fold = (options) => {\n    const { fields, key = 'key', value = 'value' } = options;\n    return (data) => {\n        if (isEmpty(fields))\n            return data;\n        return data.flatMap((d) => fields.map((f) => (Object.assign(Object.assign({}, d), { [key]: f, [value]: d[f] }))));\n    };\n};\nFold.props = {};\n//# sourceMappingURL=fold.js.map","/**\n * Slice data between `start` ~ `end`.\n * Same with https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\n */\nexport const Slice = (options) => {\n    const { start, end } = options;\n    return (data) => data.slice(start, end);\n};\nSlice.props = {};\n//# sourceMappingURL=slice.js.map","import { identity } from '../utils/helper';\n/**\n * Connector transfom by function.\n */\nexport const Custom = (options) => {\n    const { callback = identity } = options;\n    return (data) => callback(data);\n};\nCustom.props = {};\n//# sourceMappingURL=custom.js.map","import { identity } from '../utils/helper';\n/**\n * Map transform by function.\n */\nexport const Map = (options) => {\n    const { callback = identity } = options;\n    return (data) => (Array.isArray(data) ? data.map(callback) : data);\n};\nMap.props = {};\n//# sourceMappingURL=map.js.map","import { rollup } from 'd3-array';\nfunction field(key) {\n    return typeof key === 'string' ? (d) => d[key] : key;\n}\n/**\n * Join data with another dataset by SQL style.\n */\nexport const Join = (options) => {\n    // const { fromKey, from, key, unknown = NaN, ...rest } = options;\n    const { join, on, select = [], as = select, unknown = NaN } = options;\n    const [key, fromKey] = on;\n    const fk = field(fromKey);\n    const k = field(key);\n    const keyData = rollup(join, ([d]) => d, // Get the first matched.\n    (d) => fk(d));\n    return (data) => data.map((d) => {\n        const source = keyData.get(k(d));\n        return Object.assign(Object.assign({}, d), select.reduce((prev, key, idx) => ((prev[as[idx]] = source ? source[key] : unknown), prev), {}));\n    });\n};\nJoin.props = {};\n//# sourceMappingURL=join.js.map","import pdf from 'pdfast';\nimport { group } from 'd3-array';\nexport function defined(d) {\n    return d !== undefined && d !== null && !Number.isNaN(d);\n}\n/**\n * Kernel Density Estimation base on [pdfast](https://www.npmjs.com/package/pdfast),\n * generating probability density function (pdf) using triangular kernel,\n * optimized to run in O(N + K).\n */\nexport const KDE = (options) => {\n    const { field, groupBy, as = ['y', 'size'], min, max, size = 10, width, } = options;\n    const [yField, sizeField] = as;\n    return (data) => {\n        const gs = Array.from(group(data, (d) => groupBy.map((gb) => d[gb]).join('-')).values());\n        return gs.map((g) => {\n            const pdfResult = pdf.create(g.map((i) => i[field]), {\n                min,\n                max,\n                size,\n                width,\n            });\n            const _y = pdfResult.map((result) => result.x);\n            const _size = pdfResult.map((result) => result.y);\n            return Object.assign(Object.assign({}, g[0]), { [yField]: _y, [sizeField]: _size });\n        });\n    };\n};\nKDE.props = {};\n//# sourceMappingURL=kde.js.map","/**\n * Console.log the data section for dev debugger.\n */\nexport const Log = () => {\n    return (data) => {\n        console.log('G2 data section:', data);\n        return data;\n    };\n};\nLog.props = {};\n//# sourceMappingURL=log.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * @todo Combine with the `Container` util\n */\nexport function flow(target, source) {\n    return {\n        set(key, normalize, callback) {\n            if (source[key] === undefined)\n                return this;\n            const value = normalize ? normalize.call(null, source[key]) : source[key];\n            if (callback)\n                callback.call(null, value);\n            else if (typeof target[key] === 'function')\n                target[key](value);\n            else\n                target[key] = value;\n            return this;\n        },\n        setAsync(key, normalize, callback) {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (source[key] === undefined)\n                    return this;\n                const value = normalize\n                    ? yield normalize.call(null, source[key])\n                    : source[key];\n                if (callback)\n                    callback.call(null, value);\n                else if (typeof target[key] === 'function')\n                    target[key](value);\n                else\n                    target[key] = value;\n                return this;\n            });\n        },\n    };\n}\n//# sourceMappingURL=flow.js.map","const cloudRadians = Math.PI / 180, cw = (1 << 11) >> 5, ch = 1 << 11;\nfunction cloudText(d) {\n    return d.text;\n}\nfunction cloudFont() {\n    return 'serif';\n}\nfunction cloudFontNormal() {\n    return 'normal';\n}\nfunction cloudFontSize(d) {\n    return d.value;\n}\nfunction cloudRotate() {\n    return ~~(Math.random() * 2) * 90;\n}\nfunction cloudPadding() {\n    return 1;\n}\nfunction cloudDispatch() {\n    return;\n}\n// Fetches a monochrome sprite bitmap for the specified text.\n// Load in batches for speed.\nfunction cloudSprite(contextAndRatio, d, data, di) {\n    if (d.sprite)\n        return;\n    const c = contextAndRatio.context, ratio = contextAndRatio.ratio;\n    c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\n    let x = 0, y = 0, maxh = 0;\n    const n = data.length;\n    --di;\n    while (++di < n) {\n        d = data[di];\n        c.save();\n        c.font =\n            d.style +\n                ' ' +\n                d.weight +\n                ' ' +\n                ~~((d.size + 1) / ratio) +\n                'px ' +\n                d.font;\n        let w = c.measureText(d.text + 'm').width * ratio, h = d.size << 1;\n        if (d.rotate) {\n            const sr = Math.sin(d.rotate * cloudRadians), cr = Math.cos(d.rotate * cloudRadians), wcr = w * cr, wsr = w * sr, hcr = h * cr, hsr = h * sr;\n            w =\n                ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\n            h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\n        }\n        else {\n            w = ((w + 0x1f) >> 5) << 5;\n        }\n        if (h > maxh)\n            maxh = h;\n        if (x + w >= cw << 5) {\n            x = 0;\n            y += maxh;\n            maxh = 0;\n        }\n        if (y + h >= ch)\n            break;\n        c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\n        if (d.rotate)\n            c.rotate(d.rotate * cloudRadians);\n        c.fillText(d.text, 0, 0);\n        if (d.padding) {\n            c.lineWidth = 2 * d.padding;\n            c.strokeText(d.text, 0, 0);\n        }\n        c.restore();\n        d.width = w;\n        d.height = h;\n        d.xoff = x;\n        d.yoff = y;\n        d.x1 = w >> 1;\n        d.y1 = h >> 1;\n        d.x0 = -d.x1;\n        d.y0 = -d.y1;\n        d.hasText = true;\n        x += w;\n    }\n    const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data, sprite = [];\n    while (--di >= 0) {\n        d = data[di];\n        if (!d.hasText)\n            continue;\n        const w = d.width, w32 = w >> 5;\n        let h = d.y1 - d.y0;\n        // Zero the buffer\n        for (let i = 0; i < h * w32; i++)\n            sprite[i] = 0;\n        x = d.xoff;\n        if (x == null)\n            return;\n        y = d.yoff;\n        let seen = 0, seenRow = -1;\n        for (let j = 0; j < h; j++) {\n            for (let i = 0; i < w; i++) {\n                const k = w32 * j + (i >> 5), m = pixels[((y + j) * (cw << 5) + (x + i)) << 2]\n                    ? 1 << (31 - (i % 32))\n                    : 0;\n                sprite[k] |= m;\n                seen |= m;\n            }\n            if (seen)\n                seenRow = j;\n            else {\n                d.y0++;\n                h--;\n                j--;\n                y++;\n            }\n        }\n        d.y1 = d.y0 + seenRow;\n        d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\n    }\n}\n// Use mask-based collision detection.\nfunction cloudCollide(tag, board, sw) {\n    sw >>= 5;\n    const sprite = tag.sprite, w = tag.width >> 5, lx = tag.x - (w << 4), sx = lx & 0x7f, msx = 32 - sx, h = tag.y1 - tag.y0;\n    let x = (tag.y + tag.y0) * sw + (lx >> 5), last;\n    for (let j = 0; j < h; j++) {\n        last = 0;\n        for (let i = 0; i <= w; i++) {\n            if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) &\n                board[x + i])\n                return true;\n        }\n        x += sw;\n    }\n    return false;\n}\nfunction cloudBounds(bounds, d) {\n    const b0 = bounds[0], b1 = bounds[1];\n    if (d.x + d.x0 < b0.x)\n        b0.x = d.x + d.x0;\n    if (d.y + d.y0 < b0.y)\n        b0.y = d.y + d.y0;\n    if (d.x + d.x1 > b1.x)\n        b1.x = d.x + d.x1;\n    if (d.y + d.y1 > b1.y)\n        b1.y = d.y + d.y1;\n}\nfunction collideRects(a, b) {\n    return (a.x + a.x1 > b[0].x &&\n        a.x + a.x0 < b[1].x &&\n        a.y + a.y1 > b[0].y &&\n        a.y + a.y0 < b[1].y);\n}\nfunction archimedeanSpiral(size) {\n    const e = size[0] / size[1];\n    return function (t) {\n        return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\n    };\n}\nfunction rectangularSpiral(size) {\n    const dy = 4, dx = (dy * size[0]) / size[1];\n    let x = 0, y = 0;\n    return function (t) {\n        const sign = t < 0 ? -1 : 1;\n        // See triangular numbers: T_n = n * (n + 1) / 2.\n        switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\n            case 0:\n                x += dx;\n                break;\n            case 1:\n                y += dy;\n                break;\n            case 2:\n                x -= dx;\n                break;\n            default:\n                y -= dy;\n                break;\n        }\n        return [x, y];\n    };\n}\n// TODO reuse arrays?\nfunction zeroArray(n) {\n    const a = [];\n    let i = -1;\n    while (++i < n)\n        a[i] = 0;\n    return a;\n}\nfunction cloudCanvas() {\n    return document.createElement('canvas');\n}\nfunction functor(d) {\n    return typeof d === 'function'\n        ? d\n        : function () {\n            return d;\n        };\n}\nconst spirals = {\n    archimedean: archimedeanSpiral,\n    rectangular: rectangularSpiral,\n};\nexport function tagCloud() {\n    let size = [256, 256], text = cloudText, font = cloudFont, fontSize = cloudFontSize, fontWeight = cloudFontNormal, rotate = cloudRotate, padding = cloudPadding, spiral = archimedeanSpiral, random = Math.random, event = cloudDispatch, words = [], timer = null, timeInterval = Infinity, canvas = cloudCanvas;\n    const fontStyle = cloudFontNormal;\n    const cloud = {};\n    cloud.start = function () {\n        const [width, height] = size;\n        const contextAndRatio = getContext(canvas()), board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]), n = words.length, tags = [], data = words\n            .map(function (d, i, data) {\n            d.text = text.call(this, d, i, data);\n            d.font = font.call(this, d, i, data);\n            d.style = fontStyle.call(this, d, i, data);\n            d.weight = fontWeight.call(this, d, i, data);\n            d.rotate = rotate.call(this, d, i, data);\n            d.size = ~~fontSize.call(this, d, i, data);\n            d.padding = padding.call(this, d, i, data);\n            return d;\n        })\n            .sort(function (a, b) {\n            return b.size - a.size;\n        });\n        let i = -1, bounds = !cloud.board\n            ? undefined\n            : [\n                {\n                    x: 0,\n                    y: 0,\n                },\n                {\n                    x: width,\n                    y: height,\n                },\n            ];\n        if (timer)\n            clearInterval(timer);\n        timer = setInterval(step, 0);\n        step();\n        function step() {\n            const start = Date.now();\n            while (Date.now() - start < timeInterval && ++i < n) {\n                const d = data[i];\n                d.x = (width * (random() + 0.5)) >> 1;\n                d.y = (height * (random() + 0.5)) >> 1;\n                cloudSprite(contextAndRatio, d, data, i);\n                if (d.hasText && place(board, d, bounds)) {\n                    event.call(null, 'word', { cloud, word: d });\n                    tags.push(d);\n                    if (bounds) {\n                        if (!cloud.hasImage) {\n                            // update bounds if image mask not set\n                            cloudBounds(bounds, d);\n                        }\n                    }\n                    else {\n                        bounds = [\n                            { x: d.x + d.x0, y: d.y + d.y0 },\n                            { x: d.x + d.x1, y: d.y + d.y1 },\n                        ];\n                    }\n                    // Temporary hack\n                    d.x -= size[0] >> 1;\n                    d.y -= size[1] >> 1;\n                }\n            }\n            cloud._tags = tags;\n            cloud._bounds = bounds;\n            if (i >= n) {\n                cloud.stop();\n                event.call(null, 'end', { cloud, words: tags, bounds });\n            }\n        }\n        return cloud;\n    };\n    cloud.stop = function () {\n        if (timer) {\n            clearInterval(timer);\n            timer = null;\n        }\n        return cloud;\n    };\n    function getContext(canvas) {\n        canvas.width = canvas.height = 1;\n        const ratio = Math.sqrt(canvas.getContext('2d').getImageData(0, 0, 1, 1).data.length >> 2);\n        canvas.width = (cw << 5) / ratio;\n        canvas.height = ch / ratio;\n        const context = canvas.getContext('2d');\n        context.fillStyle = context.strokeStyle = 'red';\n        context.textAlign = 'center';\n        context.textBaseline = 'middle';\n        return { context, ratio };\n    }\n    function place(board, tag, bounds) {\n        // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\n        const startX = tag.x, startY = tag.y, maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]), s = spiral(size), dt = random() < 0.5 ? 1 : -1;\n        let dxdy, t = -dt, dx, dy;\n        while ((dxdy = s((t += dt)))) {\n            dx = ~~dxdy[0];\n            dy = ~~dxdy[1];\n            if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta)\n                break;\n            tag.x = startX + dx;\n            tag.y = startY + dy;\n            if (tag.x + tag.x0 < 0 ||\n                tag.y + tag.y0 < 0 ||\n                tag.x + tag.x1 > size[0] ||\n                tag.y + tag.y1 > size[1])\n                continue;\n            // TODO only check for collisions within current bounds.\n            if (!bounds || !cloudCollide(tag, board, size[0])) {\n                if (!bounds || collideRects(tag, bounds)) {\n                    const sprite = tag.sprite, w = tag.width >> 5, sw = size[0] >> 5, lx = tag.x - (w << 4), sx = lx & 0x7f, msx = 32 - sx, h = tag.y1 - tag.y0;\n                    let last, x = (tag.y + tag.y0) * sw + (lx >> 5);\n                    for (let j = 0; j < h; j++) {\n                        last = 0;\n                        for (let i = 0; i <= w; i++) {\n                            board[x + i] |=\n                                (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\n                        }\n                        x += sw;\n                    }\n                    delete tag.sprite;\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    cloud.createMask = (img) => {\n        const can = document.createElement('canvas');\n        const [width, height] = size;\n        // 当 width 或 height 为 0 时，调用 cxt.getImageData 会报错\n        if (!width || !height) {\n            return;\n        }\n        const w32 = width >> 5;\n        const board = zeroArray((width >> 5) * height);\n        can.width = width;\n        can.height = height;\n        const cxt = can.getContext('2d');\n        cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\n        const imageData = cxt.getImageData(0, 0, width, height).data;\n        for (let j = 0; j < height; j++) {\n            for (let i = 0; i < width; i++) {\n                const k = w32 * j + (i >> 5);\n                const tmp = (j * width + i) << 2;\n                const flag = imageData[tmp] >= 250 &&\n                    imageData[tmp + 1] >= 250 &&\n                    imageData[tmp + 2] >= 250;\n                const m = flag ? 1 << (31 - (i % 32)) : 0;\n                board[k] |= m;\n            }\n        }\n        cloud.board = board;\n        cloud.hasImage = true;\n    };\n    cloud.timeInterval = function (_) {\n        timeInterval = _ == null ? Infinity : _;\n    };\n    cloud.words = function (_) {\n        words = _;\n    };\n    cloud.size = function (_ = []) {\n        size = [+_[0], +_[1]];\n    };\n    cloud.text = function (_) {\n        text = functor(_);\n    };\n    cloud.font = function (_) {\n        font = functor(_);\n    };\n    cloud.fontWeight = function (_) {\n        fontWeight = functor(_);\n    };\n    cloud.rotate = function (_) {\n        rotate = functor(_);\n    };\n    cloud.canvas = function (_) {\n        canvas = functor(_);\n    };\n    cloud.spiral = function (_) {\n        spiral = spirals[_] || _;\n    };\n    cloud.fontSize = function (_) {\n        fontSize = functor(_);\n    };\n    cloud.padding = function (_) {\n        padding = functor(_);\n    };\n    cloud.random = function (_) {\n        random = functor(_);\n    };\n    cloud.on = function (_) {\n        event = functor(_);\n    };\n    return cloud;\n}\n//# sourceMappingURL=index.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { min, max } from 'd3-array';\nimport { flow } from './utils/flow';\nimport { tagCloud } from './utils/d3-cloud';\nconst DEFAULT_OPTIONS = {\n    fontSize: [20, 60],\n    font: 'Impact',\n    padding: 2,\n    rotate: function () {\n        return (~~(Math.random() * 6) - 3) * 30;\n    },\n};\n/**\n * Process the image mask of wordCloud.\n * @param img\n * @returns\n */\nexport function processImageMask(img) {\n    return new Promise((res, rej) => {\n        if (img instanceof HTMLImageElement) {\n            res(img);\n            return;\n        }\n        if (typeof img === 'string') {\n            const image = new Image();\n            image.crossOrigin = 'anonymous';\n            image.src = img;\n            image.onload = () => res(image);\n            image.onerror = () => {\n                console.error(`'image ${img} load failed !!!'`);\n                rej();\n            };\n            return;\n        }\n        rej();\n    });\n}\n/**\n * normalize fontSize range to d3-cloud fontSize function.\n * @param fontSize\n * @param range\n * @returns\n */\nexport function normalizeFontSize(fontSize, range) {\n    if (typeof fontSize === 'function')\n        return fontSize;\n    if (Array.isArray(fontSize)) {\n        const [fMin, fMax] = fontSize;\n        if (!range)\n            return () => (fMax + fMin) / 2;\n        const [min, max] = range;\n        if (max === min)\n            return () => (fMax + fMin) / 2;\n        return ({ value }) => ((fMax - fMin) / (max - min)) * (value - min) + fMin;\n    }\n    return () => fontSize;\n}\nexport const WordCloud = (options, context) => {\n    return (data) => __awaiter(void 0, void 0, void 0, function* () {\n        const cloudOptions = Object.assign({}, DEFAULT_OPTIONS, options, {\n            canvas: context.createCanvas,\n        });\n        const layout = tagCloud();\n        yield flow(layout, cloudOptions)\n            .set('fontSize', (v) => {\n            const arr = data.map((d) => d.value);\n            return normalizeFontSize(v, [min(arr), max(arr)]);\n        })\n            .set('font')\n            .set('fontStyle')\n            .set('fontWeight')\n            .set('padding')\n            .set('rotate')\n            .set('size')\n            .set('spiral')\n            .set('timeInterval')\n            .set('random')\n            .set('text')\n            .set('on')\n            .set('canvas')\n            .setAsync('imageMask', processImageMask, layout.createMask);\n        layout.words([...data]);\n        const result = layout.start();\n        const [cw, ch] = cloudOptions.size;\n        const defaultBounds = [\n            { x: 0, y: 0 },\n            { x: cw, y: ch },\n        ];\n        const { _bounds: bounds = defaultBounds, _tags, hasImage } = result;\n        const tags = _tags.map((_a) => {\n            var { x, y, font } = _a, rest = __rest(_a, [\"x\", \"y\", \"font\"]);\n            return (Object.assign(Object.assign({}, rest), { x: x + cw / 2, y: y + ch / 2, fontFamily: font }));\n        });\n        // Append two data to replace the corner of top-left and bottom-right, avoid calculate the actual bounds will occur some error.\n        const [{ x: tlx, y: tly }, { x: brx, y: bry }] = bounds;\n        const invisibleText = { text: '', value: 0, opacity: 0, fontSize: 0 };\n        tags.push(Object.assign(Object.assign({}, invisibleText), { x: hasImage ? 0 : tlx, y: hasImage ? 0 : tly }), Object.assign(Object.assign({}, invisibleText), { x: hasImage ? cw : brx, y: hasImage ? ch : bry }));\n        return tags;\n    });\n};\nWordCloud.props = {};\n//# sourceMappingURL=wordCloud.js.map","export function ema(values, alpha) {\n    if (alpha < 0 || alpha > 1) {\n        throw new Error('alpha must be between 0 and 1.');\n    }\n    if (values.length === 0) {\n        return [];\n    }\n    let last = values[0];\n    const smoothed = [];\n    for (const point of values) {\n        if (point === null || point === undefined) {\n            // 如果没有数据的话，使用最近的值\n            smoothed.push(point);\n            console.warn('EMA：The value is null or undefined', values);\n            continue;\n        }\n        if (last === null || last === undefined) {\n            last = point;\n        }\n        const smoothedVal = last * alpha + (1 - alpha) * point;\n        smoothed.push(smoothedVal);\n        last = smoothedVal;\n    }\n    return smoothed;\n}\n/**\n * https://en.wikipedia.org/wiki/Exponential_smoothing\n * @param options\n * @returns\n */\nexport const EMA = (options) => {\n    const { field = 'y', alpha = 0.6, as = field } = options;\n    return (data) => {\n        const values = data.map((d) => {\n            return d[field];\n        });\n        const out = ema(values, alpha);\n        return data.map((d, i) => {\n            return Object.assign(Object.assign({}, d), { [as]: out[i] });\n        });\n    };\n};\nEMA.props = {};\n//# sourceMappingURL=ema.js.map","export function parseAABB(min2) {\n    const { min, max } = min2;\n    return [\n        [min[0], min[1]],\n        [max[0], max[1]],\n    ];\n}\n/**\n * Whether the `point` in `bounds`.\n * @param point\n * @param bounds\n */\nexport function isInBounds(point, bounds) {\n    const [x, y] = point;\n    const [min, max] = bounds;\n    return x >= min[0] && x <= max[0] && y >= min[1] && y <= max[1];\n}\n/**\n * Whether `b1` is overflow from `b2`.\n * @param b1\n * @param b2\n */\nexport function isOverflow(b1, b2) {\n    const [min, max] = b1;\n    return !(isInBounds(min, b2) && isInBounds(max, b2));\n}\n/**\n * Whether `b1` is overlap with `b2`.\n * @param b1\n * @param b2\n * @returns\n */\nexport function isOverlap(b1, b2) {\n    const [min1, max1] = b1;\n    const [min2, max2] = b2;\n    return (min1[0] < max2[0] &&\n        max1[0] > min2[0] &&\n        min1[1] < max2[1] &&\n        max1[1] > min2[1]);\n}\n//# sourceMappingURL=bounds.js.map","import { isOverlap, parseAABB } from '../utils/bounds';\nimport { hide, show } from '../utils/style';\n/**\n * Hide the label when overlap.\n */\nexport const OverlapHide = (options) => {\n    const { priority } = options;\n    return (labels) => {\n        const displayLabels = [];\n        // When overlap, will hide the next label.\n        if (priority)\n            labels.sort(priority);\n        labels.forEach((l) => {\n            show(l);\n            const b1 = l.getLocalBounds();\n            const overlaping = displayLabels.some((dl) => isOverlap(parseAABB(b1), parseAABB(dl.getLocalBounds())));\n            if (overlaping)\n                hide(l);\n            else\n                displayLabels.push(l);\n        });\n        return labels;\n    };\n};\n//# sourceMappingURL=overlapHide.js.map","import { ascending } from 'd3-array';\nfunction isSegmentIntersect([a, b], [c, d]) {\n    return d > a && b > c;\n}\nfunction useMap() {\n    const map = new Map();\n    const get = (key) => map.get(key);\n    const set = (key, value) => map.set(key, value);\n    return [get, set];\n}\nfunction getBoundsWithoutConnector(shape) {\n    const node = shape.cloneNode(true);\n    const connectorShape = node.getElementById('connector');\n    connectorShape && node.removeChild(connectorShape);\n    const { min, max } = node.getRenderBounds();\n    node.destroy();\n    return { min, max };\n}\n/**\n * An iterative dodge method avoids label overlap. (n * log(n))\n */\nexport const OverlapDodgeY = (options) => {\n    const { maxIterations = 10, maxError = 0.1, padding = 1 } = options;\n    return (labels) => {\n        const n = labels.length;\n        if (n <= 1)\n            return labels;\n        // Index y, x0, x, height, by label.\n        const [y0, setY0] = useMap();\n        const [y, setY] = useMap();\n        const [h, setH] = useMap();\n        const [xx, setXX] = useMap();\n        for (const label of labels) {\n            const { min, max } = getBoundsWithoutConnector(label);\n            const [x0, y0] = min;\n            const [x1, y1] = max;\n            setY0(label, y0);\n            setY(label, y0);\n            setH(label, y1 - y0);\n            setXX(label, [x0, x1]);\n        }\n        // Offsets position Y.\n        for (let iter = 0; iter < maxIterations; iter++) {\n            labels.sort((a, b) => ascending(y(a), y(b)));\n            let error = 0;\n            for (let i = 0; i < n - 1; i++) {\n                const l0 = labels[i];\n                let j = i + 1;\n                let l1;\n                // Find the next label overlapping with the current label in x direction.\n                while ((l1 = labels[j]) && !isSegmentIntersect(xx(l0), xx(l1)))\n                    j += 1;\n                if (l1) {\n                    const y0 = y(l0);\n                    const h0 = h(l0);\n                    const y1 = y(l1);\n                    const delta = y1 - (y0 + h0);\n                    if (delta < padding) {\n                        const newDelta = (padding - delta) / 2;\n                        error = Math.max(error, newDelta);\n                        setY(l0, y0 - newDelta);\n                        setY(l1, y1 + newDelta);\n                    }\n                }\n            }\n            if (error < maxError)\n                break;\n        }\n        for (const label of labels) {\n            label.style.y += y(label) - y0(label);\n        }\n        return labels;\n    };\n};\n//# sourceMappingURL=overlapDodgeY.js.map","import { isOverflow, parseAABB } from '../utils/bounds';\nimport { hide, show } from '../utils/style';\n/**\n * Hide the label when the label is overflowed from the element.\n */\nexport const OverflowHide = () => {\n    return (labels) => {\n        labels.forEach((l) => {\n            show(l);\n            const bounds = l.attr('bounds');\n            const b = l.getLocalBounds();\n            const overflow = isOverflow(parseAABB(b), bounds);\n            if (overflow)\n                hide(l);\n        });\n        return labels;\n    };\n};\n//# sourceMappingURL=overflowHide.js.map","import { maxIndex } from 'd3-array';\nimport { parseToRGB } from '../utils/color';\nfunction getsRGB(s) {\n    let c = s / 255;\n    c = c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);\n    return c;\n}\nfunction getL(r, g, b) {\n    return 0.2126 * getsRGB(r) + 0.7152 * getsRGB(g) + 0.0722 * getsRGB(b);\n}\n/**\n * Calculate the contrast. see https://webaim.org/resources/contrastchecker/\n * @param foreground\n * @param background\n */\nfunction contrast(foreground, background) {\n    if (!foreground || !background || foreground === background)\n        return 1;\n    const { r, g, b } = foreground;\n    const { r: rb, g: gb, b: bb } = background;\n    const L1 = getL(r, g, b);\n    const L2 = getL(rb, gb, bb);\n    return (Math.max(L1, L2) + 0.05) / (Math.min(L1, L2) + 0.05);\n}\n/**\n * Reverse color for max contrast.\n */\nfunction mostContrast(color, palette) {\n    const i = maxIndex(palette, (c) => contrast(color, parseToRGB(c)));\n    return palette[i];\n}\n/**\n * Reverse the label color when the contrast is lower then `threshold`.\n * The default value of `threshold` is 4.5.\n * More about contract, see https://webaim.org/resources/contrastchecker/\n */\nexport const ContrastReverse = (options) => {\n    const { threshold = 4.5, palette = ['#000', '#fff'] } = options;\n    return (labels) => {\n        labels.forEach((l) => {\n            const background = l.attr('dependentElement').parsedStyle.fill;\n            const foreground = l.parsedStyle.fill;\n            const c = contrast(foreground, background);\n            if (c < threshold)\n                l.attr('fill', mostContrast(background, palette));\n        });\n        return labels;\n    };\n};\n//# sourceMappingURL=contrastReverse.js.map","import { parseColor } from '@antv/g';\nexport function parseToRGB(c) {\n    if (typeof c === 'object')\n        return c;\n    return parseColor(c);\n}\n//# sourceMappingURL=color.js.map","import { show } from '../utils/style';\nconst adjustPosition = (target, edge) => {\n    const [[minEdgeX, minEdgeY], [maxEdgeX, maxEdgeY]] = edge;\n    const [[minX, minY], [maxX, maxY]] = target;\n    let changeX = 0, changeY = 0;\n    // x-axis\n    if (minX < minEdgeX) {\n        changeX = minEdgeX - minX;\n    }\n    else if (maxX > maxEdgeX) {\n        changeX = maxEdgeX - maxX;\n    }\n    // y-axis\n    if (minY < minEdgeY) {\n        changeY = minEdgeY - minY;\n    }\n    else if (maxY > maxEdgeY) {\n        changeY = maxEdgeY - maxY;\n    }\n    return [changeX, changeY];\n};\n/**\n * adjust the label when exceed the plot\n */\nexport const ExceedAdjust = () => {\n    return (labels, { canvas, layout }) => {\n        labels.forEach((l) => {\n            show(l);\n            const { max, min } = l.getRenderBounds();\n            const [xMax, yMax] = max, [xMin, yMin] = min;\n            const changeValue = adjustPosition([\n                [xMin, yMin],\n                [xMax, yMax],\n            ], \n            // Prevent label overlap in multiple charts by calculating layouts separately to avoid collisions.\n            [\n                [layout.x, layout.y],\n                [layout.x + layout.width, layout.y + layout.height],\n            ]);\n            // For label with connectorPoints\n            if (l.style.connector && l.style.connectorPoints) {\n                l.style.connectorPoints[0][0] -= changeValue[0];\n                l.style.connectorPoints[0][1] -= changeValue[1];\n            }\n            l.style.x += changeValue[0];\n            l.style.y += changeValue[1];\n        });\n        return labels;\n    };\n};\n//# sourceMappingURL=exceedAdjust.js.map","export default x => x;\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","// Simple caching for constant-radius points.\nlet cacheDigits, cacheAppend, cacheRadius, cacheCircle;\n\nexport default class PathString {\n  constructor(digits) {\n    this._append = digits == null ? append : appendRound(digits);\n    this._radius = 4.5;\n    this._ = \"\";\n  }\n  pointRadius(_) {\n    this._radius = +_;\n    return this;\n  }\n  polygonStart() {\n    this._line = 0;\n  }\n  polygonEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line === 0) this._ += \"Z\";\n    this._point = NaN;\n  }\n  point(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._append`M${x},${y}`;\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._append`L${x},${y}`;\n        break;\n      }\n      default: {\n        this._append`M${x},${y}`;\n        if (this._radius !== cacheRadius || this._append !== cacheAppend) {\n          const r = this._radius;\n          const s = this._;\n          this._ = \"\"; // stash the old string so we can cache the circle path fragment\n          this._append`m0,${r}a${r},${r} 0 1,1 0,${-2 * r}a${r},${r} 0 1,1 0,${2 * r}z`;\n          cacheRadius = r;\n          cacheAppend = this._append;\n          cacheCircle = this._;\n          this._ = s;\n        }\n        this._ += cacheCircle;\n        break;\n      }\n    }\n  }\n  result() {\n    const result = this._;\n    this._ = \"\";\n    return result.length ? result : null;\n  }\n}\n\nfunction append(strings) {\n  let i = 1;\n  this._ += strings[0];\n  for (const j = strings.length; i < j; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  const d = Math.floor(digits);\n  if (!(d >= 0)) throw new RangeError(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  if (d !== cacheDigits) {\n    const k = 10 ** d;\n    cacheDigits = d;\n    cacheAppend = function append(strings) {\n      let i = 1;\n      this._ += strings[0];\n      for (const j = strings.length; i < j; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  return cacheAppend;\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  let digits = 3,\n      pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    if (!arguments.length) return projection;\n    projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream;\n    return path;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString(digits)) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  path.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) digits = null;\n    else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    if (context === null) contextStream = new PathString(digits);\n    return path;\n  };\n\n  return path.projection(projection).digits(digits).context(context);\n}\n","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import { deepMix } from '@antv/util';\nimport { isUnset, subObject } from './helper';\nexport function subTooltip(tooltip, name, defaults = {}, main = false) {\n    if (isUnset(tooltip))\n        return tooltip;\n    if (Array.isArray(tooltip) && main)\n        return tooltip;\n    const sub = subObject(tooltip, name);\n    return deepMix(defaults, sub);\n}\nexport function maybeTooltip(tooltip, defaults = {}) {\n    if (isUnset(tooltip))\n        return tooltip;\n    if (Array.isArray(tooltip))\n        return tooltip;\n    if (!isFullTooltip(tooltip))\n        return tooltip;\n    return deepMix(defaults, tooltip);\n}\nexport function isFullTooltip(tooltip) {\n    if (Object.keys(tooltip).length === 0)\n        return true;\n    const { title, items } = tooltip;\n    return title !== undefined || items !== undefined;\n}\nexport function maybeAnimation(animate, sub) {\n    return typeof animate === 'object' ? subObject(animate, sub) : animate;\n}\n//# sourceMappingURL=mark.js.map","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(2),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 2 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n","import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Linear } from '@antv/scale';\nimport { upperFirst } from '@antv/util';\nimport { geoPath, geoGraticule10 } from 'd3-geo';\nimport { maybeTooltip } from '../utils/mark';\nimport * as d3Projection from './d3Projection';\n/**\n * Get projection factory from d3-projection.\n */\nfunction normalizeProjection(type) {\n    if (typeof type === 'function')\n        return type;\n    const name = `geo${upperFirst(type)}`;\n    const projection = d3Projection[name];\n    if (!projection)\n        throw new Error(`Unknown coordinate: ${type}`);\n    return projection;\n}\n/**\n * @see https://github.com/mapbox/geojson-merge/blob/master/index.js\n */\nfunction mergeGeoJSON(gjs) {\n    return {\n        type: 'FeatureCollection',\n        features: gjs.flatMap((gj) => normalizeGeoJSON(gj).features),\n    };\n}\nfunction normalizeGeoJSON(gj) {\n    const types = {\n        Point: 'geometry',\n        MultiPoint: 'geometry',\n        LineString: 'geometry',\n        MultiLineString: 'geometry',\n        Polygon: 'geometry',\n        MultiPolygon: 'geometry',\n        GeometryCollection: 'geometry',\n        Feature: 'feature',\n        FeatureCollection: 'featureCollection',\n    };\n    if (!gj || !gj.type)\n        return null;\n    const type = types[gj.type];\n    if (!type)\n        return null;\n    if (type === 'geometry') {\n        return {\n            type: 'FeatureCollection',\n            features: [\n                {\n                    type: 'Feature',\n                    properties: {},\n                    geometry: gj,\n                },\n            ],\n        };\n    }\n    else if (type === 'feature') {\n        return {\n            type: 'FeatureCollection',\n            features: [gj],\n        };\n    }\n    else if (type === 'featureCollection') {\n        return gj;\n    }\n}\n/**\n * Specify the options for d3 projection\n * @see https://github.com/d3/d3-geo#projections\n * @todo Specify key each by each.\n */\nfunction setProjectionOptions(projection, options) {\n    var _a;\n    for (const [key, value] of Object.entries(options)) {\n        (_a = projection[key]) === null || _a === void 0 ? void 0 : _a.call(projection, value);\n    }\n}\nfunction setProjectionSize(projection, nodes, layout, options) {\n    const defaultOutline = () => {\n        const geoNodes = nodes.filter(isGeoPath);\n        // For geoPath with sphere mark, use it as outline.\n        const sphere = geoNodes.find((d) => d.sphere);\n        if (sphere)\n            return { type: 'Sphere' };\n        // Merge all GeoJSON as the outline.\n        return mergeGeoJSON(geoNodes.filter((d) => !d.sphere).flatMap((d) => d.data.value));\n    };\n    const { outline = defaultOutline() } = options;\n    const { size = 'fitExtent' } = options;\n    if (size === 'fitExtent') {\n        return setFitExtent(projection, outline, layout);\n    }\n    else if (size === 'fitWidth') {\n        return setFitWidth(projection, outline, layout);\n    }\n}\nfunction setFitExtent(projection, object, layout) {\n    const { x, y, width, height } = layout;\n    projection.fitExtent([\n        [x, y],\n        [width, height],\n    ], object);\n}\nfunction setFitWidth(projection, object, layout) {\n    const { width, height } = layout;\n    const [[x0, y0], [x1, y1]] = geoPath(projection.fitWidth(width, object)).bounds(object);\n    const dy = Math.ceil(y1 - y0);\n    const l = Math.min(Math.ceil(x1 - x0), dy);\n    const s = (projection.scale() * (l - 1)) / l;\n    const [tx, ty] = projection.translate();\n    const t = ty + (height - dy) / 2;\n    projection.scale(s).translate([tx, t]).precision(0.2);\n}\n/**\n * @todo Remove this.\n */\nfunction normalizeDataSource(node) {\n    const { data } = node;\n    if (Array.isArray(data))\n        return Object.assign(Object.assign({}, node), { data: { value: data } });\n    const { type } = data;\n    if (type === 'graticule10') {\n        return Object.assign(Object.assign({}, node), { data: { value: [geoGraticule10()] } });\n    }\n    else if (type === 'sphere') {\n        // Sphere is not a standard type of GeoJSON.\n        // Mark this geoPath as sphere geoPath.\n        return Object.assign(Object.assign({}, node), { sphere: true, data: { value: [{ type: 'Sphere' }] } });\n    }\n    return node;\n}\nfunction isGeoPath(d) {\n    return d.type === 'geoPath';\n}\n/**\n * A view with geo coordinate.\n */\nexport const GeoView = () => {\n    return (options) => {\n        const { children, coordinate: projection = {} } = options;\n        if (!Array.isArray(children))\n            return [];\n        // Get projection factory.\n        const { type = 'equalEarth' } = projection, projectionOptions = __rest(projection, [\"type\"]);\n        const createProjection = normalizeProjection(type);\n        const nodes = children.map(normalizeDataSource);\n        // Set path generator lazily.\n        let path;\n        // A custom geo coordinate.\n        function Geo() {\n            return [\n                [\n                    'custom',\n                    (x, y, width, height) => {\n                        // Create and set projection.\n                        const visual = createProjection();\n                        const layout = { x, y, width, height };\n                        setProjectionSize(visual, nodes, layout, projectionOptions);\n                        setProjectionOptions(visual, projectionOptions);\n                        // Create path generator.\n                        path = geoPath(visual);\n                        // Normalize projection and projection.invert,\n                        // which normalize projected points.\n                        const scaleX = new Linear({\n                            domain: [x, x + width],\n                        });\n                        const scaleY = new Linear({\n                            domain: [y, y + height],\n                        });\n                        const normalize = (point) => {\n                            const visualPoint = visual(point);\n                            if (!visualPoint)\n                                return [null, null];\n                            const [vx, vy] = visualPoint;\n                            return [scaleX.map(vx), scaleY.map(vy)];\n                        };\n                        const normalizeInvert = (point) => {\n                            if (!point)\n                                return null;\n                            const [px, py] = point;\n                            const visualPoint = [scaleX.invert(px), scaleY.invert(py)];\n                            return visual.invert(visualPoint);\n                        };\n                        return {\n                            transform: (point) => normalize(point),\n                            untransform: (point) => normalizeInvert(point),\n                        };\n                    },\n                ],\n            ];\n        }\n        function GeoPath(options) {\n            const { style, tooltip = {} } = options;\n            return Object.assign(Object.assign({}, options), { type: 'path', tooltip: maybeTooltip(tooltip, {\n                    title: 'id',\n                    items: [{ channel: 'color' }],\n                }), style: Object.assign(Object.assign({}, style), { d: (d) => path(d) || [] }) });\n        }\n        const t = (d) => (isGeoPath(d) ? GeoPath(d) : d);\n        return [\n            Object.assign(Object.assign({}, options), { type: 'view', scale: {\n                    x: { type: 'identity' },\n                    y: { type: 'identity' },\n                }, axis: false, coordinate: { type: Geo }, children: nodes.flatMap(t) }),\n        ];\n    };\n};\nGeoView.props = {};\n//# sourceMappingURL=geoView.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/**\n * Wrap GeoPath by a GeoView.\n */\nexport const GeoPath = () => {\n    return (options) => {\n        const { type, data, scale, encode, style, animate, key, state } = options, rest = __rest(options, [\"type\", \"data\", \"scale\", \"encode\", \"style\", \"animate\", \"key\", \"state\"]);\n        return [\n            Object.assign(Object.assign({ type: 'geoView' }, rest), { children: [\n                    {\n                        type: 'geoPath',\n                        key: `${key}-0`,\n                        data: {\n                            value: data,\n                        },\n                        scale,\n                        encode,\n                        style,\n                        animate,\n                        state,\n                    },\n                ] }),\n        ];\n    };\n};\nGeoPath.props = {};\n//# sourceMappingURL=geoPath.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { forceSimulation, forceManyBody, forceLink, forceX, forceY, forceCenter, } from 'd3-force';\nimport { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { maybeAnimation, subTooltip } from '../utils/mark';\nimport { field, initializeData } from './utils';\nconst DEFAULT_LAYOUT_OPTIONS = {\n    joint: true,\n};\nconst DEFAULT_LINK_OPTIONS = {\n    type: 'link',\n    axis: false,\n    legend: false,\n    encode: {\n        x: [(d) => d.source.x, (d) => d.target.x],\n        y: [(d) => d.source.y, (d) => d.target.y],\n    },\n    style: {\n        stroke: '#999',\n        strokeOpacity: 0.6,\n    },\n};\nconst DEFAULT_NODE_OPTIONS = {\n    type: 'point',\n    axis: false,\n    legend: false,\n    encode: {\n        x: 'x',\n        y: 'y',\n        size: 5,\n        color: 'group',\n        shape: 'point',\n    },\n    style: {\n        stroke: '#fff',\n    },\n};\nconst DEFAULT_LABEL_OPTIONS = {\n    text: '',\n};\nfunction dataTransform(data, layout, encode) {\n    const { nodes, links } = data;\n    const { joint, nodeStrength, linkStrength } = layout;\n    const { nodeKey = (d) => d.id, linkKey = (d) => d.id } = encode;\n    const nodeForce = forceManyBody();\n    const linkForce = forceLink(links).id(field(linkKey));\n    typeof nodeStrength === 'function' && nodeForce.strength(nodeStrength);\n    typeof linkStrength === 'function' && linkForce.strength(linkStrength);\n    const simulation = forceSimulation(nodes)\n        .force('link', linkForce)\n        .force('charge', nodeForce);\n    joint\n        ? simulation.force('center', forceCenter())\n        : simulation.force('x', forceX()).force('y', forceY());\n    simulation.stop();\n    const n = Math.ceil(Math.log(simulation.alphaMin()) / Math.log(1 - simulation.alphaDecay()));\n    for (let i = 0; i < n; i++)\n        simulation.tick();\n    return {\n        nodesData: nodes,\n        linksData: links,\n    };\n}\nexport const ForceGraph = (options) => {\n    const { data, encode: e = {}, scale, style = {}, layout = {}, nodeLabels = [], linkLabels = [], animate = {}, tooltip = {}, } = options;\n    const { nodeKey = (d) => d.id, linkKey = (d) => d.id } = e, restEncode = __rest(e, [\"nodeKey\", \"linkKey\"]);\n    const encode = Object.assign({ nodeKey, linkKey }, restEncode);\n    const nodeEncode = subObject(encode, 'node');\n    const linkEncode = subObject(encode, 'link');\n    const { links, nodes } = initializeData(data, encode);\n    const { nodesData, linksData } = dataTransform({ links, nodes }, deepMix({}, DEFAULT_LAYOUT_OPTIONS, layout), encode);\n    const linkTooltip = subTooltip(tooltip, 'link', {\n        items: [\n            (d) => ({ name: 'source', value: field(linkKey)(d.source) }),\n            (d) => ({ name: 'target', value: field(linkKey)(d.target) }),\n        ],\n    });\n    const nodeTooltip = subTooltip(tooltip, 'node', {\n        items: [(d) => ({ name: 'key', value: field(nodeKey)(d) })],\n    }, true);\n    return [\n        deepMix({}, DEFAULT_LINK_OPTIONS, {\n            data: linksData,\n            encode: linkEncode,\n            labels: linkLabels,\n            style: subObject(style, 'link'),\n            tooltip: linkTooltip,\n            animate: maybeAnimation(animate, 'link'),\n        }),\n        deepMix({}, DEFAULT_NODE_OPTIONS, {\n            data: nodesData,\n            encode: Object.assign({}, nodeEncode),\n            scale,\n            style: subObject(style, 'node'),\n            tooltip: nodeTooltip,\n            labels: [\n                Object.assign(Object.assign({}, DEFAULT_LABEL_OPTIONS), subObject(style, 'label')),\n                ...nodeLabels,\n            ],\n            animate: maybeAnimation(animate, 'link'),\n        }),\n    ];\n};\nForceGraph.props = {};\n//# sourceMappingURL=forceGraph.js.map","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.’s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","import { cluster, hierarchy } from 'd3-hierarchy';\nexport const hierarchyFunction = (layoutFunction) => (options) => {\n    return (data) => {\n        const { field = 'value', nodeSize, separation, sortBy, as = ['x', 'y'], } = options;\n        const [x, y] = as;\n        // Process root data.\n        const root = hierarchy(data, (d) => d.children)\n            .sum((d) => d[field])\n            .sort(sortBy);\n        // Layout\n        const c = layoutFunction();\n        c.size([1, 1]);\n        if (nodeSize)\n            c.nodeSize(nodeSize);\n        if (separation)\n            c.separation(separation);\n        c(root);\n        const nodes = [];\n        root.each((node) => {\n            node[x] = node.x;\n            node[y] = node.y;\n            node.name = node.data.name;\n            nodes.push(node);\n        });\n        const edges = root.links();\n        edges.forEach((edge) => {\n            edge[x] = [edge.source[x], edge.target[x]];\n            edge[y] = [edge.source[y], edge.target[y]];\n        });\n        return { nodes, edges };\n    };\n};\nexport const Cluster = (options) => {\n    return hierarchyFunction(cluster)(options);\n};\nCluster.props = {};\n//# sourceMappingURL=cluster.js.map","import { tree } from 'd3-hierarchy';\nimport { hierarchyFunction } from './cluster';\nexport const Tree = (options) => {\n    return hierarchyFunction(tree)(options);\n};\nTree.props = {};\n//# sourceMappingURL=tree.js.map","import { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { Tree as TreeTransform, } from '../data/tree';\nimport { maybeAnimation, subTooltip } from '../utils/mark';\nconst DEFAULT_LAYOUT_OPTIONS = {\n    sortBy: (a, b) => b.value - a.value,\n};\nconst DEFAULT_NODE_OPTIONS = {\n    axis: false,\n    legend: false,\n    type: 'point',\n    encode: {\n        x: 'x',\n        y: 'y',\n        size: 2,\n        shape: 'point',\n    },\n};\nconst DEFAULT_LINK_OPTIONS = {\n    type: 'link',\n    encode: {\n        x: 'x',\n        y: 'y',\n        shape: 'smooth',\n    },\n};\nconst DEFAULT_LABEL_OPTIONS = {\n    text: '',\n    fontSize: 10,\n};\nexport const Tree = (options) => {\n    const { data, encode = {}, scale = {}, style = {}, layout = {}, nodeLabels = [], linkLabels = [], animate = {}, tooltip = {}, } = options;\n    const valueEncode = encode === null || encode === void 0 ? void 0 : encode.value;\n    const { nodes, edges } = TreeTransform(Object.assign(Object.assign(Object.assign({}, DEFAULT_LAYOUT_OPTIONS), layout), { field: valueEncode }))(data);\n    const nodeTooltip = subTooltip(tooltip, 'node', {\n        title: 'name',\n        items: ['value'],\n    }, true);\n    const linkTooltip = subTooltip(tooltip, 'link', {\n        title: '',\n        items: [\n            (d) => ({ name: 'source', value: d.source.name }),\n            (d) => ({ name: 'target', value: d.target.name }),\n        ],\n    });\n    return [\n        deepMix({}, DEFAULT_LINK_OPTIONS, {\n            data: edges,\n            encode: subObject(encode, 'link'),\n            scale: subObject(scale, 'link'),\n            labels: linkLabels,\n            style: Object.assign({ stroke: '#999' }, subObject(style, 'link')),\n            tooltip: linkTooltip,\n            animate: maybeAnimation(animate, 'link'),\n        }),\n        deepMix({}, DEFAULT_NODE_OPTIONS, {\n            data: nodes,\n            scale: subObject(scale, 'node'),\n            encode: subObject(encode, 'node'),\n            labels: [\n                Object.assign(Object.assign({}, DEFAULT_LABEL_OPTIONS), subObject(style, 'label')),\n                ...nodeLabels,\n            ],\n            style: Object.assign({}, subObject(style, 'node')),\n            tooltip: nodeTooltip,\n            animate: maybeAnimation(animate, 'node'),\n        }),\n    ];\n};\nTree.props = {};\n//# sourceMappingURL=tree.js.map","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {shuffle} from \"../array.js\";\nimport lcg from \"../lcg.js\";\n\nexport default function(circles) {\n  return packEncloseRandom(circles, lcg());\n}\n\nexport function packEncloseRandom(circles, random) {\n  var i = 0, n = (circles = shuffle(Array.from(circles), random)).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(Math.abs(A) > 1e-6 ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array, random) {\n  let m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import array from \"../array.js\";\nimport lcg from \"../lcg.js\";\nimport {packEncloseRandom} from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packSiblingsRandom(circles, random) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle…\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // “Closeness” is determined by linear distance along the front-chain.\n    // “Ahead” or “behind” is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = packEncloseRandom(a, random);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packSiblingsRandom(circles, lcg());\n  return circles;\n}\n","import {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\nimport lcg from \"../lcg.js\";\nimport {packSiblingsRandom} from \"./siblings.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    const random = lcg();\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildrenRandom(padding, 0.5, random))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildrenRandom(constantZero, 1, random))\n          .eachAfter(packChildrenRandom(padding, root.r / Math.min(dx, dy), random))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildrenRandom(padding, k, random) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packSiblingsRandom(children, random);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix, isArray } from '@antv/util';\nimport { stratify, hierarchy, pack as packLayout } from 'd3-hierarchy';\nimport { subObject } from '../utils/helper';\nimport { maybeTooltip } from '../utils/mark';\nimport { field } from './utils';\nconst GET_DEFAULT_LAYOUT_OPTIONS = (width, height) => ({\n    size: [width, height],\n    padding: 0,\n    sort: (a, b) => b.value - a.value,\n});\nconst GET_DEFAULT_OPTIONS = (width, height, encode) => ({\n    type: 'point',\n    axis: false,\n    legend: false,\n    scale: {\n        x: { domain: [0, width] },\n        y: { domain: [0, height] },\n        size: { type: 'identity' },\n    },\n    encode: {\n        x: 'x',\n        y: 'y',\n        size: 'r',\n        shape: 'point',\n    },\n    style: {\n        fill: !encode.color ? (d) => (d.height === 0 ? '#ddd' : '#fff') : undefined,\n        stroke: !encode.color ? (d) => (d.height === 0 ? '' : '#000') : undefined,\n    },\n});\nconst DEFAULT_LABEL_OPTIONS = {\n    text: '',\n    position: 'inside',\n    textOverflow: 'clip',\n    wordWrap: true,\n    maxLines: 1,\n    wordWrapWidth: (d) => d.r * 2,\n};\nconst DEFAULT_TOOLTIP_OPTIONS = {\n    title: (d) => d.data.name,\n    items: [{ field: 'value' }],\n};\nconst dataTransform = (data, layout, encode) => {\n    const { value } = encode;\n    const root = isArray(data)\n        ? stratify().path(layout.path)(data)\n        : hierarchy(data);\n    value ? root.sum((d) => field(value)(d)).sort(layout.sort) : root.count();\n    // @ts-ignore\n    packLayout().size(layout.size).padding(layout.padding)(root);\n    return root.descendants();\n};\nexport const Pack = (markOptions, context) => {\n    const { width, height } = context;\n    const { data, encode = {}, scale = {}, style = {}, layout = {}, labels = [], tooltip = {} } = markOptions, resOptions = __rest(markOptions, [\"data\", \"encode\", \"scale\", \"style\", \"layout\", \"labels\", \"tooltip\"]);\n    const DEFAULT_OPTIONS = GET_DEFAULT_OPTIONS(width, height, encode);\n    const transformedData = dataTransform(data, deepMix({}, GET_DEFAULT_LAYOUT_OPTIONS(width, height), layout), deepMix({}, DEFAULT_OPTIONS['encode'], encode));\n    const labelStyle = subObject(style, 'label');\n    return deepMix({}, DEFAULT_OPTIONS, Object.assign(Object.assign({ data: transformedData, encode,\n        scale,\n        style, labels: [\n            Object.assign(Object.assign({}, DEFAULT_LABEL_OPTIONS), labelStyle),\n            ...labels,\n        ] }, resOptions), { tooltip: maybeTooltip(tooltip, DEFAULT_TOOLTIP_OPTIONS), axis: false }));\n};\nPack.props = {};\n//# sourceMappingURL=pack.js.map","import { min } from 'd3-array';\nfunction targetDepth(d) {\n    return d.target.depth;\n}\nexport function left(node) {\n    return node.depth;\n}\nexport function right(node, n) {\n    return n - 1 - node.height;\n}\nexport function justify(node, n) {\n    return node.sourceLinks.length ? node.depth : n - 1;\n}\nexport function center(node) {\n    return node.targetLinks.length\n        ? node.depth\n        : node.sourceLinks.length\n            ? min(node.sourceLinks, targetDepth) - 1\n            : 0;\n}\n//# sourceMappingURL=align.js.map","export function constant(x) {\n    return function () {\n        return x;\n    };\n}\n//# sourceMappingURL=constant.js.map","import { sum, max, min } from 'd3-array';\nimport { justify } from './align';\nimport { constant } from './constant';\nfunction ascendingSourceBreadth(a, b) {\n    return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\nfunction ascendingTargetBreadth(a, b) {\n    return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\nfunction ascendingBreadth(a, b) {\n    return a.y0 - b.y0;\n}\nfunction value(d) {\n    return d.value;\n}\nfunction defaultId(d) {\n    return d.index;\n}\nfunction defaultNodes(graph) {\n    return graph.nodes;\n}\nfunction defaultLinks(graph) {\n    return graph.links;\n}\nfunction find(nodeById, id) {\n    const node = nodeById.get(id);\n    if (!node)\n        throw new Error('missing: ' + id);\n    return node;\n}\nfunction computeLinkBreadths({ nodes }) {\n    for (const node of nodes) {\n        let y0 = node.y0;\n        let y1 = y0;\n        for (const link of node.sourceLinks) {\n            link.y0 = y0 + link.width / 2;\n            y0 += link.width;\n        }\n        for (const link of node.targetLinks) {\n            link.y1 = y1 + link.width / 2;\n            y1 += link.width;\n        }\n    }\n}\nexport function Sankey() {\n    let x0 = 0, y0 = 0, x1 = 1, y1 = 1; // extent\n    let dx = 24; // nodeWidth\n    let dy = 8, py; // nodePadding\n    let id = defaultId;\n    let align = justify;\n    let depth;\n    let sort;\n    let linkSort;\n    let nodes = defaultNodes;\n    let links = defaultLinks;\n    let iterations = 6;\n    function sankey(arg) {\n        const graph = {\n            nodes: nodes(arg),\n            links: links(arg),\n        };\n        computeNodeLinks(graph);\n        computeNodeValues(graph);\n        computeNodeDepths(graph);\n        computeNodeHeights(graph);\n        computeNodeBreadths(graph);\n        computeLinkBreadths(graph);\n        return graph;\n    }\n    sankey.update = function (graph) {\n        computeLinkBreadths(graph);\n        return graph;\n    };\n    sankey.nodeId = function (_) {\n        return arguments.length\n            ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey)\n            : id;\n    };\n    sankey.nodeAlign = function (_) {\n        return arguments.length\n            ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey)\n            : align;\n    };\n    sankey.nodeDepth = function (_) {\n        return arguments.length\n            ? ((depth = typeof _ === 'function' ? _ : _), sankey)\n            : depth;\n    };\n    sankey.nodeSort = function (_) {\n        return arguments.length ? ((sort = _), sankey) : sort;\n    };\n    sankey.nodeWidth = function (_) {\n        return arguments.length ? ((dx = +_), sankey) : dx;\n    };\n    sankey.nodePadding = function (_) {\n        return arguments.length ? ((dy = py = +_), sankey) : dy;\n    };\n    sankey.nodes = function (_) {\n        return arguments.length\n            ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey)\n            : nodes;\n    };\n    sankey.links = function (_) {\n        return arguments.length\n            ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey)\n            : links;\n    };\n    sankey.linkSort = function (_) {\n        return arguments.length ? ((linkSort = _), sankey) : linkSort;\n    };\n    sankey.size = function (_) {\n        return arguments.length\n            ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey)\n            : [x1 - x0, y1 - y0];\n    };\n    sankey.extent = function (_) {\n        return arguments.length\n            ? ((x0 = +_[0][0]),\n                (x1 = +_[1][0]),\n                (y0 = +_[0][1]),\n                (y1 = +_[1][1]),\n                sankey)\n            : [\n                [x0, y0],\n                [x1, y1],\n            ];\n    };\n    sankey.iterations = function (_) {\n        return arguments.length ? ((iterations = +_), sankey) : iterations;\n    };\n    function computeNodeLinks({ nodes, links }) {\n        nodes.forEach((node, idx) => {\n            node.index = idx;\n            node.sourceLinks = [];\n            node.targetLinks = [];\n        });\n        const nodeById = new Map(nodes.map((d) => [id(d), d]));\n        links.forEach((link, idx) => {\n            link.index = idx;\n            let { source, target } = link;\n            if (typeof source !== 'object')\n                source = link.source = find(nodeById, source);\n            if (typeof target !== 'object')\n                target = link.target = find(nodeById, target);\n            source.sourceLinks.push(link);\n            target.targetLinks.push(link);\n        });\n        if (linkSort != null) {\n            for (const { sourceLinks, targetLinks } of nodes) {\n                sourceLinks.sort(linkSort);\n                targetLinks.sort(linkSort);\n            }\n        }\n    }\n    function computeNodeValues({ nodes }) {\n        for (const node of nodes) {\n            node.value =\n                node.fixedValue === undefined\n                    ? Math.max(sum(node.sourceLinks, value), sum(node.targetLinks, value))\n                    : node.fixedValue;\n        }\n    }\n    function computeNodeDepths({ nodes }) {\n        const n = nodes.length;\n        let current = new Set(nodes);\n        let next = new Set();\n        let x = 0;\n        while (current.size) {\n            current.forEach((node) => {\n                node.depth = x;\n                for (const { target } of node.sourceLinks) {\n                    next.add(target);\n                }\n            });\n            if (++x > n)\n                throw new Error('circular link');\n            current = next;\n            next = new Set();\n        }\n        // 如果配置了 depth，则设置自定义 depth\n        if (depth) {\n            const maxDepth = Math.max(max(nodes, (d) => d.depth) + 1, 0);\n            let node;\n            for (let i = 0; i < nodes.length; i++) {\n                node = nodes[i];\n                node.depth = depth.call(null, node, maxDepth);\n            }\n        }\n    }\n    function computeNodeHeights({ nodes }) {\n        const n = nodes.length;\n        let current = new Set(nodes);\n        let next = new Set();\n        let x = 0;\n        while (current.size) {\n            current.forEach((node) => {\n                node.height = x;\n                for (const { source } of node.targetLinks) {\n                    next.add(source);\n                }\n            });\n            if (++x > n)\n                throw new Error('circular link');\n            current = next;\n            next = new Set();\n        }\n    }\n    function computeNodeLayers({ nodes }) {\n        const x = Math.max(max(nodes, (d) => d.depth) + 1, 0);\n        const kx = (x1 - x0 - dx) / (x - 1);\n        const columns = new Array(x).fill(0).map(() => []);\n        for (const node of nodes) {\n            const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n            node.layer = i;\n            node.x0 = x0 + i * kx;\n            node.x1 = node.x0 + dx;\n            if (columns[i])\n                columns[i].push(node);\n            else\n                columns[i] = [node];\n        }\n        if (sort)\n            for (const column of columns) {\n                column.sort(sort);\n            }\n        return columns;\n    }\n    function initializeNodeBreadths(columns) {\n        const ky = min(columns, (c) => (y1 - y0 - (c.length - 1) * py) / sum(c, value));\n        for (const nodes of columns) {\n            let y = y0;\n            for (const node of nodes) {\n                node.y0 = y;\n                node.y1 = y + node.value * ky;\n                y = node.y1 + py;\n                for (const link of node.sourceLinks) {\n                    link.width = link.value * ky;\n                }\n            }\n            y = (y1 - y + py) / (nodes.length + 1);\n            for (let i = 0; i < nodes.length; ++i) {\n                const node = nodes[i];\n                node.y0 += y * (i + 1);\n                node.y1 += y * (i + 1);\n            }\n            reorderLinks(nodes);\n        }\n    }\n    function computeNodeBreadths(graph) {\n        const columns = computeNodeLayers(graph);\n        py = Math.min(dy, (y1 - y0) / (max(columns, (c) => c.length) - 1));\n        initializeNodeBreadths(columns);\n        for (let i = 0; i < iterations; ++i) {\n            const alpha = Math.pow(0.99, i);\n            const beta = Math.max(1 - alpha, (i + 1) / iterations);\n            relaxRightToLeft(columns, alpha, beta);\n            relaxLeftToRight(columns, alpha, beta);\n        }\n    }\n    // Reposition each node based on its incoming (target) links.\n    function relaxLeftToRight(columns, alpha, beta) {\n        for (let i = 1, n = columns.length; i < n; ++i) {\n            const column = columns[i];\n            for (const target of column) {\n                let y = 0;\n                let w = 0;\n                for (const { source, value } of target.targetLinks) {\n                    const v = value * (target.layer - source.layer);\n                    y += targetTop(source, target) * v;\n                    w += v;\n                }\n                if (!(w > 0))\n                    continue;\n                const dy = (y / w - target.y0) * alpha;\n                target.y0 += dy;\n                target.y1 += dy;\n                reorderNodeLinks(target);\n            }\n            if (sort === undefined)\n                column.sort(ascendingBreadth);\n            if (column.length)\n                resolveCollisions(column, beta);\n        }\n    }\n    // Reposition each node based on its outgoing (source) links.\n    function relaxRightToLeft(columns, alpha, beta) {\n        for (let n = columns.length, i = n - 2; i >= 0; --i) {\n            const column = columns[i];\n            for (const source of column) {\n                let y = 0;\n                let w = 0;\n                for (const { target, value } of source.sourceLinks) {\n                    const v = value * (target.layer - source.layer);\n                    y += sourceTop(source, target) * v;\n                    w += v;\n                }\n                if (!(w > 0))\n                    continue;\n                const dy = (y / w - source.y0) * alpha;\n                source.y0 += dy;\n                source.y1 += dy;\n                reorderNodeLinks(source);\n            }\n            if (sort === undefined)\n                column.sort(ascendingBreadth);\n            if (column.length)\n                resolveCollisions(column, beta);\n        }\n    }\n    function resolveCollisions(nodes, alpha) {\n        const i = nodes.length >> 1;\n        const subject = nodes[i];\n        resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n        resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n        resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n        resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n    }\n    // Push any overlapping nodes down.\n    function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n        for (; i < nodes.length; ++i) {\n            const node = nodes[i];\n            const dy = (y - node.y0) * alpha;\n            if (dy > 1e-6)\n                (node.y0 += dy), (node.y1 += dy);\n            y = node.y1 + py;\n        }\n    }\n    // Push any overlapping nodes up.\n    function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n        for (; i >= 0; --i) {\n            const node = nodes[i];\n            const dy = (node.y1 - y) * alpha;\n            if (dy > 1e-6)\n                (node.y0 -= dy), (node.y1 -= dy);\n            y = node.y0 - py;\n        }\n    }\n    function reorderNodeLinks({ sourceLinks, targetLinks }) {\n        if (linkSort === undefined) {\n            for (const { source: { sourceLinks }, } of targetLinks) {\n                sourceLinks.sort(ascendingTargetBreadth);\n            }\n            for (const { target: { targetLinks }, } of sourceLinks) {\n                targetLinks.sort(ascendingSourceBreadth);\n            }\n        }\n    }\n    function reorderLinks(nodes) {\n        if (linkSort === undefined) {\n            for (const { sourceLinks, targetLinks } of nodes) {\n                sourceLinks.sort(ascendingTargetBreadth);\n                targetLinks.sort(ascendingSourceBreadth);\n            }\n        }\n    }\n    // Returns the target.y0 that would produce an ideal link from source to target.\n    function targetTop(source, target) {\n        let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n        for (const { target: node, width } of source.sourceLinks) {\n            if (node === target)\n                break;\n            y += width + py;\n        }\n        for (const { source: node, width } of target.targetLinks) {\n            if (node === source)\n                break;\n            y -= width;\n        }\n        return y;\n    }\n    // Returns the source.y0 that would produce an ideal link from source to target.\n    function sourceTop(source, target) {\n        let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n        for (const { source: node, width } of target.targetLinks) {\n            if (node === source)\n                break;\n            y += width + py;\n        }\n        for (const { target: node, width } of source.sourceLinks) {\n            if (node === target)\n                break;\n            y -= width;\n        }\n        return y;\n    }\n    return sankey;\n}\n//# sourceMappingURL=sankey.js.map","import { sankey, left, right, center, justify } from './utils/d3-sankey';\nconst DEFAULT_OPTIONS = {\n    nodeAlign: 'justify',\n    nodeWidth: 0.008,\n    nodePadding: 0.03,\n    nodes: (graph) => graph.nodes,\n    links: (graph) => graph.links,\n    nodeSort: undefined,\n    linkSort: undefined,\n    iterations: 6,\n};\nconst ALIGN_METHOD = {\n    left,\n    right,\n    center,\n    justify,\n};\nfunction getNodeAlignFunction(nodeAlign) {\n    const type = typeof nodeAlign;\n    if (type === 'string')\n        return ALIGN_METHOD[nodeAlign] || justify;\n    if (type === 'function')\n        return nodeAlign;\n    return justify;\n}\n/**\n * Compute the node and edge position, return a graph representing the Sankey layout. All will be normalized to [[0, 0], [1, 1]]\n * Required graph data (nodes, edges)\n */\nexport const Sankey = (options) => {\n    return (data) => {\n        const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth, nodes: nodeNodes, links: nodeLinks, linkSort, iterations, } = Object.assign({}, DEFAULT_OPTIONS, options);\n        const sankeyProcessor = sankey()\n            .nodeSort(nodeSort)\n            .linkSort(linkSort)\n            .links(nodeLinks)\n            .nodes(nodeNodes)\n            .nodeWidth(nodeWidth)\n            .nodePadding(nodePadding)\n            .nodeDepth(nodeDepth)\n            .nodeAlign(getNodeAlignFunction(nodeAlign))\n            .iterations(iterations)\n            .extent([\n            [0, 0],\n            [1, 1],\n        ]);\n        if (typeof nodeId === 'function') {\n            sankeyProcessor.nodeId(nodeId);\n        }\n        const layoutData = sankeyProcessor(data);\n        const { nodes: N, links: L } = layoutData;\n        const nodes = N.map((node) => {\n            const { x0, x1, y0, y1 } = node;\n            /* points\n             * 3---2\n             * |   |\n             * 0---1\n             */\n            return Object.assign(Object.assign({}, node), { x: [x0, x1, x1, x0], y: [y0, y0, y1, y1] });\n        });\n        const links = L.map((edge) => {\n            const { source, target } = edge;\n            const sx = source.x1;\n            const tx = target.x0;\n            const offset = edge.width / 2;\n            return Object.assign(Object.assign({}, edge), { x: [sx, sx, tx, tx], y: [\n                    edge.y0 + offset,\n                    edge.y0 - offset,\n                    edge.y1 + offset,\n                    edge.y1 - offset,\n                ] });\n        });\n        return { nodes, links };\n    };\n};\nSankey.props = {};\n//# sourceMappingURL=sankey.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { Sankey as SankeyTransform } from '../data/sankey';\nimport { subObject } from '../utils/helper';\nimport { subTooltip, maybeAnimation } from '../utils/mark';\nimport { field, initializeData } from './utils';\nconst DEFAULT_LAYOUT_OPTIONS = {\n    nodeId: (d) => d.key,\n    nodeWidth: 0.02,\n    nodePadding: 0.02,\n};\nconst DEFAULT_NODE_OPTIONS = {\n    type: 'polygon',\n    axis: false,\n    legend: false,\n    encode: {\n        shape: 'polygon',\n        x: 'x',\n        y: 'y',\n    },\n    scale: {\n        x: { type: 'identity' },\n        y: { type: 'identity' },\n    },\n    style: {\n        stroke: '#000',\n    },\n};\nconst DEFAULT_LINK_OPTIONS = {\n    type: 'polygon',\n    axis: false,\n    legend: false,\n    encode: {\n        shape: 'ribbon',\n        x: 'x',\n        y: 'y',\n    },\n    style: {\n        fillOpacity: 0.5,\n        stroke: undefined,\n    },\n};\nconst DEFAULT_LABEL_OPTIONS = {\n    textAlign: (d) => (d.x[0] < 0.5 ? 'start' : 'end'),\n    position: (d) => (d.x[0] < 0.5 ? 'right' : 'left'),\n    fontSize: 10,\n};\n/**\n * @todo Add interaction\n * @todo Add source-link color mode\n */\nexport const Sankey = (options) => {\n    const { data, encode = {}, scale, style = {}, layout = {}, nodeLabels = [], linkLabels = [], animate = {}, tooltip = {}, interaction, } = options;\n    // Initialize data, generating nodes by link if is not specified.\n    const { links, nodes } = initializeData(data, encode);\n    // Extract encode for node and link.\n    const nodeEncode = subObject(encode, 'node');\n    const linkEncode = subObject(encode, 'link');\n    const { key: nodeKey = (d) => d.key, color = nodeKey } = nodeEncode;\n    // Transform data, using nodeKey as nodeId.\n    const { links: linkData, nodes: nodeData } = SankeyTransform(Object.assign(Object.assign(Object.assign({}, DEFAULT_LAYOUT_OPTIONS), { nodeId: field(nodeKey) }), layout))({ links, nodes });\n    // Extract label style and apply defaults.\n    const _a = subObject(style, 'label'), { text = nodeKey, spacing = 5 } = _a, labelStyle = __rest(_a, [\"text\", \"spacing\"]);\n    const key1 = field(nodeKey);\n    const nodeTooltip = subTooltip(tooltip, 'node', {\n        title: key1,\n        items: [{ field: 'value' }],\n    }, true);\n    const linkTooltip = subTooltip(tooltip, 'link', {\n        title: '',\n        items: [\n            (d) => ({ name: 'source', value: key1(d.source) }),\n            (d) => ({ name: 'target', value: key1(d.target) }),\n        ],\n    });\n    return [\n        deepMix({}, DEFAULT_NODE_OPTIONS, {\n            data: nodeData,\n            encode: Object.assign(Object.assign({}, nodeEncode), { color }),\n            scale,\n            style: subObject(style, 'node'),\n            labels: [\n                Object.assign(Object.assign(Object.assign({}, DEFAULT_LABEL_OPTIONS), { text, dx: (d) => (d.x[0] < 0.5 ? spacing : -spacing) }), labelStyle),\n                ...nodeLabels,\n            ],\n            tooltip: nodeTooltip,\n            animate: maybeAnimation(animate, 'node'),\n            axis: false,\n            interaction,\n        }),\n        deepMix({}, DEFAULT_LINK_OPTIONS, {\n            data: linkData,\n            encode: linkEncode,\n            labels: linkLabels,\n            style: Object.assign({ fill: linkEncode.color ? undefined : '#aaa', lineWidth: 0 }, subObject(style, 'link')),\n            tooltip: linkTooltip,\n            animate: maybeAnimation(animate, 'link'),\n            interaction,\n        }),\n    ];\n};\nSankey.props = {};\n//# sourceMappingURL=sankey.js.map","export function weight(a, b) {\n    return b.value - a.value;\n}\nexport function frequency(a, b) {\n    return b.frequency - a.frequency;\n}\nexport function id(a, b) {\n    return `${a.id}`.localeCompare(`${b.id}`);\n}\nexport function name(a, b) {\n    return `${a.name}`.localeCompare(`${b.name}`);\n}\n//# sourceMappingURL=sort.js.map","import { group, sum } from 'd3-array';\nimport { error } from '../../../utils/helper';\nimport * as SortMethods from './sort';\nconst DEFAULT_OPTIONS = {\n    y: 0,\n    thickness: 0.05,\n    weight: false,\n    marginRatio: 0.1,\n    id: (node) => node.id,\n    source: (edge) => edge.source,\n    target: (edge) => edge.target,\n    sourceWeight: (edge) => edge.value || 1,\n    targetWeight: (edge) => edge.value || 1,\n    sortBy: null,\n};\n/**\n * Layout for Arc / Chord diagram with d3 style.\n */\nexport function Arc(options) {\n    const { y, thickness, weight, marginRatio, id, source, target, sourceWeight, targetWeight, sortBy, } = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n    function arc(data) {\n        // Clone first.\n        const nodes = data.nodes.map((n) => (Object.assign({}, n)));\n        const edges = data.edges.map((n) => (Object.assign({}, n)));\n        // Keep reference in below functions.\n        preprocess(nodes, edges);\n        sortNodes(nodes, edges);\n        layoutNodes(nodes, edges);\n        layoutEdges(nodes, edges);\n        return { nodes, edges };\n    }\n    /**\n     * Calculate id, value, frequency for node, and source,target for edge.\n     */\n    function preprocess(nodes, edges) {\n        edges.forEach((edge) => {\n            edge.source = source(edge);\n            edge.target = target(edge);\n            edge.sourceWeight = sourceWeight(edge);\n            edge.targetWeight = targetWeight(edge);\n        });\n        // Group edges by source, target.\n        const edgesBySource = group(edges, (e) => e.source);\n        const edgesByTarget = group(edges, (e) => e.target);\n        nodes.forEach((node) => {\n            node.id = id(node);\n            const sources = edgesBySource.has(node.id)\n                ? edgesBySource.get(node.id)\n                : [];\n            const targets = edgesByTarget.has(node.id)\n                ? edgesByTarget.get(node.id)\n                : [];\n            node.frequency = sources.length + targets.length;\n            node.value =\n                sum(sources, (d) => d.sourceWeight) +\n                    sum(targets, (d) => d.targetWeight);\n        });\n        return { nodes, edges };\n    }\n    function sortNodes(nodes, edges) {\n        const method = typeof sortBy === 'function' ? sortBy : SortMethods[sortBy];\n        if (method) {\n            nodes.sort(method);\n        }\n    }\n    function layoutNodes(nodes, edges) {\n        const size = nodes.length;\n        if (!size) {\n            throw error(\"Invalid nodes: it's empty!\");\n        }\n        // No weight.\n        if (!weight) {\n            const deltaX = 1 / size;\n            nodes.forEach((node, i) => {\n                node.x = (i + 0.5) * deltaX;\n                node.y = y;\n            });\n            return { nodes, edges };\n        }\n        // todo: marginRatio should be in [0, 1)\n        // todo: thickness shoule be in (0, 1)\n        const margin = marginRatio / (2 * size);\n        const total = nodes.reduce((prev, node) => (prev += node.value), 0);\n        nodes.reduce((deltaX, node) => {\n            node.weight = node.value / total;\n            node.width = node.weight * (1 - marginRatio);\n            node.height = thickness;\n            /* points\n             * 3---2\n             * |   |\n             * 0---1\n             */\n            const minX = margin + deltaX;\n            const maxX = minX + node.width;\n            const minY = y - thickness / 2;\n            const maxY = minY + thickness;\n            node.x = [minX, maxX, maxX, minX];\n            node.y = [minY, minY, maxY, maxY];\n            // Return next deltaX.\n            return deltaX + node.width + 2 * margin;\n        }, 0);\n        return {\n            nodes,\n            edges,\n        };\n    }\n    /**\n     * Get edge layout information from nodes, and save into edge object.\n     */\n    function layoutEdges(nodes, edges) {\n        const nodesMap = new Map(nodes.map((d) => [d.id, d]));\n        if (!weight) {\n            edges.forEach((edge) => {\n                const sourceId = source(edge);\n                const targetId = target(edge);\n                const sourceNode = nodesMap.get(sourceId);\n                const targetNode = nodesMap.get(targetId);\n                // Edge's layout information is Equal with node.\n                if (sourceNode && targetNode) {\n                    edge.x = [sourceNode.x, targetNode.x];\n                    edge.y = [sourceNode.y, targetNode.y];\n                }\n            });\n            return { nodes, edges };\n        }\n        // Initial edge.x, edge.y.\n        edges.forEach((edge) => {\n            edge.x = [0, 0, 0, 0];\n            edge.y = [y, y, y, y];\n        });\n        // Group edges by source, target.\n        const edgesBySource = group(edges, (e) => e.source);\n        const edgesByTarget = group(edges, (e) => e.target);\n        // When weight = true, we need to calculation the bbox of edge start/end.\n        nodes.forEach((node) => {\n            const { edges, width, x, y, value, id } = node;\n            const sourceEdges = edgesBySource.get(id) || [];\n            const targetEdges = edgesByTarget.get(id) || [];\n            let offset = 0;\n            /* points\n             * 0----------2\n             * |          |\n             * 1----------3\n             */\n            sourceEdges.map((edge) => {\n                const w = (edge.sourceWeight / value) * width;\n                edge.x[0] = x[0] + offset;\n                edge.x[1] = x[0] + offset + w;\n                offset += w;\n            });\n            targetEdges.forEach((edge) => {\n                const w = (edge.targetWeight / value) * width;\n                edge.x[3] = x[0] + offset;\n                edge.x[2] = x[0] + offset + w;\n                offset += w;\n            });\n        });\n    }\n    return arc;\n}\n//# sourceMappingURL=arc.js.map","import { Arc as ArcLayout } from '../data/utils/arc';\n/**\n * For arc diagram(edge with weight) or chord diagram(with weight)\n */\nexport const Arc = (options) => {\n    return (data) => {\n        return ArcLayout(options)(data);\n    };\n};\nArc.props = {};\n//# sourceMappingURL=arc.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { subTooltip, maybeAnimation } from '../utils/mark';\nimport { Arc } from '../data/arc';\nimport { field, initializeData } from './utils';\nconst DEFAULT_LAYOUT_OPTIONS = {\n    y: 0,\n    thickness: 0.05,\n    marginRatio: 0.1,\n    id: (node) => node.key,\n    source: (edge) => edge.source,\n    target: (edge) => edge.target,\n    sourceWeight: (edge) => edge.value || 1,\n    targetWeight: (edge) => edge.value || 1,\n    sortBy: null, // optional, id | weight | frequency | {function}\n};\nconst DEFAULT_NODE_OPTIONS = {\n    type: 'polygon',\n    axis: false,\n    legend: false,\n    encode: {\n        shape: 'polygon',\n        x: 'x',\n        y: 'y',\n    },\n    scale: {\n        x: { type: 'identity' },\n        y: { type: 'identity' },\n    },\n    style: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n    },\n};\nconst DEFAULT_LINK_OPTIONS = {\n    type: 'polygon',\n    axis: false,\n    legend: false,\n    encode: {\n        shape: 'ribbon',\n        x: 'x',\n        y: 'y',\n    },\n    style: {\n        opacity: 0.5,\n        lineWidth: 1,\n    },\n};\nconst DEFAULT_LABEL_OPTIONS = {\n    position: 'outside',\n    fontSize: 10,\n};\nexport const Chord = (options, context) => {\n    const { data, encode = {}, scale, style = {}, layout = {}, nodeLabels = [], linkLabels = [], animate = {}, tooltip = {}, } = options;\n    // Initialize data, generating nodes by link if is not specified.\n    const { nodes, links } = initializeData(data, encode);\n    // Extract encode for node and link.\n    const nodeEncode = subObject(encode, 'node');\n    const linkEncode = subObject(encode, 'link');\n    const { key: nodeKey = (d) => d.key, color = nodeKey } = nodeEncode;\n    const { linkEncodeColor = (d) => d.source } = linkEncode;\n    const { nodeWidthRatio = DEFAULT_LAYOUT_OPTIONS.thickness, nodePaddingRatio = DEFAULT_LAYOUT_OPTIONS.marginRatio } = layout, restLayout = __rest(layout, [\"nodeWidthRatio\", \"nodePaddingRatio\"]);\n    const { nodes: nodeData, edges: linkData } = Arc(Object.assign(Object.assign(Object.assign(Object.assign({}, DEFAULT_LAYOUT_OPTIONS), { id: field(nodeKey), thickness: nodeWidthRatio, marginRatio: nodePaddingRatio }), restLayout), { weight: true }))({ nodes, edges: links });\n    // Extract label style and apply defaults.\n    const _a = subObject(style, 'label'), { text = nodeKey } = _a, labelStyle = __rest(_a, [\"text\"]);\n    const nodeTooltip = subTooltip(tooltip, 'node', {\n        title: '',\n        items: [(d) => ({ name: d.key, value: d.value })],\n    }, true);\n    const linkTooltip = subTooltip(tooltip, 'link', {\n        title: '',\n        items: [(d) => ({ name: `${d.source} -> ${d.target}`, value: d.value })],\n    });\n    const { height, width } = context;\n    const minimumLen = Math.min(height, width);\n    return [\n        deepMix({}, DEFAULT_LINK_OPTIONS, {\n            data: linkData,\n            encode: Object.assign(Object.assign({}, linkEncode), { color: linkEncodeColor }),\n            labels: linkLabels,\n            style: Object.assign({ fill: linkEncodeColor ? undefined : '#aaa' }, subObject(style, 'link')),\n            tooltip: linkTooltip,\n            animate: maybeAnimation(animate, 'link'),\n        }),\n        deepMix({}, DEFAULT_NODE_OPTIONS, {\n            data: nodeData,\n            encode: Object.assign(Object.assign({}, nodeEncode), { color }),\n            scale,\n            style: subObject(style, 'node'),\n            coordinate: {\n                type: 'polar',\n                // Leave enough rendering space for the label.\n                outerRadius: (minimumLen - 20) / minimumLen,\n                startAngle: -Math.PI * 2,\n                endAngle: 0,\n            },\n            labels: [\n                Object.assign(Object.assign(Object.assign({}, DEFAULT_LABEL_OPTIONS), { text }), labelStyle),\n                ...nodeLabels,\n            ],\n            tooltip: nodeTooltip,\n            animate: maybeAnimation(animate, 'node'),\n            axis: false,\n        }),\n    ];\n};\nChord.props = {};\n//# sourceMappingURL=chord.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix, get, last } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { maybeTooltip } from '../utils/mark';\nimport { treeDataTransform } from '../utils/treeDataTransform';\n// Defaults\nconst GET_DEFAULT_LAYOUT_OPTIONS = (width, height) => ({\n    tile: 'treemapSquarify',\n    ratio: 0.5 * (1 + Math.sqrt(5)),\n    size: [width, height],\n    round: false,\n    ignoreParentValue: true,\n    padding: 0,\n    paddingInner: 0,\n    paddingOuter: 0,\n    paddingTop: 0,\n    paddingRight: 0,\n    paddingBottom: 0,\n    paddingLeft: 0,\n    sort: (a, b) => b.value - a.value,\n    layer: 0,\n});\nconst GET_DEFAULT_OPTIONS = (width, height) => ({\n    type: 'rect',\n    axis: false,\n    encode: {\n        x: 'x',\n        y: 'y',\n        key: 'id',\n        color: (d) => d.path[1],\n    },\n    scale: {\n        x: { domain: [0, width], range: [0, 1] },\n        y: { domain: [0, height], range: [0, 1] },\n    },\n    style: {\n        stroke: '#fff',\n    },\n    state: {\n        active: { opacity: 0.6 },\n        inactive: { opacity: 1 },\n    },\n});\nconst DEFAULT_LABEL_OPTIONS = {\n    fontSize: 10,\n    text: (d) => last(d.path),\n    position: 'inside',\n    fill: '#000',\n    textOverflow: 'clip',\n    wordWrap: true,\n    maxLines: 1,\n    wordWrapWidth: (d) => d.x1 - d.x0,\n};\nconst DEFAULT_TOOLTIP_OPTIONS = {\n    title: (d) => { var _a, _b; return (_b = (_a = d.path) === null || _a === void 0 ? void 0 : _a.join) === null || _b === void 0 ? void 0 : _b.call(_a, '.'); },\n    items: [{ field: 'value' }],\n};\nconst DEFAULT_TOOLTIP_OPTIONS_DRILL = {\n    title: (d) => last(d.path),\n    items: [{ field: 'value' }],\n};\nexport const Treemap = (options, context) => {\n    const { width, height, options: markOptions } = context;\n    const { data, encode = {}, scale, style = {}, layout = {}, labels = [], tooltip = {} } = options, resOptions = __rest(options, [\"data\", \"encode\", \"scale\", \"style\", \"layout\", \"labels\", \"tooltip\"]);\n    const treemapDrillDown = get(markOptions, [\n        'interaction',\n        'treemapDrillDown',\n    ]);\n    // Layout\n    const layoutOptions = deepMix({}, GET_DEFAULT_LAYOUT_OPTIONS(width, height), layout, {\n        layer: treemapDrillDown\n            ? (d) => {\n                return d.depth === 1;\n            }\n            : layout.layer,\n    });\n    // Data\n    const [transformedData, transformedDataAll] = treeDataTransform(data, layoutOptions, encode);\n    // Label\n    const labelStyle = subObject(style, 'label');\n    return deepMix({}, GET_DEFAULT_OPTIONS(width, height), Object.assign(Object.assign({ data: transformedData, scale,\n        style, labels: [\n            Object.assign(Object.assign({}, DEFAULT_LABEL_OPTIONS), labelStyle),\n            ...labels,\n        ] }, resOptions), { encode, tooltip: maybeTooltip(tooltip, DEFAULT_TOOLTIP_OPTIONS), axis: false }), treemapDrillDown\n        ? {\n            interaction: Object.assign(Object.assign({}, resOptions.interaction), { treemapDrillDown: treemapDrillDown\n                    ? Object.assign(Object.assign({}, treemapDrillDown), { originData: transformedDataAll, layout: layoutOptions }) : undefined }),\n            encode: Object.assign({ color: (d) => last(d.path) }, encode),\n            tooltip: maybeTooltip(tooltip, DEFAULT_TOOLTIP_OPTIONS_DRILL),\n        }\n        : {});\n};\nTreemap.props = {};\n//# sourceMappingURL=treemap.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { min as d3Min, max as d3Max, quantile, group } from 'd3-array';\nimport { subObject } from '../utils/helper';\nimport { maybeAnimation, subTooltip } from '../utils/mark';\nfunction min(I, V) {\n    return d3Min(I, (i) => V[i]);\n}\nfunction max(I, V) {\n    return d3Max(I, (i) => V[i]);\n}\nfunction lower(I, V) {\n    const lo = q1(I, V) * 2.5 - q3(I, V) * 1.5;\n    return d3Min(I, (i) => (V[i] >= lo ? V[i] : NaN));\n}\nfunction q1(I, V) {\n    return quantile(I, 0.25, (i) => V[i]);\n}\nfunction q2(I, V) {\n    return quantile(I, 0.5, (i) => V[i]);\n}\nfunction q3(I, V) {\n    return quantile(I, 0.75, (i) => V[i]);\n}\nfunction upper(I, V) {\n    const hi = q3(I, V) * 2.5 - q1(I, V) * 1.5;\n    return d3Max(I, (i) => (V[i] <= hi ? V[i] : NaN));\n}\n/**\n * Group marks by x and reserve outlier indexes.\n */\nfunction OutlierY() {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { y, x } = encode;\n        const { value: V } = y;\n        const { value: X } = x;\n        const GI = Array.from(group(I, (i) => X[+i]).values());\n        const FI = GI.flatMap((I) => {\n            const lo = lower(I, V);\n            const hi = upper(I, V);\n            return I.filter((i) => V[i] < lo || V[i] > hi);\n        });\n        return [FI, mark];\n    };\n}\nexport const Boxplot = (options) => {\n    const { data, encode, style = {}, tooltip = {}, transform, animate } = options, rest = __rest(options, [\"data\", \"encode\", \"style\", \"tooltip\", \"transform\", \"animate\"]);\n    const { point = true } = style, restStyle = __rest(style, [\"point\"]);\n    const { y } = encode;\n    const encodeY = { y, y1: y, y2: y, y3: y, y4: y };\n    const qy = { y1: q1, y2: q2, y3: q3 };\n    // Tooltips.\n    const boxTooltip = subTooltip(tooltip, 'box', {\n        items: [\n            { channel: 'y', name: 'min' },\n            { channel: 'y1', name: 'q1' },\n            { channel: 'y2', name: 'q2' },\n            { channel: 'y3', name: 'q3' },\n            { channel: 'y4', name: 'max' },\n        ],\n    }, true);\n    const pointTooltip = subTooltip(tooltip, 'point', {\n        title: { channel: 'x' },\n        items: [{ name: 'outlier', channel: 'y' }],\n    });\n    // Only show min and max instead of lower and upper.\n    // Only draw a box.\n    if (!point) {\n        return Object.assign({ type: 'box', data: data, transform: [\n                Object.assign(Object.assign({ type: 'groupX', y: min }, qy), { y4: max }),\n            ], encode: Object.assign(Object.assign({}, encode), encodeY), style: restStyle, tooltip: boxTooltip }, rest);\n    }\n    const boxStyle = subObject(restStyle, 'box');\n    const pointStyle = subObject(restStyle, 'point');\n    return [\n        Object.assign({ type: 'box', data: data, transform: [\n                Object.assign(Object.assign({ type: 'groupX', y: lower }, qy), { y4: upper }),\n            ], encode: Object.assign(Object.assign({}, encode), encodeY), style: boxStyle, tooltip: boxTooltip, animate: maybeAnimation(animate, 'box') }, rest),\n        // Draw outliers.\n        {\n            type: 'point',\n            data: data,\n            transform: [{ type: OutlierY }],\n            encode,\n            style: Object.assign({}, pointStyle),\n            tooltip: pointTooltip,\n            animate: maybeAnimation(animate, 'point'),\n        },\n    ];\n};\nBoxplot.props = {};\n//# sourceMappingURL=boxplot.js.map","import { omit } from '@antv/util';\n// Get point1 point2 radius.\nconst getR = (point1, point2) => {\n    return (Math.sqrt(Math.pow(point1[0] - point2[0], 2) + Math.pow(point1[1] - point2[1], 2)) / 2);\n};\n// Gauge round.\nexport const Round = (options, context) => {\n    if (!context)\n        return;\n    const { coordinate } = context;\n    if (!(coordinate === null || coordinate === void 0 ? void 0 : coordinate.getCenter))\n        return;\n    // Get coordinate center point.\n    const center = coordinate.getCenter();\n    return (points, cfg, defaultCfg) => {\n        const { document } = context.canvas;\n        const { color, index } = cfg;\n        const g = document.createElement('g', {});\n        const minR = getR(points[0], points[1]);\n        const maxR = getR(points[0], center) * 2;\n        /**\n         * MinR small circle radius,  maxR big circle radius.\n         * Draw four arcs.\n         * Style lineWidth and stroke for the time being inset.\n         */\n        const roundPath = document.createElement('path', {\n            style: Object.assign(Object.assign(Object.assign({ d: [\n                    ['M', ...points[0]],\n                    ['A', minR, minR, 0, 1, 0, ...points[1]],\n                    ['A', maxR + minR * 2, maxR + minR * 2, 0, 0, 0, ...points[2]],\n                    ['A', minR, minR, 0, 1, index === 0 ? 0 : 1, ...points[3]],\n                    ['A', maxR, maxR, 0, 0, 1, ...points[0]],\n                    ['Z'],\n                ] }, defaultCfg), omit(options, ['shape', 'last', 'first'])), { fill: color || defaultCfg.color }),\n        });\n        g.appendChild(roundPath);\n        return g;\n    };\n};\n//# sourceMappingURL=round.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix, isNumber } from '@antv/util';\nimport { Group } from '@antv/g';\nimport { filterPrefixObject, isUnset, subObject } from '../utils/helper';\nimport { getTransformOptions } from '../utils/coordinate';\nimport { Radial } from '../coordinate';\nimport { applyStyle, getOrigin } from '../shape/utils';\nimport { select } from '../utils/selection';\nimport { GaugeRound } from '../shape';\nconst indicatorShape = (options, context) => {\n    const { shape, radius } = options, style = __rest(options, [\"shape\", \"radius\"]);\n    const pointerStyle = subObject(style, 'pointer');\n    const pinStyle = subObject(style, 'pin');\n    const { shape: pointerShape } = pointerStyle, resPointerStyle = __rest(pointerStyle, [\"shape\"]);\n    const { shape: pinShape } = pinStyle, resPinStyle = __rest(pinStyle, [\"shape\"]);\n    const { coordinate, theme } = context;\n    return (points, value) => {\n        // Invert points.\n        const invertedPoints = points.map((p) => coordinate.invert(p));\n        // Get new coordinate.\n        const [startAngle, endAngle, innerRadius] = getTransformOptions(coordinate, 'polar');\n        const newCoordinate = coordinate.clone();\n        const { color: stroke } = value;\n        const newTransformations = Radial({\n            startAngle,\n            endAngle,\n            innerRadius,\n            outerRadius: radius,\n        });\n        newTransformations.push(['cartesian']);\n        newCoordinate.update({\n            transformations: newTransformations,\n        });\n        const newPoints = invertedPoints.map((p) => newCoordinate.map(p));\n        const [x, y] = getOrigin(newPoints);\n        const [cx, cy] = coordinate.getCenter();\n        const pointerAttrs = Object.assign(Object.assign({ x1: x, y1: y, x2: cx, y2: cy, stroke }, resPointerStyle), style);\n        const pinAttrs = Object.assign(Object.assign({ cx,\n            cy,\n            stroke }, resPinStyle), style);\n        const indicatorGroup = select(new Group());\n        if (!isUnset(pointerShape)) {\n            typeof pointerShape === 'function'\n                ? indicatorGroup.append(() => pointerShape(newPoints, value, newCoordinate, theme))\n                : indicatorGroup.append('line').call(applyStyle, pointerAttrs).node();\n        }\n        if (!isUnset(pinShape)) {\n            typeof pinShape === 'function'\n                ? indicatorGroup.append(() => pinShape(newPoints, value, newCoordinate, theme))\n                : indicatorGroup.append('circle').call(applyStyle, pinAttrs).node();\n        }\n        return indicatorGroup.node();\n    };\n};\nconst DEFAULT_OPTIONS = {\n    coordinate: {\n        type: 'radial',\n        innerRadius: 0.9,\n        outerRadius: 1,\n        startAngle: (-11 / 10) * Math.PI,\n        endAngle: (1 / 10) * Math.PI,\n    },\n    axis: {\n        x: false,\n    },\n    legend: false,\n    tooltip: false,\n    encode: {\n        x: 'x',\n        y: 'y',\n        color: 'color',\n    },\n    scale: {\n        color: {\n            range: ['#30BF78', '#D0D0D0'],\n        },\n    },\n};\nconst DEFAULT_INDICATOR_OPTIONS = {\n    style: {\n        shape: indicatorShape,\n        lineWidth: 4,\n        pointerLineCap: 'round',\n        pinR: 10,\n        pinFill: '#fff',\n        radius: 0.6,\n    },\n};\nconst DEFAULT_TEXT_OPTIONS = {\n    type: 'text',\n    style: {\n        x: '50%',\n        y: '60%',\n        textAlign: 'center',\n        textBaseline: 'middle',\n        fontSize: 20,\n        fontWeight: 800,\n        fill: '#888',\n    },\n    tooltip: false,\n};\nfunction getGaugeData(data) {\n    if (isNumber(data)) {\n        // Percent range [0, 1].\n        const percent = Math.max(0, Math.min(data, 1));\n        return {\n            percent,\n            target: percent,\n            total: 1,\n        };\n    }\n    return data;\n}\nfunction dataTransform(data, scale) {\n    const { name = 'score', target, total, percent, thresholds = [], } = getGaugeData(data);\n    const _target = percent || target;\n    const _total = percent ? 1 : total;\n    const newScale = Object.assign({ y: {\n            domain: [0, _total],\n        } }, scale);\n    if (!thresholds.length) {\n        return {\n            targetData: [{ x: name, y: _target, color: 'target' }],\n            totalData: [\n                { x: name, y: _target, color: 'target' },\n                { x: name, y: _total - _target, color: 'total' },\n            ],\n            target: _target,\n            total: _total,\n            scale: newScale,\n        };\n    }\n    return {\n        targetData: [{ x: name, y: _target, color: 'target' }],\n        totalData: thresholds.map((d, i) => ({\n            x: name,\n            y: i >= 1 ? d - thresholds[i - 1] : d,\n            color: i,\n        })),\n        target: _target,\n        total: _total,\n        scale: newScale,\n    };\n}\nfunction getTextContent(textStyle, { target, total }) {\n    const { content } = textStyle;\n    return content ? content(target, total) : target.toString();\n}\nexport const Gauge = (options) => {\n    const { data = {}, scale = {}, style = {}, animate = {}, transform = [] } = options, resOptions = __rest(options, [\"data\", \"scale\", \"style\", \"animate\", \"transform\"]);\n    const { targetData, totalData, target, total, scale: newScale, } = dataTransform(data, scale);\n    const _a = subObject(style, 'text'), { tooltip } = _a, textStyle = __rest(_a, [\"tooltip\"]);\n    // pointer + pin\n    const indicatorStyle = filterPrefixObject(style, ['pointer', 'pin']);\n    const arcStyle = subObject(style, 'arc');\n    const shape = arcStyle.shape;\n    return [\n        deepMix({}, DEFAULT_OPTIONS, Object.assign({ type: 'interval', transform: [{ type: 'stackY' }], data: totalData, scale: newScale, style: shape === 'round' ? Object.assign(Object.assign({}, arcStyle), { shape: GaugeRound }) : arcStyle, animate: typeof animate === 'object' ? subObject(animate, 'arc') : animate }, resOptions)),\n        deepMix({}, DEFAULT_OPTIONS, DEFAULT_INDICATOR_OPTIONS, Object.assign({ type: 'point', data: targetData, scale: newScale, style: indicatorStyle, animate: typeof animate === 'object' ? subObject(animate, 'indicator') : animate }, resOptions)),\n        deepMix({}, DEFAULT_TEXT_OPTIONS, {\n            style: Object.assign({ text: getTextContent(textStyle, { target, total }) }, textStyle),\n            tooltip,\n            animate: typeof animate === 'object' ? subObject(animate, 'text') : animate,\n        }),\n    ];\n};\nGauge.props = {};\n//# sourceMappingURL=gauge.js.map","const DURATION = 5000;\n/**\n * A function of linear mapping.\n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min, max, factor) {\n    return min + (max - min) * factor;\n}\n/**\n * Using Bessel curve to simulate sine wave.\n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * Whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1).\n *\n * @param x          x position of the left-most point (a).\n * @param stage      0-3, stating which part of the wave it is.\n * @param waveLength wave length of the sine wave.\n * @param amplitude  wave amplitude.\n * @return Sinusoidal segment curve.\n */\nfunction getWaterWavePositions(x, stage, waveLength, amplitude) {\n    if (stage === 0) {\n        return [\n            [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n            [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n            [x + waveLength / 4, amplitude],\n        ];\n    }\n    if (stage === 1) {\n        return [\n            [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n            [\n                x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1),\n                amplitude / 2,\n            ],\n            [x + waveLength / 4, 0],\n        ];\n    }\n    if (stage === 2) {\n        return [\n            [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n            [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n            [x + waveLength / 4, -amplitude],\n        ];\n    }\n    return [\n        [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n        [\n            x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1),\n            -amplitude / 2,\n        ],\n        [x + waveLength / 4, 0],\n    ];\n}\n/**\n * Get wave path.\n * @param radius\n * @param waterLevel      water level\n * @param waveLength      wave length\n * @param phase\n * @param amplitude\n * @param cx              center x\n * @param cy              center y\n * @return path           path\n */\nfunction getWaterWavePath(radius, waterLevel, waveLength, phase, amplitude, cx, cy) {\n    const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n    const path = [];\n    let _phase = phase;\n    // Map phase to [-Math.PI * 2, 0].\n    while (_phase < -Math.PI * 2) {\n        _phase += Math.PI * 2;\n    }\n    while (_phase > 0) {\n        _phase -= Math.PI * 2;\n    }\n    _phase = (_phase / Math.PI / 2) * waveLength;\n    const left = cx - radius + _phase - radius * 2;\n    /**\n     * Top-left corner as start point.\n     *\n     * Draws this point.\n     *  |\n     * \\|/\n     *  ~~~~~~~~\n     *  |      |\n     *  +------+\n     */\n    path.push(['M', left, waterLevel]);\n    /**\n     * Top wave.\n     *\n     * ~~~~~~~~ <- Draws this sine wave.\n     * |      |\n     * +------+\n     */\n    let waveRight = 0;\n    for (let c = 0; c < curves; ++c) {\n        const stage = c % 4;\n        const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n        path.push([\n            'C',\n            pos[0][0] + left,\n            -pos[0][1] + waterLevel,\n            pos[1][0] + left,\n            -pos[1][1] + waterLevel,\n            pos[2][0] + left,\n            -pos[2][1] + waterLevel,\n        ]);\n        if (c === curves - 1) {\n            waveRight = pos[2][0];\n        }\n    }\n    /**\n     * Top-right corner.\n     *\n     *                       ~~~~~~~~\n     * 3. Draws this line. -> |      | <- 1. Draws this line.\n     *                       +------+\n     *                          ^\n     *                          |\n     *                  2. Draws this line.\n     */\n    path.push(['L', waveRight + left, cy + radius]);\n    path.push(['L', left, cy + radius]);\n    path.push(['Z']);\n    return path;\n}\n/**\n * Add wave.\n * @param x           center x\n * @param y           center y\n * @param level       wave level 0～1\n * @param waveCount   wave count\n * @param waveAttrs   style\n * @param group       g\n * @param minY        Minimum height\n * @param radius      radius\n * @param waveLength  wave length\n * @param animation  animation config\n * @param document\n */\nexport function addWave(x, y, level, waveCount, waveAttrs, group, minY, radius, waveLength, animation, document) {\n    // Box property Color width height.\n    const { fill, fillOpacity, opacity } = waveAttrs;\n    // Number of cyclic waveCount.\n    for (let idx = 0; idx < waveCount; idx++) {\n        const factor = waveCount <= 1 ? 1 : idx / (waveCount - 1);\n        const path = getWaterWavePath(radius, minY + radius * level, waveLength, 0, \n        // Amplitude height.\n        radius / 40, x, y);\n        // Create wave path.\n        const wave = document.createElement('path', {\n            style: {\n                d: path,\n                fill,\n                opacity: lerp(0.2, 0.9, factor) * Number(opacity || fillOpacity),\n            },\n        });\n        group.appendChild(wave);\n        try {\n            if (animation === false)\n                return;\n            const keyframes = [\n                {\n                    transform: 'translate(0, 0)',\n                },\n                {\n                    transform: `translate(${waveLength * 2}, 0)`,\n                },\n            ];\n            wave.animate(keyframes, {\n                duration: lerp(0.5 * DURATION, DURATION, factor) * 2,\n                iterations: Infinity,\n            });\n        }\n        catch (e) {\n            console.warn('off-screen group animate error!');\n        }\n    }\n}\n//# sourceMappingURL=wave.js.map","/**\n * @param x center x\n * @param y center y\n * @param radius\n */\nfunction circle(x, y, r) {\n    return `\n      M ${x} ${y - r} \n      a ${r} ${r} 0 1 0 0 ${r * 2}\n      a ${r} ${r} 0 1 0 0 ${-r * 2}\n      Z\n    `;\n}\n/**\n * @param x center x\n * @param y center y\n * @param radius\n */\nfunction rect(x, y, r) {\n    const GOLDEN_SECTION_RATIO = 0.618;\n    const w = r * GOLDEN_SECTION_RATIO;\n    return `\n      M ${x - w} ${y - r}\n      L ${x + w} ${y - r}\n      L ${x + w} ${y + r}\n      L ${x - w} ${y + r}\n      Z\n    `;\n}\n/**\n * @param x center x\n * @param y center y\n * @param radius\n */\nfunction diamond(x, y, r) {\n    return `\n      M ${x} ${y - r}\n      L ${x + r} ${y}\n      L ${x} ${y + r}\n      L ${x - r} ${y}\n      Z\n    `;\n}\n/**\n * @param x center x\n * @param y center y\n * @param radius\n */\nfunction triangle(x, y, r) {\n    return `\n      M ${x} ${y - r}\n      L ${x + r} ${y + r}\n      L ${x - r} ${y + r}\n      Z\n    `;\n}\n/**\n * @param x center x\n * @param y center y\n * @param radius\n */\nfunction pin(x, y, radius) {\n    const w = (radius * 4) / 3;\n    const h = Math.max(w, radius * 2);\n    const r = w / 2;\n    // Attrs of the upper circle.\n    const cx = x;\n    const cy = r + y - h / 2;\n    const theta = Math.asin(r / ((h - r) * 0.85));\n    const dy = Math.sin(theta) * r;\n    const dx = Math.cos(theta) * r;\n    // The start point of the path.\n    const x0 = cx - dx;\n    const y0 = cy + dy;\n    // Control point.\n    const cpX = x;\n    const cpY = cy + r / Math.sin(theta);\n    return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\nexport const LiquidShapesPath = {\n    pin,\n    rect,\n    circle,\n    diamond,\n    triangle,\n};\n//# sourceMappingURL=shapes.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isFunction } from '@antv/util';\nimport { addWave } from './wave';\nimport { LiquidShapesPath } from './shapes';\nconst getLiquidShape = (shape = 'circle') => LiquidShapesPath[shape] || LiquidShapesPath.circle;\nexport const Liquid = (options, context) => {\n    if (!context)\n        return;\n    const { coordinate } = context;\n    const { liquidOptions, styleOptions } = options;\n    const { liquidShape, percent } = liquidOptions;\n    const { background: backgroundStyle, outline = {}, wave = {} } = styleOptions, attr = __rest(styleOptions, [\"background\", \"outline\", \"wave\"]);\n    const { border = 2, distance = 0 } = outline, outlineStyle = __rest(outline, [\"border\", \"distance\"]);\n    const { length = 192, count = 3 } = wave;\n    return (points, cfg, defaultAttr) => {\n        const { document } = context.canvas;\n        const { color, fillOpacity } = defaultAttr;\n        const attrs = Object.assign(Object.assign({ fill: color }, defaultAttr), attr);\n        const g = document.createElement('g', {});\n        // Center x/y.\n        const [centerX, centerY] = coordinate.getCenter();\n        // [width,height].\n        const size = coordinate.getSize();\n        const radius = Math.min(...size) / 2;\n        // 1、Gets the path of the overall shape.\n        const buildPath = isFunction(liquidShape)\n            ? liquidShape\n            : getLiquidShape(liquidShape);\n        const shapePath = buildPath(centerX, centerY, radius, ...size);\n        // 2、Background create.\n        if (Object.keys(backgroundStyle).length) {\n            const backgroundShape = document.createElement('path', {\n                style: Object.assign({ d: shapePath, fill: '#fff' }, backgroundStyle),\n            });\n            g.appendChild(backgroundShape);\n        }\n        // Percent > 0 Mapping water waves.\n        if (percent > 0) {\n            // 3. Clip create.\n            const clipShape = document.createElement('path', {\n                style: {\n                    d: shapePath,\n                },\n            });\n            g.appendChild(clipShape);\n            g.style.clipPath = clipShape;\n            // 4. Wave create.\n            addWave(centerX, centerY, 1 - percent, count, attrs, g, clipShape.getBBox().y, radius * 2, length, true, document);\n        }\n        // 5. Draw distance.\n        const distanceShape = document.createElement('path', {\n            style: {\n                d: shapePath,\n                fill: 'transparent',\n                lineWidth: border + 2 * distance,\n                stroke: '#fff',\n            },\n        });\n        // 6. Draw border.\n        const borderShape = document.createElement('path', {\n            style: Object.assign(Object.assign(Object.assign({ d: shapePath, stroke: color, strokeOpacity: fillOpacity, lineWidth: border }, attrs), outlineStyle), { fill: 'transparent' }),\n        });\n        g.appendChild(distanceShape);\n        g.appendChild(borderShape);\n        return g;\n    };\n};\nLiquid.props = {};\n//# sourceMappingURL=liquid.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix, isNumber } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { prettyNumber } from '../utils/number';\nimport { LiquidShape } from '../shape';\nconst DEFAULT_OPTIONS = {\n    axis: {\n        x: false,\n        y: false,\n    },\n    legend: false,\n    tooltip: false,\n    encode: {\n        x: 'type',\n        y: 'percent',\n    },\n    scale: {\n        y: {\n            domain: [0, 1],\n        },\n    },\n    style: {\n        shape: LiquidShape,\n    },\n    animate: {\n        enter: {\n            type: 'fadeIn',\n        },\n    },\n};\nconst DEFAULT_TEXT_OPTIONS = {\n    type: 'text',\n    style: {\n        x: '50%',\n        y: '50%',\n        textAlign: 'center',\n        textBaseline: 'middle',\n        fontSize: 20,\n        fontWeight: 800,\n        fill: '#888',\n    },\n    animate: {\n        enter: {\n            type: 'fadeIn',\n        },\n    },\n};\nexport const Liquid = (options) => {\n    const { data = {}, style = {}, animate } = options, resOptions = __rest(options, [\"data\", \"style\", \"animate\"]);\n    // Compatible with old data structures: { percent: number } and percent >= 0.\n    const percent = Math.max(0, isNumber(data) ? data : data === null || data === void 0 ? void 0 : data.percent);\n    const newData = [{ percent, type: 'liquid' }];\n    const contentStyle = Object.assign(Object.assign({}, subObject(style, 'text')), subObject(style, 'content'));\n    const outline = subObject(style, 'outline');\n    const wave = subObject(style, 'wave');\n    const background = subObject(style, 'background');\n    return [\n        deepMix({}, DEFAULT_OPTIONS, Object.assign({ type: 'interval', data: newData, style: {\n                liquidOptions: {\n                    percent,\n                    liquidShape: style === null || style === void 0 ? void 0 : style.shape,\n                },\n                styleOptions: Object.assign(Object.assign({}, style), { outline,\n                    wave,\n                    background }),\n            }, animate }, resOptions)),\n        deepMix({}, DEFAULT_TEXT_OPTIONS, {\n            style: Object.assign({ text: `${prettyNumber(percent * 100)} %` }, contentStyle),\n            animate,\n        }),\n    ];\n};\nLiquid.props = {};\n//# sourceMappingURL=liquid.js.map","const SMALL = 1e-10;\n/**\n * Returns the intersection area of a bunch of circles (where each circle\n * is an object having an x,y and radius property)\n */\nexport function intersectionArea(circles, stats) {\n    // Get all the intersection points of the circles\n    const intersectionPoints = getIntersectionPoints(circles);\n    // Filter out points that aren't included in all the circles\n    const innerPoints = intersectionPoints.filter(function (p) {\n        return containedInCircles(p, circles);\n    });\n    let arcArea = 0, polygonArea = 0, i;\n    const arcs = [];\n    // If we have intersection points that are within all the circles,\n    // then figure out the area contained by them\n    if (innerPoints.length > 1) {\n        // Sort the points by angle from the center of the polygon, which lets\n        // us just iterate over points to get the edges\n        const center = getCenter(innerPoints);\n        for (i = 0; i < innerPoints.length; ++i) {\n            const p = innerPoints[i];\n            p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n        }\n        innerPoints.sort(function (a, b) {\n            return b.angle - a.angle;\n        });\n        // Iterate over all points, get arc between the points\n        // and update the areas\n        let p2 = innerPoints[innerPoints.length - 1];\n        for (i = 0; i < innerPoints.length; ++i) {\n            const p1 = innerPoints[i];\n            // Polygon area updates easily ...\n            polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n            // Updating the arc area is a little more involved\n            const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n            let arc = null;\n            for (let j = 0; j < p1.parentIndex.length; ++j) {\n                if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n                    // Figure out the angle halfway between the two points\n                    // on the current circle\n                    const circle = circles[p1.parentIndex[j]], a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y), a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n                    let angleDiff = a2 - a1;\n                    if (angleDiff < 0) {\n                        angleDiff += 2 * Math.PI;\n                    }\n                    // and use that angle to figure out the width of the\n                    // arc\n                    const a = a2 - angleDiff / 2;\n                    let width = distance(midPoint, {\n                        x: circle.x + circle.radius * Math.sin(a),\n                        y: circle.y + circle.radius * Math.cos(a),\n                    });\n                    // Clamp the width to the largest is can actually be\n                    // (sometimes slightly overflows because of FP errors)\n                    if (width > circle.radius * 2) {\n                        width = circle.radius * 2;\n                    }\n                    // Pick the circle whose arc has the smallest width\n                    if (arc === null || arc.width > width) {\n                        arc = { circle: circle, width: width, p1: p1, p2: p2 };\n                    }\n                }\n            }\n            if (arc !== null) {\n                arcs.push(arc);\n                arcArea += circleArea(arc.circle.radius, arc.width);\n                p2 = p1;\n            }\n        }\n    }\n    else {\n        // No intersection points, is either disjoint - or is completely\n        // overlapped. figure out which by examining the smallest circle\n        let smallest = circles[0];\n        for (i = 1; i < circles.length; ++i) {\n            if (circles[i].radius < smallest.radius) {\n                smallest = circles[i];\n            }\n        }\n        // Make sure the smallest circle is completely contained in all\n        // the other circles\n        let disjoint = false;\n        for (i = 0; i < circles.length; ++i) {\n            if (distance(circles[i], smallest) >\n                Math.abs(smallest.radius - circles[i].radius)) {\n                disjoint = true;\n                break;\n            }\n        }\n        if (disjoint) {\n            arcArea = polygonArea = 0;\n        }\n        else {\n            arcArea = smallest.radius * smallest.radius * Math.PI;\n            arcs.push({\n                circle: smallest,\n                p1: { x: smallest.x, y: smallest.y + smallest.radius },\n                p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n                width: smallest.radius * 2,\n            });\n        }\n    }\n    polygonArea /= 2;\n    if (stats) {\n        stats.area = arcArea + polygonArea;\n        stats.arcArea = arcArea;\n        stats.polygonArea = polygonArea;\n        stats.arcs = arcs;\n        stats.innerPoints = innerPoints;\n        stats.intersectionPoints = intersectionPoints;\n    }\n    return arcArea + polygonArea;\n}\n/**\n * Returns whether a point is contained by all of a list of circles\n */\nexport function containedInCircles(point, circles) {\n    for (let i = 0; i < circles.length; ++i) {\n        if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n            return false;\n        }\n    }\n    return true;\n}\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n    const ret = [];\n    for (let i = 0; i < circles.length; ++i) {\n        for (let j = i + 1; j < circles.length; ++j) {\n            const intersect = circleCircleIntersection(circles[i], circles[j]);\n            for (let k = 0; k < intersect.length; ++k) {\n                const p = intersect[k];\n                p.parentIndex = [i, j];\n                ret.push(p);\n            }\n        }\n    }\n    return ret;\n}\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n    return (r * r * Math.acos(1 - width / r) -\n        (r - width) * Math.sqrt(width * (2 * r - width)));\n}\n/** Euclidean distance between two points */\nexport function distance(p1, p2) {\n    return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n    // no overlap\n    if (d >= r1 + r2) {\n        return 0;\n    }\n    // Completely overlapped\n    if (d <= Math.abs(r1 - r2)) {\n        return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n    }\n    const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d), w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n    return circleArea(r1, w1) + circleArea(r2, w2);\n}\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n    const d = distance(p1, p2), r1 = p1.radius, r2 = p2.radius;\n    // If to far away, or self contained - can't be done\n    if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n        return [];\n    }\n    const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d), h = Math.sqrt(r1 * r1 - a * a), x0 = p1.x + (a * (p2.x - p1.x)) / d, y0 = p1.y + (a * (p2.y - p1.y)) / d, rx = -(p2.y - p1.y) * (h / d), ry = -(p2.x - p1.x) * (h / d);\n    return [\n        { x: x0 + rx, y: y0 - ry },\n        { x: x0 - rx, y: y0 + ry },\n    ];\n}\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n    const center = { x: 0, y: 0 };\n    for (let i = 0; i < points.length; ++i) {\n        center.x += points[i].x;\n        center.y += points[i].y;\n    }\n    center.x /= points.length;\n    center.y /= points.length;\n    return center;\n}\n//# sourceMappingURL=circleintersection.js.map","import { bisect, conjugateGradient, nelderMead, norm2, scale, zeros, zerosM, } from 'fmin';\nimport { circleCircleIntersection, circleOverlap, distance, intersectionArea, } from './circleintersection';\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters) {\n    parameters = parameters || {};\n    parameters.maxIterations = parameters.maxIterations || 500;\n    const initialLayout = parameters.initialLayout || bestInitialLayout;\n    const loss = parameters.lossFunction || lossFunction;\n    // add in missing pairwise areas as having 0 size\n    areas = addMissingAreas(areas);\n    // initial layout is done greedily\n    const circles = initialLayout(areas, parameters);\n    // transform x/y coordinates to a vector to optimize\n    const initial = [], setids = [];\n    let setid;\n    for (setid in circles) {\n        // eslint-disable-next-line\n        if (circles.hasOwnProperty(setid)) {\n            initial.push(circles[setid].x);\n            initial.push(circles[setid].y);\n            setids.push(setid);\n        }\n    }\n    // optimize initial layout from our loss function\n    const solution = nelderMead(function (values) {\n        const current = {};\n        for (let i = 0; i < setids.length; ++i) {\n            const setid = setids[i];\n            current[setid] = {\n                x: values[2 * i],\n                y: values[2 * i + 1],\n                radius: circles[setid].radius,\n            };\n        }\n        return loss(current, areas);\n    }, initial, parameters);\n    // transform solution vector back to x/y points\n    const positions = solution.x;\n    for (let i = 0; i < setids.length; ++i) {\n        setid = setids[i];\n        circles[setid].x = positions[2 * i];\n        circles[setid].y = positions[2 * i + 1];\n    }\n    return circles;\n}\nconst SMALL = 1e-10;\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n    // handle complete overlapped circles\n    if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n        return Math.abs(r1 - r2);\n    }\n    return bisect(function (distance) {\n        return circleOverlap(r1, r2, distance) - overlap;\n    }, 0, r1 + r2);\n}\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n    areas = areas.slice();\n    // two circle intersections that aren't defined\n    const ids = [], pairs = {};\n    let i, j, a, b;\n    for (i = 0; i < areas.length; ++i) {\n        const area = areas[i];\n        if (area.sets.length == 1) {\n            ids.push(area.sets[0]);\n        }\n        else if (area.sets.length == 2) {\n            a = area.sets[0];\n            b = area.sets[1];\n            // @ts-ignore\n            pairs[[a, b]] = true;\n            // @ts-ignore\n            pairs[[b, a]] = true;\n        }\n    }\n    ids.sort((a, b) => {\n        return a > b ? 1 : -1;\n    });\n    for (i = 0; i < ids.length; ++i) {\n        a = ids[i];\n        for (j = i + 1; j < ids.length; ++j) {\n            b = ids[j];\n            // @ts-ignore\n            if (!([a, b] in pairs)) {\n                areas.push({ sets: [a, b], size: 0 });\n            }\n        }\n    }\n    return areas;\n}\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n    // initialize an empty distance matrix between all the points\n    const distances = zerosM(sets.length, sets.length), constraints = zerosM(sets.length, sets.length);\n    // compute required distances between all the sets such that\n    // the areas match\n    areas\n        .filter(function (x) {\n        return x.sets.length == 2;\n    })\n        .map(function (current) {\n        const left = setids[current.sets[0]], right = setids[current.sets[1]], r1 = Math.sqrt(sets[left].size / Math.PI), r2 = Math.sqrt(sets[right].size / Math.PI), distance = distanceFromIntersectArea(r1, r2, current.size);\n        distances[left][right] = distances[right][left] = distance;\n        // also update constraints to indicate if its a subset or disjoint\n        // relationship\n        let c = 0;\n        if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n            c = 1;\n        }\n        else if (current.size <= 1e-10) {\n            c = -1;\n        }\n        constraints[left][right] = constraints[right][left] = c;\n    });\n    return { distances: distances, constraints: constraints };\n}\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n    let loss = 0, i;\n    for (i = 0; i < fxprime.length; ++i) {\n        fxprime[i] = 0;\n    }\n    for (i = 0; i < distances.length; ++i) {\n        const xi = x[2 * i], yi = x[2 * i + 1];\n        for (let j = i + 1; j < distances.length; ++j) {\n            const xj = x[2 * j], yj = x[2 * j + 1], dij = distances[i][j], constraint = constraints[i][j];\n            const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi), distance = Math.sqrt(squaredDistance), delta = squaredDistance - dij * dij;\n            if ((constraint > 0 && distance <= dij) ||\n                (constraint < 0 && distance >= dij)) {\n                continue;\n            }\n            loss += 2 * delta * delta;\n            fxprime[2 * i] += 4 * delta * (xi - xj);\n            fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n            fxprime[2 * j] += 4 * delta * (xj - xi);\n            fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n        }\n    }\n    return loss;\n}\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n    let initial = greedyLayout(areas, params);\n    const loss = params.lossFunction || lossFunction;\n    // greedylayout is sufficient for all 2/3 circle cases. try out\n    // constrained MDS for higher order problems, take its output\n    // if it outperforms. (greedy is aesthetically better on 2/3 circles\n    // since it axis aligns)\n    if (areas.length >= 8) {\n        const constrained = constrainedMDSLayout(areas, params), constrainedLoss = loss(constrained, areas), greedyLoss = loss(initial, areas);\n        if (constrainedLoss + 1e-8 < greedyLoss) {\n            initial = constrained;\n        }\n    }\n    return initial;\n}\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n    params = params || {};\n    const restarts = params.restarts || 10;\n    // bidirectionally map sets to a rowid  (so we can create a matrix)\n    const sets = [], setids = {};\n    let i;\n    for (i = 0; i < areas.length; ++i) {\n        const area = areas[i];\n        if (area.sets.length == 1) {\n            setids[area.sets[0]] = sets.length;\n            sets.push(area);\n        }\n    }\n    const matrices = getDistanceMatrices(areas, sets, setids);\n    let distances = matrices.distances;\n    const constraints = matrices.constraints;\n    // keep distances bounded, things get messed up otherwise.\n    // TODO: proper preconditioner?\n    const norm = norm2(distances.map(norm2)) / distances.length;\n    distances = distances.map(function (row) {\n        return row.map(function (value) {\n            return value / norm;\n        });\n    });\n    const obj = function (x, fxprime) {\n        return constrainedMDSGradient(x, fxprime, distances, constraints);\n    };\n    let best, current;\n    for (i = 0; i < restarts; ++i) {\n        const initial = zeros(distances.length * 2).map(Math.random);\n        current = conjugateGradient(obj, initial, params);\n        if (!best || current.fx < best.fx) {\n            best = current;\n        }\n    }\n    const positions = best.x;\n    // translate rows back to (x,y,radius) coordinates\n    const circles = {};\n    for (i = 0; i < sets.length; ++i) {\n        const set = sets[i];\n        circles[set.sets[0]] = {\n            x: positions[2 * i] * norm,\n            y: positions[2 * i + 1] * norm,\n            radius: Math.sqrt(set.size / Math.PI),\n        };\n    }\n    if (params.history) {\n        for (i = 0; i < params.history.length; ++i) {\n            scale(params.history[i].x, norm);\n        }\n    }\n    return circles;\n}\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n    const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n    // define a circle for each set\n    const circles = {}, setOverlaps = {};\n    let set;\n    for (let i = 0; i < areas.length; ++i) {\n        const area = areas[i];\n        if (area.sets.length == 1) {\n            set = area.sets[0];\n            circles[set] = {\n                x: 1e10,\n                y: 1e10,\n                // rowid: circles.length, // fix to ->\n                rowid: Object.keys(circles).length,\n                size: area.size,\n                radius: Math.sqrt(area.size / Math.PI),\n            };\n            setOverlaps[set] = [];\n        }\n    }\n    areas = areas.filter(function (a) {\n        return a.sets.length == 2;\n    });\n    // map each set to a list of all the other sets that overlap it\n    for (let i = 0; i < areas.length; ++i) {\n        const current = areas[i];\n        // eslint-disable-next-line\n        let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n        const left = current.sets[0], right = current.sets[1];\n        // completely overlapped circles shouldn't be positioned early here\n        if (current.size + SMALL >=\n            Math.min(circles[left].size, circles[right].size)) {\n            weight = 0;\n        }\n        setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n        setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n    }\n    // get list of most overlapped sets\n    const mostOverlapped = [];\n    for (set in setOverlaps) {\n        // eslint-disable-next-line\n        if (setOverlaps.hasOwnProperty(set)) {\n            let size = 0;\n            for (let i = 0; i < setOverlaps[set].length; ++i) {\n                size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n            }\n            mostOverlapped.push({ set: set, size: size });\n        }\n    }\n    // sort by size desc\n    function sortOrder(a, b) {\n        return b.size - a.size;\n    }\n    mostOverlapped.sort(sortOrder);\n    // keep track of what sets have been laid out\n    const positioned = {};\n    function isPositioned(element) {\n        return element.set in positioned;\n    }\n    // adds a point to the output\n    function positionSet(point, index) {\n        circles[index].x = point.x;\n        circles[index].y = point.y;\n        positioned[index] = true;\n    }\n    // add most overlapped set at (0,0)\n    positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n    // get distances between all points. TODO, necessary?\n    // answer: probably not\n    // var distances = venn.getDistanceMatrices(circles, areas).distances;\n    for (let i = 1; i < mostOverlapped.length; ++i) {\n        const setIndex = mostOverlapped[i].set, overlap = setOverlaps[setIndex].filter(isPositioned);\n        set = circles[setIndex];\n        overlap.sort(sortOrder);\n        if (overlap.length === 0) {\n            // this shouldn't happen anymore with addMissingAreas\n            throw 'ERROR: missing pairwise overlap information';\n        }\n        const points = [];\n        for (let j = 0; j < overlap.length; ++j) {\n            // get appropriate distance from most overlapped already added set\n            const p1 = circles[overlap[j].set], d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n            // sample positions at 90 degrees for maximum aesthetics\n            points.push({ x: p1.x + d1, y: p1.y });\n            points.push({ x: p1.x - d1, y: p1.y });\n            points.push({ y: p1.y + d1, x: p1.x });\n            points.push({ y: p1.y - d1, x: p1.x });\n            // if we have at least 2 overlaps, then figure out where the\n            // set should be positioned analytically and try those too\n            for (let k = j + 1; k < overlap.length; ++k) {\n                const p2 = circles[overlap[k].set], d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n                const extraPoints = circleCircleIntersection({ x: p1.x, y: p1.y, radius: d1 }, { x: p2.x, y: p2.y, radius: d2 });\n                for (let l = 0; l < extraPoints.length; ++l) {\n                    points.push(extraPoints[l]);\n                }\n            }\n        }\n        // we have some candidate positions for the set, examine loss\n        // at each position to figure out where to put it at\n        let bestLoss = 1e50, bestPoint = points[0];\n        for (let j = 0; j < points.length; ++j) {\n            circles[setIndex].x = points[j].x;\n            circles[setIndex].y = points[j].y;\n            const localLoss = loss(circles, areas);\n            if (localLoss < bestLoss) {\n                bestLoss = localLoss;\n                bestPoint = points[j];\n            }\n        }\n        positionSet(bestPoint, setIndex);\n    }\n    return circles;\n}\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n    let output = 0;\n    function getCircles(indices) {\n        return indices.map(function (i) {\n            return sets[i];\n        });\n    }\n    for (let i = 0; i < overlaps.length; ++i) {\n        const area = overlaps[i];\n        let overlap;\n        if (area.sets.length == 1) {\n            continue;\n        }\n        else if (area.sets.length == 2) {\n            const left = sets[area.sets[0]], right = sets[area.sets[1]];\n            overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n        }\n        else {\n            overlap = intersectionArea(getCircles(area.sets));\n        }\n        // eslint-disable-next-line\n        const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n        output += weight * (overlap - area.size) * (overlap - area.size);\n    }\n    return output;\n}\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n    if (orientationOrder === null) {\n        circles.sort(function (a, b) {\n            return b.radius - a.radius;\n        });\n    }\n    else {\n        circles.sort(orientationOrder);\n    }\n    let i;\n    // shift circles so largest circle is at (0, 0)\n    if (circles.length > 0) {\n        const largestX = circles[0].x, largestY = circles[0].y;\n        for (i = 0; i < circles.length; ++i) {\n            circles[i].x -= largestX;\n            circles[i].y -= largestY;\n        }\n    }\n    if (circles.length == 2) {\n        // if the second circle is a subset of the first, arrange so that\n        // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n        const dist = distance(circles[0], circles[1]);\n        if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n            circles[1].x =\n                circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n            circles[1].y = circles[0].y;\n        }\n    }\n    // rotate circles so that second largest is at an angle of 'orientation'\n    // from largest\n    if (circles.length > 1) {\n        const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n        let x, y;\n        const c = Math.cos(rotation), s = Math.sin(rotation);\n        for (i = 0; i < circles.length; ++i) {\n            x = circles[i].x;\n            y = circles[i].y;\n            circles[i].x = c * x - s * y;\n            circles[i].y = s * x + c * y;\n        }\n    }\n    // mirror solution if third solution is above plane specified by\n    // first two circles\n    if (circles.length > 2) {\n        let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n        while (angle < 0) {\n            angle += 2 * Math.PI;\n        }\n        while (angle > 2 * Math.PI) {\n            angle -= 2 * Math.PI;\n        }\n        if (angle > Math.PI) {\n            const slope = circles[1].y / (1e-10 + circles[1].x);\n            for (i = 0; i < circles.length; ++i) {\n                const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n                circles[i].x = 2 * d - circles[i].x;\n                circles[i].y = 2 * d * slope - circles[i].y;\n            }\n        }\n    }\n}\nexport function disjointCluster(circles) {\n    // union-find clustering to get disjoint sets\n    circles.map(function (circle) {\n        circle.parent = circle;\n    });\n    // path compression step in union find\n    function find(circle) {\n        if (circle.parent !== circle) {\n            circle.parent = find(circle.parent);\n        }\n        return circle.parent;\n    }\n    function union(x, y) {\n        const xRoot = find(x), yRoot = find(y);\n        xRoot.parent = yRoot;\n    }\n    // get the union of all overlapping sets\n    for (let i = 0; i < circles.length; ++i) {\n        for (let j = i + 1; j < circles.length; ++j) {\n            const maxDistance = circles[i].radius + circles[j].radius;\n            if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n                union(circles[j], circles[i]);\n            }\n        }\n    }\n    // find all the disjoint clusters and group them together\n    const disjointClusters = {};\n    let setid;\n    for (let i = 0; i < circles.length; ++i) {\n        setid = find(circles[i]).parent.setid;\n        if (!(setid in disjointClusters)) {\n            disjointClusters[setid] = [];\n        }\n        disjointClusters[setid].push(circles[i]);\n    }\n    // cleanup bookkeeping\n    circles.map(function (circle) {\n        delete circle.parent;\n    });\n    // return in more usable form\n    const ret = [];\n    for (setid in disjointClusters) {\n        // eslint-disable-next-line\n        if (disjointClusters.hasOwnProperty(setid)) {\n            ret.push(disjointClusters[setid]);\n        }\n    }\n    return ret;\n}\nfunction getBoundingBox(circles) {\n    const minMax = function (d) {\n        const hi = Math.max.apply(null, circles.map(function (c) {\n            return c[d] + c.radius;\n        })), lo = Math.min.apply(null, circles.map(function (c) {\n            return c[d] - c.radius;\n        }));\n        return { max: hi, min: lo };\n    };\n    return { xRange: minMax('x'), yRange: minMax('y') };\n}\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n    if (orientation === null) {\n        orientation = Math.PI / 2;\n    }\n    // work with a list instead of a dictionary, and take a copy so we\n    // don't mutate input\n    let circles = [], i, setid;\n    for (setid in solution) {\n        // eslint-disable-next-line\n        if (solution.hasOwnProperty(setid)) {\n            const previous = solution[setid];\n            circles.push({\n                x: previous.x,\n                y: previous.y,\n                radius: previous.radius,\n                setid: setid,\n            });\n        }\n    }\n    // get all the disjoint clusters\n    const clusters = disjointCluster(circles);\n    // orientate all disjoint sets, get sizes\n    for (i = 0; i < clusters.length; ++i) {\n        orientateCircles(clusters[i], orientation, orientationOrder);\n        const bounds = getBoundingBox(clusters[i]);\n        clusters[i].size =\n            (bounds.xRange.max - bounds.xRange.min) *\n                (bounds.yRange.max - bounds.yRange.min);\n        clusters[i].bounds = bounds;\n    }\n    clusters.sort(function (a, b) {\n        return b.size - a.size;\n    });\n    // orientate the largest at 0,0, and get the bounds\n    circles = clusters[0];\n    // @ts-ignore fixme 从逻辑上看似乎是不对的，后续看看\n    let returnBounds = circles.bounds;\n    const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n    function addCluster(cluster, right, bottom) {\n        if (!cluster)\n            return;\n        const bounds = cluster.bounds;\n        let xOffset, yOffset, centreing;\n        if (right) {\n            xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n        }\n        else {\n            xOffset = returnBounds.xRange.max - bounds.xRange.max;\n            centreing =\n                (bounds.xRange.max - bounds.xRange.min) / 2 -\n                    (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n            if (centreing < 0)\n                xOffset += centreing;\n        }\n        if (bottom) {\n            yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n        }\n        else {\n            yOffset = returnBounds.yRange.max - bounds.yRange.max;\n            centreing =\n                (bounds.yRange.max - bounds.yRange.min) / 2 -\n                    (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n            if (centreing < 0)\n                yOffset += centreing;\n        }\n        for (let j = 0; j < cluster.length; ++j) {\n            cluster[j].x += xOffset;\n            cluster[j].y += yOffset;\n            circles.push(cluster[j]);\n        }\n    }\n    let index = 1;\n    while (index < clusters.length) {\n        addCluster(clusters[index], true, false);\n        addCluster(clusters[index + 1], false, true);\n        addCluster(clusters[index + 2], true, true);\n        index += 3;\n        // have one cluster (in top left). lay out next three relative\n        // to it in a grid\n        returnBounds = getBoundingBox(circles);\n    }\n    // convert back to solution form\n    const ret = {};\n    for (i = 0; i < circles.length; ++i) {\n        ret[circles[i].setid] = circles[i];\n    }\n    return ret;\n}\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n    const circles = [], setids = [];\n    for (const setid in solution) {\n        // eslint-disable-next-line\n        if (solution.hasOwnProperty(setid)) {\n            setids.push(setid);\n            circles.push(solution[setid]);\n        }\n    }\n    width -= 2 * padding;\n    height -= 2 * padding;\n    const bounds = getBoundingBox(circles), xRange = bounds.xRange, yRange = bounds.yRange;\n    if (xRange.max == xRange.min || yRange.max == yRange.min) {\n        console.log('not scaling solution: zero size detected');\n        return solution;\n    }\n    const xScaling = width / (xRange.max - xRange.min), yScaling = height / (yRange.max - yRange.min), scaling = Math.min(yScaling, xScaling), \n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2, yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n    const scaled = {};\n    for (let i = 0; i < circles.length; ++i) {\n        const circle = circles[i];\n        scaled[setids[i]] = {\n            radius: scaling * circle.radius,\n            x: padding + xOffset + (circle.x - xRange.min) * scaling,\n            y: padding + yOffset + (circle.y - yRange.min) * scaling,\n        };\n    }\n    return scaled;\n}\n//# sourceMappingURL=layout.js.map","import { intersectionAreaPath, scaleSolution, venn } from './utils/venn';\n/**\n * Layout venn data, get the path string for each set.\n */\nexport const Venn = (options) => {\n    const { sets = 'sets', size = 'size', as = ['key', 'path'], padding = 0, } = options;\n    const [key, path] = as;\n    return (data) => {\n        // Transform the data, venn layout use `sets` and `size` field.\n        const vennData = data.map((d) => (Object.assign(Object.assign({}, d), { sets: d[sets], size: d[size], [key]: d.sets.join('&') })));\n        // Sort data, avoid data occlusion.\n        vennData.sort((a, b) => a.sets.length - b.sets.length);\n        // Layout venn data.\n        const solution = venn(vennData);\n        let circles;\n        return vennData.map((datum) => {\n            const setsValue = datum[sets];\n            const pathFunc = ({ width, height }) => {\n                circles = circles\n                    ? circles\n                    : scaleSolution(solution, width, height, padding);\n                const setCircles = setsValue.map((set) => circles[set]);\n                let p = intersectionAreaPath(setCircles);\n                // Close the path for event picker.\n                if (!/[zZ]$/.test(p))\n                    p += ' Z';\n                return p;\n            };\n            return Object.assign(Object.assign({}, datum), { [path]: pathFunc });\n        });\n    };\n};\nVenn.props = {};\n//# sourceMappingURL=venn.js.map","import { intersectionArea } from './circleintersection';\n/**\n * 根据圆心(x, y) 半径 r 返回圆的绘制 path\n * @param x 圆心点 x\n * @param y 圆心点 y\n * @param r 圆的半径\n * @returns 圆的 path\n */\nfunction circlePath(x, y, r) {\n    const ret = [];\n    // ret.push('\\nM', x, y);\n    // ret.push('\\nm', -r, 0);\n    // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n    // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n    const x0 = x - r;\n    const y0 = y;\n    ret.push('M', x0, y0);\n    ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n    ret.push('A', r, r, 0, 1, 0, x0, y0);\n    return ret.join(' ');\n}\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n    const stats = {};\n    intersectionArea(circles, stats);\n    const arcs = stats.arcs;\n    if (arcs.length === 0) {\n        return 'M 0 0';\n    }\n    else if (arcs.length == 1) {\n        const circle = arcs[0].circle;\n        return circlePath(circle.x, circle.y, circle.radius);\n    }\n    else {\n        // draw path around arcs\n        const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n        for (let i = 0; i < arcs.length; ++i) {\n            const arc = arcs[i], r = arc.circle.radius, wide = arc.width > r;\n            ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n        }\n        return ret.join(' ');\n    }\n}\n//# sourceMappingURL=diagram.js.map","function debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n        var context = this, args = arguments;\n        var later = function () {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\nexport default debounce;\n//# sourceMappingURL=debounce.js.map","import isObjectLike from './is-object-like';\nimport isArrayLike from './is-array-like';\nimport isString from './is-string';\nvar isEqual = function (value, other) {\n    if (value === other) {\n        return true;\n    }\n    if (!value || !other) {\n        return false;\n    }\n    if (isString(value) || isString(other)) {\n        return false;\n    }\n    if (isArrayLike(value) || isArrayLike(other)) {\n        if (value.length !== other.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < value.length; i++) {\n            rst = isEqual(value[i], other[i]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    if (isObjectLike(value) || isObjectLike(other)) {\n        var valueKeys = Object.keys(value);\n        var otherKeys = Object.keys(other);\n        if (valueKeys.length !== otherKeys.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < valueKeys.length; i++) {\n            rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    return false;\n};\nexport default isEqual;\n//# sourceMappingURL=is-equal.js.map","/**\n * @examples\n * ✅\n * color - `discrete`, shape - `constant`\n * legendCategory.rule[27] is matched\n *\n * ❎\n * shape - `discrete`, size - `constant`\n * There are no rules to match\n *\n */\nexport const LEGEND_INFER_STRATEGIES = [\n    [\n        'legendCategory',\n        [\n            [\n                ['color', 'discrete'],\n                ['opacity', 'discrete'],\n                ['shape', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'constant'],\n                ['shape', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'discrete'],\n                ['shape', 'constant'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'constant'],\n                ['shape', 'constant'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'discrete'],\n                ['shape', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'constant'],\n                ['shape', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'discrete'],\n                ['shape', 'constant'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['shape', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'discrete'],\n                ['shape', 'discrete'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'constant'],\n                ['shape', 'discrete'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'constant'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['shape', 'constant'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'discrete'],\n                ['shape', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'constant'],\n                ['shape', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['shape', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'discrete'],\n                ['shape', 'discrete'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'constant'],\n                ['shape', 'discrete'],\n            ],\n            // [\n            //   ['color', 'constant'],\n            //   ['opacity', 'constant'],\n            //   ['size', 'constant'],\n            // ],\n            // [\n            //   ['color', 'constant'],\n            //   ['shape', 'constant'],\n            //   ['size', 'constant'],\n            // ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'discrete'],\n                ['shape', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['shape', 'discrete'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'discrete'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['shape', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['shape', 'discrete'],\n            ],\n            [\n                ['color', 'constant'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'discrete'],\n            ],\n            // [\n            //   ['color', 'constant'],\n            //   ['opacity', 'constant'],\n            // ],\n            // [\n            //   ['color', 'constant'],\n            //   ['shape', 'constant'],\n            // ],\n            [['color', 'discrete']],\n            // [['color', 'constant']],\n        ],\n    ],\n    [\n        'legendContinuousSize',\n        [\n            [\n                ['color', 'continuous'],\n                ['opacity', 'continuous'],\n                ['size', 'continuous'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'continuous'],\n                ['size', 'continuous'],\n            ],\n            [\n                ['color', 'continuous'],\n                ['size', 'continuous'],\n            ],\n            [\n                ['color', 'constant'],\n                ['size', 'continuous'],\n            ],\n            [\n                ['size', 'continuous'],\n                ['opacity', 'continuous'],\n            ],\n            [['size', 'continuous']],\n        ],\n    ],\n    [\n        'legendContinuousBlockSize',\n        [\n            [\n                ['color', 'distribution'],\n                ['opacity', 'distribution'],\n                ['size', 'distribution'],\n            ],\n            [\n                ['color', 'distribution'],\n                ['size', 'distribution'],\n            ],\n        ],\n    ],\n    [\n        'legendContinuousBlock',\n        [\n            [\n                ['color', 'distribution'],\n                ['opacity', 'continuous'],\n            ],\n            [['color', 'distribution']],\n        ],\n    ],\n    [\n        'legendContinuous',\n        [\n            [\n                ['color', 'continuous'],\n                ['opacity', 'continuous'],\n            ],\n            [['color', 'continuous']],\n            [['opacity', 'continuous']],\n        ],\n    ],\n];\n//# sourceMappingURL=constant.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { angleOf } from '../utils/coordinate';\nimport { LinearAxis } from './axis';\nfunction inferTitleTransform(orientation) {\n    const internalOrientation = orientation % (Math.PI * 2);\n    if (internalOrientation === Math.PI / 2) {\n        return { titleTransform: 'translate(0, 50%)' };\n    }\n    if (internalOrientation > -Math.PI / 2 && internalOrientation < Math.PI / 2) {\n        return { titleTransform: 'translate(50%, 0)' };\n    }\n    if (internalOrientation > Math.PI / 2 &&\n        internalOrientation < (Math.PI * 3) / 2) {\n        return { titleTransform: 'translate(-50%, 0)' };\n    }\n    return {};\n}\nfunction inferAxisStyle(options, theme, coordinate, scales) {\n    const { radar } = options;\n    const [scale] = scales;\n    const name = scale.getOptions().name;\n    const [startAngle, endAngle] = angleOf(coordinate);\n    const { axisRadar: radarTheme = {} } = theme;\n    return Object.assign(Object.assign({}, radarTheme), { grid: name === 'position', gridConnect: 'line', gridControlAngles: new Array(radar.count).fill(0).map((_, i) => {\n            const angle = (endAngle - startAngle) / radar.count;\n            return angle * i;\n        }) });\n}\nexport const AxisRadar = (options) => {\n    const { important = {} } = options, restOptions = __rest(options, [\"important\"]);\n    return (context) => {\n        const { theme, coordinate, scales } = context;\n        return LinearAxis(Object.assign(Object.assign(Object.assign({}, restOptions), inferTitleTransform(options.orientation)), { important: Object.assign(Object.assign({}, inferAxisStyle(options, theme, coordinate, scales)), important) }))(context);\n    };\n};\nAxisRadar.props = Object.assign(Object.assign({}, LinearAxis.props), { defaultPosition: 'center' });\n//# sourceMappingURL=axisRadar.js.map","import { LegendContinuous } from './legendContinuous';\nexport const LegendContinuousBlock = (options) => {\n    return (...args) => LegendContinuous(Object.assign({}, { block: true }, options))(...args);\n};\nLegendContinuousBlock.props = Object.assign(Object.assign({}, LegendContinuous.props), { defaultPosition: 'top', defaultOrientation: 'horizontal' });\n//# sourceMappingURL=legendContinuousBlock.js.map","import { scaleOf } from './utils';\nimport { LegendContinuous } from './legendContinuous';\nexport const LegendContinuousSize = (options) => {\n    return (context) => {\n        const { scales } = context;\n        const sizeScale = scaleOf(scales, 'size');\n        return LegendContinuous(Object.assign({}, {\n            type: 'size',\n            data: sizeScale.getTicks().map((value, index) => ({\n                value,\n                label: String(value),\n            })),\n        }, options))(context);\n    };\n};\nLegendContinuousSize.props = Object.assign(Object.assign({}, LegendContinuous.props), { defaultPosition: 'top', defaultOrientation: 'horizontal' });\n//# sourceMappingURL=legendContinuousSize.js.map","import { LegendContinuous } from './legendContinuous';\nimport { LegendContinuousSize } from './legendContinuousSize';\nexport const LegendContinuousBlockSize = (options) => {\n    return LegendContinuousSize(Object.assign({}, { block: true }, options));\n};\nLegendContinuousBlockSize.props = Object.assign(Object.assign({}, LegendContinuous.props), { defaultPosition: 'top', defaultOrientation: 'horizontal' });\n//# sourceMappingURL=legendContinuousBlockSize.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n// @todo Move this to runtime.\nexport const Mark = ({ static: isStatic = false, } = {}) => {\n    return (options) => {\n        const { width, height, depth, paddingLeft, paddingRight, paddingTop, paddingBottom, padding, inset, insetLeft, insetTop, insetRight, insetBottom, margin, marginLeft, marginBottom, marginTop, marginRight, data, coordinate, theme, component, interaction, x, y, z, key, frame, labelTransform, parentKey, clip, viewStyle, title } = options, mark = __rest(options, [\"width\", \"height\", \"depth\", \"paddingLeft\", \"paddingRight\", \"paddingTop\", \"paddingBottom\", \"padding\", \"inset\", \"insetLeft\", \"insetTop\", \"insetRight\", \"insetBottom\", \"margin\", \"marginLeft\", \"marginBottom\", \"marginTop\", \"marginRight\", \"data\", \"coordinate\", \"theme\", \"component\", \"interaction\", \"x\", \"y\", \"z\", \"key\", \"frame\", \"labelTransform\", \"parentKey\", \"clip\", \"viewStyle\", \"title\"]);\n        return [\n            Object.assign(Object.assign({ type: 'standardView', x,\n                y,\n                z,\n                key,\n                width,\n                height,\n                depth,\n                padding,\n                paddingLeft,\n                paddingRight,\n                paddingTop,\n                inset,\n                insetLeft,\n                insetTop,\n                insetRight,\n                insetBottom,\n                paddingBottom,\n                theme,\n                coordinate,\n                component,\n                interaction,\n                frame,\n                labelTransform,\n                margin,\n                marginLeft,\n                marginBottom,\n                marginTop,\n                marginRight,\n                parentKey,\n                clip, style: viewStyle }, (!isStatic && { title })), { marks: [Object.assign(Object.assign(Object.assign({}, mark), { key: `${key}-0`, data }), (isStatic && { title }))] }),\n        ];\n    };\n};\nMark.props = {};\n//# sourceMappingURL=mark.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { mergeData } from './utils';\n/**\n * @todo Propagate more options to children.(e.g. filter)\n * @todo Propagate encode options to children. This is useful for Matrix composition.\n * @todo Move this to runtime, do not treat it as a composition to cause confusion.\n */\nexport const View = () => {\n    return (options) => {\n        const { children } = options, restOptions = __rest(options, [\"children\"]);\n        if (!Array.isArray(children))\n            return [];\n        const { data: viewData, scale: viewScale = {}, axis: viewAxis = {}, legend: viewLegend = {}, encode: viewEncode = {}, transform: viewTransform = [] } = restOptions, rest = __rest(restOptions, [\"data\", \"scale\", \"axis\", \"legend\", \"encode\", \"transform\"]);\n        const marks = children.map((_a) => {\n            var { data, scale = {}, axis = {}, legend = {}, encode = {}, transform = [] } = _a, rest = __rest(_a, [\"data\", \"scale\", \"axis\", \"legend\", \"encode\", \"transform\"]);\n            return (Object.assign({ data: mergeData(data, viewData), scale: deepMix({}, viewScale, scale), encode: deepMix({}, viewEncode, encode), transform: [...viewTransform, ...transform], axis: axis && viewAxis ? deepMix({}, viewAxis, axis) : false, legend: legend && viewLegend ? deepMix({}, viewLegend, legend) : false }, rest));\n        });\n        return [Object.assign(Object.assign({}, rest), { marks, type: 'standardView' })];\n    };\n};\nView.props = {};\n//# sourceMappingURL=view.js.map","import { maxIndex } from 'd3-array';\nimport { sub, angle } from '../../../utils/vector';\n/**\n * Only for Area label.\n */\nexport function area(position, points, value, coordinate) {\n    const l = points.length / 2;\n    const Y1 = points.slice(0, l);\n    const Y0 = points.slice(l);\n    // Get the maximal space for label.\n    let idx = maxIndex(Y1, (p, i) => Math.abs(p[1] - Y0[i][1]));\n    // Do not show label at first and last.\n    idx = Math.max(Math.min(idx, l - 2), 1);\n    const mid = (i) => [Y1[i][0], (Y1[i][1] + Y0[i][1]) / 2];\n    const point = mid(idx);\n    const prev = mid(idx - 1);\n    const next = mid(idx + 1);\n    // todo: G rotate only support deg.\n    const rotate = (angle(sub(next, prev)) / Math.PI) * 180;\n    return {\n        x: point[0],\n        y: point[1],\n        transform: `rotate(${rotate})`,\n        textAlign: 'center',\n        textBaseline: 'middle',\n    };\n}\n//# sourceMappingURL=area.js.map","import { getArcObject } from '../../../shape/utils';\nimport { isCircular, isRadial } from '../../../utils/coordinate';\nimport { maybePercentage } from '../../../utils/helper';\nimport { mid } from '../../../utils/vector';\nexport function inferNonCircularStyle(position, points, value, coordinate) {\n    const { bounds } = value;\n    const [[x0, y0], [x1, y1]] = bounds;\n    const w = x1 - x0;\n    const h = y1 - y0;\n    const xy = (options) => {\n        const { x: ox, y: oy } = options;\n        const px = maybePercentage(value.x, w);\n        const py = maybePercentage(value.y, h);\n        return Object.assign(Object.assign({}, options), { x: (px || ox) + x0, y: (py || oy) + y0 });\n    };\n    // 4 direction.\n    if (position === 'left')\n        return xy({ x: 0, y: h / 2, textAlign: 'start', textBaseline: 'middle' });\n    if (position === 'right')\n        return xy({ x: w, y: h / 2, textAlign: 'end', textBaseline: 'middle' });\n    if (position === 'top')\n        return xy({ x: w / 2, y: 0, textAlign: 'center', textBaseline: 'top' });\n    if (position === 'bottom')\n        return xy({ x: w / 2, y: h, textAlign: 'center', textBaseline: 'bottom' });\n    // 4 corner position.\n    if (position === 'top-left')\n        return xy({ x: 0, y: 0, textAlign: 'start', textBaseline: 'top' });\n    if (position === 'top-right')\n        return xy({ x: w, y: 0, textAlign: 'end', textBaseline: 'top' });\n    if (position === 'bottom-left')\n        return xy({ x: 0, y: h, textAlign: 'start', textBaseline: 'bottom' });\n    if (position === 'bottom-right')\n        return xy({ x: w, y: h, textAlign: 'end', textBaseline: 'bottom' });\n    // default return 'inside'\n    return xy({\n        x: w / 2,\n        y: h / 2,\n        textAlign: 'center',\n        textBaseline: 'middle',\n    });\n}\nexport function inferRadialStyle(position, points, value, coordinate) {\n    const { y, y1, autoRotate, rotateToAlignArc } = value;\n    const center = coordinate.getCenter();\n    const arcObject = getArcObject(coordinate, points, [y, y1]);\n    const { innerRadius, outerRadius, startAngle, endAngle } = arcObject;\n    const angle = position === 'inside' ? (startAngle + endAngle) / 2 : endAngle;\n    const rotate = inferRotation(angle, autoRotate, rotateToAlignArc);\n    const point = (() => {\n        const [p0, p1] = points;\n        const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n        const [x, y] = position === 'inside' ? pointOfArc(center, angle, radius) : mid(p0, p1);\n        return { x, y };\n    })();\n    return Object.assign(Object.assign({}, point), { textAlign: position === 'inside' ? 'center' : 'start', textBaseline: 'middle', rotate });\n}\nexport function pointOfArc(center, angle, radius) {\n    return [\n        center[0] + Math.sin(angle) * radius,\n        center[1] - Math.cos(angle) * radius,\n    ];\n}\nexport function inferRotation(angle, autoRotate, rotateToAlignArc) {\n    if (!autoRotate)\n        return 0;\n    const append = rotateToAlignArc ? 0 : Math.sin(angle) < 0 ? 90 : -90;\n    return (angle / Math.PI) * 180 + append;\n}\nfunction inferInnerCircularStyle(position, points, value, coordinate) {\n    const { y, y1, autoRotate, rotateToAlignArc, radius: radiusRatio = 0.5, offset = 0, } = value;\n    const arcObject = getArcObject(coordinate, points, [y, y1]);\n    const { startAngle, endAngle } = arcObject;\n    const center = coordinate.getCenter();\n    const angle = (startAngle + endAngle) / 2;\n    const rotate = inferRotation(angle, autoRotate, rotateToAlignArc);\n    const textStyle = { textAlign: 'center', textBaseline: 'middle', rotate };\n    const { innerRadius, outerRadius } = arcObject;\n    const r0 = innerRadius + (outerRadius - innerRadius) * radiusRatio;\n    const r1 = r0 + offset;\n    const [x0, y0] = pointOfArc(center, angle, r1);\n    return Object.assign({ x: x0, y: y0 }, textStyle);\n}\n// Set to null will not be set with default value as below.\n// const { x = 0 } = options;\nfunction maybeUndefined(d) {\n    return d === undefined ? null : d;\n}\nexport function inferIdentityStyle(position, points, value, coordinate) {\n    const { bounds } = value;\n    const [p] = bounds;\n    return {\n        x: maybeUndefined(p[0]),\n        y: maybeUndefined(p[1]),\n    };\n}\nexport function getDefaultStyle(position, points, value, coordinate) {\n    const { bounds } = value;\n    // When bounds.length = 1\n    // For series mark, such as line and area.\n    // The bounds for text is defined with only one point.\n    // Use this point as the label position.\n    if (bounds.length === 1) {\n        return inferIdentityStyle(position, points, value, coordinate);\n    }\n    const inferDefaultStyle = isRadial(coordinate)\n        ? inferRadialStyle\n        : isCircular(coordinate)\n            ? inferInnerCircularStyle\n            : inferNonCircularStyle;\n    return inferDefaultStyle(position, points, value, coordinate);\n}\n//# sourceMappingURL=default.js.map","import { getArcObject } from '../../../shape/utils';\nimport { isCircular, isRadial } from '../../../utils/coordinate';\nimport { pointOfArc, inferRotation, inferIdentityStyle, inferRadialStyle, inferNonCircularStyle, } from './default';\nexport function linePoints(center, angle, radius, radius1, offsetX) {\n    const [x0, y0] = pointOfArc(center, angle, radius);\n    const [x1, y1] = pointOfArc(center, angle, radius1);\n    const sign = Math.sin(angle) > 0 ? 1 : -1;\n    return [\n        [x0, y0],\n        [x1, y1],\n        [x1 + sign * offsetX, y1],\n    ];\n}\nexport function radiusOf(points, value, coordinate) {\n    const arcObject = getArcObject(coordinate, points, [value.y, value.y1]);\n    const { innerRadius, outerRadius } = arcObject;\n    return innerRadius + (outerRadius - innerRadius);\n}\nexport function angleOf(points, value, coordinate) {\n    const arcObject = getArcObject(coordinate, points, [value.y, value.y1]);\n    const { startAngle, endAngle } = arcObject;\n    return (startAngle + endAngle) / 2;\n}\nexport function inferOutsideCircularStyle(position, points, value, coordinate) {\n    const { autoRotate, rotateToAlignArc, offset = 0, connector = true, connectorLength = offset, connectorLength2 = 0, connectorDistance = 0, } = value;\n    const center = coordinate.getCenter();\n    const angle = angleOf(points, value, coordinate);\n    const sign = Math.sin(angle) > 0 ? 1 : -1;\n    const rotate = inferRotation(angle, autoRotate, rotateToAlignArc);\n    const textStyle = {\n        textAlign: sign > 0 || isRadial(coordinate) ? 'start' : 'end',\n        textBaseline: 'middle',\n        rotate,\n    };\n    const radius = radiusOf(points, value, coordinate);\n    const radius1 = radius + (connector ? connectorLength : offset);\n    const [[x0, y0], [x1, y1], [x2, y2]] = linePoints(center, angle, radius, radius1, connector ? connectorLength2 : 0);\n    const dx = connector ? +connectorDistance * sign : 0;\n    const x = x2 + dx;\n    const y = y2;\n    const connectorStyle = {\n        connector,\n        connectorPoints: [\n            [x1 - x, y1 - y],\n            [x2 - x, y2 - y],\n        ],\n    };\n    return Object.assign(Object.assign({ x0,\n        y0, x: x2 + dx, y: y2 }, textStyle), connectorStyle);\n}\nexport function outside(position, points, value, coordinate) {\n    const { bounds } = value;\n    // When bounds.length = 1\n    // For series mark, such as line and area.\n    // The bounds for text is defined with only one point.\n    // Use this point as the label position.\n    if (bounds.length === 1) {\n        return inferIdentityStyle(position, points, value, coordinate);\n    }\n    const inferDefaultStyle = isRadial(coordinate)\n        ? inferRadialStyle\n        : isCircular(coordinate)\n            ? inferOutsideCircularStyle\n            : inferNonCircularStyle;\n    return inferDefaultStyle(position, points, value, coordinate);\n}\n//# sourceMappingURL=outside.js.map","import { sort } from 'd3-array';\n// Optimize antiCollision from: https://github.com/antvis/G2/blob/master/src/geometry/label/layout/pie/util.ts\nexport function dodgeY(labels, options = {}) {\n    const { labelHeight = 14, height } = options;\n    // Sort labels by y and init boxes (one box for each label)\n    const sortedLabels = sort(labels, (d) => d.y);\n    const n = sortedLabels.length;\n    const boxes = new Array(n);\n    for (let i = 0; i < n; i++) {\n        const label = sortedLabels[i];\n        const { y } = label;\n        boxes[i] = { y, y1: y + labelHeight, labels: [y] };\n    }\n    // Merge boxes until no overlapping boxes or only one box left.\n    // All the boxes should start higher than 0, but maybe higher than height.\n    let overlap = true;\n    while (overlap) {\n        overlap = false;\n        // Scan backward because boxes maybe deleted.\n        for (let i = boxes.length - 1; i > 0; i--) {\n            const box = boxes[i];\n            const preBox = boxes[i - 1];\n            if (preBox.y1 > box.y) {\n                overlap = true;\n                preBox.labels.push(...box.labels);\n                boxes.splice(i, 1);\n                // Compute new y1 to contain the current box.\n                preBox.y1 += box.y1 - box.y;\n                // Make sure the new box is in the range of [0, height].\n                const newHeight = preBox.y1 - preBox.y;\n                preBox.y1 = Math.max(Math.min(preBox.y1, height), newHeight);\n                preBox.y = preBox.y1 - newHeight;\n            }\n        }\n    }\n    let i = 0;\n    for (const box of boxes) {\n        const { y, labels } = box;\n        let prevY = y - labelHeight;\n        for (const curY of labels) {\n            const label = sortedLabels[i++];\n            const expectedY = prevY + labelHeight;\n            const dy = expectedY - curY;\n            label.connectorPoints[0][1] -= dy;\n            label.y = prevY + labelHeight;\n            prevY += labelHeight;\n        }\n    }\n}\nexport function hideAndDodgeY(unsorted, options) {\n    const labels = sort(unsorted, (d) => d.y);\n    const { height, labelHeight = 14 } = options;\n    const maxCount = Math.ceil(height / labelHeight);\n    if (labels.length <= maxCount)\n        return dodgeY(labels, options);\n    const filtered = [];\n    for (let i = 0; i < labels.length; i++) {\n        // Hide labels out of range.\n        if (i < labels.length - maxCount) {\n            labels[i].opacity = 0;\n            labels[i].connector = false;\n        }\n        else\n            filtered.push(labels[i]);\n    }\n    dodgeY(filtered, options);\n}\n//# sourceMappingURL=utils.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isCircular } from '../../../utils/coordinate';\nimport { inferOutsideCircularStyle, radiusOf, angleOf } from './outside';\nimport { hideAndDodgeY } from './utils';\nconst styleByPoints = new WeakMap();\nfunction compute(points, value, coordinate) {\n    const { connectorLength, connectorLength2, connectorDistance } = value;\n    const style = __rest(inferOutsideCircularStyle('outside', points, value, coordinate), []);\n    const center = coordinate.getCenter();\n    const radius = radiusOf(points, value, coordinate);\n    const angle = angleOf(points, value, coordinate);\n    const radius1 = radius + connectorLength + connectorLength2;\n    const sign = Math.sin(angle) > 0 ? 1 : -1;\n    const newX = center[0] + (radius1 + +connectorDistance) * sign;\n    const { x: originX } = style;\n    const dx = newX - originX;\n    style.x += dx;\n    style.connectorPoints[0][0] -= dx;\n    return style;\n}\n/**\n * Spider label transform only suitable for the labels in polar coordinate,\n * labels should distinguish coordinate type.\n */\nexport function spider(position, points, value, coordinate, options, labels) {\n    if (!isCircular(coordinate))\n        return {};\n    if (styleByPoints.has(points))\n        return styleByPoints.get(points);\n    const computed = labels.map((points) => compute(points, value, coordinate));\n    const { width, height } = coordinate.getOptions();\n    const left = computed.filter((d) => d.x < width / 2);\n    const right = computed.filter((d) => d.x >= width / 2);\n    const extendedOptions = Object.assign(Object.assign({}, options), { height });\n    hideAndDodgeY(left, extendedOptions);\n    hideAndDodgeY(right, extendedOptions);\n    computed.forEach((style, i) => styleByPoints.set(labels[i], style));\n    return styleByPoints.get(points);\n}\n//# sourceMappingURL=spider.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { getRadius, isCircular } from '../../../utils/coordinate';\nimport { angleWithQuadrant } from '../../../utils/vector';\nimport { pointOfArc } from './default';\nimport { inferOutsideCircularStyle } from './outside';\n/**\n * Surround label transform is used to make labels surround circular.\n */\nexport function surround(position, points, value, coordinate) {\n    if (!isCircular(coordinate))\n        return {};\n    const { connectorLength, connectorLength2, connectorDistance } = value;\n    const style = __rest(inferOutsideCircularStyle('outside', points, value, coordinate), []);\n    const { x0, y0 } = style;\n    const center = coordinate.getCenter();\n    const radius = getRadius(coordinate);\n    const radius1 = radius + connectorLength;\n    const angle = angleWithQuadrant([x0 - center[0], y0 - center[1]]);\n    const sign = Math.sin(angle) > 0 ? 1 : -1;\n    const [newX, newY] = pointOfArc(center, angle, radius1);\n    style.x = newX + (connectorLength2 + connectorDistance) * sign;\n    style.y = newY;\n    return style;\n}\n//# sourceMappingURL=surround.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { select } from '../../utils/selection';\nimport { applyStyle } from '../../shape/utils';\nimport { isTranspose, isCircular } from '../../utils/coordinate';\nimport { camelCase } from '../../utils/string';\nimport { Advance } from '../text/advance';\nimport * as PositionProcessor from './position';\nfunction inferPosition(position, coordinate) {\n    if (position !== undefined)\n        return position;\n    if (isCircular(coordinate))\n        return 'inside';\n    if (isTranspose(coordinate))\n        return 'right';\n    return 'top';\n}\nfunction getDefaultStyle(points, value, coordinate, theme, options, labels) {\n    // For non-series mark, calc position for label based on\n    // position and the bounds of shape.\n    const { position } = value;\n    const { render } = options;\n    const p = inferPosition(position, coordinate);\n    const labelType = render\n        ? 'htmlLabel'\n        : p === 'inside'\n            ? 'innerLabel'\n            : 'label';\n    const t = theme[labelType];\n    const v = Object.assign({}, t, value);\n    const processor = PositionProcessor[camelCase(p)];\n    if (!processor) {\n        throw new Error(`Unknown position: ${p}`);\n    }\n    return Object.assign(Object.assign({}, t), processor(p, points, v, coordinate, options, labels));\n}\n/**\n * Render normal label for each mark.\n * @todo Support position option: middle...\n */\nexport const Label = (options, context) => {\n    const { coordinate, theme } = context;\n    const { render } = options;\n    return (points, value, style, labels) => {\n        const { text, x, y, transform: specifiedTS = '', transformOrigin, className = '' } = value, overrideStyle = __rest(value, [\"text\", \"x\", \"y\", \"transform\", \"transformOrigin\", \"className\"]);\n        const _a = getDefaultStyle(points, value, coordinate, theme, options, labels), { rotate = 0, transform = '' } = _a, defaultStyle = __rest(_a, [\"rotate\", \"transform\"]);\n        return select(new Advance())\n            .call(applyStyle, defaultStyle)\n            .style('text', `${text}`)\n            .style('className', `${className} g2-label`)\n            .style('innerHTML', render ? render(text, value.datum, value.index) : undefined)\n            .style('labelTransform', `${transform} rotate(${+rotate}) ${specifiedTS}`.trim())\n            .style('labelTransformOrigin', transformOrigin)\n            .style('coordCenter', coordinate.getCenter())\n            .call(applyStyle, overrideStyle)\n            .node();\n    };\n};\nLabel.props = {\n    defaultMarker: 'point',\n};\n//# sourceMappingURL=label.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { error } from '../utils/helper';\nimport { builtinlib } from '../lib/builtinlib';\nexport function useLibrary(namespace, publicLibrary) {\n    const library = Object.assign(Object.assign({}, builtinlib()), publicLibrary);\n    const create = (type) => {\n        if (typeof type !== 'string')\n            return type;\n        const key = `${namespace}.${type}`;\n        return library[key] || error(`Unknown Component: ${key}`);\n    };\n    const use = (options, context) => {\n        const { type } = options, rest = __rest(options, [\"type\"]);\n        if (!type)\n            error(`Plot type is required!`);\n        const currentLibrary = create(type);\n        return currentLibrary === null || currentLibrary === void 0 ? void 0 : currentLibrary(rest, context);\n    };\n    return [use, create];\n}\nexport function documentOf(library) {\n    const { canvas, group } = library;\n    return ((canvas === null || canvas === void 0 ? void 0 : canvas.document) ||\n        (group === null || group === void 0 ? void 0 : group.ownerDocument) ||\n        error(`Cannot find library document`));\n}\n//# sourceMappingURL=library.js.map","import { AxisLinear, AxisArc, AxisRadar, LegendContinuousBlock, LegendContinuousBlockSize, LegendContinuousSize, } from '../component';\nimport { Mark, View } from '../composition';\nimport { LabelShape } from '../shape';\nimport { Event } from '../interaction/event';\n// Some private visual components, they are not public to\n// users, only for runtime.\nexport function builtinlib() {\n    return {\n        'component.axisRadar': AxisRadar,\n        'component.axisLinear': AxisLinear,\n        'component.axisArc': AxisArc,\n        'component.legendContinuousBlock': LegendContinuousBlock,\n        'component.legendContinuousBlockSize': LegendContinuousBlockSize,\n        'component.legendContinuousSize': LegendContinuousSize,\n        'interaction.event': Event,\n        'composition.mark': Mark,\n        'composition.view': View,\n        'shape.label.label': LabelShape,\n    };\n}\n//# sourceMappingURL=builtinlib.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Coordinate, Coordinate3D } from '@antv/coord';\nimport { useLibrary } from './library';\nexport function createCoordinate(layout, partialOptions, library) {\n    const [useCoordinate] = useLibrary('coordinate', library);\n    const { innerHeight, innerWidth, insetLeft, insetTop, insetRight, insetBottom, } = layout;\n    const { coordinates: partialTransform = [] } = partialOptions;\n    const transform = inferCoordinate(partialTransform);\n    const isCartesian3D = transform[0].type === 'cartesian3D';\n    const options = Object.assign(Object.assign({}, layout), { x: insetLeft, y: insetTop, width: innerWidth - insetLeft - insetRight, height: innerHeight - insetBottom - insetTop, transformations: transform.flatMap(useCoordinate) });\n    const coordinate = isCartesian3D\n        ? // @ts-ignore\n            new Coordinate3D(options)\n        : new Coordinate(options);\n    return coordinate;\n}\nexport function coordinate2Transform(node, library) {\n    // @ts-ignore\n    const { coordinate = {}, coordinates } = node, rest = __rest(node, [\"coordinate\", \"coordinates\"]);\n    // If coordinates are already set, it means that the coordinate has been processed\n    // during the initialization. There is not need to process it during update.\n    if (coordinates)\n        return node;\n    const { type, transform = [] } = coordinate, options = __rest(coordinate, [\"type\", \"transform\"]);\n    if (!type)\n        return Object.assign(Object.assign({}, rest), { coordinates: transform });\n    const [, createCoordinate] = useLibrary('coordinate', library);\n    const { transform: isTransform = false } = createCoordinate(type).props || {};\n    if (isTransform) {\n        throw new Error(`Unknown coordinate: ${type}.`);\n    }\n    return Object.assign(Object.assign({}, rest), { coordinates: [Object.assign({ type }, options), ...transform] });\n}\nexport function coordOf(coordinates, type) {\n    return coordinates.filter((d) => d.type === type);\n}\n/**\n * todo Duplication is not considered\n */\nexport function isPolar(coordinates) {\n    return coordOf(coordinates, 'polar').length > 0;\n}\nexport function isHelix(coordinates) {\n    return coordOf(coordinates, 'helix').length > 0;\n}\n/**\n * todo The number of transposes matters\n */\nexport function isTranspose(coordinates) {\n    return coordOf(coordinates, 'transpose').length % 2 === 1;\n}\nexport function isParallel(coordinates) {\n    return coordOf(coordinates, 'parallel').length > 0;\n}\nexport function isTheta(coordinates) {\n    return coordOf(coordinates, 'theta').length > 0;\n}\nexport function isReflect(coordinates) {\n    return coordOf(coordinates, 'reflect').length > 0;\n}\nexport function isRadial(coordinates) {\n    return coordOf(coordinates, 'radial').length > 0;\n}\nexport function isRadar(coordinates) {\n    return coordOf(coordinates, 'radar').length > 0;\n}\n/**\n * todo The axis corresponding to the Y reversal is not reversed\n */\nexport function isReflectY(coordinates) {\n    return coordOf(coordinates, 'reflectY').length > 0;\n}\nfunction inferCoordinate(coordinates) {\n    if (coordinates.find((d) => d.type === 'cartesian' || d.type === 'cartesian3D'))\n        return coordinates;\n    return [...coordinates, { type: 'cartesian' }];\n}\n//# sourceMappingURL=coordinate.js.map","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import { Linear, createInterpolateValue } from '@antv/scale';\nimport { extent, max, rollups } from 'd3-array';\nimport * as d3ScaleChromatic from 'd3-scale-chromatic';\nimport { deepMix, omit, upperFirst } from '@antv/util';\nimport { firstOf, lastOf, unique } from '../utils/array';\nimport { defined, identity, isStrictObject } from '../utils/helper';\nimport { isTheta } from './coordinate';\nimport { useLibrary } from './library';\nexport function inferScale(name, values, options, coordinates, theme, library) {\n    const { guide = {} } = options;\n    const type = inferScaleType(name, values, options);\n    if (typeof type !== 'string')\n        return options;\n    const expectedDomain = inferScaleDomain(type, name, values, options);\n    const actualDomain = maybeRatio(type, expectedDomain, options);\n    return Object.assign(Object.assign(Object.assign({}, options), inferScaleOptions(type, name, values, options, coordinates)), { domain: actualDomain, range: inferScaleRange(type, name, values, options, actualDomain, theme, library), expectedDomain,\n        guide,\n        name,\n        type });\n}\nexport function applyScale(channels, scale) {\n    const scaledValue = {};\n    for (const channel of channels) {\n        const { values, name: scaleName } = channel;\n        const scaleInstance = scale[scaleName];\n        for (const value of values) {\n            const { name, value: V } = value;\n            scaledValue[name] = V.map((d) => scaleInstance.map(d));\n        }\n    }\n    return scaledValue;\n}\nexport function groupTransform(markState, uidScale) {\n    const channels = Array.from(markState.values()).flatMap((d) => d.channels);\n    const scaleGroups = rollups(channels, (channels) => channels.map((d) => uidScale.get(d.scale.uid)), (d) => d.name)\n        .filter(([, scales]) => scales.some((d) => typeof d.getOptions().groupTransform === 'function') && // only sync scales with groupTransform options\n        scales.every((d) => d.getTicks))\n        .map((d) => d[1]);\n    scaleGroups.forEach((group) => {\n        const groupTransform = group.map((d) => d.getOptions().groupTransform)[0];\n        groupTransform(group);\n    });\n}\nexport function collectScales(states, options) {\n    var _a;\n    const { components = [] } = options;\n    const NONE_STATIC_KEYS = [\n        'scale',\n        'encode',\n        'axis',\n        'legend',\n        'data',\n        'transform',\n    ];\n    // From normal marks.\n    const scales = Array.from(new Set(states.flatMap((d) => d.channels.map((d) => d.scale))));\n    // From static marks.\n    const nameScale = new Map(scales.map((scale) => [scale.name, scale]));\n    for (const component of components) {\n        const channels = inferChannelsForComponent(component);\n        for (const channel of channels) {\n            const scale = nameScale.get(channel);\n            const staticScale = ((_a = component.scale) === null || _a === void 0 ? void 0 : _a[channel]) || {};\n            const { independent = false } = staticScale;\n            if (scale && !independent) {\n                // Merged with exist scales if is not independent.\n                const { guide } = scale;\n                const guide1 = typeof guide === 'boolean' ? {} : guide;\n                scale.guide = deepMix({}, guide1, component);\n                Object.assign(scale, staticScale);\n            }\n            else {\n                // Append new scales without exit scales or independent.\n                const options1 = Object.assign(Object.assign({}, staticScale), { expectedDomain: staticScale.domain, name: channel, guide: omit(component, NONE_STATIC_KEYS) });\n                scales.push(options1);\n            }\n        }\n    }\n    return scales;\n}\nexport function useRelation(relations) {\n    if (!relations || !Array.isArray(relations))\n        return [identity, identity];\n    // Store original map and invert.\n    let map;\n    let invert;\n    const conditionalize = (scale) => {\n        var _a;\n        map = scale.map.bind(scale);\n        invert = (_a = scale.invert) === null || _a === void 0 ? void 0 : _a.bind(scale);\n        // Distinguish functions[function, output] and value[vale, output] relations.\n        const funcRelations = relations.filter(([v]) => typeof v === 'function');\n        const valueRelations = relations.filter(([v]) => typeof v !== 'function');\n        // Update scale.map\n        const valueOutput = new Map(valueRelations);\n        scale.map = (x) => {\n            for (const [verify, value] of funcRelations) {\n                if (verify(x))\n                    return value;\n            }\n            if (valueOutput.has(x))\n                return valueOutput.get(x);\n            return map(x);\n        };\n        if (!invert)\n            return scale;\n        // Update scale.invert\n        const outputValue = new Map(valueRelations.map(([a, b]) => [b, a]));\n        const outputFunc = new Map(funcRelations.map(([a, b]) => [b, a]));\n        scale.invert = (x) => {\n            if (outputFunc.has(x))\n                return x;\n            if (outputValue.has(x))\n                return outputValue.get(x);\n            return invert(x);\n        };\n        return scale;\n    };\n    const deconditionalize = (scale) => {\n        if (map !== null)\n            scale.map = map;\n        if (invert !== null)\n            scale.invert = invert;\n        return scale;\n    };\n    return [conditionalize, deconditionalize];\n}\nexport function assignScale(target, source) {\n    const keys = Object.keys(target);\n    for (const scale of Object.values(source)) {\n        const { name } = scale.getOptions();\n        if (!(name in target))\n            target[name] = scale;\n        else {\n            const I = keys\n                .filter((d) => d.startsWith(name))\n                // Reg is for extract `1` from `x1`;\n                .map((d) => +(d.replace(name, '') || 0));\n            const index = max(I) + 1;\n            const newKey = `${name}${index}`;\n            target[newKey] = scale;\n            scale.getOptions().key = newKey;\n        }\n    }\n    return target;\n}\nexport function useRelationScale(options, library) {\n    const [useScale] = useLibrary('scale', library);\n    const { relations } = options;\n    const [conditionalize] = useRelation(relations);\n    const scale = useScale(options);\n    return conditionalize(scale);\n}\nexport function syncFacetsScales(states) {\n    const scales = states\n        .flatMap((d) => Array.from(d.values()))\n        .flatMap((d) => d.channels.map((d) => d.scale));\n    syncFacetsScaleByChannel(scales, 'x');\n    syncFacetsScaleByChannel(scales, 'y');\n}\nfunction inferChannelsForComponent(component) {\n    const { channels = [], type, scale = {} } = component;\n    const L = ['shape', 'color', 'opacity', 'size'];\n    if (channels.length !== 0)\n        return channels;\n    if (type === 'axisX')\n        return ['x'];\n    if (type === 'axisY')\n        return ['y'];\n    if (type === 'legends')\n        return Object.keys(scale).filter((d) => L.includes(d));\n    return [];\n}\nfunction syncFacetsScaleByChannel(scales, channel) {\n    const S = scales.filter(({ name, facet = true }) => facet && name === channel);\n    const D = S.flatMap((d) => d.domain);\n    const syncedD = S.every(isQuantitativeScale)\n        ? extent(D)\n        : S.every(isDiscreteScale)\n            ? Array.from(new Set(D))\n            : null;\n    if (syncedD === null)\n        return;\n    for (const scale of S) {\n        scale.domain = syncedD;\n    }\n}\nfunction maybeRatio(type, domain, options) {\n    const { ratio } = options;\n    if (ratio === undefined || ratio === null)\n        return domain;\n    if (isQuantitativeScale({ type })) {\n        return clampQuantitativeScale(domain, ratio, type);\n    }\n    if (isDiscreteScale({ type }))\n        return clampDiscreteScale(domain, ratio);\n    return domain;\n}\nfunction clampQuantitativeScale(domain, ratio, type) {\n    const D = domain.map(Number);\n    const scale = new Linear({\n        domain: D,\n        range: [D[0], D[0] + (D[D.length - 1] - D[0]) * ratio],\n    });\n    if (type === 'time')\n        return domain.map((d) => new Date(scale.map(d)));\n    return domain.map((d) => scale.map(d));\n}\nfunction clampDiscreteScale(domain, ratio) {\n    const index = Math.round(domain.length * ratio);\n    return domain.slice(0, index);\n}\nfunction isQuantitativeScale(scale) {\n    const { type } = scale;\n    if (typeof type !== 'string')\n        return false;\n    // Do not take quantize, quantile or threshold scale into account,\n    // because they are not for position scales. If they are, there is\n    // no need to sync them.\n    const names = ['linear', 'log', 'pow', 'time'];\n    return names.includes(type);\n}\nfunction isDiscreteScale(scale) {\n    const { type } = scale;\n    if (typeof type !== 'string')\n        return false;\n    const names = ['band', 'point', 'ordinal'];\n    return names.includes(type);\n}\n// @todo More accurate inference for different cases.\nfunction inferScaleType(name, values, options) {\n    const { type, domain, range, quantitative, ordinal } = options;\n    if (type !== undefined)\n        return type;\n    if (isObject(values))\n        return 'identity';\n    if (typeof range === 'string')\n        return 'linear';\n    if ((domain || range || []).length > 2)\n        return asOrdinalType(name, ordinal);\n    if (domain !== undefined) {\n        if (isOrdinal([domain]))\n            return asOrdinalType(name, ordinal);\n        if (isTemporal(values))\n            return 'time';\n        return asQuantitativeType(name, range, quantitative);\n    }\n    if (isOrdinal(values))\n        return asOrdinalType(name, ordinal);\n    if (isTemporal(values))\n        return 'time';\n    return asQuantitativeType(name, range, quantitative);\n}\nfunction inferScaleDomain(type, name, values, options) {\n    const { domain } = options;\n    if (domain !== undefined)\n        return domain;\n    switch (type) {\n        case 'linear':\n        case 'time':\n        case 'log':\n        case 'pow':\n        case 'sqrt':\n        case 'quantize':\n        case 'threshold':\n            return maybeMinMax(inferDomainQ(values, options), options);\n        case 'band':\n        case 'ordinal':\n        case 'point':\n            return inferDomainC(values);\n        case 'quantile':\n            return inferDomainO(values);\n        case 'sequential':\n            return maybeMinMax(inferDomainS(values), options);\n        default:\n            return [];\n    }\n}\nfunction inferScaleRange(type, name, values, options, domain, theme, library) {\n    const { range } = options;\n    if (typeof range === 'string')\n        return gradientColors(range);\n    if (range !== undefined)\n        return range;\n    const { rangeMin, rangeMax } = options;\n    switch (type) {\n        case 'linear':\n        case 'time':\n        case 'log':\n        case 'pow':\n        case 'sqrt': {\n            const colors = categoricalColors(values, options, domain, theme, library);\n            const [r0, r1] = inferRangeQ(name, colors);\n            return [rangeMin !== null && rangeMin !== void 0 ? rangeMin : r0, rangeMax !== null && rangeMax !== void 0 ? rangeMax : r1];\n        }\n        case 'band':\n        case 'point': {\n            const min = name === 'size' ? 5 : 0;\n            const max = name === 'size' ? 10 : 1;\n            return [rangeMin !== null && rangeMin !== void 0 ? rangeMin : min, rangeMax !== null && rangeMax !== void 0 ? rangeMax : max];\n        }\n        case 'ordinal': {\n            return categoricalColors(values, options, domain, theme, library);\n        }\n        case 'sequential':\n            return undefined;\n        case 'constant':\n            return [values[0][0]];\n        default:\n            return [];\n    }\n}\nfunction inferScaleOptions(type, name, values, options, coordinates) {\n    switch (type) {\n        case 'linear':\n        case 'time':\n        case 'log':\n        case 'pow':\n        case 'sqrt':\n            return inferOptionsQ(coordinates, options);\n        case 'band':\n        case 'point':\n            return inferOptionsC(type, name, coordinates, options);\n        case 'sequential':\n            return inferOptionsS(options);\n        default:\n            return options;\n    }\n}\nfunction categoricalColors(values, options, domain, theme, library) {\n    const [usePalette] = useLibrary('palette', library);\n    const { category10: c10, category20: c20 } = theme;\n    const defaultPalette = unique(domain).length <= c10.length ? c10 : c20;\n    const { palette = defaultPalette, offset } = options;\n    if (Array.isArray(palette))\n        return palette;\n    // Built-in palettes have higher priority.\n    try {\n        return usePalette({ type: palette });\n    }\n    catch (e) {\n        const colors = interpolatedColors(palette, domain, offset);\n        if (colors)\n            return colors;\n        throw new Error(`Unknown Component: ${palette} `);\n    }\n}\nfunction gradientColors(range) {\n    return range.split('-');\n}\nfunction interpolatedColors(palette, domain, offset = (d) => d) {\n    if (!palette)\n        return null;\n    const fullName = upperFirst(palette);\n    // If scheme have enough colors, then return pre-defined colors.\n    const scheme = d3ScaleChromatic[`scheme${fullName}`];\n    const interpolator = d3ScaleChromatic[`interpolate${fullName}`];\n    if (!scheme && !interpolator)\n        return null;\n    if (scheme) {\n        // If is a one dimension array, return it.\n        if (!scheme.some(Array.isArray))\n            return scheme;\n        const schemeColors = scheme[domain.length];\n        if (schemeColors)\n            return schemeColors;\n    }\n    // Otherwise interpolate to get full colors.\n    return domain.map((_, i) => interpolator(offset(i / domain.length)));\n}\nfunction inferOptionsS(options) {\n    const { palette = 'ylGnBu', offset } = options;\n    const name = upperFirst(palette);\n    const interpolator = d3ScaleChromatic[`interpolate${name}`];\n    if (!interpolator)\n        throw new Error(`Unknown palette: ${name}`);\n    return {\n        interpolator: offset ? (x) => interpolator(offset(x)) : interpolator,\n    };\n}\nfunction inferOptionsQ(coordinates, options) {\n    const { interpolate = createInterpolateValue, nice = false, tickCount = 5, } = options;\n    return Object.assign(Object.assign({}, options), { interpolate, nice, tickCount });\n}\nfunction inferOptionsC(type, name, coordinates, options) {\n    if (options.padding !== undefined ||\n        options.paddingInner !== undefined ||\n        options.paddingOuter !== undefined) {\n        return Object.assign(Object.assign({}, options), { unknown: NaN });\n    }\n    const padding = inferPadding(type, name, coordinates);\n    const { paddingInner = padding, paddingOuter = padding } = options;\n    return Object.assign(Object.assign({}, options), { paddingInner,\n        paddingOuter,\n        padding, unknown: NaN });\n}\nfunction inferPadding(type, name, coordinates) {\n    // The scale for enterDelay and enterDuration should has zero padding by default.\n    // Because there is no need to add extra delay for the start and the end.\n    if (name === 'enterDelay' || name === 'enterDuration')\n        return 0;\n    if (name === 'size')\n        return 0;\n    if (type === 'band')\n        return isTheta(coordinates) ? 0 : 0.1;\n    // Point scale need 0.5 padding to make interval between first and last point\n    // equal to other intervals in polar coordinate.\n    if (type === 'point')\n        return 0.5;\n    return 0;\n}\nfunction asOrdinalType(name, defaults) {\n    if (defaults)\n        return defaults;\n    return isQuantitative(name) ? 'point' : 'ordinal';\n}\nfunction asQuantitativeType(name, range, defaults) {\n    if (defaults)\n        return defaults;\n    if (name !== 'color')\n        return 'linear';\n    return range ? 'linear' : 'sequential';\n}\nfunction maybeMinMax(domain, options) {\n    if (domain.length === 0)\n        return domain;\n    const { domainMin, domainMax } = options;\n    const [d0, d1] = domain;\n    return [domainMin !== null && domainMin !== void 0 ? domainMin : d0, domainMax !== null && domainMax !== void 0 ? domainMax : d1];\n}\nfunction inferDomainQ(values, options) {\n    const { zero = false } = options;\n    let min = Infinity;\n    let max = -Infinity;\n    for (const value of values) {\n        for (const d of value) {\n            if (defined(d)) {\n                min = Math.min(min, +d);\n                max = Math.max(max, +d);\n            }\n        }\n    }\n    if (min === Infinity)\n        return [];\n    return zero ? [Math.min(0, min), max] : [min, max];\n}\nfunction inferDomainC(values) {\n    return Array.from(new Set(values.flat()));\n}\nfunction inferDomainO(values) {\n    return values.flat().sort();\n}\nfunction inferDomainS(values) {\n    let min = Infinity;\n    let max = -Infinity;\n    for (const value of values) {\n        for (const d of value) {\n            if (defined(d)) {\n                min = Math.min(min, +d);\n                max = Math.max(max, +d);\n            }\n        }\n    }\n    if (min === Infinity)\n        return [];\n    return [min < 0 ? -max : min, max];\n}\n/**\n * @todo More nice default range for enterDelay and enterDuration.\n * @todo Move these to channel definition.\n */\nfunction inferRangeQ(name, palette) {\n    if (name === 'enterDelay')\n        return [0, 1000];\n    if (name == 'enterDuration')\n        return [300, 1000];\n    if (name.startsWith('y') || name.startsWith('position'))\n        return [1, 0];\n    if (name === 'color')\n        return [firstOf(palette), lastOf(palette)];\n    if (name === 'opacity')\n        return [0, 1];\n    if (name === 'size')\n        return [1, 10];\n    return [0, 1];\n}\nfunction isOrdinal(values) {\n    return some(values, (d) => {\n        const type = typeof d;\n        return type === 'string' || type === 'boolean';\n    });\n}\nfunction isTemporal(values) {\n    return some(values, (d) => d instanceof Date);\n}\nfunction isObject(values) {\n    return some(values, isStrictObject);\n}\nfunction some(values, callback) {\n    for (const V of values) {\n        if (V.some(callback))\n            return true;\n    }\n    return false;\n}\nfunction isQuantitative(name) {\n    return (name.startsWith('x') ||\n        name.startsWith('y') ||\n        name.startsWith('position') ||\n        name.startsWith('size'));\n}\n// Spatial and temporal position.\nexport function isPosition(name) {\n    return (name.startsWith('x') ||\n        name.startsWith('y') ||\n        name.startsWith('position') ||\n        name === 'enterDelay' ||\n        name === 'enterDuration' ||\n        name === 'updateDelay' ||\n        name === 'updateDuration' ||\n        name === 'exitDelay' ||\n        name === 'exitDuration');\n}\nexport function isValidScale(scale) {\n    if (!scale || !scale.type)\n        return false;\n    if (typeof scale.type === 'function')\n        return true;\n    const { type, domain, range, interpolator } = scale;\n    const isValidDomain = domain && domain.length > 0;\n    const isValidRange = range && range.length > 0;\n    if ([\n        'linear',\n        'sqrt',\n        'log',\n        'time',\n        'pow',\n        'threshold',\n        'quantize',\n        'quantile',\n        'ordinal',\n        'band',\n        'point',\n    ].includes(type) &&\n        isValidDomain &&\n        isValidRange) {\n        return true;\n    }\n    if (['sequential'].includes(type) &&\n        isValidDomain &&\n        (isValidRange || interpolator)) {\n        return true;\n    }\n    if (['constant', 'identity'].includes(type) && isValidRange)\n        return true;\n    return false;\n}\n//# sourceMappingURL=scale.js.map","export const ContinuousScale = {\n    linear: 'linear',\n    identity: 'identity',\n    log: 'log',\n    pow: 'pow',\n    sqrt: 'sqrt',\n    sequential: 'sequential',\n};\nexport const DistributionScale = {\n    threshold: 'threshold',\n    quantize: 'quantize',\n    quantile: 'quantile',\n};\nexport const DiscreteScale = {\n    ordinal: 'ordinal',\n    band: 'band',\n    point: 'point',\n};\nexport const ConstantScale = {\n    constant: 'constant',\n};\n//# sourceMappingURL=scale.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix, isEqual } from '@antv/util';\nimport { groups, max, sum } from 'd3-array';\nimport { format } from 'd3-format';\nimport { DisplayObject, Text } from '@antv/g';\nimport { getPolarOptions, getRadialOptions, } from '../coordinate';\nimport { combine } from '../utils/array';\nimport { prettyNumber } from '../utils/number';\nimport { capitalizeFirst, defined, subObject } from '../utils/helper';\nimport { LEGEND_INFER_STRATEGIES } from '../component/constant';\nimport { coordOf, isHelix, isParallel, isPolar, isRadar, isRadial, isReflect, isReflectY, isTheta, isTranspose, } from './coordinate';\nimport { useLibrary } from './library';\nimport { isValidScale } from './scale';\nimport { ConstantScale, ContinuousScale, DiscreteScale, DistributionScale, } from './types/scale';\nexport function inferComponent(scales, partialOptions, library) {\n    const { coordinates = [], title } = partialOptions;\n    const [, createGuideComponent] = useLibrary('component', library);\n    const displayedScales = scales.filter(({ guide }) => {\n        if (guide === null)\n            return false;\n        return true;\n    });\n    const components = [];\n    // Sliders and scrollbar component.\n    const sliders = inferScrollableComponents(partialOptions, scales, library);\n    components.push(...sliders);\n    // Title components.\n    if (title) {\n        const { props } = createGuideComponent('title');\n        const { defaultPosition, defaultOrientation, defaultOrder, defaultSize, defaultCrossPadding, } = props;\n        const titleOptions = typeof title === 'string' ? { title } : title;\n        components.push(Object.assign({ type: 'title', position: defaultPosition, orientation: defaultOrientation, order: defaultOrder, crossPadding: defaultCrossPadding[0], defaultSize }, titleOptions));\n    }\n    // Axis and legends.\n    const inferredComponents = inferComponentsType(displayedScales, coordinates);\n    inferredComponents.forEach(([type, relativeScales]) => {\n        const { props } = createGuideComponent(type);\n        const { defaultPosition, defaultPlane = 'xy', defaultOrientation, defaultSize, defaultOrder, defaultLength, defaultPadding: DP = [0, 0], defaultCrossPadding: DCP = [0, 0], } = props;\n        // @todo to be confirm if the scale can be merged.\n        // const scale: G2ScaleOptions = Object.assign({}, ...relativeScales);\n        const scale = deepMix({}, ...relativeScales);\n        const { guide: guideOptions, field } = scale;\n        // A scale may have multiple guides.\n        const guides = Array.isArray(guideOptions) ? guideOptions : [guideOptions];\n        for (const partialGuide of guides) {\n            const [position, orientation] = inferComponentPositionAndOrientation(type, defaultPosition, defaultOrientation, partialGuide, relativeScales, displayedScales, coordinates);\n            // Skip if position and orientation are not specified.\n            // @example the last axis of radar chart\n            if (!position && !orientation)\n                continue;\n            const isVertical = position === 'left' || position === 'right';\n            const defaultPadding = isVertical ? DP[1] : DP[0];\n            const defaultCrossPadding = isVertical ? DCP[1] : DCP[0];\n            const { size, order = defaultOrder, length = defaultLength, padding = defaultPadding, crossPadding = defaultCrossPadding, } = partialGuide;\n            components.push(Object.assign(Object.assign({ title: field }, partialGuide), { defaultSize,\n                length,\n                position, plane: defaultPlane, orientation,\n                padding,\n                order,\n                crossPadding,\n                size,\n                type, scales: relativeScales }));\n        }\n    });\n    return components;\n}\nexport function renderComponent(component, coordinate, theme, library, markState) {\n    const [useGuideComponent] = useLibrary('component', library);\n    const { scaleInstances: scales, scale, bbox } = component, options = __rest(component, [\"scaleInstances\", \"scale\", \"bbox\"]);\n    const value = { bbox, library };\n    const render = useGuideComponent(options);\n    return render({\n        coordinate,\n        library,\n        markState,\n        scales,\n        theme,\n        value,\n        scale,\n    });\n}\nexport function normalizeComponents(components) {\n    return components.map((d) => {\n        const component = deepMix(d, d.style);\n        delete component.style;\n        return component;\n    });\n}\nexport function flatComponents(components) {\n    return components.flatMap((d) => (d.type == 'group' ? d.children : d));\n}\n// Wrap legends into a group component.\nexport function groupComponents(components, crossSize) {\n    // Group components by key.\n    const P = ['left', 'right', 'bottom', 'top'];\n    const key = ({ type, position, group }) => {\n        if (!P.includes(position))\n            return Symbol('independent');\n        if (group === undefined) {\n            if (type.startsWith('legend'))\n                return `legend-${position}`;\n            return Symbol('independent');\n        }\n        if (group === 'independent')\n            return Symbol('independent');\n        return group;\n    };\n    const grouped = groups(components, key);\n    // Update attributes of group components,\n    // and maybe flatten group components without enough room.\n    return grouped.flatMap(([, components]) => {\n        if (components.length === 1)\n            return components[0];\n        // If crossSize defined, group components only when has\n        // enough room.\n        if (crossSize !== undefined) {\n            // Compute total length.\n            const DL = components\n                .filter((d) => d.length !== undefined)\n                .map((d) => d.length);\n            const totalLength = sum(DL);\n            // If there is no enough room for components,\n            // do not group.\n            if (totalLength > crossSize) {\n                components.forEach((d) => (d.group = Symbol('independent')));\n                return components;\n            }\n            // Group legends and update legend length.\n            const emptyLength = crossSize - totalLength;\n            const emptyCount = components.length - DL.length;\n            const length = emptyLength / emptyCount;\n            components.forEach((d) => {\n                if (d.length !== undefined)\n                    return;\n                d.length = length;\n            });\n        }\n        // Create a group component.\n        const size = max(components, (d) => d.size);\n        const order = max(components, (d) => d.order);\n        const crossPadding = max(components, (d) => d.crossPadding);\n        const position = components[0].position;\n        return {\n            type: 'group',\n            size,\n            order,\n            position,\n            children: components,\n            crossPadding,\n        };\n    });\n}\nfunction inferLegendComponentType(scales, coordinates) {\n    // Filter accepts scales.\n    const channels = ['shape', 'size', 'color', 'opacity'];\n    const isConstantSize = (type, name) => type === 'constant' && name === 'size';\n    const accepts = scales.filter(({ type, name }) => typeof type === 'string' &&\n        channels.includes(name) &&\n        !isConstantSize(type, name));\n    // Group scales by fields.\n    const constants = accepts.filter(({ type }) => type === 'constant');\n    const nonConstants = accepts.filter(({ type }) => type !== 'constant');\n    const groupKey = (d) => (d.field ? d.field : Symbol('independent'));\n    const fieldScales = groups(nonConstants, groupKey)\n        .map(([key, scales]) => [key, [...scales, ...constants]])\n        .filter(([, scales]) => scales.some((scale) => scale.type !== 'constant'));\n    const scalesByField = new Map(fieldScales);\n    // Skip empty scales.\n    if (scalesByField.size === 0)\n        return [];\n    // Infer components.\n    const sort = (arr) => arr.sort(([a], [b]) => a.localeCompare(b));\n    const components = Array.from(scalesByField)\n        .map(([, scs]) => {\n        const combinations = combine(scs).sort((a, b) => b.length - a.length);\n        const options = combinations.map((combination) => ({\n            combination,\n            option: combination.map((scale) => [scale.name, getScaleType(scale)]),\n        }));\n        // For category legend.\n        for (const { option, combination } of options) {\n            // If every scale is constant, do not display legend.\n            if (option.every((d) => d[1] === 'constant'))\n                continue;\n            if (option.every((d) => d[1] === 'discrete' || d[1] === 'constant')) {\n                return ['legendCategory', combination];\n            }\n        }\n        // For reset legend.\n        // @todo Remove this.\n        for (const [componentType, accords] of LEGEND_INFER_STRATEGIES) {\n            for (const { option, combination } of options) {\n                if (accords.some((accord) => isEqual(sort(accord), sort(option)))) {\n                    return [componentType, combination];\n                }\n            }\n        }\n        return null;\n    })\n        .filter(defined);\n    return components;\n}\nfunction getScaleType(scale) {\n    const { type } = scale;\n    if (typeof type !== 'string')\n        return null;\n    if (type in ContinuousScale)\n        return 'continuous';\n    if (type in DiscreteScale)\n        return 'discrete';\n    if (type in DistributionScale)\n        return 'distribution';\n    if (type in ConstantScale)\n        return 'constant';\n    return null;\n}\nfunction inferAxisComponentType(scales, coordinates) {\n    return scales\n        .map((scale) => {\n        const { name } = scale;\n        // todo wait for gui provide helix axis\n        if (isHelix(coordinates) || isTheta(coordinates))\n            return null;\n        if (isTranspose(coordinates) &&\n            (isPolar(coordinates) || isRadial(coordinates)))\n            return null;\n        // infer axis\n        if (name.startsWith('x')) {\n            if (isPolar(coordinates))\n                return ['axisArc', [scale]];\n            if (isRadial(coordinates))\n                return ['axisLinear', [scale]];\n            return [isTranspose(coordinates) ? 'axisY' : 'axisX', [scale]];\n        }\n        if (name.startsWith('y')) {\n            if (isPolar(coordinates))\n                return ['axisLinear', [scale]];\n            if (isRadial(coordinates))\n                return ['axisArc', [scale]];\n            return [isTranspose(coordinates) ? 'axisX' : 'axisY', [scale]];\n        }\n        // Only support linear axis for z.\n        if (name.startsWith('z')) {\n            return ['axisZ', [scale]];\n        }\n        if (name.startsWith('position')) {\n            if (isRadar(coordinates))\n                return ['axisRadar', [scale]];\n            if (!isPolar(coordinates))\n                return ['axisY', [scale]];\n        }\n        return null;\n    })\n        .filter(defined);\n}\nfunction inferComponentsType(scales, coordinates) {\n    const availableScales = scales.filter((scale) => isValidScale(scale));\n    return [\n        ...inferLegendComponentType(availableScales, coordinates),\n        ...inferAxisComponentType(availableScales, coordinates),\n    ];\n}\nfunction angleOf(coordinates) {\n    const polar = coordOf(coordinates, 'polar');\n    if (polar.length) {\n        const lastPolar = polar[polar.length - 1];\n        const { startAngle, endAngle } = getPolarOptions(lastPolar);\n        return [startAngle, endAngle];\n    }\n    const radial = coordOf(coordinates, 'radial');\n    if (radial.length) {\n        const lastRadial = radial[radial.length - 1];\n        const { startAngle, endAngle } = getRadialOptions(lastRadial);\n        return [startAngle, endAngle];\n    }\n    return [-Math.PI / 2, (Math.PI / 2) * 3];\n}\n/**\n * match index of position\n */\nfunction matchPosition(name) {\n    const match = /position(\\d*)/g.exec(name);\n    if (!match)\n        return null;\n    return +match[1];\n}\nfunction inferAxisPositionAndOrientation(type, ordinalPosition, relativeScales, scales, coordinates) {\n    // a axis only has one scale\n    const { name } = relativeScales[0];\n    // todo, in current resolution, the radar chart is implement by parallel + polar coordinate.\n    // implementation plan to be confirmed.\n    // in current implementation, it must to add the first position encode to it's last.\n    // so we won't render the last axis repeatably.\n    if (type === 'axisRadar') {\n        const positions = scales.filter((scale) => scale.name.startsWith('position'));\n        const index = matchPosition(name);\n        if (name === positions.slice(-1)[0].name || index === null)\n            return [null, null];\n        // infer radar axis orientation\n        const [startAngle, endAngle] = angleOf(coordinates);\n        const angle = ((endAngle - startAngle) / (positions.length - 1)) * index + startAngle;\n        return ['center', angle];\n    }\n    if (type === 'axisY' && isParallel(coordinates)) {\n        return isTranspose(coordinates)\n            ? ['center', 'horizontal']\n            : ['center', 'vertical'];\n    }\n    // in non-cartesian coordinate systems, infer the arc axis angle\n    if (type === 'axisLinear') {\n        const [startAngle] = angleOf(coordinates);\n        return ['center', startAngle];\n    }\n    if (type === 'axisArc') {\n        if (ordinalPosition[0] === 'inner')\n            return ['inner', null];\n        return ['outer', null];\n    }\n    if (isPolar(coordinates))\n        return ['center', null];\n    if (isRadial(coordinates))\n        return ['center', null];\n    if ((type === 'axisX' && isReflect(coordinates)) ||\n        (type === 'axisX' && isReflectY(coordinates))) {\n        return ['top', null];\n    }\n    // if (type === 'axisX') return ['bottom', null];\n    return ordinalPosition;\n}\n// @todo Infer position by coordinates.\nfunction inferComponentPositionAndOrientation(type, defaultPosition, defaultOrientation, guide, relativeScales, scales, coordinates) {\n    const [startAngle] = angleOf(coordinates);\n    const ordinalPositionAndOrientation = [\n        guide.position || defaultPosition,\n        startAngle !== null && startAngle !== void 0 ? startAngle : defaultOrientation,\n    ];\n    if (typeof type === 'string' && type.startsWith('axis')) {\n        return inferAxisPositionAndOrientation(type, ordinalPositionAndOrientation, relativeScales, scales, coordinates);\n    }\n    if (typeof type === 'string' &&\n        type.startsWith('legend') &&\n        isPolar(coordinates)) {\n        if (guide.position === 'center')\n            return ['center', 'vertical'];\n    }\n    // for general component, use default position\n    return ordinalPositionAndOrientation;\n}\nfunction inferScrollableType(name, type, coordinates = []) {\n    if (name === 'x')\n        return isTranspose(coordinates) ? `${type}Y` : `${type}X`;\n    if (name === 'y')\n        return isTranspose(coordinates) ? `${type}X` : `${type}Y`;\n    return null;\n}\n/**\n * Infer scrollable components, such as slider and scrollbar.\n */\nfunction inferScrollableComponents(partialOptions, scales, library) {\n    const [, createGuideComponent] = useLibrary('component', library);\n    const { coordinates } = partialOptions;\n    function normalized(type, channelName, scale, options) {\n        const componentType = inferScrollableType(channelName, type, coordinates);\n        if (!options || !componentType)\n            return;\n        const { props } = createGuideComponent(componentType);\n        const { defaultPosition, defaultSize, defaultOrder, defaultCrossPadding: [crossPadding], } = props;\n        return Object.assign(Object.assign({ position: defaultPosition, defaultSize, order: defaultOrder, type: componentType, crossPadding }, options), { scales: [scale] });\n    }\n    return scales\n        .filter((d) => d.slider || d.scrollbar)\n        .flatMap((scale) => {\n        const { slider, scrollbar, name: channelName } = scale;\n        return [\n            normalized('slider', channelName, scale, slider),\n            normalized('scrollbar', channelName, scale, scrollbar),\n        ];\n    })\n        .filter((d) => !!d);\n}\n// !!! Note Mutate component.size and component.\nexport function computeComponentSize(component, crossSize, crossPadding, position, theme, library) {\n    // Only compute and update size of components in padding area.\n    const { type } = component;\n    const paddingAreas = ['left', 'right', 'bottom', 'top'];\n    if (!paddingAreas.includes(position))\n        return;\n    if (typeof type !== 'string')\n        return;\n    const t = type;\n    const createCompute = () => {\n        if (t.startsWith('axis'))\n            return computeAxisSize;\n        if (t.startsWith('group'))\n            return computeGroupSize;\n        if (t.startsWith('legendContinuous'))\n            return computeContinuousLegendSize;\n        if (t === 'legendCategory')\n            return computeCategoryLegendSize;\n        if (t.startsWith('slider'))\n            return computeSliderSize;\n        if (t === 'title')\n            return computeTitleSize;\n        if (t.startsWith('scrollbar'))\n            return computeScrollbarSize;\n        return () => { };\n    };\n    return createCompute()(component, crossSize, crossPadding, position, theme, library);\n}\nfunction computeGroupSize(component, crossSize, crossPadding, position, theme, library) {\n    const { children } = component;\n    const maxCrossPadding = max(children, (d) => d.crossPadding);\n    children.forEach((d) => (d.crossPadding = maxCrossPadding));\n    children.forEach((child) => computeComponentSize(child, crossSize, crossPadding, position, theme, library));\n    const maxSize = max(children, (d) => d.size);\n    component.size = maxSize;\n    children.forEach((d) => (d.size = maxSize));\n}\nfunction computeScrollbarSize(component, crossSize, crossPadding, position, theme, library) {\n    const { trackSize = 6 } = deepMix({}, theme.scrollbar, component);\n    component.size = trackSize;\n}\nfunction computeTitleSize(component, crossSize, crossPadding, position, theme, library) {\n    const _a = deepMix({}, theme.title, component), { title, subtitle, spacing = 0 } = _a, style = __rest(_a, [\"title\", \"subtitle\", \"spacing\"]);\n    if (title) {\n        const titleStyle = subObject(style, 'title');\n        const titleBBox = computeLabelSize(title, titleStyle);\n        component.size = titleBBox.height;\n    }\n    if (subtitle) {\n        const subtitleStyle = subObject(style, 'subtitle');\n        const subtitleBBox = computeLabelSize(subtitle, subtitleStyle);\n        component.size += spacing + subtitleBBox.height;\n    }\n}\nfunction computeSliderSize(component, crossSize, crossPadding, position, theme, library) {\n    const styleOf = () => {\n        const { slider } = theme;\n        return deepMix({}, slider, component);\n    };\n    const { trackSize, handleIconSize } = styleOf();\n    const size = Math.max(trackSize, handleIconSize * 2.4);\n    component.size = size;\n}\nfunction computeAxisSize(component, crossSize, crossPadding, position, theme, library) {\n    var _a;\n    // If padding is auto, use hide as the labelTransform by default\n    // to avoid overlap between labels.\n    component.transform = component.transform || [{ type: 'hide' }];\n    // Vertical or horizontal.\n    const isVertical = position === 'left' || position === 'right';\n    // Get styles to be applied.\n    const style = styleOf(component, position, theme);\n    const { tickLength = 0, labelSpacing = 0, titleSpacing = 0, labelAutoRotate } = style, rest = __rest(style, [\"tickLength\", \"labelSpacing\", \"titleSpacing\", \"labelAutoRotate\"]);\n    // Compute Labels.\n    const scale = createScale(component, library);\n    const labelBBoxes = computeLabelsBBox(rest, scale);\n    const paddingTick = tickLength + labelSpacing;\n    if (labelBBoxes && labelBBoxes.length) {\n        const maxLabelWidth = max(labelBBoxes, (d) => d.width);\n        const maxLabelHeight = max(labelBBoxes, (d) => d.height);\n        if (isVertical) {\n            component.size = maxLabelWidth + paddingTick;\n        }\n        else {\n            const { tickFilter, labelTransform } = component;\n            // If the labels can't be placed horizontally, and labelTransform is unset,\n            // rotate 90 deg to display them.\n            if (overflowX(scale, labelBBoxes, crossSize, crossPadding, tickFilter) &&\n                !labelTransform &&\n                labelAutoRotate !== false &&\n                labelAutoRotate !== null) {\n                component.labelTransform = 'rotate(90)';\n                component.size = maxLabelWidth + paddingTick;\n            }\n            else {\n                component.labelTransform = (_a = component.labelTransform) !== null && _a !== void 0 ? _a : 'rotate(0)';\n                component.size = maxLabelHeight + paddingTick;\n            }\n        }\n    }\n    else {\n        component.size = tickLength;\n    }\n    // Compute title.\n    const titleBBox = computeTitleBBox(rest);\n    if (titleBBox) {\n        if (isVertical) {\n            component.size += titleSpacing + titleBBox.width;\n        }\n        else {\n            component.size += titleSpacing + titleBBox.height;\n        }\n    }\n}\nfunction computeContinuousLegendSize(component, crossSize, crossPadding, position, theme, library) {\n    // Get styles.\n    const styleOf = () => {\n        const { legendContinuous } = theme;\n        return deepMix({}, legendContinuous, component);\n    };\n    const _a = styleOf(), { labelSpacing = 0, titleSpacing = 0 } = _a, rest = __rest(_a, [\"labelSpacing\", \"titleSpacing\"]);\n    // Vertical or horizontal.\n    const isVertical = position === 'left' || position === 'right';\n    // Ribbon styles.\n    const ribbonStyles = subObject(rest, 'ribbon');\n    const { size: ribbonSize } = ribbonStyles;\n    const handleIconStyles = subObject(rest, 'handleIcon');\n    const { size: handleIconSize } = handleIconStyles;\n    const mainSize = Math.max(ribbonSize, handleIconSize * 2.4);\n    component.size = mainSize;\n    // Compute labels.\n    const scale = createScale(component, library);\n    const labelBBoxes = computeLabelsBBox(rest, scale);\n    if (labelBBoxes) {\n        const key = isVertical ? 'width' : 'height';\n        const size = max(labelBBoxes, (d) => d[key]);\n        component.size += size + labelSpacing;\n    }\n    // Compute title.\n    const titleBBox = computeTitleBBox(rest);\n    if (titleBBox) {\n        if (isVertical) {\n            component.size = Math.max(component.size, titleBBox.width);\n        }\n        else {\n            component.size += titleSpacing + titleBBox.height;\n        }\n    }\n}\nfunction computeCategoryLegendSize(component, crossSize0, crossPadding, position, theme, library) {\n    const styleOf = () => {\n        const { legendCategory } = theme;\n        const { title } = component;\n        const [defaultTitle, specifiedTitle] = Array.isArray(title)\n            ? [title, undefined]\n            : [undefined, title];\n        return deepMix({ title: defaultTitle }, legendCategory, Object.assign(Object.assign({}, component), { title: specifiedTitle }));\n    };\n    const _a = styleOf(), { itemSpacing, itemMarkerSize, titleSpacing, rowPadding, colPadding, maxCols = Infinity, maxRows = Infinity } = _a, rest = __rest(_a, [\"itemSpacing\", \"itemMarkerSize\", \"titleSpacing\", \"rowPadding\", \"colPadding\", \"maxCols\", \"maxRows\"]);\n    const { cols, length } = component;\n    const getRows = (rows) => Math.min(rows, maxRows);\n    const getCols = (cols) => Math.min(cols, maxCols);\n    // Vertical or horizontal.\n    const isVertical = position === 'left' || position === 'right';\n    const crossSize = length === undefined\n        ? crossSize0 + (isVertical ? 0 : crossPadding[0] + crossPadding[1])\n        : length;\n    // Compute title.\n    const titleBBox = computeTitleBBox(rest);\n    const scale = createScale(component, library);\n    const labelBBoxes = computeLabelsBBox(rest, scale, 'itemLabel');\n    const height = Math.max(labelBBoxes[0].height, itemMarkerSize) + rowPadding;\n    const widthOf = (w, padding = 0) => itemMarkerSize + w + itemSpacing[0] + padding;\n    // Only support grid layout for vertical area.\n    const computeVerticalSize = () => {\n        let maxSize = -Infinity;\n        let pos = 0;\n        let cols = 1;\n        let rows = 0;\n        let maxRows = -Infinity;\n        let maxPos = -Infinity;\n        const titleHeight = titleBBox ? titleBBox.height : 0;\n        const maxHeight = crossSize - titleHeight;\n        for (const { width } of labelBBoxes) {\n            const w = widthOf(width, colPadding);\n            maxSize = Math.max(maxSize, w);\n            if (pos + height > maxHeight) {\n                cols++;\n                maxRows = Math.max(maxRows, rows);\n                maxPos = Math.max(maxPos, pos);\n                rows = 1;\n                pos = height;\n            }\n            else {\n                pos += height;\n                rows++;\n            }\n        }\n        if (cols <= 1) {\n            maxRows = rows;\n            maxPos = pos;\n        }\n        component.size = maxSize * getCols(cols);\n        component.length = maxPos + titleHeight;\n        deepMix(component, { cols: getCols(cols), gridRow: maxRows });\n    };\n    // Horizontal grid layout.\n    const computeHorizontalGrid = () => {\n        const rows = Math.ceil(labelBBoxes.length / cols);\n        const maxWidth = max(labelBBoxes, (d) => widthOf(d.width)) * cols;\n        component.size = height * getRows(rows) - rowPadding;\n        component.length = Math.min(maxWidth, crossSize);\n    };\n    // Horizontal flex layout.\n    const computeHorizontalFlex = () => {\n        let rows = 1;\n        let pos = 0;\n        let maxPos = -Infinity;\n        for (const { width } of labelBBoxes) {\n            const w = widthOf(width, colPadding);\n            if (pos + w > crossSize) {\n                maxPos = Math.max(maxPos, pos);\n                pos = w;\n                rows++;\n            }\n            else {\n                pos += w;\n            }\n        }\n        if (rows === 1)\n            maxPos = pos;\n        component.size = height * getRows(rows) - rowPadding;\n        component.length = maxPos;\n    };\n    if (isVertical)\n        computeVerticalSize();\n    else if (typeof cols === 'number')\n        computeHorizontalGrid();\n    else\n        computeHorizontalFlex();\n    // Compute titles.\n    if (titleBBox) {\n        if (isVertical) {\n            component.size = Math.max(component.size, titleBBox.width);\n        }\n        else {\n            component.size += titleSpacing + titleBBox.height;\n        }\n    }\n}\nexport function createScale(component, library) {\n    const [useScale] = useLibrary('scale', library);\n    // Init scale, the tickCount of axis has higher priority than scale.\n    const { scales, tickCount, tickMethod } = component;\n    const scaleOptions = scales.find((d) => d.type !== 'constant' && d.type !== 'identity');\n    if (tickCount !== undefined)\n        scaleOptions.tickCount = tickCount;\n    if (tickMethod !== undefined)\n        scaleOptions.tickMethod = tickMethod;\n    return useScale(scaleOptions);\n}\nexport function computeLabelsBBox(component, scale, key = 'label') {\n    const { labelFormatter, tickFilter, label = true } = component, style = __rest(component, [\"labelFormatter\", \"tickFilter\", \"label\"]);\n    if (!label)\n        return null;\n    // Get labels to be rendered.\n    const labels = labelsOf(scale, labelFormatter, tickFilter);\n    const labelStyle = subObject(style, key);\n    const labelStyles = labels.map((d, i) => Object.fromEntries(Object.entries(labelStyle).map(([key, value]) => [\n        key,\n        typeof value === 'function' ? value(d, i) : value,\n    ])));\n    const labelBBoxes = labels.map((d, i) => {\n        const normalizeStyle = labelStyles[i];\n        return computeLabelSize(d, normalizeStyle);\n    });\n    // Cache boxes to avoid computed twice.\n    // @todo GUI use untransformed bbox, so it can't cache if\n    // label.style has transform attributes.\n    const hasTransform = labelStyles.some((d) => d.transform);\n    if (!hasTransform) {\n        const I = labels.map((_, i) => i);\n        component.indexBBox = new Map(I.map((i) => [i, [labels[i], labelBBoxes[i]]]));\n    }\n    return labelBBoxes;\n}\nexport function computeTitleBBox(component) {\n    const isFalsy = (x) => x === false || x === null;\n    const { title } = component, style = __rest(component, [\"title\"]);\n    if (isFalsy(title) || title === undefined)\n        return null;\n    const titleStyle = subObject(style, 'title');\n    const { direction, transform } = titleStyle;\n    const titleText = Array.isArray(title) ? title.join(',') : title;\n    if (typeof titleText !== 'string')\n        return null;\n    const titleBBox = computeLabelSize(titleText, Object.assign(Object.assign({}, titleStyle), { transform: transform || (direction === 'vertical' ? 'rotate(-90)' : '') }));\n    return titleBBox;\n}\nexport function styleOf(axis, position, theme) {\n    const { title } = axis;\n    const [defaultTitle, specifiedTitle] = Array.isArray(title)\n        ? [title, undefined]\n        : [undefined, title];\n    const { axis: baseStyle, \n    // @ts-ignore\n    [`axis${capitalizeFirst(position)}`]: positionStyle, } = theme;\n    return deepMix({ title: defaultTitle }, baseStyle, positionStyle, Object.assign(Object.assign({}, axis), { title: specifiedTitle }));\n}\nfunction ticksOf(scale, tickFilter) {\n    const ticks = scale.getTicks ? scale.getTicks() : scale.getOptions().domain;\n    if (!tickFilter)\n        return ticks;\n    return ticks.filter(tickFilter);\n}\nfunction labelsOf(scale, labelFormatter, tickFilter) {\n    const T = ticksOf(scale, tickFilter);\n    const ticks = T.map((d) => (typeof d === 'number' ? prettyNumber(d) : d));\n    const formatter = labelFormatter\n        ? typeof labelFormatter === 'string'\n            ? format(labelFormatter)\n            : labelFormatter\n        : scale.getFormatter\n            ? scale.getFormatter()\n            : (d) => `${d}`;\n    return ticks.map(formatter);\n}\nfunction offsetOf(scale, d) {\n    if (!scale.getBandWidth)\n        return 0;\n    const offset = scale.getBandWidth(d) / 2;\n    return offset;\n}\nfunction overflowX(scale, labelBBoxes, crossSize, crossPadding, tickFilter) {\n    // If actual size bigger than container size, overflow.\n    const totalSize = sum(labelBBoxes, (d) => d.width);\n    if (totalSize > crossSize)\n        return true;\n    // Clone scale to get visual position for labels.\n    const scaleX = scale.clone();\n    scaleX.update({ range: [0, crossSize] });\n    const ticks = ticksOf(scale, tickFilter);\n    const X = ticks.map((d) => scaleX.map(d) + offsetOf(scaleX, d));\n    const I = ticks.map((_, i) => i);\n    const startX = -crossPadding[0];\n    const endX = crossSize + crossPadding[1];\n    const extent = (x, bbox) => {\n        const { width } = bbox;\n        return [x - width / 2, x + width / 2];\n    };\n    // Collision detection.\n    for (let i = 0; i < I.length; i++) {\n        const x = X[i];\n        const [x0, x1] = extent(x, labelBBoxes[i]);\n        // If a label is out of plot area, overflow.\n        if (x0 < startX || x1 > endX)\n            return true;\n        const y = X[i + 1];\n        if (y) {\n            // If two labels intersect, overflow.\n            const [y0] = extent(y, labelBBoxes[i + 1]);\n            if (x1 > y0)\n                return true;\n        }\n    }\n    return false;\n}\nfunction computeLabelSize(d, style) {\n    const shape = normalizeLabel(d);\n    const { filter } = style, rest = __rest(style, [\"filter\"]);\n    shape.attr(Object.assign(Object.assign({}, rest), { visibility: 'none' }));\n    const bbox = shape.getBBox();\n    return bbox;\n}\nfunction normalizeLabel(d) {\n    if (d instanceof DisplayObject)\n        return d;\n    return new Text({ style: { text: `${d}` } });\n}\n//# sourceMappingURL=component.js.map","import { ascending, group, max, min, sum } from 'd3-array';\nimport { deepMix } from '@antv/util';\nimport { isParallel, isPolar, isRadar, radiusOf } from '../utils/coordinate';\nimport { capitalizeFirst, defined } from '../utils/helper';\nimport { divide } from '../utils/array';\nimport { camelCase } from '../utils/string';\nimport { computeComponentSize, computeLabelsBBox, computeTitleBBox, createScale, groupComponents, styleOf, } from './component';\nimport { isPolar as isPolarOptions, isRadial as isRadarOptions, } from './coordinate';\nexport function processAxisZ(components) {\n    const axisX = components.find(({ type }) => type === 'axisX');\n    const axisY = components.find(({ type }) => type === 'axisY');\n    const axisZ = components.find(({ type }) => type === 'axisZ');\n    if (axisX && axisY && axisZ) {\n        axisX.plane = 'xy';\n        axisY.plane = 'xy';\n        axisZ.plane = 'yz';\n        axisZ.origin = [axisX.bbox.x, axisX.bbox.y, 0];\n        axisZ.eulerAngles = [0, -90, 0];\n        axisZ.bbox.x = axisX.bbox.x;\n        axisZ.bbox.y = axisX.bbox.y;\n        components.push(Object.assign(Object.assign({}, axisX), { plane: 'xz', showLabel: false, showTitle: false, origin: [axisX.bbox.x, axisX.bbox.y, 0], eulerAngles: [-90, 0, 0] }));\n        components.push(Object.assign(Object.assign({}, axisY), { plane: 'yz', showLabel: false, showTitle: false, origin: [axisY.bbox.x + axisY.bbox.width, axisY.bbox.y, 0], eulerAngles: [0, -90, 0] }));\n        components.push(Object.assign(Object.assign({}, axisZ), { plane: 'xz', actualPosition: 'left', showLabel: false, showTitle: false, eulerAngles: [90, -90, 0] }));\n    }\n}\nexport function computeLayout(components, options, theme, library) {\n    var _a, _b;\n    const { width, height, depth, x = 0, y = 0, z = 0, inset = (_a = theme.inset) !== null && _a !== void 0 ? _a : 0, insetLeft = inset, insetTop = inset, insetBottom = inset, insetRight = inset, margin = (_b = theme.margin) !== null && _b !== void 0 ? _b : 0, marginLeft = margin, marginBottom = margin, marginTop = margin, marginRight = margin, padding = theme.padding, paddingBottom = padding, paddingLeft = padding, paddingRight = padding, paddingTop = padding, } = computeInset(components, options, theme, library);\n    const MIN_CONTENT_RATIO = 1 / 4;\n    const maybeClamp = (viewWidth, paddingLeft, paddingRight, pl0, pr0) => {\n        // Only clamp when has marks.\n        const { marks } = options;\n        if (marks.length === 0)\n            return [pl0, pr0];\n        // If size of content is enough, skip.\n        const contentSize = viewWidth - pl0 - pr0;\n        const diff = contentSize - viewWidth * MIN_CONTENT_RATIO;\n        if (diff > 0)\n            return [pl0, pr0];\n        // Shrink start and end size equally.\n        const shrinkSize = viewWidth * (1 - MIN_CONTENT_RATIO);\n        return [\n            paddingLeft === 'auto' ? (shrinkSize * pl0) / (pl0 + pr0) : pl0,\n            paddingRight === 'auto' ? (shrinkSize * pr0) / (pl0 + pr0) : pr0,\n        ];\n    };\n    const roughPadding = (padding) => (padding === 'auto' ? 20 : padding !== null && padding !== void 0 ? padding : 20);\n    const rpt = roughPadding(paddingTop);\n    const rpb = roughPadding(paddingBottom);\n    // Compute paddingLeft and paddingRight first to get innerWidth.\n    const horizontalPadding = computePadding(components, height - rpt - rpb, [rpt + marginTop, rpb + marginBottom], ['left', 'right'], options, theme, library);\n    const { paddingLeft: pl0, paddingRight: pr0 } = horizontalPadding;\n    const viewWidth = width - marginLeft - marginRight;\n    const [pl, pr] = maybeClamp(viewWidth, paddingLeft, paddingRight, pl0, pr0);\n    const iw = viewWidth - pl - pr;\n    // Compute paddingBottom and paddingTop based on innerWidth.\n    const verticalPadding = computePadding(components, iw, [pl + marginLeft, pr + marginRight], ['bottom', 'top'], options, theme, library);\n    const { paddingTop: pt0, paddingBottom: pb0 } = verticalPadding;\n    const viewHeight = height - marginBottom - marginTop;\n    const [pb, pt] = maybeClamp(viewHeight, paddingBottom, paddingTop, pb0, pt0);\n    const ih = viewHeight - pb - pt;\n    return {\n        width,\n        height,\n        depth,\n        insetLeft,\n        insetTop,\n        insetBottom,\n        insetRight,\n        innerWidth: iw,\n        innerHeight: ih,\n        paddingLeft: pl,\n        paddingRight: pr,\n        paddingTop: pt,\n        paddingBottom: pb,\n        marginLeft,\n        marginBottom,\n        marginTop,\n        marginRight,\n        x,\n        y,\n        z,\n    };\n}\n// For composite mark with a layout algorithm and without axis,\n// such as worldcloud, circlepack.\nexport function computeRoughPlotSize(options) {\n    const { height, width, padding = 0, paddingLeft = padding, paddingRight = padding, paddingTop = padding, paddingBottom = padding, margin = 16, marginLeft = margin, marginRight = margin, marginTop = margin, marginBottom = margin, inset = 0, insetLeft = inset, insetRight = inset, insetTop = inset, insetBottom = inset, } = options;\n    // @todo Add this padding to theme.\n    // 30 is default size for padding, which defined in runtime.\n    const maybeAuto = (padding) => (padding === 'auto' ? 20 : padding);\n    const finalWidth = width -\n        maybeAuto(paddingLeft) -\n        maybeAuto(paddingRight) -\n        marginLeft -\n        marginRight -\n        insetLeft -\n        insetRight;\n    const finalHeight = height -\n        maybeAuto(paddingTop) -\n        maybeAuto(paddingBottom) -\n        marginTop -\n        marginBottom -\n        insetTop -\n        insetBottom;\n    return { width: finalWidth, height: finalHeight };\n}\nfunction computeInset(components, options, theme, library) {\n    const { coordinates } = options;\n    if (!isPolarOptions(coordinates) && !isRadarOptions(coordinates)) {\n        return options;\n    }\n    // Filter axis.\n    const axes = components.filter((d) => typeof d.type === 'string' && d.type.startsWith('axis'));\n    if (axes.length === 0)\n        return options;\n    const styles = axes.map((component) => {\n        const key = component.type === 'axisArc' ? 'arc' : 'linear';\n        return styleOf(component, key, theme);\n    });\n    // Compute max labelSpacing.\n    const maxLabelSpacing = max(styles, (d) => { var _a; return (_a = d.labelSpacing) !== null && _a !== void 0 ? _a : 0; });\n    // Compute labelBBoxes.\n    const labelBBoxes = axes\n        .flatMap((component, i) => {\n        const style = styles[i];\n        const scale = createScale(component, library);\n        const labels = computeLabelsBBox(style, scale);\n        return labels;\n    })\n        .filter(defined);\n    const size = max(labelBBoxes, (d) => d.height) + maxLabelSpacing;\n    // Compute titles.\n    const titleBBoxes = axes\n        .flatMap((_, i) => {\n        const style = styles[i];\n        return computeTitleBBox(style);\n    })\n        .filter((d) => d !== null);\n    const titleSize = titleBBoxes.length === 0 ? 0 : max(titleBBoxes, (d) => d.height);\n    // Update inset.\n    const { inset = size, insetLeft = inset, insetBottom = inset, insetTop = inset + titleSize, insetRight = inset, } = options;\n    return Object.assign(Object.assign({}, options), { insetLeft, insetBottom, insetTop, insetRight });\n}\n/**\n * @todo Support percentage size(e.g. 50%)\n */\nfunction computePadding(components, crossSize, crossPadding, positions, options, theme, library) {\n    const positionComponents = group(components, (d) => d.position);\n    const { padding = theme.padding, paddingLeft = padding, paddingRight = padding, paddingBottom = padding, paddingTop = padding, } = options;\n    const layout = {\n        paddingBottom,\n        paddingLeft,\n        paddingTop,\n        paddingRight,\n    };\n    for (const position of positions) {\n        const key = `padding${capitalizeFirst(camelCase(position))}`;\n        const components = positionComponents.get(position) || [];\n        const value = layout[key];\n        const defaultSizeOf = (d) => {\n            if (d.size === undefined)\n                d.size = d.defaultSize;\n        };\n        const sizeOf = (d) => {\n            if (d.type === 'group') {\n                d.children.forEach(defaultSizeOf);\n                d.size = max(d.children, (d) => d.size);\n            }\n            else {\n                d.size = d.defaultSize;\n            }\n        };\n        const autoSizeOf = (d) => {\n            if (d.size)\n                return;\n            if (value !== 'auto')\n                sizeOf(d);\n            else {\n                // Compute component size dynamically.\n                computeComponentSize(d, crossSize, crossPadding, position, theme, library);\n                defaultSizeOf(d);\n            }\n        };\n        const maybeHide = (d) => {\n            if (!d.type.startsWith('axis'))\n                return;\n            if (d.labelAutoHide === undefined)\n                d.labelAutoHide = true;\n        };\n        const isHorizontal = position === 'bottom' || position === 'top';\n        // !!!Note\n        // Mute axis component padding.\n        // The first axis do not has padding.\n        const minOrder = min(components, (d) => d.order);\n        const axes = components.filter((d) => d.type.startsWith('axis') && d.order == minOrder);\n        if (axes.length)\n            axes[0].crossPadding = 0;\n        // Specified padding.\n        if (typeof value === 'number') {\n            components.forEach(defaultSizeOf);\n            components.forEach(maybeHide);\n        }\n        else {\n            // Compute padding dynamically.\n            if (components.length === 0) {\n                layout[key] = 0;\n            }\n            else {\n                const size = isHorizontal\n                    ? crossSize + crossPadding[0] + crossPadding[1]\n                    : crossSize;\n                const grouped = groupComponents(components, size);\n                grouped.forEach(autoSizeOf);\n                const totalSize = grouped.reduce((sum, { size, crossPadding = 12 }) => sum + size + crossPadding, 0);\n                layout[key] = totalSize;\n            }\n        }\n    }\n    return layout;\n}\nexport function placeComponents(components, coordinate, layout) {\n    // Group components by plane & position.\n    const positionComponents = group(components, (d) => `${d.plane || 'xy'}-${d.position}`);\n    const { paddingLeft, paddingRight, paddingTop, paddingBottom, marginLeft, marginTop, marginBottom, marginRight, innerHeight, innerWidth, insetBottom, insetLeft, insetRight, insetTop, height, width, depth, } = layout;\n    const planes = {\n        xy: createSection({\n            width,\n            height,\n            paddingLeft,\n            paddingRight,\n            paddingTop,\n            paddingBottom,\n            marginLeft,\n            marginTop,\n            marginBottom,\n            marginRight,\n            innerHeight,\n            innerWidth,\n            insetBottom,\n            insetLeft,\n            insetRight,\n            insetTop,\n        }),\n        yz: createSection({\n            width: depth,\n            height: height,\n            paddingLeft: 0,\n            paddingRight: 0,\n            paddingTop: 0,\n            paddingBottom: 0,\n            marginLeft: 0,\n            marginTop: 0,\n            marginBottom: 0,\n            marginRight: 0,\n            innerWidth: depth,\n            innerHeight: height,\n            insetBottom: 0,\n            insetLeft: 0,\n            insetRight: 0,\n            insetTop: 0,\n        }),\n        xz: createSection({\n            width,\n            height: depth,\n            paddingLeft: 0,\n            paddingRight: 0,\n            paddingTop: 0,\n            paddingBottom: 0,\n            marginLeft: 0,\n            marginTop: 0,\n            marginBottom: 0,\n            marginRight: 0,\n            innerWidth: width,\n            innerHeight: depth,\n            insetBottom: 0,\n            insetLeft: 0,\n            insetRight: 0,\n            insetTop: 0,\n        }),\n    };\n    for (const [key, components] of positionComponents.entries()) {\n        const [plane, position] = key.split('-');\n        const area = planes[plane][position];\n        /**\n         * @description non-entity components: axis in the center, inner, outer, component in the center\n         * @description entity components: other components\n         * @description no volume components take up no extra space\n         */\n        const [nonEntityComponents, entityComponents] = divide(components, (component) => {\n            if (typeof component.type !== 'string')\n                return false;\n            if (position === 'center')\n                return true;\n            if (component.type.startsWith('axis') &&\n                ['inner', 'outer'].includes(position)) {\n                return true;\n            }\n            return false;\n        });\n        if (nonEntityComponents.length) {\n            placeNonEntityComponents(nonEntityComponents, coordinate, area, position);\n        }\n        if (entityComponents.length) {\n            placePaddingArea(components, coordinate, area);\n        }\n    }\n}\nfunction createSection({ width, height, paddingLeft, paddingRight, paddingTop, paddingBottom, marginLeft, marginTop, marginBottom, marginRight, innerHeight, innerWidth, insetBottom, insetLeft, insetRight, insetTop, }) {\n    const pl = paddingLeft + marginLeft;\n    const pt = paddingTop + marginTop;\n    const pr = paddingRight + marginRight;\n    const pb = paddingBottom + marginBottom;\n    const plotWidth = width - marginLeft - marginRight;\n    const centerSection = [\n        pl + insetLeft,\n        pt + insetTop,\n        innerWidth - insetLeft - insetRight,\n        innerHeight - insetTop - insetBottom,\n        'center',\n        null,\n        null,\n    ];\n    const xySection = {\n        top: [\n            pl,\n            0,\n            innerWidth,\n            pt,\n            'vertical',\n            true,\n            ascending,\n            marginLeft,\n            plotWidth,\n        ],\n        right: [width - pr, pt, pr, innerHeight, 'horizontal', false, ascending],\n        bottom: [\n            pl,\n            height - pb,\n            innerWidth,\n            pb,\n            'vertical',\n            false,\n            ascending,\n            marginLeft,\n            plotWidth,\n        ],\n        left: [0, pt, pl, innerHeight, 'horizontal', true, ascending],\n        'top-left': [pl, 0, innerWidth, pt, 'vertical', true, ascending],\n        'top-right': [pl, 0, innerWidth, pt, 'vertical', true, ascending],\n        'bottom-left': [\n            pl,\n            height - pb,\n            innerWidth,\n            pb,\n            'vertical',\n            false,\n            ascending,\n        ],\n        'bottom-right': [\n            pl,\n            height - pb,\n            innerWidth,\n            pb,\n            'vertical',\n            false,\n            ascending,\n        ],\n        center: centerSection,\n        inner: centerSection,\n        outer: centerSection,\n    };\n    return xySection;\n}\nfunction placeNonEntityComponents(components, coordinate, area, position) {\n    const [axisComponents, nonAxisComponents] = divide(components, (component) => {\n        if (typeof component.type === 'string' &&\n            component.type.startsWith('axis')) {\n            return true;\n        }\n        return false;\n    });\n    placeNonEntityAxis(axisComponents, coordinate, area, position);\n    // in current stage, only legend component which located in the center can be placed\n    placeCenter(nonAxisComponents, coordinate, area);\n}\nfunction placeNonEntityAxis(components, coordinate, area, position) {\n    if (position === 'center') {\n        if (isRadar(coordinate)) {\n            placeAxisRadar(components, coordinate, area, position);\n        }\n        else if (isPolar(coordinate)) {\n            placeArcLinear(components, coordinate, area);\n        }\n        else if (isParallel(coordinate)) {\n            placeAxisParallel(components, coordinate, area, components[0].orientation);\n        }\n    }\n    else if (position === 'inner') {\n        placeAxisArcInner(components, coordinate, area);\n    }\n    else if (position === 'outer') {\n        placeAxisArcOuter(components, coordinate, area);\n    }\n}\nfunction placeAxisArcInner(components, coordinate, area) {\n    const [x, y, , height] = area;\n    const [cx, cy] = coordinate.getCenter();\n    const [innerRadius] = radiusOf(coordinate);\n    const r = height / 2;\n    const size = innerRadius * r;\n    const x0 = cx - size;\n    const y0 = cy - size;\n    for (let i = 0; i < components.length; i++) {\n        const component = components[i];\n        component.bbox = {\n            x: x + x0,\n            y: y + y0,\n            width: size * 2,\n            height: size * 2,\n        };\n    }\n}\nfunction placeAxisArcOuter(components, coordinate, area) {\n    const [x, y, width, height] = area;\n    for (const component of components) {\n        component.bbox = { x, y, width, height };\n    }\n}\n/**\n * @example arcX, arcY, axisLinear with angle\n */\nfunction placeArcLinear(components, coordinate, area) {\n    const [x, y, width, height] = area;\n    for (const component of components) {\n        component.bbox = { x: x, y, width, height };\n    }\n}\nfunction placeAxisParallel(components, coordinate, area, orientation) {\n    if (orientation === 'horizontal') {\n        placeAxisParallelHorizontal(components, coordinate, area);\n    }\n    else if (orientation === 'vertical') {\n        placeAxisParallelVertical(components, coordinate, area);\n    }\n}\nfunction placeAxisParallelVertical(components, coordinate, area) {\n    const [x, y, , height] = area;\n    // Create a high dimension vector and map to a list of two-dimension points.\n    // [0, 0, 0] -> [x0, 0, x1, 0, x2, 0]\n    const vector = new Array(components.length).fill(0);\n    const points = coordinate.map(vector);\n    // Extract x of each points.\n    // [x0, 0, x1, 0, x2, 0] -> [x0, x1, x2]\n    const X = points.filter((_, i) => i % 2 === 0).map((d) => d + x);\n    // Place each axis by coordinate in parallel coordinate.\n    for (let i = 0; i < components.length; i++) {\n        const component = components[i];\n        const x = X[i];\n        const width = X[i + 1] - x;\n        component.bbox = { x, y, width, height };\n    }\n}\nfunction placeAxisParallelHorizontal(components, coordinate, area) {\n    const [x, y, width] = area;\n    // Create a high dimension vector and map to a list of two-dimension points.\n    // [0, 0, 0] -> [height, y0, height, y1, height, y2]\n    const vector = new Array(components.length).fill(0);\n    const points = coordinate.map(vector);\n    // Extract y of each points.\n    // [x0, 0, x1, 0, x2, 0] -> [x0, x1, x2]\n    const Y = points.filter((_, i) => i % 2 === 1).map((d) => d + y);\n    // Place each axis by coordinate in parallel coordinate.\n    for (let i = 0; i < components.length; i++) {\n        const component = components[i];\n        const y = Y[i];\n        const height = Y[i + 1] - y;\n        component.bbox = { x, y, width, height };\n    }\n}\nfunction placeAxisRadar(components, coordinate, area, position) {\n    const [x, y, width, height] = area;\n    for (const component of components) {\n        component.bbox = { x, y, width, height };\n        component.radar = {\n            index: components.indexOf(component),\n            count: components.length,\n        };\n    }\n}\nfunction placePaddingArea(components, coordinate, area) {\n    const [x, y, width, height, direction, reverse, comparator, minX, totalSize] = area;\n    const [mainStartKey, mainStartValue, crossStartKey, crossStartValue, mainSizeKey, mainSizeValue, crossSizeKey, crossSizeValue,] = direction === 'vertical'\n        ? ['y', y, 'x', x, 'height', height, 'width', width]\n        : ['x', x, 'y', y, 'width', width, 'height', height];\n    // Sort components by order.\n    // The smaller the order, the closer to center.\n    components.sort((a, b) => comparator === null || comparator === void 0 ? void 0 : comparator(a.order, b.order));\n    const isLarge = (type) => type === 'title' || type === 'group' || type.startsWith('legend');\n    const crossSizeOf = (type, small, bigger) => {\n        if (bigger === undefined)\n            return small;\n        if (isLarge(type))\n            return bigger;\n        return small;\n    };\n    const crossStartOf = (type, x, minX) => {\n        if (minX === undefined)\n            return x;\n        if (isLarge(type))\n            return minX;\n        return x;\n    };\n    const startValue = reverse ? mainStartValue + mainSizeValue : mainStartValue;\n    for (let i = 0, start = startValue; i < components.length; i++) {\n        const component = components[i];\n        const { crossPadding = 0, type } = component;\n        const { size } = component;\n        component.bbox = {\n            [mainStartKey]: reverse\n                ? start - size - crossPadding\n                : start + crossPadding,\n            [crossStartKey]: crossStartOf(type, crossStartValue, minX),\n            [mainSizeKey]: size,\n            [crossSizeKey]: crossSizeOf(type, crossSizeValue, totalSize),\n        };\n        start += (size + crossPadding) * (reverse ? -1 : 1);\n    }\n    // Place group components.\n    const groupComponents = components.filter((d) => d.type === 'group');\n    for (const group of groupComponents) {\n        const { bbox, children } = group;\n        const size = bbox[crossSizeKey];\n        const step = size / children.length;\n        const justifyContent = children.reduce((j, child) => {\n            var _a;\n            const j0 = (_a = child.layout) === null || _a === void 0 ? void 0 : _a.justifyContent;\n            return j0 ? j0 : j;\n        }, 'flex-start');\n        const L = children.map((d, i) => {\n            const { length = step, padding = 0 } = d;\n            return length + (i === children.length - 1 ? 0 : padding);\n        });\n        const totalLength = sum(L);\n        const diff = size - totalLength;\n        const offset = justifyContent === 'flex-start'\n            ? 0\n            : justifyContent === 'center'\n                ? diff / 2\n                : diff;\n        for (let i = 0, start = bbox[crossStartKey] + offset; i < children.length; i++) {\n            const component = children[i];\n            const { padding = 0 } = component;\n            const interval = i === children.length - 1 ? 0 : padding;\n            component.bbox = {\n                [mainSizeKey]: bbox[mainSizeKey],\n                [mainStartKey]: bbox[mainStartKey],\n                [crossStartKey]: start,\n                [crossSizeKey]: L[i] - interval,\n            };\n            deepMix(component, { layout: { justifyContent } });\n            start += L[i];\n        }\n    }\n}\n/**\n * @example legend in the center of radial or polar system\n */\nfunction placeCenter(components, coordinate, area) {\n    if (components.length === 0)\n        return;\n    const [x, y, width, height] = area;\n    const [innerRadius] = radiusOf(coordinate);\n    const r = ((height / 2) * innerRadius) / Math.sqrt(2);\n    const cx = x + width / 2;\n    const cy = y + height / 2;\n    for (let i = 0; i < components.length; i++) {\n        const component = components[i];\n        component.bbox = { x: cx - r, y: cy - r, width: r * 2, height: r * 2 };\n    }\n}\n//# sourceMappingURL=layout.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix, isNumber } from '@antv/util';\nimport { format } from 'd3-format';\nimport { indexOf, mapObject } from '../utils/array';\nimport { composeAsync, defined, isStrictObject, isUnset, } from '../utils/helper';\nimport { isFullTooltip } from '../utils/mark';\nimport { useLibrary } from './library';\nimport { createColumnOf } from './mark';\nimport { isPosition } from './scale';\n// @todo Add more defaults.\nexport function applyDefaults(I, mark, context) {\n    const { encode = {}, scale = {}, transform = [] } = mark, rest = __rest(mark, [\"encode\", \"scale\", \"transform\"]);\n    return [I, Object.assign(Object.assign({}, rest), { encode, scale, transform })];\n}\nexport function applyDataTransform(I, mark, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const { data } = mark;\n        const [useData] = useLibrary('data', library);\n        const descriptor = normalizedDataSource(data);\n        const { transform: T = [] } = descriptor, connector = __rest(descriptor, [\"transform\"]);\n        const transform = [connector, ...T];\n        const transformFunctions = transform.map((t) => useData(t, context));\n        const transformedData = yield composeAsync(transformFunctions)(data);\n        // Maintain the consistency of shape between input and output data.\n        // If the shape of raw data is like { value: any }\n        // and the returned transformedData is Object,\n        // returns the wrapped data: { value: transformedData },\n        // otherwise returns the processed tabular data.\n        const newData = data && !Array.isArray(data) && !Array.isArray(transformedData)\n            ? { value: transformedData }\n            : transformedData;\n        return [\n            Array.isArray(transformedData) ? indexOf(transformedData) : [],\n            Object.assign(Object.assign({}, mark), { data: newData }),\n        ];\n    });\n}\nexport function flatEncode(I, mark, context) {\n    const { encode } = mark;\n    if (!encode)\n        return [I, mark];\n    const flattenEncode = {};\n    for (const [key, value] of Object.entries(encode)) {\n        if (Array.isArray(value)) {\n            for (let i = 0; i < value.length; i++) {\n                const name = `${key}${i === 0 ? '' : i}`;\n                flattenEncode[name] = value[i];\n            }\n        }\n        else {\n            flattenEncode[key] = value;\n        }\n    }\n    return [I, Object.assign(Object.assign({}, mark), { encode: flattenEncode })];\n}\nexport function inferChannelsType(I, mark, context) {\n    const { encode, data } = mark;\n    if (!encode)\n        return [I, mark];\n    const typedEncode = mapObject(encode, (channel) => {\n        if (isTypedChannel(channel))\n            return channel;\n        const type = inferChannelType(data, channel);\n        return { type, value: channel };\n    });\n    return [I, Object.assign(Object.assign({}, mark), { encode: typedEncode })];\n}\nexport function maybeVisualChannel(I, mark, context) {\n    const { encode } = mark;\n    if (!encode)\n        return [I, mark];\n    const newEncode = mapObject(encode, (channel, name) => {\n        const { type } = channel;\n        if (type !== 'constant' || isPosition(name))\n            return channel;\n        return Object.assign(Object.assign({}, channel), { constant: true });\n    });\n    return [I, Object.assign(Object.assign({}, mark), { encode: newEncode })];\n}\nexport function extractColumns(I, mark, context) {\n    const { encode, data } = mark;\n    if (!encode)\n        return [I, mark];\n    const { library } = context;\n    const columnOf = createColumnOf(library);\n    const valuedEncode = mapObject(encode, (channel) => columnOf(data, channel));\n    return [I, Object.assign(Object.assign({}, mark), { encode: valuedEncode })];\n}\n/**\n * Normalize mark.tooltip to {title, items}.\n */\nexport function normalizeTooltip(I, mark, context) {\n    const { tooltip = {} } = mark;\n    if (isUnset(tooltip))\n        return [I, mark];\n    if (Array.isArray(tooltip)) {\n        return [I, Object.assign(Object.assign({}, mark), { tooltip: { items: tooltip } })];\n    }\n    if (isStrictObject(tooltip) && isFullTooltip(tooltip)) {\n        return [I, Object.assign(Object.assign({}, mark), { tooltip })];\n    }\n    return [I, Object.assign(Object.assign({}, mark), { tooltip: { items: [tooltip] } })];\n}\nexport function extractTooltip(I, mark, context) {\n    const { data, encode, tooltip = {} } = mark;\n    if (isUnset(tooltip))\n        return [I, mark];\n    const valueOf = (item) => {\n        if (!item)\n            return item;\n        if (typeof item === 'string') {\n            return I.map((i) => ({ name: item, value: data[i][item] }));\n        }\n        if (isStrictObject(item)) {\n            const { field, channel, color, name = field, valueFormatter = (d) => d, } = item;\n            // Support d3-format.\n            const normalizedValueFormatter = typeof valueFormatter === 'string'\n                ? format(valueFormatter)\n                : valueFormatter;\n            // Field name.\n            const definedChannel = channel && encode[channel];\n            const channelField = definedChannel && encode[channel].field;\n            const name1 = name || channelField || channel;\n            const values = [];\n            for (const i of I) {\n                const value1 = field\n                    ? data[i][field]\n                    : definedChannel\n                        ? encode[channel].value[i]\n                        : null;\n                values[i] = {\n                    name: name1,\n                    color,\n                    value: normalizedValueFormatter(value1),\n                };\n            }\n            return values;\n        }\n        if (typeof item === 'function') {\n            const values = [];\n            for (const i of I) {\n                const v = item(data[i], i, data, encode);\n                if (isStrictObject(v))\n                    values[i] = v;\n                else\n                    values[i] = { value: v };\n            }\n            return values;\n        }\n        return item;\n    };\n    const { title, items = [] } = tooltip, rest = __rest(tooltip, [\"title\", \"items\"]);\n    const newTooltip = Object.assign({ title: valueOf(title), items: Array.isArray(items) ? items.map(valueOf) : [] }, rest);\n    return [I, Object.assign(Object.assign({}, mark), { tooltip: newTooltip })];\n}\nexport function maybeArrayField(I, mark, context) {\n    const { encode } = mark, rest = __rest(mark, [\"encode\"]);\n    if (!encode)\n        return [I, mark];\n    const columns = Object.entries(encode);\n    const arrayColumns = columns\n        .filter(([, channel]) => {\n        const { value: V } = channel;\n        return Array.isArray(V[0]);\n    })\n        .flatMap(([key, V]) => {\n        const columns = [[key, new Array(I.length).fill(undefined)]];\n        const { value: rows } = V, rest = __rest(V, [\"value\"]);\n        for (let i = 0; i < rows.length; i++) {\n            const row = rows[i];\n            if (Array.isArray(row)) {\n                for (let j = 0; j < row.length; j++) {\n                    const column = columns[j] || [\n                        `${key}${j}`,\n                        new Array(I).fill(undefined),\n                    ];\n                    column[1][i] = row[j];\n                    columns[j] = column;\n                }\n            }\n        }\n        return columns.map(([key, value]) => [\n            key,\n            Object.assign({ type: 'column', value }, rest),\n        ]);\n    });\n    const newEncode = Object.fromEntries([...columns, ...arrayColumns]);\n    return [I, Object.assign(Object.assign({}, rest), { encode: newEncode })];\n}\nexport function addGuideToScale(I, mark, context) {\n    const { axis = {}, legend = {}, slider = {}, scrollbar = {} } = mark;\n    const normalize = (guide, channel) => {\n        if (typeof guide === 'boolean')\n            return guide ? {} : null;\n        const eachGuide = guide[channel];\n        return eachGuide === undefined || eachGuide ? eachGuide : null;\n    };\n    const axisChannels = typeof axis === 'object'\n        ? Array.from(new Set(['x', 'y', 'z', ...Object.keys(axis)]))\n        : ['x', 'y', 'z'];\n    deepMix(mark, {\n        scale: Object.assign(Object.assign({}, Object.fromEntries(axisChannels.map((channel) => {\n            const scrollbarOptions = normalize(scrollbar, channel);\n            return [\n                channel,\n                Object.assign({ guide: normalize(axis, channel), slider: normalize(slider, channel), scrollbar: scrollbarOptions }, (scrollbarOptions && {\n                    ratio: scrollbarOptions.ratio === undefined\n                        ? 0.5\n                        : scrollbarOptions.ratio,\n                })),\n            ];\n        }))), { color: { guide: normalize(legend, 'color') }, size: { guide: normalize(legend, 'size') }, shape: { guide: normalize(legend, 'shape') }, \n            // fixme: opacity is conflict with DisplayObject.opacity\n            // to be confirm.\n            opacity: { guide: normalize(legend, 'opacity') } }),\n    });\n    return [I, mark];\n}\nexport function maybeNonAnimate(I, mark, context) {\n    const { animate } = mark;\n    if (animate || animate === undefined)\n        return [I, mark];\n    deepMix(mark, {\n        animate: {\n            enter: { type: null },\n            exit: { type: null },\n            update: { type: null },\n        },\n    });\n    return [I, mark];\n}\nfunction isTypedChannel(channel) {\n    if (typeof channel !== 'object' ||\n        channel instanceof Date ||\n        channel === null) {\n        return false;\n    }\n    const { type } = channel;\n    return defined(type);\n}\nfunction inferChannelType(data, channel) {\n    if (typeof channel === 'function')\n        return 'transform';\n    if (typeof channel === 'string' && isField(data, channel))\n        return 'field';\n    return 'constant';\n}\nfunction isField(data, value) {\n    if (!Array.isArray(data))\n        return false;\n    return data.some((d) => d[value] !== undefined);\n}\nfunction normalizedDataSource(data) {\n    // Liquid、Gauge need number data.\n    if (isNumber(data))\n        return { type: 'inline', value: data };\n    // Return null as a placeholder.\n    if (!data)\n        return { type: 'inline', value: null };\n    if (Array.isArray(data))\n        return { type: 'inline', value: data };\n    const { type = 'inline' } = data, rest = __rest(data, [\"type\"]);\n    return Object.assign(Object.assign({}, rest), { type });\n}\n//# sourceMappingURL=transform.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { rollups } from 'd3-array';\nimport { defined } from '../utils/helper';\nimport { useLibrary } from './library';\nimport { applyDefaults, applyDataTransform, extractColumns, flatEncode, inferChannelsType, maybeArrayField, maybeVisualChannel, addGuideToScale, maybeNonAnimate, normalizeTooltip, extractTooltip, } from './transform';\nexport function initializeMark(partialMark, partialProps, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // Apply transform to mark to derive indices, data, encode, etc,.\n        const [I, transformedMark] = yield applyMarkTransform(partialMark, partialProps, context);\n        const { encode, scale, data, tooltip } = transformedMark;\n        // Skip mark with non-tabular data. Do not skip empty\n        // data, they are useful for facet to display axes.\n        if (Array.isArray(data) === false) {\n            return null;\n        }\n        // Group non-independent channels with same prefix, such as x1, x2 => x.\n        // For independent channels, dot not group them, such as position1, position2.\n        const { channels: channelDescriptors } = partialProps;\n        const nameChannels = rollups(Object.entries(encode).filter(([, value]) => defined(value)), (values) => values.map(([key, options]) => (Object.assign({ name: key }, options))), ([key]) => {\n            var _a;\n            const prefix = (_a = /([^\\d]+)\\d*$/.exec(key)) === null || _a === void 0 ? void 0 : _a[1];\n            const descriptor = channelDescriptors.find((d) => d.name === prefix);\n            if (descriptor === null || descriptor === void 0 ? void 0 : descriptor.independent)\n                return key;\n            return prefix;\n        });\n        // Check required channels and initialize scale options for each channel.\n        const channels = channelDescriptors\n            .filter((descriptor) => {\n            const { name, required } = descriptor;\n            if (nameChannels.find(([d]) => d === name))\n                return true;\n            if (required)\n                throw new Error(`Missing encoding for channel: ${name}.`);\n            return false;\n        })\n            .flatMap((descriptor) => {\n            const { name, scale: scaleType, scaleKey, range, quantitative, ordinal, } = descriptor;\n            const valuesArray = nameChannels.filter(([channel]) => channel.startsWith(name));\n            return valuesArray.map(([channel, values], i) => {\n                const visual = values.some((d) => d.visual);\n                const constant = values.some((d) => d.constant);\n                const _a = scale[channel] || {}, { independent = false, \n                // Use channel name as default scale key.\n                key = scaleKey || channel, \n                // Visual channel use identity scale.\n                type = constant ? 'constant' : visual ? 'identity' : scaleType } = _a, scaleOptions = __rest(_a, [\"independent\", \"key\", \"type\"]);\n                // For constant scale, infer range from data.\n                const isConstant = type === 'constant';\n                const finalRange = isConstant ? undefined : range;\n                return {\n                    name: channel,\n                    values,\n                    // Generate a unique key for independent channel,\n                    // which will not group with any other channels.\n                    scaleKey: independent || isConstant ? Symbol('independent') : key,\n                    scale: Object.assign(Object.assign({ type, range: finalRange }, scaleOptions), { quantitative,\n                        ordinal }),\n                };\n            });\n        });\n        return [transformedMark, Object.assign(Object.assign({}, partialProps), { index: I, channels, tooltip })];\n    });\n}\nexport function createColumnOf(library) {\n    const [useEncode] = useLibrary('encode', library);\n    return (data, encode) => {\n        if (encode === undefined)\n            return null;\n        if (data === undefined)\n            return null;\n        return Object.assign(Object.assign({}, encode), { type: 'column', value: useEncode(encode)(data), field: fieldOf(encode) });\n    };\n}\nfunction applyMarkTransform(mark, props, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const [useTransform] = useLibrary('transform', library);\n        const { preInference = [], postInference = [] } = props;\n        const { transform = [] } = mark;\n        const transforms = [\n            applyDefaults,\n            applyDataTransform,\n            flatEncode,\n            inferChannelsType,\n            maybeVisualChannel,\n            extractColumns,\n            maybeArrayField,\n            maybeNonAnimate,\n            addGuideToScale,\n            normalizeTooltip,\n            ...preInference.map(useTransform),\n            ...transform.map(useTransform),\n            ...postInference.map(useTransform),\n            extractTooltip,\n        ];\n        let index = [];\n        let transformedMark = mark;\n        for (const t of transforms) {\n            [index, transformedMark] = yield t(index, transformedMark, context);\n        }\n        return [index, transformedMark];\n    });\n}\nfunction fieldOf(encode) {\n    const { type, value } = encode;\n    if (type === 'field' && typeof value === 'string')\n        return value;\n    return null;\n}\n//# sourceMappingURL=mark.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Rect } from '@antv/g';\nimport { deepMix, upperFirst, isArray } from '@antv/util';\nimport { group, groups } from 'd3-array';\nimport { format } from 'd3-format';\nimport { mapObject } from '../utils/array';\nimport { ChartEvent } from '../utils/event';\nimport { isStrictObject, appendTransform, compose, copyAttributes, defined, error, maybeSubObject, subObject, useMemo, } from '../utils/helper';\nimport { select, Selection } from '../utils/selection';\nimport { groupComponents, inferComponent, normalizeComponents, renderComponent, } from './component';\nimport { AREA_CLASS_NAME, COMPONENT_CLASS_NAME, ELEMENT_CLASS_NAME, LABEL_CLASS_NAME, LABEL_LAYER_CLASS_NAME, MAIN_LAYER_CLASS_NAME, PLOT_CLASS_NAME, VIEW_CLASS_NAME, } from './constant';\nimport { coordinate2Transform, createCoordinate } from './coordinate';\nimport { computeLayout, computeRoughPlotSize, placeComponents, processAxisZ, } from './layout';\nimport { documentOf, useLibrary } from './library';\nimport { initializeMark } from './mark';\nimport { applyScale, assignScale, collectScales, inferScale, syncFacetsScales, useRelationScale, groupTransform, } from './scale';\nimport { applyDataTransform } from './transform';\nexport function plot(options, selection, context) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const [useComposition] = useLibrary('composition', library);\n        const [useInteraction] = useLibrary('interaction', library);\n        // Some helper functions.\n        const marks = new Set(Object.keys(library)\n            .map((d) => { var _a; return (_a = /mark\\.(.*)/.exec(d)) === null || _a === void 0 ? void 0 : _a[1]; })\n            .filter(defined));\n        const staticMarks = new Set(Object.keys(library)\n            .map((d) => { var _a; return (_a = /component\\.(.*)/.exec(d)) === null || _a === void 0 ? void 0 : _a[1]; })\n            .filter(defined));\n        const typeOf = (node) => {\n            const { type } = node;\n            if (typeof type === 'function') {\n                // @ts-ignore\n                const { props = {} } = type;\n                const { composite = true } = props;\n                if (composite)\n                    return 'mark';\n            }\n            if (typeof type !== 'string')\n                return type;\n            if (marks.has(type) || staticMarks.has(type))\n                return 'mark';\n            return type;\n        };\n        const isMark = (node) => typeOf(node) === 'mark';\n        const isStandardView = (node) => typeOf(node) === 'standardView';\n        const isStaticMark = (node) => {\n            const { type } = node;\n            if (typeof type !== 'string')\n                return false;\n            if (staticMarks.has(type))\n                return true;\n            return false;\n        };\n        const transform = (node) => {\n            if (isStandardView(node))\n                return [node];\n            const type = typeOf(node);\n            const composition = useComposition({ type, static: isStaticMark(node) });\n            return composition(node);\n        };\n        // Some temporary variables help parse the view tree.\n        const views = [];\n        const viewNode = new Map();\n        const nodeState = new Map();\n        const discovered = [options];\n        const nodeGenerators = [];\n        while (discovered.length) {\n            const node = discovered.shift();\n            if (isStandardView(node)) {\n                // Initialize view to get data to be visualized. If the marks\n                // of the view have already been initialized (facet view),\n                // initialize the view based on the initialized mark states,\n                // otherwise initialize it from beginning.\n                const state = nodeState.get(node);\n                const [view, children] = state\n                    ? initializeState(state, node, library)\n                    : yield initializeView(node, context);\n                viewNode.set(view, node);\n                views.push(view);\n                // Transform children, they will be transformed into\n                // standardView if they are mark or view node.\n                const transformedNodes = children\n                    .flatMap(transform)\n                    .map((d) => coordinate2Transform(d, library));\n                discovered.push(...transformedNodes);\n                // Only StandardView can be treated as facet and it\n                // should sync position scales among facets normally.\n                if (transformedNodes.every(isStandardView)) {\n                    const states = yield Promise.all(transformedNodes.map((d) => initializeMarks(d, context)));\n                    // Note!!!\n                    // This will mutate scales for marks.\n                    syncFacetsScales(states);\n                    for (let i = 0; i < transformedNodes.length; i++) {\n                        const nodeT = transformedNodes[i];\n                        const state = states[i];\n                        nodeState.set(nodeT, state);\n                    }\n                }\n            }\n            else {\n                // Apply transform to get data in advance for non-mark composition\n                // node, which makes sure that composition node can preprocess the\n                // data to produce more nodes based on it.\n                const n = isMark(node) ? node : yield applyTransform(node, context);\n                const N = transform(n);\n                if (Array.isArray(N))\n                    discovered.push(...N);\n                else if (typeof N === 'function')\n                    nodeGenerators.push(N());\n            }\n        }\n        context.emitter.emit(ChartEvent.BEFORE_PAINT);\n        // Plot chart.\n        const enterContainer = new Map();\n        const updateContainer = new Map();\n        const transitions = [];\n        selection\n            .selectAll(className(VIEW_CLASS_NAME))\n            .data(views, (d) => d.key)\n            .join((enter) => enter\n            .append('g')\n            .attr('className', VIEW_CLASS_NAME)\n            .attr('id', (view) => view.key)\n            .call(applyTranslate)\n            .each(function (view, i, element) {\n            plotView(view, select(element), transitions, context);\n            enterContainer.set(view, element);\n        }), (update) => update.call(applyTranslate).each(function (view, i, element) {\n            plotView(view, select(element), transitions, context);\n            updateContainer.set(view, element);\n        }), (exit) => exit\n            .each(function (d, i, element) {\n            // Remove existed interactions.\n            const interactions = element['nameInteraction'].values();\n            for (const interaction of interactions) {\n                interaction.destroy();\n            }\n        })\n            .remove());\n        // Apply interactions.\n        const viewInstanceof = (viewContainer, updateInteractions, oldStore) => {\n            return Array.from(viewContainer.entries()).map(([view, container]) => {\n                // Index state by component or interaction name,\n                // such as legend, scrollbar, brushFilter.\n                // Each state transform options to another options.\n                const store = oldStore || new Map();\n                const setState = (key, reducer = (x) => x) => store.set(key, reducer);\n                const options = viewNode.get(view);\n                const update = createUpdateView(select(container), options, context);\n                return {\n                    view,\n                    container,\n                    options,\n                    setState,\n                    update: (from, updateTypes) => __awaiter(this, void 0, void 0, function* () {\n                        // Apply all state functions to get new options.\n                        const reducer = compose(Array.from(store.values()));\n                        const newOptions = reducer(options);\n                        return yield update(newOptions, from, () => {\n                            if (isArray(updateTypes)) {\n                                updateInteractions(viewContainer, updateTypes, store);\n                            }\n                        });\n                    }),\n                };\n            });\n        };\n        const updateInteractions = (container = updateContainer, updateType, oldStore) => {\n            var _a;\n            // Interactions for update views.\n            const updateViewInstances = viewInstanceof(container, updateInteractions, oldStore);\n            for (const target of updateViewInstances) {\n                const { options, container } = target;\n                const nameInteraction = container['nameInteraction'];\n                let typeOptions = inferInteraction(options);\n                if (updateType) {\n                    typeOptions = typeOptions.filter((v) => updateType.includes(v[0]));\n                }\n                for (const typeOption of typeOptions) {\n                    const [type, option] = typeOption;\n                    // Remove interaction for existed views.\n                    const prevInteraction = nameInteraction.get(type);\n                    if (prevInteraction)\n                        (_a = prevInteraction.destroy) === null || _a === void 0 ? void 0 : _a.call(prevInteraction);\n                    // Apply new interaction.\n                    if (option) {\n                        const interaction = useThemeInteraction(target.view, type, option, useInteraction);\n                        const destroy = interaction(target, updateViewInstances, context.emitter);\n                        nameInteraction.set(type, { destroy });\n                    }\n                }\n            }\n        };\n        // Interactions for enter views.\n        const enterViewInstances = viewInstanceof(enterContainer, updateInteractions);\n        for (const target of enterViewInstances) {\n            const { options } = target;\n            // A Map index interaction by interaction name.\n            const nameInteraction = new Map();\n            target.container['nameInteraction'] = nameInteraction;\n            // Apply interactions.\n            for (const typeOption of inferInteraction(options)) {\n                const [type, option] = typeOption;\n                if (option) {\n                    const interaction = useThemeInteraction(target.view, type, option, useInteraction);\n                    const destroy = interaction(target, enterViewInstances, context.emitter);\n                    nameInteraction.set(type, { destroy });\n                }\n            }\n        }\n        updateInteractions();\n        // Author animations.\n        const { width, height } = options;\n        const keyframes = [];\n        for (const nodeGenerator of nodeGenerators) {\n            // Delay the rendering of animation keyframe. Different animation\n            // created by different nodeGenerator will play in the same time.\n            // eslint-disable-next-line no-async-promise-executor\n            const keyframe = new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                for (const node of nodeGenerator) {\n                    const sizedNode = Object.assign({ width, height }, node);\n                    yield plot(sizedNode, selection, context);\n                }\n                resolve();\n            }));\n            keyframes.push(keyframe);\n        }\n        context.views = views;\n        // Clear and update animation.\n        (_a = context.animations) === null || _a === void 0 ? void 0 : _a.forEach((animation) => animation === null || animation === void 0 ? void 0 : animation.cancel());\n        context.animations = transitions;\n        context.emitter.emit(ChartEvent.AFTER_PAINT);\n        // Note!!!\n        // The returned promise will never resolved if one of nodeGenerator\n        // never stop to yield node, which may created by a keyframe composition\n        // with iteration count set to infinite.\n        const finished = transitions\n            .filter(defined)\n            .map(cancel)\n            .map((d) => d.finished);\n        return Promise.all([...finished, ...keyframes]);\n    });\n}\nfunction applyTranslate(selection) {\n    selection.style('transform', (d) => `translate(${d.layout.x}, ${d.layout.y})`);\n}\nfunction definedInteraction(library) {\n    const [, createInteraction] = useLibrary('interaction', library);\n    return (d) => {\n        const [name, options] = d;\n        try {\n            return [name, createInteraction(name)];\n        }\n        catch (_a) {\n            return [name, options.type];\n        }\n    };\n}\nfunction createUpdateView(selection, options, context) {\n    const { library } = context;\n    const createDefinedInteraction = definedInteraction(library);\n    const filter = (d) => d[1] && d[1].props && d[1].props.reapplyWhenUpdate;\n    const interactions = inferInteraction(options);\n    const updates = interactions\n        .map(createDefinedInteraction)\n        .filter(filter)\n        .map((d) => d[0]);\n    return (newOptions, source, callback) => __awaiter(this, void 0, void 0, function* () {\n        const transitions = [];\n        const [newView, newChildren] = yield initializeView(newOptions, context);\n        plotView(newView, selection, transitions, context);\n        // Update interaction need to reapply when update.\n        for (const name of updates.filter((d) => d !== source)) {\n            updateInteraction(name, selection, newOptions, newView, context);\n        }\n        for (const child of newChildren) {\n            plot(child, selection, context);\n        }\n        callback();\n        return { options: newOptions, view: newView };\n    });\n}\nfunction updateInteraction(name, selection, options, view, context) {\n    var _a;\n    const { library } = context;\n    const [useInteraction] = useLibrary('interaction', library);\n    // Instances for interaction.\n    const container = selection.node();\n    const nameInteraction = container['nameInteraction'];\n    const interactionOptions = inferInteraction(options).find(([d]) => d === name);\n    // Destroy older interaction.\n    const interaction = nameInteraction.get(name);\n    if (!interaction)\n        return;\n    (_a = interaction.destroy) === null || _a === void 0 ? void 0 : _a.call(interaction);\n    if (!interactionOptions[1])\n        return;\n    // Apply new interaction.\n    const applyInteraction = useThemeInteraction(view, name, interactionOptions[1], useInteraction);\n    const target = {\n        options,\n        view,\n        container: selection.node(),\n        update: (options) => Promise.resolve(options),\n    };\n    const destroy = applyInteraction(target, [], context.emitter);\n    nameInteraction.set(name, { destroy });\n}\nfunction initializeView(options, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const flattenOptions = yield transformMarks(options, context);\n        const mergedOptions = bubbleOptions(flattenOptions);\n        // @todo Remove this.\n        // !!! NOTE: Mute original view options.\n        // Update interaction and coordinate for this view.\n        options.interaction = mergedOptions.interaction;\n        options.coordinate = mergedOptions.coordinate;\n        // @ts-ignore\n        options.marks = [...mergedOptions.marks, ...mergedOptions.components];\n        const transformedOptions = coordinate2Transform(mergedOptions, library);\n        const state = yield initializeMarks(transformedOptions, context);\n        return initializeState(state, transformedOptions, library);\n    });\n}\nfunction bubbleOptions(options) {\n    const { coordinate: viewCoordinate = {}, interaction: viewInteraction = {}, style: viewStyle = {}, marks } = options, rest = __rest(options, [\"coordinate\", \"interaction\", \"style\", \"marks\"]);\n    const markCoordinates = marks.map((d) => d.coordinate || {});\n    const markInteractions = marks.map((d) => d.interaction || {});\n    const markViewStyles = marks.map((d) => d.viewStyle || {});\n    const newCoordinate = [...markCoordinates, viewCoordinate].reduceRight((prev, cur) => deepMix(prev, cur), {});\n    const newInteraction = [viewInteraction, ...markInteractions].reduce((prev, cur) => deepMix(prev, cur), {});\n    const newStyle = [...markViewStyles, viewStyle].reduce((prev, cur) => deepMix(prev, cur), {});\n    return Object.assign(Object.assign({}, rest), { marks, coordinate: newCoordinate, interaction: newInteraction, style: newStyle });\n}\nfunction transformMarks(options, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const [useMark, createMark] = useLibrary('mark', library);\n        const staticMarks = new Set(Object.keys(library)\n            .map((d) => { var _a; return (_a = /component\\.(.*)/.exec(d)) === null || _a === void 0 ? void 0 : _a[1]; })\n            .filter(defined));\n        const { marks } = options;\n        const flattenMarks = [];\n        const components = [];\n        const discovered = [...marks];\n        const { width, height } = computeRoughPlotSize(options);\n        const markOptions = { options, width, height };\n        // Pre order traversal.\n        while (discovered.length) {\n            const [node] = discovered.splice(0, 1);\n            // Apply data transform to get data.\n            const mark = (yield applyTransform(node, context));\n            const { type = error('G2Mark type is required.'), key } = mark;\n            // For components.\n            if (staticMarks.has(type))\n                components.push(mark);\n            else {\n                const { props = {} } = createMark(type);\n                const { composite = true } = props;\n                if (!composite)\n                    flattenMarks.push(mark);\n                else {\n                    // Unwrap data from { value: data } to data,\n                    // then the composite mark can process the normalized data.\n                    const { data } = mark;\n                    const newMark = Object.assign(Object.assign({}, mark), { data: data ? (Array.isArray(data) ? data : data.value) : data });\n                    // Convert composite mark to marks.\n                    const marks = yield useMark(newMark, markOptions);\n                    const M = Array.isArray(marks) ? marks : [marks];\n                    discovered.unshift(...M.map((d, i) => (Object.assign(Object.assign({}, d), { key: `${key}-${i}` }))));\n                }\n            }\n        }\n        return Object.assign(Object.assign({}, options), { marks: flattenMarks, components });\n    });\n}\nfunction initializeMarks(options, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const [useTheme] = useLibrary('theme', library);\n        const [, createMark] = useLibrary('mark', library);\n        const { theme: partialTheme, marks: partialMarks, coordinates = [], } = options;\n        const theme = useTheme(inferTheme(partialTheme));\n        const markState = new Map();\n        // Initialize channels for marks.\n        for (const markOptions of partialMarks) {\n            const { type } = markOptions;\n            const { props = {} } = createMark(type);\n            const markAndState = yield initializeMark(markOptions, props, context);\n            if (markAndState) {\n                const [initializedMark, state] = markAndState;\n                markState.set(initializedMark, state);\n            }\n        }\n        // Group channels by scale key, each group has scale.\n        const scaleChannels = group(Array.from(markState.values()).flatMap((d) => d.channels), ({ scaleKey }) => scaleKey);\n        // Infer scale for each channel groups.\n        for (const channels of scaleChannels.values()) {\n            // Merge scale options for these channels.\n            const scaleOptions = channels.reduce((total, { scale }) => deepMix(total, scale), {});\n            const { scaleKey } = channels[0];\n            // Use the fields of the first channel as the title.\n            const { values: FV } = channels[0];\n            const fields = Array.from(new Set(FV.map((d) => d.field).filter(defined)));\n            const options = deepMix({\n                guide: { title: fields.length === 0 ? undefined : fields },\n                field: fields[0],\n            }, scaleOptions);\n            // Use the name of the first channel as the scale name.\n            const { name } = channels[0];\n            const values = channels.flatMap(({ values }) => values.map((d) => d.value));\n            const scale = Object.assign(Object.assign({}, inferScale(name, values, options, coordinates, theme, library)), { uid: Symbol('scale'), key: scaleKey });\n            channels.forEach((channel) => (channel.scale = scale));\n        }\n        return markState;\n    });\n}\nfunction useThemeInteraction(view, type, option, useInteraction) {\n    const theme = view.theme;\n    const defaults = typeof type === 'string' ? theme[type] || {} : {};\n    const interaction = useInteraction(deepMix(defaults, Object.assign({ type }, option)));\n    return interaction;\n}\nfunction initializeState(markState, options, library) {\n    var _a;\n    const [useMark] = useLibrary('mark', library);\n    const [useTheme] = useLibrary('theme', library);\n    const [useLabelTransform] = useLibrary('labelTransform', library);\n    const { key, frame = false, theme: partialTheme, clip, style = {}, labelTransform = [], } = options;\n    const theme = useTheme(inferTheme(partialTheme));\n    // Infer components and compute layout.\n    const states = Array.from(markState.values());\n    const scales = collectScales(states, options);\n    const components = normalizeComponents(inferComponent(inferComponentScales(Array.from(scales), states, markState), options, library));\n    const layout = computeLayout(components, options, theme, library);\n    const coordinate = createCoordinate(layout, options, library);\n    const framedStyle = frame\n        ? deepMix({ mainLineWidth: 1, mainStroke: '#000' }, style)\n        : style;\n    // Place components and mutate their bbox.\n    placeComponents(groupComponents(components), coordinate, layout);\n    // AxisZ need a copy of axisX and axisY to show grids in X-Z & Y-Z planes.\n    processAxisZ(components);\n    // Index scale instance by uid.\n    const uidScale = new Map(Array.from(markState.values()).flatMap((state) => {\n        const { channels } = state;\n        return channels.map(({ scale }) => [\n            scale.uid,\n            useRelationScale(scale, library),\n        ]);\n    }));\n    groupTransform(markState, uidScale);\n    // Scale from marks and components.\n    const scaleInstance = {};\n    // Initialize scale from components.\n    for (const component of components) {\n        const { scales: scaleDescriptors = [] } = component;\n        const scales = [];\n        for (const descriptor of scaleDescriptors) {\n            const { name, uid } = descriptor;\n            const scale = (_a = uidScale.get(uid)) !== null && _a !== void 0 ? _a : useRelationScale(descriptor, library);\n            scales.push(scale);\n            // Delivery the scale of axisX to the AxisY,\n            // in order to calculate the angle of axisY component when rendering radar chart.\n            if (name === 'y') {\n                scale.update(Object.assign(Object.assign({}, scale.getOptions()), { xScale: scaleInstance.x }));\n            }\n            assignScale(scaleInstance, { [name]: scale });\n        }\n        component.scaleInstances = scales;\n    }\n    // Calc data to be rendered for each mark.\n    // @todo More readable APIs for Container which stays\n    // the same style with JS standard and lodash APIs.\n    // @todo More proper way to index scale for different marks.\n    const children = [];\n    for (const [mark, state] of markState.entries()) {\n        const { \n        // scale,\n        // Callback to create children options based on this mark.\n        children: createChildren, \n        // The total count of data (both show and hide)for this facet.\n        // This is for unit visualization to sync data domain.\n        dataDomain, modifier, key: markKey, } = mark;\n        const { index, channels, tooltip } = state;\n        const scale = Object.fromEntries(channels.map(({ name, scale }) => [name, scale]));\n        // Transform abstract value to visual value by scales.\n        const markScaleInstance = mapObject(scale, ({ uid }) => uidScale.get(uid));\n        assignScale(scaleInstance, markScaleInstance);\n        const value = applyScale(channels, markScaleInstance);\n        // Calc points and transformation for each data,\n        // and then transform visual value to visual data.\n        const calcPoints = useMark(mark);\n        const [I, P, S] = filterValid(calcPoints(index, markScaleInstance, value, coordinate));\n        const count = dataDomain || I.length;\n        const T = modifier ? modifier(P, count, layout) : [];\n        const titleOf = (i) => { var _a, _b; return (_b = (_a = tooltip.title) === null || _a === void 0 ? void 0 : _a[i]) === null || _b === void 0 ? void 0 : _b.value; };\n        const itemsOf = (i) => tooltip.items.map((V) => V[i]);\n        const visualData = I.map((d, i) => {\n            const datum = Object.assign({ points: P[i], transform: T[i], index: d, markKey, viewKey: key }, (tooltip && {\n                title: titleOf(d),\n                items: itemsOf(d),\n            }));\n            for (const [k, V] of Object.entries(value)) {\n                datum[k] = V[d];\n                if (S)\n                    datum[`series${upperFirst(k)}`] = S[i].map((i) => V[i]);\n            }\n            if (S)\n                datum['seriesIndex'] = S[i];\n            if (S && tooltip) {\n                datum['seriesItems'] = S[i].map((si) => itemsOf(si));\n                datum['seriesTitle'] = S[i].map((si) => titleOf(si));\n            }\n            return datum;\n        });\n        state.data = visualData;\n        state.index = I;\n        // Create children options by children callback,\n        // and then propagate data to each child.\n        const markChildren = createChildren === null || createChildren === void 0 ? void 0 : createChildren(visualData, markScaleInstance, layout);\n        children.push(...(markChildren || []));\n    }\n    const view = {\n        layout,\n        theme,\n        coordinate,\n        markState,\n        key,\n        clip,\n        scale: scaleInstance,\n        style: framedStyle,\n        components,\n        labelTransform: compose(labelTransform.map(useLabelTransform)),\n    };\n    return [view, children];\n}\nfunction plotView(view, selection, transitions, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const { components, theme, layout, markState, coordinate, key, style, clip, scale, } = view;\n        // Render background for the different areas.\n        const { x, y, width, height } = layout, rest = __rest(layout, [\"x\", \"y\", \"width\", \"height\"]);\n        const areaKeys = ['view', 'plot', 'main', 'content'];\n        const I = areaKeys.map((_, i) => i);\n        const sizeKeys = ['a', 'margin', 'padding', 'inset'];\n        const areaStyles = areaKeys.map((d) => maybeSubObject(Object.assign({}, theme.view, style), d));\n        const areaSizes = sizeKeys.map((d) => subObject(rest, d));\n        const styleArea = (selection) => selection\n            .style('x', (i) => areaLayouts[i].x)\n            .style('y', (i) => areaLayouts[i].y)\n            .style('width', (i) => areaLayouts[i].width)\n            .style('height', (i) => areaLayouts[i].height)\n            .each(function (i, d, element) {\n            applyStyle(select(element), areaStyles[i]);\n        });\n        let px = 0;\n        let py = 0;\n        let pw = width;\n        let ph = height;\n        const areaLayouts = I.map((i) => {\n            const size = areaSizes[i];\n            const { left = 0, top = 0, bottom = 0, right = 0 } = size;\n            px += left;\n            py += top;\n            pw -= left + right;\n            ph -= top + bottom;\n            return {\n                x: px,\n                y: py,\n                width: pw,\n                height: ph,\n            };\n        });\n        selection\n            .selectAll(className(AREA_CLASS_NAME))\n            .data(\n        // Only render area with defined style.\n        I.filter((i) => defined(areaStyles[i])), (i) => areaKeys[i])\n            .join((enter) => enter\n            .append('rect')\n            .attr('className', AREA_CLASS_NAME)\n            .style('zIndex', -2)\n            .call(styleArea), (update) => update.call(styleArea), (exit) => exit.remove());\n        const animationExtent = computeAnimationExtent(markState);\n        const componentAnimateOptions = animationExtent\n            ? { duration: animationExtent[1] }\n            : false;\n        // Render components.\n        // @todo renderComponent return ctor and options.\n        // Key for each type of component.\n        // Index them grouped by position.\n        for (const [, C] of groups(components, (d) => `${d.type}-${d.position}`)) {\n            C.forEach((d, i) => (d.index = i));\n        }\n        const componentsTransitions = selection\n            .selectAll(className(COMPONENT_CLASS_NAME))\n            .data(components, (d) => `${d.type}-${d.position}-${d.index}`)\n            .join((enter) => enter\n            .append('g')\n            .style('zIndex', ({ zIndex }) => zIndex || -1)\n            .attr('className', COMPONENT_CLASS_NAME)\n            .append((options) => renderComponent(deepMix({ animate: componentAnimateOptions, scale }, options), coordinate, theme, library, markState)), (update) => update.transition(function (options, i, element) {\n            const { preserve = false } = options;\n            if (preserve)\n                return;\n            const newComponent = renderComponent(deepMix({ animate: componentAnimateOptions, scale }, options), coordinate, theme, library, markState);\n            const { attributes } = newComponent;\n            const [node] = element.childNodes;\n            return node.update(attributes, false);\n        }))\n            .transitions();\n        transitions.push(...componentsTransitions.flat().filter(defined));\n        // Main layer is for showing the main visual representation such as marks. There\n        // may be multiple main layers for a view, each main layer correspond to one of marks.\n        // @todo Test DOM structure.\n        const T = selection\n            .selectAll(className(PLOT_CLASS_NAME))\n            .data([layout], () => key)\n            .join((enter) => enter\n            // Make this layer interactive, such as click and mousemove events.\n            .append('rect')\n            .style('zIndex', 0)\n            .style('fill', 'transparent')\n            .attr('className', PLOT_CLASS_NAME)\n            .call(updateBBox)\n            .call(updateLayers, Array.from(markState.keys()))\n            .call(applyClip, clip), (update) => update\n            .call(updateLayers, Array.from(markState.keys()))\n            .call((selection) => {\n            return animationExtent\n                ? animateBBox(selection, animationExtent)\n                : updateBBox(selection);\n        })\n            .call(applyClip, clip))\n            .transitions();\n        transitions.push(...T.flat());\n        // Render marks with corresponding data.\n        for (const [mark, state] of markState.entries()) {\n            const { data } = state;\n            const { key, class: cls, type } = mark;\n            const viewNode = selection.select(`#${key}`);\n            const shapeFunction = createMarkShapeFunction(mark, state, view, context);\n            const enterFunction = createEnterFunction(mark, state, view, library);\n            const updateFunction = createUpdateFunction(mark, state, view, library);\n            const exitFunction = createExitFunction(mark, state, view, library);\n            const facetElements = selectFacetElements(selection, viewNode, cls, 'element');\n            const T = viewNode\n                .selectAll(className(ELEMENT_CLASS_NAME))\n                .selectFacetAll(facetElements)\n                .data(data, (d) => d.key, (d) => d.groupKey)\n                .join((enter) => enter\n                .append(shapeFunction)\n                // Note!!! Only one className can be set.\n                // Using attribute as alternative for other classNames.\n                .attr('className', ELEMENT_CLASS_NAME)\n                .attr('markType', type)\n                .transition(function (data, i, element) {\n                return enterFunction(data, [element]);\n            }), (update) => update.call((selection) => {\n                const parent = selection.parent();\n                const origin = useMemo((node) => {\n                    const [x, y] = node.getBounds().min;\n                    return [x, y];\n                });\n                selection\n                    .transition(function (data, index, element) {\n                    maybeFacetElement(element, parent, origin);\n                    const node = shapeFunction(data, index);\n                    const animation = updateFunction(data, [element], [node]);\n                    if (animation !== null)\n                        return animation;\n                    if (element.nodeName === node.nodeName &&\n                        node.nodeName !== 'g') {\n                        copyAttributes(element, node);\n                    }\n                    else {\n                        element.parentNode.replaceChild(node, element);\n                        node.className = ELEMENT_CLASS_NAME;\n                        // @ts-ignore\n                        node.markType = type;\n                        // @ts-ignore\n                        node.__data__ = element.__data__;\n                    }\n                    return animation;\n                })\n                    .attr('markType', type)\n                    .attr('className', ELEMENT_CLASS_NAME);\n            }), (exit) => {\n                return exit\n                    .each(function (d, i, element) {\n                    element.__removed__ = true;\n                })\n                    .transition(function (data, i, element) {\n                    return exitFunction(data, [element]);\n                })\n                    .remove();\n            }, (merge) => merge\n                // Append elements to be merged.\n                .append(shapeFunction)\n                .attr('className', ELEMENT_CLASS_NAME)\n                .attr('markType', type)\n                .transition(function (data, i, element) {\n                // Remove merged elements after animation finishing.\n                const { __fromElements__: fromElements } = element;\n                const transition = updateFunction(data, fromElements, [element]);\n                const exit = new Selection(fromElements, null, element.parentNode);\n                exit.transition(transition).remove();\n                return transition;\n            }), (split) => split\n                .transition(function (data, i, element) {\n                // Append splitted shapes.\n                const enter = new Selection([], element.__toData__, element.parentNode);\n                const toElements = enter\n                    .append(shapeFunction)\n                    .attr('className', ELEMENT_CLASS_NAME)\n                    .attr('markType', type)\n                    .nodes();\n                return updateFunction(data, [element], toElements);\n            })\n                // Remove elements to be splitted after animation finishing.\n                .remove())\n                .transitions();\n            transitions.push(...T.flat());\n        }\n        // Plot label for this view.\n        plotLabel(view, selection, transitions, library, context);\n    });\n}\n/**\n * Auto hide labels be specify label layout.\n */\nfunction plotLabel(view, selection, transitions, library, context) {\n    const [useLabelTransform] = useLibrary('labelTransform', library);\n    const { markState, labelTransform } = view;\n    const labelLayer = selection.select(className(LABEL_LAYER_CLASS_NAME)).node();\n    // A Map index shapeFunction by label.\n    const labelShapeFunction = new Map();\n    // A Map index options by label.\n    const labelDescriptor = new Map();\n    // Get all labels for this view.\n    const labels = Array.from(markState.entries()).flatMap(([mark, state]) => {\n        const { labels: labelOptions = [], key } = mark;\n        const shapeFunction = createLabelShapeFunction(mark, state, view, library, context);\n        const elements = selection\n            .select(`#${key}`)\n            .selectAll(className(ELEMENT_CLASS_NAME))\n            .nodes()\n            // Only select the valid element.\n            .filter((n) => !n.__removed__);\n        return labelOptions.flatMap((labelOption, i) => {\n            const { transform = [] } = labelOption, options = __rest(labelOption, [\"transform\"]);\n            return elements.flatMap((e) => {\n                const L = getLabels(options, i, e);\n                L.forEach((l) => {\n                    labelShapeFunction.set(l, (data) => shapeFunction(Object.assign(Object.assign({}, data), { element: e })));\n                    labelDescriptor.set(l, labelOption);\n                });\n                return L;\n            });\n        });\n    });\n    // Render all labels.\n    const labelShapes = select(labelLayer)\n        .selectAll(className(LABEL_CLASS_NAME))\n        .data(labels, (d) => d.key)\n        .join((enter) => enter\n        .append((d) => labelShapeFunction.get(d)(d))\n        .attr('className', LABEL_CLASS_NAME), (update) => update.each(function (d, i, element) {\n        // @todo Handle Label with different type.\n        const shapeFunction = labelShapeFunction.get(d);\n        const node = shapeFunction(d);\n        copyAttributes(element, node);\n    }), (exit) => exit.remove())\n        .nodes();\n    // Apply group-level transforms.\n    const labelGroups = group(labelShapes, (d) => labelDescriptor.get(d.__data__));\n    const { coordinate, layout } = view;\n    const labelTransformContext = {\n        canvas: context.canvas,\n        coordinate,\n        layout,\n    };\n    for (const [label, shapes] of labelGroups) {\n        const { transform = [] } = label;\n        const transformFunction = compose(transform.map(useLabelTransform));\n        transformFunction(shapes, labelTransformContext);\n    }\n    // Apply view-level transform.\n    if (labelTransform) {\n        labelTransform(labelShapes, labelTransformContext);\n    }\n}\nfunction getLabels(label, labelIndex, element) {\n    const { seriesIndex: SI, seriesKey, points, key, index } = element.__data__;\n    const bounds = getLocalBounds(element);\n    if (!SI) {\n        return [\n            Object.assign(Object.assign({}, label), { key: `${key}-${labelIndex}`, bounds,\n                index,\n                points, dependentElement: element }),\n        ];\n    }\n    const selector = normalizeLabelSelector(label);\n    const F = SI.map((index, i) => (Object.assign(Object.assign({}, label), { key: `${seriesKey[i]}-${labelIndex}`, bounds: [points[i]], index,\n        points, dependentElement: element })));\n    return selector ? selector(F) : F;\n}\nfunction filterValid([I, P, S]) {\n    if (S)\n        return [I, P, S];\n    const definedIndex = [];\n    const definedPoints = [];\n    for (let i = 0; i < I.length; i++) {\n        const d = I[i];\n        const p = P[i];\n        if (p.every(([x, y]) => defined(x) && defined(y))) {\n            definedIndex.push(d);\n            definedPoints.push(p);\n        }\n    }\n    return [definedIndex, definedPoints];\n}\nfunction normalizeLabelSelector(label) {\n    const { selector } = label;\n    if (!selector)\n        return null;\n    if (typeof selector === 'function')\n        return selector;\n    if (selector === 'first')\n        return (I) => [I[0]];\n    if (selector === 'last')\n        return (I) => [I[I.length - 1]];\n    throw new Error(`Unknown selector: ${selector}`);\n}\n/**\n * Avoid getting error bounds caused by element animations.\n * @todo Remove this temporary handle method, if runtime supports\n * correct process: drawElement, do label layout and then do\n * transitions together.\n */\nfunction getLocalBounds(element) {\n    const cloneElement = element.cloneNode();\n    const animations = element.getAnimations();\n    cloneElement.style.visibility = 'hidden';\n    animations.forEach((animation) => {\n        const keyframes = animation.effect.getKeyframes();\n        cloneElement.attr(keyframes[keyframes.length - 1]);\n    });\n    element.parentNode.appendChild(cloneElement);\n    const bounds = cloneElement.getLocalBounds();\n    cloneElement.destroy();\n    const { min, max } = bounds;\n    return [min, max];\n}\nfunction createLabelShapeFunction(mark, state, view, library, context) {\n    const [useShape] = useLibrary('shape', library);\n    const { data: abstractData, encode } = mark;\n    const { data: visualData, defaultLabelShape } = state;\n    const point2d = visualData.map((d) => d.points);\n    const channel = mapObject(encode, (d) => d.value);\n    // Assemble Context.\n    const { theme, coordinate } = view;\n    const shapeContext = Object.assign(Object.assign({}, context), { document: documentOf(context), theme,\n        coordinate });\n    return (options) => {\n        // Computed values from data and styles.\n        const { index, points } = options;\n        const datum = abstractData[index];\n        const { formatter = (d) => `${d}`, transform, style: abstractStyle, render, selector, element } = options, abstractOptions = __rest(options, [\"formatter\", \"transform\", \"style\", \"render\", \"selector\", \"element\"]);\n        const visualOptions = mapObject(Object.assign(Object.assign({}, abstractOptions), abstractStyle), (d) => valueOf(d, datum, index, abstractData, {\n            channel,\n            element,\n        }));\n        const { shape = defaultLabelShape, text } = visualOptions, style = __rest(visualOptions, [\"shape\", \"text\"]);\n        const f = typeof formatter === 'string' ? format(formatter) : formatter;\n        const value = Object.assign(Object.assign({}, style), { text: f(text, datum, index, abstractData), datum });\n        // Params for create shape.\n        const shapeOptions = Object.assign({ type: `label.${shape}`, render }, style);\n        const shapeFunction = useShape(shapeOptions, shapeContext);\n        const defaults = getDefaultsStyle(theme, 'label', shape, 'label');\n        return shapeFunction(points, value, defaults, point2d);\n    };\n}\nfunction valueOf(value, datum, i, data, options) {\n    if (typeof value === 'function')\n        return value(datum, i, data, options);\n    if (typeof value !== 'string')\n        return value;\n    if (isStrictObject(datum) && datum[value] !== undefined)\n        return datum[value];\n    return value;\n}\n/**\n * Compute max duration for this frame.\n */\nfunction computeAnimationExtent(markState) {\n    let maxDuration = -Infinity;\n    let minDelay = Infinity;\n    for (const [mark, state] of markState) {\n        const { animate = {} } = mark;\n        const { data } = state;\n        const { enter = {}, update = {}, exit = {} } = animate;\n        const { type: defaultUpdateType, duration: defaultUpdateDuration = 300, delay: defaultUpdateDelay = 0, } = update;\n        const { type: defaultEnterType, duration: defaultEnterDuration = 300, delay: defaultEnterDelay = 0, } = enter;\n        const { type: defaultExitType, duration: defaultExitDuration = 300, delay: defaultExitDelay = 0, } = exit;\n        for (const d of data) {\n            const { updateType = defaultUpdateType, updateDuration = defaultUpdateDuration, updateDelay = defaultUpdateDelay, enterType = defaultEnterType, enterDuration = defaultEnterDuration, enterDelay = defaultEnterDelay, exitDuration = defaultExitDuration, exitDelay = defaultExitDelay, exitType = defaultExitType, } = d;\n            if (updateType === undefined || updateType) {\n                maxDuration = Math.max(maxDuration, updateDuration + updateDelay);\n                minDelay = Math.min(minDelay, updateDelay);\n            }\n            if (exitType === undefined || exitType) {\n                maxDuration = Math.max(maxDuration, exitDuration + exitDelay);\n                minDelay = Math.min(minDelay, exitDelay);\n            }\n            if (enterType === undefined || enterType) {\n                maxDuration = Math.max(maxDuration, enterDuration + enterDelay);\n                minDelay = Math.min(minDelay, enterDelay);\n            }\n        }\n    }\n    if (maxDuration === -Infinity)\n        return null;\n    return [minDelay, maxDuration - minDelay];\n}\nfunction selectFacetElements(selection, current, facetClassName, elementClassName) {\n    const group = selection.node().parentElement;\n    return group\n        .findAll((node) => node.style.facet !== undefined &&\n        node.style.facet === facetClassName &&\n        node !== current.node())\n        .flatMap((node) => node.getElementsByClassName(elementClassName));\n}\n/**\n * Update the parent of element and apply transform to make it\n * stay in original position.\n */\nfunction maybeFacetElement(element, parent, originOf) {\n    if (!element.__facet__)\n        return;\n    // element -> g#main -> rect#plot\n    const prePlot = element.parentNode.parentNode;\n    // g#main -> rect#plot\n    const newPlot = parent.parentNode;\n    const [px, py] = originOf(prePlot);\n    const [x, y] = originOf(newPlot);\n    const translate = `translate(${px - x}, ${py - y})`;\n    appendTransform(element, translate);\n    parent.append(element);\n}\nfunction createMarkShapeFunction(mark, state, view, context) {\n    const { library } = context;\n    const [useShape] = useLibrary('shape', library);\n    const { data: abstractData, encode } = mark;\n    const { defaultShape, data, shape: shapeLibrary } = state;\n    const channel = mapObject(encode, (d) => d.value);\n    const point2d = data.map((d) => d.points);\n    const { theme, coordinate } = view;\n    const { type: markType, style = {} } = mark;\n    const shapeContext = Object.assign(Object.assign({}, context), { document: documentOf(context), coordinate,\n        theme });\n    return (data) => {\n        const { shape: styleShape = defaultShape } = style;\n        const { shape = styleShape, points, seriesIndex, index: i } = data, v = __rest(data, [\"shape\", \"points\", \"seriesIndex\", \"index\"]);\n        const value = Object.assign(Object.assign({}, v), { index: i });\n        // Get data-driven style.\n        // If it is a series shape, such as area and line,\n        // provides the series of abstract data and indices\n        // for this shape, otherwise the single datum and\n        // index.\n        const abstractDatum = seriesIndex\n            ? seriesIndex.map((i) => abstractData[i])\n            : abstractData[i];\n        const I = seriesIndex ? seriesIndex : i;\n        const visualStyle = mapObject(style, (d) => valueOf(d, abstractDatum, I, abstractData, { channel }));\n        // Try get shape from mark first, then from library.\n        const shapeFunction = shapeLibrary[shape]\n            ? shapeLibrary[shape](visualStyle, shapeContext)\n            : useShape(Object.assign(Object.assign({}, visualStyle), { type: shapeName(mark, shape) }), shapeContext);\n        const defaults = getDefaultsStyle(theme, markType, shape, defaultShape);\n        return shapeFunction(points, value, defaults, point2d);\n    };\n}\nfunction getDefaultsStyle(theme, mark, shape, defaultShape) {\n    if (typeof mark !== 'string')\n        return;\n    const { color } = theme;\n    const markTheme = theme[mark] || {};\n    const shapeTheme = markTheme[shape] || markTheme[defaultShape];\n    return Object.assign({ color }, shapeTheme);\n}\nfunction createAnimationFunction(type, mark, state, view, library) {\n    var _a, _b;\n    const [, createShape] = useLibrary('shape', library);\n    const [useAnimation] = useLibrary('animation', library);\n    const { defaultShape, shape: shapeLibrary } = state;\n    const { theme, coordinate } = view;\n    const upperType = upperFirst(type);\n    const key = `default${upperType}Animation`;\n    // Get shape from mark first, then from library.\n    const { [key]: defaultAnimation } = ((_a = shapeLibrary[defaultShape]) === null || _a === void 0 ? void 0 : _a.props) ||\n        createShape(shapeName(mark, defaultShape)).props;\n    const { [type]: defaultEffectTiming = {} } = theme;\n    const animate = ((_b = mark.animate) === null || _b === void 0 ? void 0 : _b[type]) || {};\n    const context = { coordinate };\n    return (data, from, to) => {\n        const { [`${type}Type`]: animation, [`${type}Delay`]: delay, [`${type}Duration`]: duration, [`${type}Easing`]: easing, } = data;\n        const options = Object.assign({ type: animation || defaultAnimation }, animate);\n        if (!options.type)\n            return null;\n        const animateFunction = useAnimation(options, context);\n        const value = { delay, duration, easing };\n        const A = animateFunction(from, to, deepMix(defaultEffectTiming, value));\n        if (!Array.isArray(A))\n            return [A];\n        return A;\n    };\n}\nfunction createEnterFunction(mark, state, view, library) {\n    return createAnimationFunction('enter', mark, state, view, library);\n}\n/**\n * Animation will not cancel automatically, it should be canceled\n * manually. This is very important for performance.\n */\nfunction cancel(animation) {\n    animation.finished.then(() => {\n        animation.cancel();\n    });\n    return animation;\n}\nfunction createUpdateFunction(mark, state, view, library) {\n    return createAnimationFunction('update', mark, state, view, library);\n}\nfunction createExitFunction(mark, state, view, library) {\n    return createAnimationFunction('exit', mark, state, view, library);\n}\nfunction inferTheme(theme = {}) {\n    if (typeof theme === 'string')\n        return { type: theme };\n    const { type = 'light' } = theme, rest = __rest(theme, [\"type\"]);\n    return Object.assign(Object.assign({}, rest), { type });\n}\n/**\n * @todo Infer builtin tooltips.\n */\nfunction inferInteraction(view) {\n    const defaults = {\n        event: true,\n        tooltip: true,\n        // @todo Inferred by slider self.\n        sliderFilter: true,\n        legendFilter: true,\n        scrollbarFilter: true,\n    };\n    const { interaction = {} } = view;\n    return Object.entries(deepMix(defaults, interaction)).reverse();\n}\nfunction applyTransform(node, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { data } = node, rest = __rest(node, [\"data\"]);\n        if (data == undefined)\n            return node;\n        const [, { data: newData }] = yield applyDataTransform([], { data }, context);\n        return Object.assign({ data: newData }, rest);\n    });\n}\nfunction updateBBox(selection) {\n    selection\n        .style('transform', (d) => `translate(${d.paddingLeft + d.marginLeft}, ${d.paddingTop + d.marginTop})`)\n        .style('width', (d) => d.innerWidth)\n        .style('height', (d) => d.innerHeight);\n}\nfunction animateBBox(selection, extent) {\n    const [delay, duration] = extent;\n    selection.transition(function (data, i, element) {\n        const { transform, width, height } = element.style;\n        const { paddingLeft, paddingTop, innerWidth, innerHeight, marginLeft, marginTop, } = data;\n        const keyframes = [\n            {\n                transform,\n                width,\n                height,\n            },\n            {\n                transform: `translate(${paddingLeft + marginLeft}, ${paddingTop + marginTop})`,\n                width: innerWidth,\n                height: innerHeight,\n            },\n        ];\n        return element.animate(keyframes, { delay, duration, fill: 'both' });\n    });\n}\nfunction shapeName(mark, name) {\n    const { type } = mark;\n    if (typeof name === 'string')\n        return `${type}.${name}`;\n    return name;\n}\n/**\n * Create and update layer for each mark.\n * All the layers created here are treated as main layers.\n */\nfunction updateLayers(selection, marks) {\n    const facet = (d) => (d.class !== undefined ? `${d.class}` : '');\n    // Skip for empty selection, it can't append nodes.\n    const nodes = selection.nodes();\n    if (nodes.length === 0)\n        return;\n    selection\n        .selectAll(className(MAIN_LAYER_CLASS_NAME))\n        .data(marks, (d) => d.key)\n        .join((enter) => enter\n        .append('g')\n        .attr('className', MAIN_LAYER_CLASS_NAME)\n        .attr('id', (d) => d.key)\n        .style('facet', facet)\n        .style('fill', 'transparent')\n        .style('zIndex', (d) => { var _a; return (_a = d.zIndex) !== null && _a !== void 0 ? _a : 0; }), (update) => update\n        .style('facet', facet)\n        .style('fill', 'transparent')\n        .style('zIndex', (d) => { var _a; return (_a = d.zIndex) !== null && _a !== void 0 ? _a : 0; }), (exit) => exit.remove());\n    const labelLayer = selection.select(className(LABEL_LAYER_CLASS_NAME)).node();\n    if (labelLayer)\n        return;\n    selection\n        .append('g')\n        .attr('className', LABEL_LAYER_CLASS_NAME)\n        .style('zIndex', 0);\n}\nfunction className(...names) {\n    return names.map((d) => `.${d}`).join('');\n}\nfunction applyClip(selection, clip) {\n    if (!selection.node())\n        return;\n    selection.style('clipPath', (data) => {\n        if (!clip)\n            return null;\n        const { paddingTop: y, paddingLeft: x, marginLeft: x1, marginTop: y1, innerWidth: width, innerHeight: height, } = data;\n        return new Rect({ style: { x: x + x1, y: y + y1, width, height } });\n    });\n}\nfunction inferComponentScales(scales, states, markState) {\n    // add shape scale to state.\n    var _a;\n    // for cell, omit shape scale.\n    // @todo support shape scale for cell.\n    for (const [key] of markState.entries()) {\n        if (key.type === 'cell') {\n            return scales.filter((scale) => scale.name !== 'shape');\n        }\n    }\n    // can't infer shape scale if there are multiple states.\n    if (states.length !== 1 || scales.some((scale) => scale.name === 'shape')) {\n        return scales;\n    }\n    const { defaultShape: shape } = states[0];\n    const acceptMarkTypes = ['point', 'line', 'rect', 'hollow'];\n    if (!acceptMarkTypes.includes(shape))\n        return scales;\n    const shapeMap = {\n        point: 'point',\n        line: 'hyphen',\n        rect: 'square',\n        hollow: 'hollow',\n    };\n    // create shape scale\n    const field = ((_a = scales.find((scale) => scale.name === 'color')) === null || _a === void 0 ? void 0 : _a.field) || null;\n    const shapeScale = {\n        field,\n        name: 'shape',\n        type: 'constant',\n        domain: [],\n        range: [shapeMap[shape]],\n    };\n    return [...scales, shapeScale];\n}\nexport function applyStyle(selection, style) {\n    for (const [key, value] of Object.entries(style)) {\n        selection.style(key, value);\n    }\n}\n//# sourceMappingURL=plot.js.map","import { get } from '@antv/util';\n// style: { columnWidthRatio: 0.2 } => scale: { x: { padding: 0.8 } }\nexport function columnWidthRatio(options) {\n    const { style, scale, type } = options;\n    const scaleOption = {};\n    const columnWidthRatio = get(style, 'columnWidthRatio');\n    if (columnWidthRatio && type === 'interval') {\n        scaleOption.x = Object.assign(Object.assign({}, scale === null || scale === void 0 ? void 0 : scale.x), { padding: 1 - columnWidthRatio });\n    }\n    return Object.assign(Object.assign({}, options), { scale: Object.assign(Object.assign({}, scale), scaleOption) });\n}\n//# sourceMappingURL=style.js.map","import { flow } from '../../utils/flow';\nimport { columnWidthRatio } from './style';\nexport function preprocessOption(options) {\n    const convertedOptions = adapter(options);\n    // If there are children, recursively convert each child node.\n    if (convertedOptions.children && Array.isArray(convertedOptions.children)) {\n        convertedOptions.children = convertedOptions.children.map((child) => preprocessOption(child));\n    }\n    return convertedOptions;\n}\n// Entry point for all syntactic sugar functions.\nfunction adapter(options) {\n    //@todo define a type for params of flow\n    return flow(columnWidthRatio)(options);\n}\n//# sourceMappingURL=index.js.map","/**\n * 类似 lodash.flow 的方法\n * @param flows\n */\nexport function flow(...flows) {\n    return (param) => {\n        return flows.reduce((result, f) => {\n            return f(result);\n        }, param);\n    };\n}\n//# sourceMappingURL=flow.js.map","import { Canvas as GCanvas, Group } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Plugin as DragAndDropPlugin } from '@antv/g-plugin-dragndrop';\nimport { deepMix } from '@antv/util';\nimport EventEmitter from '@antv/event-emitter';\nimport { select } from '../utils/selection';\nimport { ChartEvent } from '../utils/event';\nimport { error } from '../utils/helper';\nimport { plot } from './plot';\nimport { VIEW_CLASS_NAME } from './constant';\nimport { preprocessOption } from './option-preprocess';\n/**\n * Infer key for each node of view tree.\n * Each key should be unique in the entire view tree.\n * The key is for incremental render when view tree is changed.\n * @todo Fix custom key equals to inferred key.\n */\nfunction inferKeys(options) {\n    const root = deepMix({}, options);\n    const nodeParent = new Map([[root, null]]);\n    const nodeIndex = new Map([[null, -1]]);\n    const discovered = [root];\n    while (discovered.length) {\n        const node = discovered.shift();\n        // If key of node is not specified, using parentKey and the index for it\n        // in parent.children as its key.\n        // e.g. The key of node named 'a' will be 'a', and the key of node named\n        // 'b' will be 'parent-1' in the following view tree specification.\n        // { key: 'parent', children: [{ name: 'a', key: 'a' }, { name: 'b' }] }\n        if (node.key === undefined) {\n            const parent = nodeParent.get(node);\n            const index = nodeIndex.get(node);\n            const key = parent === null ? `${0}` : `${parent.key}-${index}`;\n            node.key = key;\n        }\n        const { children = [] } = node;\n        if (Array.isArray(children)) {\n            for (let i = 0; i < children.length; i++) {\n                // Clone node as well.\n                const child = deepMix({}, children[i]);\n                children[i] = child;\n                nodeParent.set(child, node);\n                nodeIndex.set(child, i);\n                discovered.push(child);\n            }\n        }\n    }\n    return root;\n}\nfunction Canvas(width, height) {\n    const renderer = new CanvasRenderer();\n    // DragAndDropPlugin is for interaction.\n    renderer.registerPlugin(new DragAndDropPlugin());\n    return new GCanvas({\n        width,\n        height,\n        container: document.createElement('div'),\n        renderer: renderer,\n    });\n}\nexport function render(options, context = {}, resolve = () => { }, reject = (e) => {\n    throw e;\n}) {\n    // Initialize the context if it is not provided.\n    const { width = 640, height = 480, depth = 0 } = options;\n    // Preprocessing here, such as syntactic sugar.\n    const preprocessedOption = preprocessOption(options);\n    const keyed = inferKeys(preprocessedOption);\n    const { canvas = Canvas(width, height), emitter = new EventEmitter(), library, } = context;\n    context.canvas = canvas;\n    context.emitter = emitter;\n    const { width: prevWidth, height: prevHeight } = canvas.getConfig();\n    if (prevWidth !== width || prevHeight !== height) {\n        canvas.resize(width, height);\n    }\n    emitter.emit(ChartEvent.BEFORE_RENDER);\n    // Plot the chart and mutate context.\n    // Make sure that plot chart after container is ready for every time.\n    const selection = select(canvas.document.documentElement);\n    canvas.ready\n        .then(() => plot(Object.assign(Object.assign({}, keyed), { width, height, depth }), selection, context))\n        .then(() => {\n        // Place the center of whole scene at z axis' origin.\n        if (depth) {\n            const [x, y] = canvas.document.documentElement.getPosition();\n            // Since `render` method can be called for multiple times, use setPosition instead of translate here.\n            canvas.document.documentElement.setPosition(x, y, -depth / 2);\n        }\n        // Wait for the next tick.\n        // FIXME: Use `rendered?` event instead of `requestAnimationFrame`.\n        canvas.requestAnimationFrame(() => {\n            canvas.requestAnimationFrame(() => {\n                emitter.emit(ChartEvent.AFTER_RENDER);\n                resolve === null || resolve === void 0 ? void 0 : resolve();\n            });\n        });\n    })\n        .catch((e) => {\n        reject === null || reject === void 0 ? void 0 : reject(e);\n    });\n    // Return the container HTML element wraps the canvas or svg element.\n    return normalizeContainer(canvas.getConfig().container);\n}\nexport function renderToMountedElement(options, context = {}, resolve = () => { }, reject = (e) => {\n    throw e;\n}) {\n    var _a;\n    // Initialize the context if it is not provided.\n    const { width = 640, height = 480 } = options;\n    const keyed = inferKeys(options);\n    const { group = new Group(), emitter = new EventEmitter(), library, } = context;\n    if (!(group === null || group === void 0 ? void 0 : group.parentElement)) {\n        error(`renderToMountedElement can't render chart to unmounted group.`);\n    }\n    const selection = select(group);\n    context.group = group;\n    context.emitter = emitter;\n    context.canvas =\n        context.canvas || ((_a = group === null || group === void 0 ? void 0 : group.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView);\n    emitter.emit(ChartEvent.BEFORE_RENDER);\n    // Plot the chart and mutate context.\n    // Make sure that plot chart after container is ready for every time.\n    plot(Object.assign(Object.assign({}, keyed), { width, height }), selection, context)\n        .then(() => {\n        var _a;\n        (_a = context.canvas) === null || _a === void 0 ? void 0 : _a.requestAnimationFrame(() => {\n            emitter.emit(ChartEvent.AFTER_RENDER);\n            resolve === null || resolve === void 0 ? void 0 : resolve();\n        });\n    })\n        .catch((e) => {\n        reject === null || reject === void 0 ? void 0 : reject(e);\n    });\n    // Return the Group wraps the canvas or svg element.\n    return group;\n}\nexport function destroy(options, context = {}, isDestroyCanvas = false) {\n    const { canvas, emitter } = context;\n    if (canvas) {\n        destroyAllInteractions(canvas);\n        isDestroyCanvas ? canvas.destroy() : canvas.destroyChildren();\n    }\n    emitter.off();\n}\n/**\n * Destroy all interactions mounted on the canvas.\n */\nfunction destroyAllInteractions(canvas) {\n    const viewGroups = canvas.getRoot().querySelectorAll(`.${VIEW_CLASS_NAME}`);\n    viewGroups === null || viewGroups === void 0 ? void 0 : viewGroups.forEach((group) => {\n        const { nameInteraction = new Map() } = group;\n        if ((nameInteraction === null || nameInteraction === void 0 ? void 0 : nameInteraction.size) > 0) {\n            Array.from(nameInteraction === null || nameInteraction === void 0 ? void 0 : nameInteraction.values()).forEach((value) => {\n                value === null || value === void 0 ? void 0 : value.destroy();\n            });\n        }\n    });\n}\nfunction normalizeContainer(container) {\n    return typeof container === 'string'\n        ? document.getElementById(container)\n        : container;\n}\n//# sourceMappingURL=render.js.map","const parseInt10 = (d) => (d ? parseInt(d) : 0);\n/**\n * @description Get the element's bounding size.\n * @param container dom element.\n * @returns the element width and height\n */\nexport function getContainerSize(container) {\n    // size = width/height - padding.\n    const style = getComputedStyle(container);\n    const wrapperWidth = container.clientWidth || parseInt10(style.width);\n    const wrapperHeight = container.clientHeight || parseInt10(style.height);\n    const widthPadding = parseInt10(style.paddingLeft) + parseInt10(style.paddingRight);\n    const heightPadding = parseInt10(style.paddingTop) + parseInt10(style.paddingBottom);\n    return {\n        width: wrapperWidth - widthPadding,\n        height: wrapperHeight - heightPadding,\n    };\n}\n/**\n * @description Calculate the real canvas size by view options.\n */\nexport function getBBoxSize(options) {\n    const { height, width, padding = 0, paddingLeft = padding, paddingRight = padding, paddingTop = padding, paddingBottom = padding, margin = 0, marginLeft = margin, marginRight = margin, marginTop = margin, marginBottom = margin, inset = 0, insetLeft = inset, insetRight = inset, insetTop = inset, insetBottom = inset, } = options;\n    // @todo Add this padding to theme.\n    // 30 is default size for padding, which defined in runtime.\n    const maybeAuto = (padding) => (padding === 'auto' ? 20 : padding);\n    const finalWidth = width -\n        maybeAuto(paddingLeft) -\n        maybeAuto(paddingRight) -\n        marginLeft -\n        marginRight -\n        insetLeft -\n        insetRight;\n    const finalHeight = height -\n        maybeAuto(paddingTop) -\n        maybeAuto(paddingBottom) -\n        marginTop -\n        marginBottom -\n        insetTop -\n        insetBottom;\n    return { width: finalWidth, height: finalHeight };\n}\n//# sourceMappingURL=size.js.map","/**\n * BFS nodes and execute callback.\n */\nfunction bfs(node, callback) {\n    const discovered = [node];\n    while (discovered.length) {\n        const currentNode = discovered.shift();\n        callback && callback(currentNode);\n        const children = currentNode.children || [];\n        for (const child of children) {\n            discovered.push(child);\n        }\n    }\n}\n/**\n * Hierarchy container.\n */\nexport class Node {\n    constructor(value = {}, type) {\n        // The parent node.\n        this.parentNode = null;\n        // The children nodes.\n        this.children = [];\n        // The index of parent children.\n        this.index = 0;\n        this.type = type;\n        this.value = value;\n    }\n    /**\n     * Apply specified transform to current value. Mount the node\n     * to replace the original one in the tree and then return it.\n     */\n    map(transform = (x) => x) {\n        const newValue = transform(this.value);\n        this.value = newValue;\n        return this;\n    }\n    /**\n     * Set or get the specified attribute. It the value is specified, update\n     * the attribute of current value and return the node. Otherwise\n     * return the the attribute of current value.\n     */\n    attr(key, value) {\n        if (arguments.length === 1)\n            return this.value[key];\n        return this.map((v) => ((v[key] = value), v));\n    }\n    /**\n     * Create a new node and append to children nodes.\n     */\n    append(Ctor) {\n        const node = new Ctor({});\n        node.children = [];\n        this.push(node);\n        return node;\n    }\n    push(node) {\n        node.parentNode = this;\n        node.index = this.children.length;\n        this.children.push(node);\n        return this;\n    }\n    /**\n     * Remove current node from parentNode.\n     */\n    remove() {\n        const parent = this.parentNode;\n        if (parent) {\n            const { children } = parent;\n            const index = children.findIndex((item) => item === this);\n            children.splice(index, 1);\n        }\n        return this;\n    }\n    getNodeByKey(key) {\n        let targetNode = null;\n        const callback = (node) => {\n            if (key === node.attr('key')) {\n                targetNode = node;\n            }\n        };\n        bfs(this, callback);\n        return targetNode;\n    }\n    getNodesByType(type) {\n        const nodes = [];\n        const callback = (node) => {\n            if (type === node.type) {\n                nodes.push(node);\n            }\n        };\n        bfs(this, callback);\n        return nodes;\n    }\n    getNodeByType(type) {\n        let node = null;\n        bfs(this, (current) => {\n            if (node)\n                return;\n            if (type === current.type)\n                node = current;\n        });\n        return node;\n    }\n    /**\n     * Apply specified callback to the node value.\n     */\n    call(callback, ...params) {\n        callback(this.map(), ...params);\n        return this;\n    }\n    getRoot() {\n        // Find the root chart and render.\n        let root = this;\n        while (root && root.parentNode) {\n            root = root.parentNode;\n        }\n        return root;\n    }\n}\n//# sourceMappingURL=node.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isNumber } from '@antv/util';\nimport { getContainerSize } from '../utils/size';\nimport { deepAssign } from '../utils/helper';\nimport { Node } from './node';\n// Keys can specified by new Chart({...}).\n// Keys can bubble form mark-level options to view-level options.\nexport const VIEW_KEYS = [\n    'width',\n    'height',\n    'depth',\n    'padding',\n    'paddingLeft',\n    'paddingRight',\n    'paddingBottom',\n    'paddingTop',\n    'inset',\n    'insetLeft',\n    'insetRight',\n    'insetTop',\n    'insetBottom',\n    'margin',\n    'marginLeft',\n    'marginRight',\n    'marginTop',\n    'marginBottom',\n    'autoFit',\n    'theme',\n    'title',\n    'interaction',\n];\nexport const REMOVE_FLAG = '__remove__';\nexport const CALLBACK_NODE = '__callback__';\n/** Minimum chart width */\nexport const MIN_CHART_WIDTH = 1;\n/** Minimum chart height */\nexport const MIN_CHART_HEIGHT = 1;\nexport function normalizeContainer(container) {\n    if (container === undefined) {\n        const container = document.createElement('div');\n        container[REMOVE_FLAG] = true;\n        return container;\n    }\n    if (typeof container === 'string') {\n        const node = document.getElementById(container);\n        return node;\n    }\n    return container;\n}\nexport function removeContainer(container) {\n    const parent = container.parentNode;\n    if (parent) {\n        parent.removeChild(container);\n    }\n}\nexport function normalizeRoot(node) {\n    if (node.type !== null)\n        return node;\n    const root = node.children[node.children.length - 1];\n    for (const key of VIEW_KEYS)\n        root.attr(key, node.attr(key));\n    return root;\n}\nexport function valueOf(node) {\n    return Object.assign(Object.assign({}, node.value), { type: node.type });\n}\nexport function sizeOf(options, container) {\n    const { width, height, autoFit, depth = 0 } = options;\n    let effectiveWidth = 640;\n    let effectiveHeight = 480;\n    if (autoFit) {\n        const { width: containerWidth, height: containerHeight } = getContainerSize(container);\n        effectiveWidth = containerWidth || effectiveWidth;\n        effectiveHeight = containerHeight || effectiveHeight;\n    }\n    effectiveWidth = width || effectiveWidth;\n    effectiveHeight = height || effectiveHeight;\n    return {\n        width: Math.max(isNumber(effectiveWidth) ? effectiveWidth : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n        height: Math.max(isNumber(effectiveHeight) ? effectiveHeight : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n        depth,\n    };\n}\nexport function optionsOf(node) {\n    const root = normalizeRoot(node);\n    const discovered = [root];\n    const nodeValue = new Map();\n    nodeValue.set(root, valueOf(root));\n    while (discovered.length) {\n        const node = discovered.pop();\n        const value = nodeValue.get(node);\n        const { children = [] } = node;\n        for (const child of children) {\n            if (child.type === CALLBACK_NODE) {\n                value.children = child.value;\n            }\n            else {\n                const childValue = valueOf(child);\n                const { children = [] } = value;\n                children.push(childValue);\n                discovered.push(child);\n                nodeValue.set(child, childValue);\n                value.children = children;\n            }\n        }\n    }\n    return nodeValue.get(root);\n}\nfunction isMark(type, mark) {\n    if (typeof type === 'function')\n        return true;\n    return new Set(Object.keys(mark)).has(type);\n}\nfunction isComposition(type, composition) {\n    return (typeof type !== 'function' && new Set(Object.keys(composition)).has(type));\n}\nfunction normalizeRootOptions(node, options, previousType, marks, composition) {\n    const { type: oldType } = node;\n    const { type = previousType || oldType } = options;\n    if (isComposition(type, composition)) {\n        for (const key of VIEW_KEYS) {\n            if (node.attr(key) !== undefined && options[key] === undefined) {\n                options[key] = node.attr(key);\n            }\n        }\n        return options;\n    }\n    if (isMark(type, marks)) {\n        const view = { type: 'view' };\n        const mark = Object.assign({}, options);\n        for (const key of VIEW_KEYS) {\n            if (mark[key] !== undefined) {\n                view[key] = mark[key];\n                delete mark[key];\n            }\n        }\n        return Object.assign(Object.assign({}, view), { children: [mark] });\n    }\n    return options;\n}\nfunction typeCtor(type, mark, composition) {\n    if (typeof type === 'function')\n        return mark.mark;\n    const node = Object.assign(Object.assign({}, mark), composition);\n    const ctor = node[type];\n    if (!ctor)\n        throw new Error(`Unknown mark: ${type}.`);\n    return ctor;\n}\n// Create node from options.\nfunction createNode(options, mark, composition) {\n    if (typeof options === 'function') {\n        const node = new Node();\n        node.value = options;\n        node.type = CALLBACK_NODE;\n        return node;\n    }\n    const { type, children } = options, value = __rest(options, [\"type\", \"children\"]);\n    const Ctor = typeCtor(type, mark, composition);\n    const node = new Ctor();\n    node.value = value;\n    // @ts-ignore\n    node.type = type;\n    return node;\n}\n// Update node by options.\nfunction updateNode(node, newOptions) {\n    const { type, children } = newOptions, value = __rest(newOptions, [\"type\", \"children\"]);\n    if (node.type === type || type === undefined) {\n        // Update node.\n        deepAssign(node.value, value);\n    }\n    else if (typeof type === 'string') {\n        // Transform node.\n        node.type = type;\n        node.value = value;\n    }\n}\n// Create a nested node tree from newOptions, and append it to the parent.\nfunction appendNode(parent, newOptions, mark, composition) {\n    if (!parent)\n        return;\n    const discovered = [[parent, newOptions]];\n    while (discovered.length) {\n        const [parent, nodeOptions] = discovered.shift();\n        const node = createNode(nodeOptions, mark, composition);\n        if (Array.isArray(parent.children))\n            parent.push(node);\n        const { children } = nodeOptions;\n        if (Array.isArray(children)) {\n            for (const child of children) {\n                discovered.push([node, child]);\n            }\n        }\n        else if (typeof children === 'function') {\n            discovered.push([node, children]);\n        }\n    }\n}\n// Update node tree from options.\nexport function updateRoot(node, options, definedType, mark, composition) {\n    const rootOptions = normalizeRootOptions(node, options, definedType, mark, composition);\n    const discovered = [[null, node, rootOptions]];\n    while (discovered.length) {\n        const [parent, oldNode, newNode] = discovered.shift();\n        // If there is no oldNode, create a node tree directly.\n        if (!oldNode) {\n            appendNode(parent, newNode, mark, composition);\n        }\n        else if (!newNode) {\n            oldNode.remove();\n        }\n        else {\n            updateNode(oldNode, newNode);\n            const { children: newChildren } = newNode;\n            const { children: oldChildren } = oldNode;\n            if (Array.isArray(newChildren) && Array.isArray(oldChildren)) {\n                // Only update node specified in newChildren,\n                // the extra oldChildren will remain still.\n                const n = Math.max(newChildren.length, oldChildren.length);\n                for (let i = 0; i < n; i++) {\n                    const newChild = newChildren[i];\n                    const oldChild = oldChildren[i];\n                    discovered.push([oldNode, oldChild, newChild]);\n                }\n            }\n            else if (typeof newChildren === 'function') {\n                discovered.push([oldNode, null, newChildren]);\n            }\n        }\n    }\n}\nexport function createEmptyPromise() {\n    let reject;\n    let resolve;\n    const cloned = new Promise((res, rej) => {\n        resolve = res;\n        reject = rej;\n    });\n    return [cloned, resolve, reject];\n}\n//# sourceMappingURL=utils.js.map","import { isStrictObject } from '../utils/helper';\nfunction defineValueProp(Node, name, { key = name }) {\n    Node.prototype[name] = function (value) {\n        if (arguments.length === 0)\n            return this.attr(key);\n        return this.attr(key, value);\n    };\n}\nfunction defineArrayProp(Node, name, { key = name }) {\n    Node.prototype[name] = function (value) {\n        if (arguments.length === 0)\n            return this.attr(key);\n        if (Array.isArray(value))\n            return this.attr(key, value);\n        const array = [...(this.attr(key) || []), value];\n        return this.attr(key, array);\n    };\n}\nfunction defineObjectProp(Node, name, { key: k = name }) {\n    Node.prototype[name] = function (key, value) {\n        if (arguments.length === 0)\n            return this.attr(k);\n        if (arguments.length === 1 && typeof key !== 'string') {\n            return this.attr(k, key);\n        }\n        const obj = this.attr(k) || {};\n        obj[key] = arguments.length === 1 ? true : value;\n        return this.attr(k, obj);\n    };\n}\nfunction defineMixProp(Node, name, descriptor) {\n    Node.prototype[name] = function (key) {\n        if (arguments.length === 0)\n            return this.attr(name);\n        if (Array.isArray(key))\n            return this.attr(name, { items: key });\n        if (isStrictObject(key) &&\n            (key.title !== undefined || key.items !== undefined)) {\n            return this.attr(name, key);\n        }\n        if (key === null || key === false)\n            return this.attr(name, key);\n        const obj = this.attr(name) || {};\n        const { items = [] } = obj;\n        items.push(key);\n        obj.items = items;\n        return this.attr(name, obj);\n    };\n}\nfunction defineNodeProp(Node, name, { ctor }) {\n    Node.prototype[name] = function (hocMark) {\n        const node = this.append(ctor);\n        if (name === 'mark') {\n            node.type = hocMark;\n        }\n        return node;\n    };\n}\nfunction defineContainerProp(Node, name, { ctor }) {\n    Node.prototype[name] = function () {\n        this.type = null;\n        return this.append(ctor);\n    };\n}\n/**\n * A decorator to define different type of attribute setter or\n * getter for current node.\n */\nexport function defineProps(descriptors) {\n    return (Node) => {\n        for (const [name, descriptor] of Object.entries(descriptors)) {\n            const { type } = descriptor;\n            if (type === 'value')\n                defineValueProp(Node, name, descriptor);\n            else if (type === 'array')\n                defineArrayProp(Node, name, descriptor);\n            else if (type === 'object')\n                defineObjectProp(Node, name, descriptor);\n            else if (type === 'node')\n                defineNodeProp(Node, name, descriptor);\n            else if (type === 'container')\n                defineContainerProp(Node, name, descriptor);\n            else if (type === 'mix')\n                defineMixProp(Node, name, descriptor);\n        }\n        return Node;\n    };\n}\nexport function nodeProps(node) {\n    return Object.fromEntries(Object.entries(node).map(([name, ctor]) => [name, { type: 'node', ctor }]));\n}\n//# sourceMappingURL=define.js.map","export const commonProps = {\n    encode: { type: 'object' },\n    scale: { type: 'object' },\n    data: { type: 'value' },\n    transform: { type: 'array' },\n    style: { type: 'object' },\n    animate: { type: 'object' },\n    coordinate: { type: 'object' },\n    interaction: { type: 'object' },\n    label: { type: 'array', key: 'labels' },\n    axis: { type: 'object' },\n    legend: { type: 'object' },\n    slider: { type: 'object' },\n    scrollbar: { type: 'object' },\n    state: { type: 'object' },\n    layout: { type: 'object' },\n    theme: { type: 'object' },\n    title: { type: 'value' },\n};\nexport const markProps = Object.assign(Object.assign({}, commonProps), { tooltip: { type: 'mix' }, viewStyle: { type: 'object' } });\nexport const compositionProps = Object.assign(Object.assign({}, commonProps), { labelTransform: { type: 'array' } });\n//# sourceMappingURL=props.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { hide, show } from '../utils/style';\nimport { Node } from './node';\nimport { defineProps } from './define';\nimport { compositionProps } from './props';\nlet CompositionNode = class CompositionNode extends Node {\n    /**\n     * Change current node data and its children data.\n     */\n    changeData(data) {\n        var _a;\n        const chart = this.getRoot();\n        if (!chart)\n            return;\n        this.attr('data', data);\n        if ((_a = this.children) === null || _a === void 0 ? void 0 : _a.length) {\n            this.children.forEach((child) => {\n                child.attr('data', data);\n            });\n        }\n        return chart === null || chart === void 0 ? void 0 : chart.render();\n    }\n    /**\n     * Get view instance by key.\n     */\n    getView() {\n        const chart = this.getRoot();\n        const { views } = chart.getContext();\n        if (!(views === null || views === void 0 ? void 0 : views.length))\n            return undefined;\n        return views.find((view) => view.key === this._key);\n    }\n    getScale() {\n        var _a;\n        return (_a = this.getView()) === null || _a === void 0 ? void 0 : _a.scale;\n    }\n    getScaleByChannel(channel) {\n        const scale = this.getScale();\n        if (scale)\n            return scale[channel];\n        return;\n    }\n    getCoordinate() {\n        var _a;\n        return (_a = this.getView()) === null || _a === void 0 ? void 0 : _a.coordinate;\n    }\n    getTheme() {\n        var _a;\n        return (_a = this.getView()) === null || _a === void 0 ? void 0 : _a.theme;\n    }\n    getGroup() {\n        const key = this._key;\n        if (!key)\n            return undefined;\n        const chart = this.getRoot();\n        const chartGroup = chart.getContext().canvas.getRoot();\n        return chartGroup.getElementById(key);\n    }\n    /**\n     * Show the view.\n     */\n    show() {\n        const group = this.getGroup();\n        if (!group)\n            return;\n        !group.isVisible() && show(group);\n    }\n    /**\n     * Hide the view.\n     */\n    hide() {\n        const group = this.getGroup();\n        if (!group)\n            return;\n        group.isVisible() && hide(group);\n    }\n};\nCompositionNode = __decorate([\n    defineProps(compositionProps)\n], CompositionNode);\nexport { CompositionNode };\n//# sourceMappingURL=composition.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Node } from './node';\nimport { defineProps } from './define';\nimport { markProps } from './props';\nlet MarkNode = class MarkNode extends Node {\n    changeData(data) {\n        const chart = this.getRoot();\n        if (!chart)\n            return;\n        this.attr('data', data);\n        return chart === null || chart === void 0 ? void 0 : chart.render();\n    }\n    /**\n     * Get mark from chart views.\n     */\n    getMark() {\n        var _a;\n        const chartView = (_a = this.getRoot()) === null || _a === void 0 ? void 0 : _a.getView();\n        if (!chartView)\n            return undefined;\n        const { markState } = chartView;\n        const markKey = Array.from(markState.keys()).find((item) => item.key === this.attr('key'));\n        return markState.get(markKey);\n    }\n    /**\n     * Get all scales instance.\n     */\n    getScale() {\n        var _a;\n        const chartView = (_a = this.getRoot()) === null || _a === void 0 ? void 0 : _a.getView();\n        if (!chartView)\n            return undefined;\n        return chartView === null || chartView === void 0 ? void 0 : chartView.scale;\n    }\n    /**\n     * Get the scale instance by channel.\n     */\n    getScaleByChannel(channel) {\n        var _a, _b;\n        const chartView = (_a = this.getRoot()) === null || _a === void 0 ? void 0 : _a.getView();\n        if (!chartView)\n            return undefined;\n        return (_b = chartView === null || chartView === void 0 ? void 0 : chartView.scale) === null || _b === void 0 ? void 0 : _b[channel];\n    }\n    /**\n     * Get canvas group.\n     */\n    getGroup() {\n        const key = this.attr('key');\n        if (!key)\n            return undefined;\n        const chart = this.getRoot();\n        const chartGroup = chart.getContext().canvas.getRoot();\n        return chartGroup.getElementById(key);\n    }\n};\nMarkNode = __decorate([\n    defineProps(markProps)\n], MarkNode);\nexport { MarkNode };\n//# sourceMappingURL=mark.js.map","import { registerSymbol } from '../utils/marker';\nexport const library = {};\n// @todo Warn if override existing key.\nexport function register(key, component) {\n    if (key.startsWith('symbol.'))\n        registerSymbol(key.split('.').pop(), component);\n    else\n        Object.assign(library, { [key]: component });\n}\n//# sourceMappingURL=library.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Canvas as GCanvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Plugin as DragAndDropPlugin } from '@antv/g-plugin-dragndrop';\nimport { debounce } from '@antv/util';\nimport EventEmitter from '@antv/event-emitter';\nimport { render, destroy } from '../runtime';\nimport { ChartEvent } from '../utils/event';\nimport { normalizeContainer, removeContainer, sizeOf, optionsOf, updateRoot, createEmptyPromise, REMOVE_FLAG, } from './utils';\nimport { CompositionNode } from './composition';\nimport { defineProps, nodeProps } from './define';\nimport { MarkNode } from './mark';\nimport { library } from './library';\nexport const G2_CHART_KEY = 'G2_CHART_KEY';\nexport class Runtime extends CompositionNode {\n    constructor(options) {\n        const { container, canvas, renderer, plugins, lib, createCanvas } = options, rest = __rest(options, [\"container\", \"canvas\", \"renderer\", \"plugins\", \"lib\", \"createCanvas\"]);\n        super(rest, 'view');\n        // Identifies whether bindAutoFit.\n        this._hasBindAutoFit = false;\n        this._rendering = false;\n        this._trailing = false;\n        this._trailingResolve = null;\n        this._trailingReject = null;\n        this._previousDefinedType = null;\n        this._onResize = debounce(() => {\n            this.forceFit();\n        }, 300);\n        this._renderer = renderer || new CanvasRenderer();\n        this._plugins = plugins || [];\n        this._container = normalizeContainer(container);\n        this._emitter = new EventEmitter();\n        this._context = {\n            library: Object.assign(Object.assign({}, lib), library),\n            emitter: this._emitter,\n            canvas,\n            createCanvas,\n        };\n        this._create();\n    }\n    render() {\n        if (this._rendering)\n            return this._addToTrailing();\n        if (!this._context.canvas)\n            this._createCanvas();\n        this._context.canvas.getConfig().supportsCSSTransform = true;\n        this._bindAutoFit();\n        this._rendering = true;\n        const finished = new Promise((resolve, reject) => render(this._computedOptions(), this._context, this._createResolve(resolve), this._createReject(reject)));\n        const [finished1, resolve, reject] = createEmptyPromise();\n        finished\n            .then(resolve)\n            .catch(reject)\n            .then(() => this._renderTrailing());\n        return finished1;\n    }\n    /**\n     * @overload\n     * @param {G2ViewTree} [options]\n     * @returns {Runtime|Spec}\n     */\n    options(options) {\n        if (arguments.length === 0)\n            return optionsOf(this);\n        const { type } = options;\n        if (type)\n            this._previousDefinedType = type;\n        updateRoot(this, options, this._previousDefinedType, this._marks, this._compositions);\n        return this;\n    }\n    getContainer() {\n        return this._container;\n    }\n    getContext() {\n        return this._context;\n    }\n    on(event, callback, once) {\n        this._emitter.on(event, callback, once);\n        return this;\n    }\n    once(event, callback) {\n        this._emitter.once(event, callback);\n        return this;\n    }\n    emit(event, ...args) {\n        this._emitter.emit(event, ...args);\n        return this;\n    }\n    off(event, callback) {\n        this._emitter.off(event, callback);\n        return this;\n    }\n    clear() {\n        const options = this.options();\n        this.emit(ChartEvent.BEFORE_CLEAR);\n        this._reset();\n        destroy(options, this._context, false);\n        this.emit(ChartEvent.AFTER_CLEAR);\n    }\n    destroy() {\n        const options = this.options();\n        this.emit(ChartEvent.BEFORE_DESTROY);\n        this._unbindAutoFit();\n        this._reset();\n        destroy(options, this._context, true);\n        if (this._container[REMOVE_FLAG])\n            removeContainer(this._container);\n        this.emit(ChartEvent.AFTER_DESTROY);\n    }\n    forceFit() {\n        // Don't fit if size do not change.\n        this.options['autoFit'] = true;\n        const { width, height } = sizeOf(this.options(), this._container);\n        if (width === this._width && height === this._height) {\n            return Promise.resolve(this);\n        }\n        // Don't call changeSize to prevent update width and height of options.\n        this.emit(ChartEvent.BEFORE_CHANGE_SIZE);\n        const finished = this.render();\n        finished.then(() => {\n            this.emit(ChartEvent.AFTER_CHANGE_SIZE);\n        });\n        return finished;\n    }\n    changeSize(width, height) {\n        if (width === this._width && height === this._height) {\n            return Promise.resolve(this);\n        }\n        this.emit(ChartEvent.BEFORE_CHANGE_SIZE);\n        this.attr('width', width);\n        this.attr('height', height);\n        const finished = this.render();\n        finished.then(() => {\n            this.emit(ChartEvent.AFTER_CHANGE_SIZE);\n        });\n        return finished;\n    }\n    _create() {\n        const { library } = this._context;\n        // @todo After refactor component as mark, remove this.\n        const isMark = (key) => key.startsWith('mark.') ||\n            key === 'component.axisX' ||\n            key === 'component.axisY' ||\n            key === 'component.legends';\n        const marks = [\n            'mark.mark',\n            ...Object.keys(library).filter(isMark),\n        ];\n        // Create mark generators.\n        this._marks = {};\n        for (const key of marks) {\n            const name = key.split('.').pop();\n            class Mark extends MarkNode {\n                constructor() {\n                    super({}, name);\n                }\n            }\n            this._marks[name] = Mark;\n            this[name] = function (composite) {\n                const node = this.append(Mark);\n                if (name === 'mark')\n                    node.type = composite;\n                return node;\n            };\n        }\n        // Create composition generators.\n        const compositions = [\n            'composition.view',\n            ...Object.keys(library).filter((key) => key.startsWith('composition.') && key !== 'composition.mark'),\n        ];\n        this._compositions = Object.fromEntries(compositions.map((key) => {\n            const name = key.split('.').pop();\n            let Composition = class Composition extends CompositionNode {\n                constructor() {\n                    super({}, name);\n                }\n            };\n            Composition = __decorate([\n                defineProps(nodeProps(this._marks))\n            ], Composition);\n            return [name, Composition];\n        }));\n        for (const Ctor of Object.values(this._compositions)) {\n            defineProps(nodeProps(this._compositions))(Ctor);\n        }\n        for (const key of compositions) {\n            const name = key.split('.').pop();\n            this[name] = function () {\n                const Composition = this._compositions[name];\n                this.type = null;\n                return this.append(Composition);\n            };\n        }\n    }\n    _reset() {\n        const KEYS = ['theme', 'type', 'width', 'height', 'autoFit'];\n        this.type = 'view';\n        this.value = Object.fromEntries(Object.entries(this.value).filter(([key]) => key.startsWith('margin') ||\n            key.startsWith('padding') ||\n            key.startsWith('inset') ||\n            KEYS.includes(key)));\n        this.children = [];\n    }\n    _renderTrailing() {\n        if (!this._trailing)\n            return;\n        this._trailing = false;\n        this.render()\n            .then(() => {\n            const trailingResolve = this._trailingResolve.bind(this);\n            this._trailingResolve = null;\n            trailingResolve(this);\n        })\n            .catch((error) => {\n            const trailingReject = this._trailingReject.bind(this);\n            this._trailingReject = null;\n            trailingReject(error);\n        });\n    }\n    _createResolve(resolve) {\n        return () => {\n            this._rendering = false;\n            resolve(this);\n        };\n    }\n    _createReject(reject) {\n        return (error) => {\n            this._rendering = false;\n            reject(error);\n        };\n    }\n    // Update actual size and key.\n    _computedOptions() {\n        const options = this.options();\n        const { key = G2_CHART_KEY } = options;\n        const { width, height, depth } = sizeOf(options, this._container);\n        this._width = width;\n        this._height = height;\n        this._key = key;\n        return Object.assign(Object.assign({ key: this._key }, options), { width, height, depth });\n    }\n    // Create canvas if it does not exist.\n    // DragAndDropPlugin is for interaction.\n    // It is OK to register more than one time, G will handle this.\n    _createCanvas() {\n        const { width, height } = sizeOf(this.options(), this._container);\n        this._plugins.push(new DragAndDropPlugin());\n        this._plugins.forEach((d) => this._renderer.registerPlugin(d));\n        this._context.canvas = new GCanvas({\n            container: this._container,\n            width,\n            height,\n            renderer: this._renderer,\n        });\n    }\n    _addToTrailing() {\n        var _a;\n        // Resolve previous promise, and give up this task.\n        (_a = this._trailingResolve) === null || _a === void 0 ? void 0 : _a.call(this, this);\n        // Create new task.\n        this._trailing = true;\n        const promise = new Promise((resolve, reject) => {\n            this._trailingResolve = resolve;\n            this._trailingReject = reject;\n        });\n        return promise;\n    }\n    _bindAutoFit() {\n        const options = this.options();\n        const { autoFit } = options;\n        if (this._hasBindAutoFit) {\n            // If it was bind before, unbind it now.\n            if (!autoFit)\n                this._unbindAutoFit();\n            return;\n        }\n        if (autoFit) {\n            this._hasBindAutoFit = true;\n            window.addEventListener('resize', this._onResize);\n        }\n    }\n    _unbindAutoFit() {\n        if (this._hasBindAutoFit) {\n            this._hasBindAutoFit = false;\n            window.removeEventListener('resize', this._onResize);\n        }\n    }\n}\n//# sourceMappingURL=runtime.js.map","import { corelib, plotlib, graphlib, geolib, stdlib } from './lib';\nimport { extend, Runtime } from './api';\nexport { corelib, plotlib, graphlib, geolib, stdlib };\nexport * from './exports';\n/**\n * G2 standard library initial all the libs except 3D and auto.\n */\nconst library = Object.assign({}, stdlib());\nexport const Chart = extend(Runtime, library);\n//# sourceMappingURL=index.js.map","import { corelib } from './core';\nimport { geolib } from './geo';\nimport { graphlib } from './graph';\nimport { plotlib } from './plot';\nexport function stdlib() {\n    return Object.assign(Object.assign(Object.assign(Object.assign({}, geolib()), graphlib()), plotlib()), corelib());\n}\n//# sourceMappingURL=std.js.map","import { GeoView } from '../composition/geoView';\nimport { GeoPath } from '../composition/geoPath';\nexport function geolib() {\n    return {\n        'composition.geoView': GeoView,\n        'composition.geoPath': GeoPath,\n    };\n}\n//# sourceMappingURL=geo.js.map","import { Sankey, Treemap, Pack, ForceGraph, Tree, Chord } from '../mark';\nimport { Arc, Cluster } from '../data';\nexport function graphlib() {\n    return {\n        'data.arc': Arc,\n        'data.cluster': Cluster,\n        'mark.forceGraph': ForceGraph,\n        'mark.tree': Tree,\n        'mark.pack': Pack,\n        'mark.sankey': Sankey,\n        'mark.chord': Chord,\n        'mark.treemap': Treemap,\n    };\n}\n//# sourceMappingURL=graph.js.map","import { Boxplot, WordCloud, Gauge, Liquid } from '../mark';\nimport { Venn } from '../data';\nexport function plotlib() {\n    return {\n        'data.venn': Venn,\n        'mark.boxplot': Boxplot,\n        'mark.gauge': Gauge,\n        'mark.wordCloud': WordCloud,\n        'mark.liquid': Liquid,\n    };\n}\n//# sourceMappingURL=plot.js.map","import { Cartesian, Polar, Transpose, Theta, Parallel, Fisheye, Radial, Radar, } from '../coordinate';\nimport { Constant, Field, Transform, Column } from '../encode';\nimport { Cell, Interval, Rect, Line, Point, Text, Area, Image, Polygon, Box, Vector, Link, LineX, LineY, Connector, Range, RangeX, RangeY, Path, Shape, Density, Heatmap, WordCloud as WordCloudGeometry, } from '../mark';\nimport { Category10, Category20 } from '../palette';\nimport { Linear as ScaleLinear, Ordinal as ScaleOrdinal, Band as ScaleBand, Identity as ScaleIdentity, Point as ScalePoint, Time as ScaleTime, Log as ScaleLog, Pow as ScalePow, Threshold as ScaleThreshold, Quantile as ScaleQuantile, Quantize as ScaleQuantize, Sqrt as ScaleSqrt, Sequential as ScaleSequential, Constant as ScaleConstant, } from '../scale';\nimport { Classic, ClassicDark, Academy, Light, Dark } from '../theme';\nimport { AxisX, AxisY, LegendCategory, LegendContinuous, TitleComponent, SliderX, SliderY, ScrollbarX, ScrollbarY, Legends, } from '../component';\nimport { ScaleInX, ScaleOutX, ScaleInY, ScaleOutY, WaveIn, FadeIn, FadeOut, Morphing, ZoomIn, ZoomOut, PathIn, GrowInX, GrowInY, } from '../animation';\nimport { ElementHighlight, ElementHighlightByX, ElementHighlightByColor, ElementSelect, ElementSelectByX, ElementSelectByColor, ChartIndex, Fisheye as ChartFisheye, Tooltip, LegendFilter, LegendHighlight, BrushHighlight, BrushXHighlight, BrushYHighlight, BrushAxisHighlight, BrushFilter, BrushXFilter, BrushYFilter, SliderFilter, Poptip, ScrollbarFilter, TreemapDrillDown, ElementPointMove, } from '../interaction';\nimport { SpaceLayer, SpaceFlex, FacetRect, FacetCircle, RepeatMatrix, TimingKeyframe, } from '../composition';\nimport { StackY, DodgeX, StackEnter, NormalizeY, Jitter, JitterX, JitterY, SymmetryY, DiffY, Select, SelectX, SelectY, GroupX, Group, SortX, FlexX, SortY, GroupY, GroupColor, SortColor, Pack, BinX, Bin, Sample, Filter, } from '../transform';\nimport { Fetch as DataFetch, SortBy as DataSortBy, Filter as DataFilter, Map as DataMap, Pick as DataPick, Rename as DataRename, Fold as DataFold, Slice as DataSlice, Inline as DataInline, Custom as DataCustom, Join as DataJoin, Sort as DataSort, KDE as DataKDE, Log as DataLog, EMA as DataEMA, WordCloud, } from '../data';\nimport { OverlapDodgeY, OverflowHide, ContrastReverse, OverlapHide, ExceedAdjust, } from '../label-transform';\nexport function corelib() {\n    return {\n        'data.fetch': DataFetch,\n        'data.inline': DataInline,\n        'data.sortBy': DataSortBy,\n        'data.sort': DataSort,\n        'data.filter': DataFilter,\n        'data.pick': DataPick,\n        'data.rename': DataRename,\n        'data.fold': DataFold,\n        'data.slice': DataSlice,\n        'data.custom': DataCustom,\n        'data.map': DataMap,\n        'data.join': DataJoin,\n        'data.kde': DataKDE,\n        'data.log': DataLog,\n        'data.wordCloud': WordCloud,\n        'data.ema': DataEMA,\n        'transform.stackY': StackY,\n        'transform.binX': BinX,\n        'transform.bin': Bin,\n        'transform.dodgeX': DodgeX,\n        'transform.jitter': Jitter,\n        'transform.jitterX': JitterX,\n        'transform.jitterY': JitterY,\n        'transform.symmetryY': SymmetryY,\n        'transform.diffY': DiffY,\n        'transform.stackEnter': StackEnter,\n        'transform.normalizeY': NormalizeY,\n        'transform.select': Select,\n        'transform.selectX': SelectX,\n        'transform.selectY': SelectY,\n        'transform.groupX': GroupX,\n        'transform.groupY': GroupY,\n        'transform.groupColor': GroupColor,\n        'transform.group': Group,\n        'transform.sortX': SortX,\n        'transform.sortY': SortY,\n        'transform.sortColor': SortColor,\n        'transform.flexX': FlexX,\n        'transform.pack': Pack,\n        'transform.sample': Sample,\n        'transform.filter': Filter,\n        'coordinate.cartesian': Cartesian,\n        'coordinate.polar': Polar,\n        'coordinate.transpose': Transpose,\n        'coordinate.theta': Theta,\n        'coordinate.parallel': Parallel,\n        'coordinate.fisheye': Fisheye,\n        'coordinate.radial': Radial,\n        'coordinate.radar': Radar,\n        'encode.constant': Constant,\n        'encode.field': Field,\n        'encode.transform': Transform,\n        'encode.column': Column,\n        'mark.interval': Interval,\n        'mark.rect': Rect,\n        'mark.line': Line,\n        'mark.point': Point,\n        'mark.text': Text,\n        'mark.cell': Cell,\n        'mark.area': Area,\n        'mark.link': Link,\n        'mark.image': Image,\n        'mark.polygon': Polygon,\n        'mark.box': Box,\n        'mark.vector': Vector,\n        'mark.lineX': LineX,\n        'mark.lineY': LineY,\n        'mark.connector': Connector,\n        'mark.range': Range,\n        'mark.rangeX': RangeX,\n        'mark.rangeY': RangeY,\n        'mark.path': Path,\n        'mark.shape': Shape,\n        'mark.density': Density,\n        'mark.heatmap': Heatmap,\n        'mark.wordCloud': WordCloudGeometry,\n        'palette.category10': Category10,\n        'palette.category20': Category20,\n        'scale.linear': ScaleLinear,\n        'scale.ordinal': ScaleOrdinal,\n        'scale.band': ScaleBand,\n        'scale.identity': ScaleIdentity,\n        'scale.point': ScalePoint,\n        'scale.time': ScaleTime,\n        'scale.log': ScaleLog,\n        'scale.pow': ScalePow,\n        'scale.sqrt': ScaleSqrt,\n        'scale.threshold': ScaleThreshold,\n        'scale.quantile': ScaleQuantile,\n        'scale.quantize': ScaleQuantize,\n        'scale.sequential': ScaleSequential,\n        'scale.constant': ScaleConstant,\n        'theme.classic': Classic,\n        'theme.classicDark': ClassicDark,\n        'theme.academy': Academy,\n        'theme.light': Light,\n        'theme.dark': Dark,\n        'component.axisX': AxisX,\n        'component.axisY': AxisY,\n        'component.legendCategory': LegendCategory,\n        'component.legendContinuous': LegendContinuous,\n        'component.legends': Legends,\n        'component.title': TitleComponent,\n        'component.sliderX': SliderX,\n        'component.sliderY': SliderY,\n        'component.scrollbarX': ScrollbarX,\n        'component.scrollbarY': ScrollbarY,\n        'animation.scaleInX': ScaleInX,\n        'animation.scaleOutX': ScaleOutX,\n        'animation.scaleInY': ScaleInY,\n        'animation.scaleOutY': ScaleOutY,\n        'animation.waveIn': WaveIn,\n        'animation.fadeIn': FadeIn,\n        'animation.fadeOut': FadeOut,\n        'animation.zoomIn': ZoomIn,\n        'animation.zoomOut': ZoomOut,\n        'animation.pathIn': PathIn,\n        'animation.morphing': Morphing,\n        'animation.growInX': GrowInX,\n        'animation.growInY': GrowInY,\n        'interaction.elementHighlight': ElementHighlight,\n        'interaction.elementHighlightByX': ElementHighlightByX,\n        'interaction.elementHighlightByColor': ElementHighlightByColor,\n        'interaction.elementSelect': ElementSelect,\n        'interaction.elementSelectByX': ElementSelectByX,\n        'interaction.elementSelectByColor': ElementSelectByColor,\n        'interaction.fisheye': ChartFisheye,\n        'interaction.chartIndex': ChartIndex,\n        'interaction.tooltip': Tooltip,\n        'interaction.legendFilter': LegendFilter,\n        'interaction.legendHighlight': LegendHighlight,\n        'interaction.brushHighlight': BrushHighlight,\n        'interaction.brushXHighlight': BrushXHighlight,\n        'interaction.brushYHighlight': BrushYHighlight,\n        'interaction.brushAxisHighlight': BrushAxisHighlight,\n        'interaction.brushFilter': BrushFilter,\n        'interaction.brushXFilter': BrushXFilter,\n        'interaction.brushYFilter': BrushYFilter,\n        'interaction.sliderFilter': SliderFilter,\n        'interaction.scrollbarFilter': ScrollbarFilter,\n        'interaction.poptip': Poptip,\n        'interaction.treemapDrillDown': TreemapDrillDown,\n        'interaction.elementPointMove': ElementPointMove,\n        'composition.spaceLayer': SpaceLayer,\n        'composition.spaceFlex': SpaceFlex,\n        'composition.facetRect': FacetRect,\n        'composition.repeatMatrix': RepeatMatrix,\n        'composition.facetCircle': FacetCircle,\n        'composition.timingKeyframe': TimingKeyframe,\n        'labelTransform.overlapHide': OverlapHide,\n        'labelTransform.overlapDodgeY': OverlapDodgeY,\n        'labelTransform.overflowHide': OverflowHide,\n        'labelTransform.contrastReverse': ContrastReverse,\n        'labelTransform.exceedAdjust': ExceedAdjust,\n    };\n}\n//# sourceMappingURL=core.js.map","export function extend(Runtime, library) {\n    class Chart extends Runtime {\n        constructor(options) {\n            super(Object.assign(Object.assign({}, options), { lib: library }));\n        }\n    }\n    return Chart;\n}\n//# sourceMappingURL=extend.js.map","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using Polak–Ribiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","var capitalize = require('./capitalize'),\n    createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the camel cased string.\n * @example\n *\n * _.camelCase('Foo Bar');\n * // => 'fooBar'\n *\n * _.camelCase('--foo-bar--');\n * // => 'fooBar'\n *\n * _.camelCase('__FOO_BAR__');\n * // => 'fooBar'\n */\nvar camelCase = createCompounder(function(result, word, index) {\n  word = word.toLowerCase();\n  return result + (index ? capitalize(word) : word);\n});\n\nmodule.exports = camelCase;\n","var toString = require('./toString'),\n    upperFirst = require('./upperFirst');\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst(toString(string).toLowerCase());\n}\n\nmodule.exports = capitalize;\n","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n"],"names":["t","x","r","Symbol","iterator","n","e","call","length","next","value","done","TypeError","k","o","a","i","push","error","return","O","arguments","Array","prototype","slice","concat","q","C","toString","W","isArray","B","Object","getPrototypeOf","$","z","values","u","hasOwnProperty","E","A","apply","this","cache","has","get","set","Map","fontSize","fontFamily","fontWeight","fontStyle","fontVariant","document","createElement","getContext","font","join","measureText","width","P","Float32Array","g","Math","hypot","sqrt","J","s","l","h","c","p","f","d","v","m","y","R","L","M","w","b","U","reduce","_","V","PI","G","H","Q","X","max","floor","log","LN10","Y","ceil","Z","Number","isNaN","tt","rescale","initRange","nice","chooseTransforms","composeOutput","chooseClamp","options","range","domain","interpolator","round","getOptions","map","output","invert","exports","rt","splice","Function","getOwnPropertyDescriptor","constructor","name","nt","et","ot","wrap","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","at","it","create","to","min","toUpperCase","substring","toLowerCase","hsl","hwb","rgb","model","match","parseInt","parseFloat","hex","percent","keyword","ut","st","lt","ht","ct","initKey","pt","valueOf","ft","super","delete","dt","getDefaultOptions","update","gt","vt","from","mapper","notFoundReturn","mt","Date","JSON","stringify","yt","unknown","domainIndexMap","size","getDomain","domainKey","getRange","rangeIndexMap","rangeKey","clear","compare","sortedDomain","clone","sort","Mt","paddingOuter","paddingInner","flex","align","fill","valueBandWidth","valueStep","adjustedRange","wt","padding","getStep","getBandWidth","getPaddingInner","getPaddingOuter","isFinite","bt","xt","reverse","kt","Ot","clamp","interpolate","tickCount","input","getTickMethodOptions","chooseNice","getTicks","composeInput","tickMethod","At","jt","substr","I","j","dayNamesShort","dayNames","monthNamesShort","monthNames","amPm","DoFn","It","Reflect","decorate","defineProperty","St","Ft","transform","untransform","Dt","Pt","Rt","cos","sin","pow","atan2","Tt","Kt","S","Nt","qt","Ct","Wt","Bt","$t","zt","Et","F","D","T","Jt","Lt","Ut","_t","Vt","Gt","Ht","Qt","K","height","transformations","transformers","cartesian","translate","custom","matrix","polar","transpose","scale","reflect","rotate","helix","parallel","fisheye","N","depth","cartesian3D","translate3D","scale3D","transpose3D","recoordinate","getSize","getCenter","compose","createMatrixTransform","forEach","Coordinate","Coordinate3D","Cartesian","props","getPolarOptions","defaultOptions","startAngle","endAngle","innerRadius","outerRadius","polarOption","assign","Polar","Transpose","Theta","getThetaOptions","Parallel","Fisheye","focusX","focusY","distortionX","distortionY","visual","getRadialOptions","Radial","Radar","Constant","data","Field","Transform","Column","type","proto","hasOwn","object","property","_deepMix","dist","src","level","maxLevel","key","undefined","rst","args","_i","column","field","inferredColumn","inferred","visualColumn","nonConstantColumn","constant","array","columnOf","encode","channel","maybeColumnOf","KV","fv","isObject","MaybeZeroY1","mark","y1","MaybeZeroX","guide","arcInnerRadius","arcOuterRadius","arcStartAngle","arcEndAngle","arcPadAngle","padAngle","cornerTangents","x0","y0","x1","r1","rc","cw","x01","y01","lo","ox","oy","x11","y11","x10","y10","x00","y00","dx","dy","d2","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","context","path","arc","buffer","r0","a0","a1","da","moveTo","t0","t1","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","pi","x2","y2","x3","y3","x32","y32","intersect","ax","ay","bx","by","kc","lc","lineTo","closePath","centroid","isTranspose","coordinate","filter","isPolar","some","isRadial","startsWith","isHelix","isParallel","isFisheye","isCircular","isTheta","radiusOf","find","angleOf","isRadius","group","keys","nest","groups","rollup","rollups","regroup","keyof","index","isNil","str","charAt","__awaiter","thisArg","_arguments","generator","Promise","resolve","reject","fulfilled","step","rejected","result","adopt","then","fns","composed","fn","capitalizeFirst","replace","message","Error","copyAttributes","target","source","attributes","exclude","Set","entries","attr","defined","useMemo","compute","subObject","obj","prefix","maybeSubObject","trim","fromEntries","omitPrefixObject","prefixes","every","maybePercentage","px","isStrictObject","isUnset","deepAssign","node","Selection","ownerDocument","elements","parent","selections","transitions","updateElements","_elements","_data","_parent","_document","_enter","_update","_exit","_merge","_split","_transitions","_facetElements","selectAll","selector","querySelectorAll","selectFacetAll","select","element","append","callback","datum","newElement","__data__","__fromElements__","appendChild","maybeAppend","id","className","child","getElementById","newChild","groupId","enter","exit","merge","split","keyElement","keyUpdateElement","groupKeyElements","groupKey","__facet__","__toData__","add","other","Ctor","registry","remove","newEnter","newUpdate","newExit","newMerge","newSplit","transition","all","finished","each","style","on","event","handler","addEventListener","nodes","sub","angle","angleWithQuadrant","angleBetween","v0","v1","calcBBox","points","minX","Infinity","maxX","minY","maxY","mid","lower","upper","prettyNumber","precision","abs","toFixed","rect","circle","text","ellipse","image","line","polygon","polyline","html","isNumber","extent","valueof","mapObject","callbackfn","indexOf","firstOf","lastOf","divide","item","comb","len","applyStyle","selection","appendArc","center","radius","computeGradient","mode","tpShape","theta","getTheta","percentage","gradientMode","between","start","end","gradient","reorder","p2","p3","getArcObject","a2","a3","toOpacityKey","colorAttribute","opacityAttribute","getTransform","suffix","getOrigin","z0","z2","__rest","getOwnPropertySymbols","propertyIsEnumerable","inset","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight","rest","finalX","finalY","finalWidth","finalHeight","clampWidth","clampHeight","clampX","clampY","arcObject","Color","first","last","defaults","color","defaultColor","defaultRadius","restDefaults","defaultLineWidth","lineWidth","stroke","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","opacity","standardDirRadius","standardDir","shift","extendedStyle","defaultEnterAnimation","defaultUpdateAnimation","defaultExitAnimation","Rect","defaultMarker","Hollow","getFunnelPoints","nextPoints","Funnel","adjustPoints","point2d","funnelPoints","curve","getPyramidPoints","Pyramid","fillZero","digit","String","padStart","dynamicFormatDateTime","date","yyyyMMDD","getFullYear","getMonth","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","tooltip","title","titles","items","newItems","flatMap","aggregate","MaybeKey","baseChannels","shapes","scaleKey","baseGeometryChannels","tooltip2d","tooltip1d","baseAnnotationChannels","basePreInference","bandWidth","createBandOffset","series","bandOffset","bandOffsetX","bandOffsetY","isBandX","isBandY","isSeries","widthX","widthY","offset","visualMark","innerWidth","innerHeight","initializeData","links","LS","LT","LV","shape","hollow","funnel","pyramid","Interval","Y1","SZ","NSZ","x1x2","mx","groupWidth","defaultShape","defaultLabelShape","composite","channels","required","preInference","postInference","interaction","shareTooltip","X1","curveRadialLinear","curveRadial","_curve","radial","lineRadial","descriptor","render","connectedCallback","draw","attributeChangedCallback","areaStart","areaEnd","lineStart","lineEnd","point","DoublePath","d1","style1","style2","Curve","gradientColor","connect","connectNulls","defaultSize","seriesColor","sc","seriesX","sx","seriesY","sy","finalStyle","linePath","idx","DP","MS","definedPoints","segments","dp","segmentation","connectStyle","missing","Line","params","that","_context","bezierCurveTo","_x1","_k","_x2","_x0","_y1","_y2","_y0","Cardinal","tension","_line","NaN","_point","cardinal","CardinalClosed","noop","_x3","_x4","_x5","_y3","_y4","_y5","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","catmullRom","CatmullRomClosed","Smooth","HV","VH","HVH","s0","s1","r2","r3","r4","x4","x5","x6","x7","x8","x9","arcTo","Trail","seriesSize","MaybeGradient","MaybeSeries","fc","smooth","hv","vh","hvh","trail","_a","_b","xoffset","yoffset","PV","vector","pv","vectors","independent","seriesTooltip","crosshairs","hollowPoint","bind","square","hollowSquare","diamond","hr","hollowDiamond","triangle","diffY","hollowTriangle","triangleDown","hollowTriangleDown","hexagon","diffX","hollowHexagon","bowtie","hollowBowtie","cross","tick","plus","hyphen","dot","dash","vhv","Symbols","symbol","finalLineWidth","finalRadius","HollowPoint","HollowDiamond","HollowHexagon","HollowSquare","HollowTriangleDown","HollowTriangle","HollowBowtie","BaseCircle","Circle","HollowCircle","Point","Plus","Diamond","Square","Triangle","Hexagon","Cross","Bowtie","Hyphen","Tick","TriangleDown","MaybeZeroY","MaybeSize","hollowCircle","DX","DY","xy","quantitative","getConnectorPoint","getLocalBounds","Advance","class","_c","labelTransform","labelTransformOrigin","background","connector","startMarker","endMarker","coordCenter","innerHTML","children","backgroundStyle","_d","controlPoints","connectorStyle","textShape","transformOrigin","textBaseline","top","right","bottom","left","container","parentNode","getEulerAngles","setEulerAngles","halfExtents","hw","hh","inferBackgroundBounds","connectorPath","control","inflection","inferConnectorPath","markerStart","markerEnd","Text","textStyle","BadgeShape","markerStyle","p0x","p0y","p1x","p1y","p2x","p2y","getPath","bgShape","inferTextPosition","Badge","Tag","textAlign","MaybeTuple","position","MaybeVisualPosition","restMark","badge","tag","MaybeZeroPadding","cell","Cell","DoubleArea","areaPath","connectPath","areaStyle","definedPointsY1","definedPointsY0","dpy1","dpy0","getPathNode","areaRadialPath","Y0","lineX0","lineX1","lineY0","lineY1","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","areaRadial","Area","area","SI","MaybeIdentityY","MaybeIdentityX","Vector","arrow","arrowSize","arrow1","arrow2","arrowAngle","arrowAngle1","arrowAngle2","arrowPoints","Link","Arc","quadraticCurveTo","VHV","cornerRatio","ratio","getVHVPath","link","Polygon","closedPoints","dists","curr","currDist","prev","prevDist","appendPolygon","getPolygonPath","Ribbon","getRibbonPath","ribbon","Xn","Yn","Pn","Box","radiusHigh","radiusQ3","radiusMedian","radiusQ1","radiusLow","Violin","middleAngle","rectAngle","asin","box","violin","Y2","Y3","y4","Y4","xScale","low","q1","median","q3","high","vx","vy","shapeTheme","arrowMarker","arrowStyle","getArrowMarker","MaybeTupleX","LineX","MaybeTupleY","LineY","inferSymbol","Connector","offset1","offset2","connectLength1","length1","X0","getPoints","makerStyle","extend","extended","C1","AbstractRange","extendX","extendY","Range","MaybeDefaultX","extractX","RangeX","MaybeDefaultY","extractY","RangeY","Path","Shape","MaybeFunctionAttribute","Density","density","SZn","num","limit","keep","reset","isPartial","val","flru","newCanvas","createCanvas","getPointTemplate","keyFn","maxSize","lru","blurFactor","tplCanvas","tplCtx","beginPath","fillStyle","createRadialGradient","addColorStop","fillRect","HeatmapRenderer","opts","blur","minOpacity","maxOpacity","shadowCtx","palette","gradientConfig","paletteCtx","createLinearGradient","stop","parseGradient","getImageData","getColorPalette","clearRect","rectX","rectY","tpl","templateAlpha","globalAlpha","drawImage","drawAlpha","img","maxHeight","useGradientOpacity","imgData","finalAlpha","colorize","ctx","putImageData","Heatmap","canvas","heatmap","WordCloud","layout","resOptions","initializedData","axis","Category10","Category20","Linear","Ordinal","Band","arr","DEFAULT_Q","eps","EPSILON","simplicity","lmin","lmax","lstep","mod","simplicityMax","dMin","dMax","lMin","lMax","densityMax","coverage","coverageMax","span","wilkinsonExtended","onlyLoose","best","score","sm","dm","delta","log10","cm","minStart","maxStart","count","lStep","ticks","Identity","token","twoDigitsOptional","twoDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","args_1","defaultI18n","dayOfMonth","globalI18n","pad","formatFlags","dateObj","DD","Do","getDay","dd","ddd","dddd","MM","MMM","MMMM","YY","YYYY","HH","mm","ss","getMilliseconds","SS","SSS","ZZ","getTimezoneOffset","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","globalMasks","default","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","format","mask","getTime","literals","$0","$1","combinedI18nSettings","DURATION_SECOND","DURATION_MINUTE","DURATION_HOUR","DURATION_DAY","DURATION_WEEK","DURATION_MONTH","DURATION_YEAR","createInterval","duration","floorish","offseti","floori","test","adjust","shouldAdjust","roundStep","millisecond","setTime","second","setMilliseconds","minute","setSeconds","setMinutes","day","setHours","month","setDate","setMonth","week","year","setFullYear","localIntervalMap","utcMillisecond","utcSecond","setUTCMilliseconds","getUTCSeconds","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","getUTCDate","utcMonth","setUTCDate","getUTCMonth","setUTCMonth","utcWeek","getUTCDay","utcYear","getUTCFullYear","setUTCFullYear","utcIntervalMap","findTickInterval","interval","utc","hi","tickIntervals","intervalMap","chooseTickIntervals","getter","targetCount","targetInterval","bisect","matchInterval","closeToLow","timeInterval","targetStep","d3Time","tickInterval","d3TimeNice","minuteOffset","Time","getFormatter","maskMap","time","chooseNiceTimeMask","logs","base","shouldReflect","baseCache","log2","pows","exp","d3Log","d3LogNice","niceDomain","Log","transformSqrt","Pow","exponent","transformPow","transformPowInvert","Sqrt","Threshold","thresholds","quantileSorted","i0","Quantile","isSorted","numberArr","tmp","createQuartile","getThresholds","lastIndex","Quantize","Sequential_1","__decorate","decorators","desc","Sequential","rangeOf","normalizeDomain","Scale","normalize","res","createInterpolatorRound","interpolatize","d0","colorDefault","colorBlack","colorWhite","colorStroke","colorBackground","padding1","padding2","padding3","alpha90","alpha65","alpha45","alpha25","alpha10","category10","category20","sizeDefault","margin","delay","view","viewFill","plotFill","mainFill","contentFill","strokeOpacity","lineCap","fillOpacity","connectorStroke","connectorStrokeOpacity","connectorLineWidth","backgroundFill","backgroundFillOpacity","backgroundPadding","startMarkerSymbol","startMarkerSize","endMarkerSymbol","endMarkerSize","markerFill","markerFillOpacity","markerStrokeOpacity","lineX","lineY","rangeX","rangeY","endMarkerFill","endMarkerFillOpacity","gridLineDash","gridLineWidth","gridStroke","gridStrokeOpacity","labelAlign","labelFill","labelOpacity","labelFontSize","labelFontWeight","labelSpacing","lineLineWidth","lineStroke","lineStrokeOpacity","tickLength","tickLineWidth","tickStroke","tickOpacity","titleFill","titleOpacity","titleFontSize","titleFontWeight","titleSpacing","titleTransformOrigin","lineArrowOffset","lineArrowSize","axisTop","gridDirection","labelDirection","tickDirection","titlePosition","titleTextBaseline","axisBottom","titleTransform","axisLeft","titleDirection","axisRight","axisLinear","girdClosed","gridConnect","gridType","axisArc","axisRadar","label","legendCategory","itemBackgroundFill","itemLabelFill","itemLabelFillOpacity","itemLabelFontSize","itemLabelFontWeight","itemMarkerFillOpacity","itemMarkerSize","itemSpacing","itemValueFill","itemValueFillOpacity","itemValueFontSize","itemValueFontWeight","navButtonFill","navButtonFillOpacity","navPageNumFill","navPageNumFillOpacity","navPageNumFontSize","titleFillOpacity","tickStrokeOpacity","rowPadding","colPadding","maxRows","maxCols","legendContinuous","handleHeight","handleLabelFill","handleLabelFillOpacity","handleLabelFontSize","handleLabelFontWeight","handleMarkerFill","handleMarkerFillOpacity","handleMarkerLineWidth","handleMarkerStroke","handleMarkerStrokeOpacity","handleWidth","labelFillOpacity","ribbonSize","ribbonFill","handle","handleLabel","handleShape","handleIconSize","indicator","connectorLength","connectorLength2","connectorDistance","innerLabel","htmlLabel","slider","trackSize","trackFill","trackFillOpacity","selectionFill","selectionFillOpacity","handleIconFill","handleIconFillOpacity","handleIconStroke","handleIconStrokeOpacity","handleIconLineWidth","handleIconRadius","scrollbar","isRound","slidable","scrollable","thumbFill","thumbFillOpacity","thumbHighlightedFillOpacity","spacing","subtitleFill","subtitleFillOpacity","subtitleFontSize","subtitleFontWeight","subtitleTextBaseline","css","Light","Classic","Dark","crosshairsStroke","crosshairsLineWidth","crosshairsStrokeOpacity","ClassicDark","Academy","labelStrokeOpacity","titleStrokeOpacity","gridFilter","func","init","includes","querySelector","titleContent","inferComponentLayout","userDefinitions","flexDirection","justifyContent","alignItems","display","G2Layout","subOptions","LegendCategoryLayout","scaleOf","scales","isVertical","orientation","inferComponentShape","component","bbox","userDefinedSize","userDefinedLength","isHorizontal","bboxSize","bboxLength","defaultLength","adaptor","reservedKeys","styles","rotateAxis","eulerAngles","origin","setOrigin","sizeOf","getData","defaultTickFormatter","tickFilter","ticksOf","filteredTicks","labelFormatter","applyInset","createInset","applyFisheye","tickPoint","createFisheye","inferLabelOverlap","labelAutoRotate","labelAutoHide","labelAutoEllipsis","labelAutoWrap","finalTransforms","addToTransforms","overlap","state","optionalAngles","minLength","wordWrapWidth","maxLines","recoveryWhenFail","inferGrid","inferDefaultStyle","theme","direction","themeStyle","baseStyle","positionStyle","channelStyle","inferThemeStyle","axisFactor","useDefinedLabelFormatter","labelFilter","userDefinedLabelFilter","normalizedOptions","LinearAxis","important","order","actualPosition","indexBBox","defaultStyle","internalAxisStyle","gridLength","plane","inferGridLength","overrideStyle","startPos","endPos","innerR","outerR","actualCx","actualCy","getAxisXDomainLength","controllAngleCount","gridClosed","gridCenter","gridControlAngles","inferAxisLinearOverrideStyle","threeDOverrideStyle","tickIsBillboard","lineIsBillboard","labelIsBillboard","titleIsBillboard","gridIsBillboard","infer3DAxisLinearOverrideStyle","labels","finalAxisStyle","crossSize","titleText","labelOverlap","grid","lineOpacity","hasHide","ArcAxis","common","inferArcStyle","axisTheme","omit","defaultPosition","defaultOrder","defaultCrossPadding","defaultPadding","defaultOrientation","AxisX","axisX","crossPadding","AxisY","axisY","inferItemMarker","library","markState","shapeScale","colorScale","shapeScale1","namespace","sum","targetShape","inferShape","itemMarker","marker","useMarker","shapeOf","inferItemMarkerOpacity","inferCategoryStyle","inferItemMarkerSize","itemMarkerOpacity","finalLabelFormatter","domainOf","colorOf","LegendCategory","cols","gridRow","inferLegendShape","finalLayout","legendStyle","gridCol","legendTheme","categoryStyle","layoutWrapper","getNextTickValue","search","v2","CLASS_NAMES","trackGroup","track","selectionGroup","clipPath","getShape","getTrackPath","ch","getSelectionPath","getColor","colors","block","partition","genericColor","getBlockColor","getClipPath","_super","attribute","maybeAppendByClassName","renderTrack","renderSelection","Continuous","_this","eventToOffsetScale","innerRibbonScale","cacheLabelBBox","cacheHandleBBox","onHovering","stopPropagation","getValueByCanvasPoint","getRealSelection","showIndicator","dispatchIndicated","safetyValue","getTickValue","getRealValue","onDragStart","prevValue","onDragging","onDragEnd","updateMouse","currValue","diffValue","updateSelection","cursor","removeEventListener","ifHorizontal","enumerable","configurable","getBBox","showLabel","renderTitle","availableSpace","contentGroup","labelGroup","zIndex","renderLabel","ribbonGroup","handlesGroup","renderHandles","renderRibbon","renderIndicator","adjustLabel","adjustHandles","getMinMax","ribbonScale","defaultValue","showTitle","finalTitleStyle","getAvailableSpace","showTick","vertical","positive","negative","horizontal","labelBBox","labelFixedSpacing","showHandle","userDefinedRibbonSize","availableWidth","availableHeight","labelShape","labelSize","labelLength","availableSize","availableLength","_e","handleSize","handleLength","handleRatio","handleOffsetRatio","labelPosition","edgeLength","ribbonLength","_f","finalLabelOccupy","_g","ribbonBBox","ribbonStyle","ribbonShape","ribbonRange","getHandleClassName","handleStyle","HandleCtor","labelText","setHandlePosition","startHandle","startHandleWidth","startHandleHeight","endHandle","endHandleWidth","endHandleHeight","handleBBox","handleFormatter","ribbonX","ribbonY","getOffset","formatter","acc","cr","nx","midVal","labelTextAlign","labelTextBaseline","tickStyle","labelStyle","showLine","showGrid","labelData","functionStyle","finalLabelStyle","definedTickLength","internalVal","labelAxisStyle","axisOffset","axisSpacing","axisTickLength","bindEvents","hideIndicator","safeValue","pos","setSelection","stVal","endVal","isOffset","currSt","currEnd","dispatchSelection","getPosition","ribbonLen","evt","detail","dispatchEvent","getQuantizeOrQuantileConfig","getLinearConfig","sizeScale","opacityScale","definedScale","newScale","createColorScale","domainMin","domainMax","inferContinuousConfig","finalSize","updateShapeDimensions","inferContinuousShape","getThresholdConfig","LegendContinuous","defaultLegendSize","Legends","inferStyleByAlign","Title","subtitle","titleStyle","subtitleStyle","bounds","config","cfg","TitleComponent","ascending","descending","bisector","compare1","compare2","zero","ascendingBisect","bisectRight","bisectLeft","bisectCenter","Uint32Array","ascendingDefined","permute","compareDefined","isOrdinalScale","i1","constrain","ratioX","selectionOf","scaleX","scaleY","abstractDomain","abstractOf","maybeStep","Slider","sliderTheme","defaultFormatter","inferPosition","trackLength","sparklineData","inferSparklineData","markValue","SliderX","SliderY","Scrollbar","thumbCursor","onValueChange","oldValue","newValue","evtVal","onTrackClick","getLocalPosition","basePos","getOrientVal","setValue","onThumbMouseenter","onTrackMouseenter","onThumbMouseleave","onTrackMouseleave","viewportLength","thumbRadius","getValues","unit","contentLength","getValue","renderSlider","trackStyle","selectionStyle","brushable","selectionRadius","trackRadius","animate","setValues","onHover","scrollbarTheme","mainSize","actualSize","value1","ScrollbarX","ScrollbarY","ScaleInX","keyframes","trimStart","ScaleOutX","ScaleInY","ZERO","registerProperty","inherits","initialValue","interpolable","syntax","NUMBER","pathForConversion","createArcPath","arcParams","scaleInYRadius","animation","onframe","onfinish","PolarScaleInY","RectangularScaleInY","ScaleOutY","WaveIn","waveInArcAngle","FadeIn","FadeOut","ZoomIn","ZoomOut","PathIn","getTotalLength","lineDash","isString","keyArr","DEFAULT_ATTRIBUTE_VALUE","rx","ry","GEOMETRY_ATTRIBUTES","CIRCLE","ELLIPSE","RECT","IMAGE","LINE","POLYLINE","POLYGON","attributeOf","useDefaultValue","attributeKeys","localBBoxOf","pack","aspect","col","replaceChild","oldChild","markType","hasUniqueString","pattern","lastIndexOf","shape2path","hasSubPath","hasMarker","nodeName","oneToOne","timeEffect","fromName","toName","fromPath","toPath","isSameNodes","hasNonPathNode","isPathWithMarker","fromTransform","toTransform","GROUP","w0","h0","w1","h1","shapeToShape","pathShape","maybePath","Morphing","normalizeSplit","fl","tl","visibility","oneToMultiple","animations","multipleToOne","GrowInX","GrowInY","MAIN_LAYER_CLASS_NAME","LABEL_LAYER_CLASS_NAME","ELEMENT_CLASS_NAME","VIEW_CLASS_NAME","PLOT_CLASS_NAME","COMPONENT_CLASS_NAME","LABEL_CLASS_NAME","AREA_CLASS_NAME","getStyle","setStyle","recursive","hide","show","selectG2Elements","root","__removed__","selectFacetG2Elements","viewInstances","selectFacetViews","parentKey","selectPlotArea","bboxOf","tagName","getRenderBounds","getGeometryBounds","aabb","setFromTransformedAABB","getWorldTransform","mousePosition","offsetX","offsetY","brushMousePosition","boundsOfBrushArea","createColorKey","createXKey","createDatumof","views","keyData","keyed","markKey","viewKey","useState","setAttribute","STATES","ORIGINAL","updateState","states","original","stateStyle","mixedStyle","currentValue","initState","setState","removeState","hasState","mergeState","marks","merged","selectedState","createValueof","elementIndex","fa","renderLink","pointsOf","pathPointsOf","P0","P1","sortedElements","e0","e1","getAttribute","offsetTransform","amid","renderBackground","BACKGROUND_CLASS_NAME","extentOf","half","bandShapeOf","e2","sizeXOf","sizeYOf","cloneShapeOf","cloneNode","isOrdinalShape","setCursor","dom","getRootNode","defaultView","getContextService","getDomElement","restoreCursor","selectElementByData","getPointsR","nextPoint","getPointsPath","isClose","getElements","plot","maybeRoot","rootOf","elementHighlight","elementsof","emitter","elementSet","keyGroup","appendLink","removeLink","active","appendBackground","removeBackground","isBackground","elementStyle","out","pointerover","nativeEvent","clearTimeout","groupSet","emit","unhighlighted","pointerout","setTimeout","pointerleave","onRest","onHighlight","off","ElementHighlight","createGroup","ElementHighlightByX","ElementHighlightByColor","reapplyWhenUpdate","elementSelect","single","selected","click","singleSelect","hasSelectedGroup","multipleSelect","onSelect","selectedData","onUnSelect","ElementSelect","ElementSelectByX","ElementSelectByColor","wait","timeout","previous","later","leading","now","throttled","remaining","trailing","cancel","plotArea","updateFocus","throttle","focus","clonedOptions","preserve","newFisheye","maybeCoordinate","ChartIndex","markName","sortedX","lines","getElementsByClassName","keyLabels","rule","dateByFocus","normalizedX","updateRule","newView","updateBasis","seriesIndex","updateBasisByTranslate","lineMark","normalizeY","newNormalizeY","maybeTransform","groupBy","basis","newState","updateBasisByRerender","minIndex","mean","dataOf","selectedMark","bubblesEvent","eventType","predicate","elementRoot","componentRoot","maybeComponentRoot","babelRoot","maybeLabelRoot","elementType","Event","dblclick","pointertap","pointerdown","pointerup","pointermove","pointerenter","pointerupoutside","dragstart","drag","dragend","dragenter","dragleave","dragover","drop","getContainer","mount","parentElement","createTooltip","enterable","bounding","containerOffset","tooltipElement","template","prefixCls","overflow","HTMLTooltipElement","showTooltip","canvasContainer","getBounding","container1","container2","getBoundingClientRect","getContainerOffset","content","hideTooltip","clientX","clientY","hideRuleY","hideRuleX","hideMarker","destroyTooltip","destroy","showUndefined","itemColorOf","valueName","groupItems","groupName","definedItems","useGroupName","scaleColor","scaleSeries","facet","invertAble","groupNameOf","name1","updateRuleX","mouse","plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","minDistIndex","minDistPoint","pointsOfPolar","ruleX","createCircle","createLine","updateRuleY","ruleY","markers","interactionKeyof","maybeValue","specified","isEmptyTooltipData","sortFunction","filterFunction","crosshairsX","crosshairsY","body","disableNative","_style","seriesElements","itemElements","isBar","xof","closest","getBounds","minA","maxA","minB","maxB","midA","midB","elementSortedX","abstractX","indexByFocus","_x","elementsByFocus","filtered","seriesData","selectedItems","selectedSeriesElements","selectedSeriesData","sortedIndex","SX","closestX","filteredSeriesData","selectedElements","tooltipData","ruleStyle","ruleStyleX","ruleStyleY","markerStyles","originColor","updateMarker","firstX","transformedX","onTooltipShow","rootBounds","onTooltipHide","onTooltipDisable","removeEventListeners","onTooltipEnable","addEventListeners","shared","seriesCount","findElementByTarget","classList","findElement","isGrouped","singleItem","raw","rootBBox","Tooltip","defaultSeries","defaultShowCrosshairs","crosshairsSetting","hasSeries","facetInstances","CATEGORY_LEGEND_CLASS_NAME","markerOf","labelOf","itemsOf","legendsOf","legendsContinuousOf","filterView","legend","ordinal","allChannels","viewOptions","newMarks","findIndex","newTransform","filterFacets","facets","LegendFilter","contexts","isFacet","channelsOf","legends","removes","itemClick","itemPointerenter","itemPointerout","unselected","markerStroke","setM","removeM","setL","removeL","selectedValues","updateLegendState","onFilter","specifiedChannel","onEnd","legendFilterOrdinal","legendFilterContinuous","LegendHighlight","channelOf","destroys","datumOf","elementGroup","legendState","inactive","highlight","highlightItem","itemPointerover","onUnHighlight","bbox1","bbox2","minX1","minY1","maxX1","maxY1","minX2","minY2","maxX2","maxY2","ResizableMask","renders","renderRect","handleNRender","handleNStyle","handleERender","handleEStyle","handleSRender","handleSStyle","handleWRender","handleWStyle","handleNWRender","handleNWStyle","handleNERender","handleNEStyle","_h","handleSERender","handleSEStyle","_j","handleSWRender","handleSWStyle","appendHandle","handleRender","Node","renderNode","draggable","renderHandle","brushed","brushended","brushcreated","brushstarted","brushupdated","brushRegion","selectedHandles","moveStart","creating","originX","originY","initMask","initReverseMask","initNormalMask","pointerEvents","removeMask","updateMask","normalizeBounds","fx","fy","fx1","fy1","updateReverseMask","updateNormalMask","handles","isMask","isSelection","isHandle","current","clip","currentStart","currentEnd","moveMask","ex","ey","move","selectSiblingViews","brushKey","selectSiblingOptions","brushHighlight","elementof","siblings","siblingsof","optionalExtent","siblingElements","brushStyle","clonedElement","rootWidth","rootHeight","ordinalX","ordinalY","sibling","brush","ex1","ey1","seriesBrushend","cloned","seriesBrushed","brushHandler","AX","AY","pixelsOf","onRemove","preBrushDestroy","BrushHighlight","maskFill","maskFillOpacity","maskStroke","defaultStates","selectSiblingContainers","brushXRegion","BrushXHighlight","brushYRegion","BrushYHighlight","AXIS_HOT_AREA_CLASS_NAME","axesOf","lineOf","boundsOfAxis","mainGroupOf","verticalBrush","axisLine","hotZone","horizontalBrush","BrushAxisHighlight","axes","elementsOf","axisExtent","indexDomain","initIndexDomain","updateElement","clearElement","handlers","createBrush","scale1","brushAxisHighlight","BrushFilter","hideX","hideY","filtering","isDblclick","preTimeStamp","timeStamp","brushFilter","domainX","domainY","unhighlightedOpacity","BrushXFilter","BrushYFilter","filterDataByDomain","scaleOptions","channel0","channel1","abstractValue","SliderFilter","initDomain","getInitValues","sliders","paddingLeft","paddingTop","paddingBottom","paddingRight","sliderHandler","emitHandlers","channelDomain","eventName","isX","ratioY","domainsOf","initValue","domain0","domain1","emitHandler","SCROLLBAR_CLASS_NAME","ScrollbarFilter","expectedDomain","camelCase","letter","defaultTipStyle","backgroundColor","borderRadius","boxShadow","isTipText","isOverflowing","Poptip","tipStyle","tips","mouseX","mouseY","tip","tipELement","isFunction","attrs","_keys","_predicate","optional","_callee","_regeneratorRuntime","pop","_marked","hierarchy","mapChildren","objectChildren","childs","eachBefore","computeHeight","copyData","_defineProperty","eachAfter","_step","_iterator","_createForOfIteratorHelper","err","ancestor","aNodes","ancestors","bNodes","leastCommonAncestor","descendants","leaves","copy","node_iterator","preroot","ambiguous","imputed","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","currentId","currentParentId","nodeByKey","slash","parentof","sums","valueOffset","valueTarget","valueLeft","valueRight","xk","yk","dice","phi","squarifyRatio","row","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","beta","rows","treemapDice","treemapSlice","squarify","resquarify","_squarify","constantZero","addObjectDataPath","addArrayDataPath","replaceAll","treeDataTransform","tileMethod","tile","tiles","treemapBinary","treemapSliceDice","treemapSquarify","treemapResquarify","getTileMethod","generateHierarchyRoot","ignoreParentValue","paddingStack","treemap","positionNode","roundNode","filterData","layer","DEFAULT_BREADCRUMB_STYLE","breadCrumbFill","breadCrumbFontSize","breadCrumbY","activeFill","TreemapDrillDown","drillDownOptions","originData","breadCrumb","breadCrumbStyle","breadCrumbActiveStyle","textGroup","drillDownClick","removeChildren","textPath","drillTexts","drillText","textSeparator","originalAttrs","legendClearSetState","strPath","newData","newLayout","colorDomain","createDrillClick","changeStyleKey","createActive","pick","DEFAULT_STYLE","pointR","pointStrokeWidth","pointStroke","pointActiveStroke","pathStroke","pathLineDash","labelStroke","labelLineWidth","labelY","labelX","MOVE_POINT_NAME","elementMouseenter","elementMouseleave","selectedPointsStyle","pointsShape","createHelpShape","pathStyle","getColorType","getSamePointPosition","oldR","ElementPointMove","elementPointMoveOptions","pathDefaultStyle","labelDefaultStyle","pointDefaultStyle","coordinateOptions","newSelection","coordinateType","isArea","pointsGroup","selectedChange","elementClick","childNodes","createPoints","seriesTitle","downPoint","updateView","markTypes","newChangeData","dataKey","isUpdate","getNewData","changeData","dataChange","ratioTransform","isNormalizeY","yField","getPathDataRatioTransformFn","oldPoint","pathLength","pointMousemove","newCy","newCx","newX","newY","initY","nextIndex","newPath","window","mouseupFn","colorType","circlePoint","getIntervalDataRatioTransformFn","initX","newXOut","newYOut","newXIn","newYIn","lastPercent","isBig","getThetaPath","rootClick","useDefaultAdaptor","useOverrideAdaptor","mergeData","dataDescriptor","dataValue","SpaceLayer","viewX","viewY","viewWidth","viewHeight","layerData","SpaceFlex","flexData","mainStart","crossStart","total","totalSize","sizes","newChildren","Container","$value","of","setScale","shareSize","flexDomain","inferColor","discovered","encodeColor","legendColor","cs","cl","domainColor","setAnimation","enterType","frame","toCell","setData","cellData","setChildren","subLayout","subLayoutRect","createGuideX","createGuideXRect","createGuideY","createGuideYRect","childOptions","facetScale","shareData","encodeX","encodeY","facetScaleColor","facetDomainColor","visualData","marginLeft","marginTop","bboxs","filters","facetData2d","maxDataDomain","columnField","columnIndex","columnValue","columnValuesLength","rowField","rowIndex","rowValue","rowValuesLength","normalizedChildren","flat","facetData","guideY","guideX","defaultScale","newAxis","createGuide","dataDomain","createInnerGuide","factory","FacetRect","legendFilter","restEncode","$x","$y","RepeatMatrix","setCoordinate","setEncode","createGuideFacetCircle","subLayoutFacetCircle","sr","ir","FacetCircle","iterationCount","keyframeCount","normal","TimingKeyframe","easing","prevIndex","maxIndex","createGroups","normalizeGroupBy","normalizeComparator","eq","createFieldsOrder","ascendingComparator","createFunctionOrder","createSeriesOrder","createValueOrder","createSumOrder","createMaxIndexOrder","applyOrder","comparator","seriesSum","GI","seriesMaxIndex","StackY","orderBy","fromY","fromY1","newY1","TY","PG","NG","FG","LG","ny","py","FS","V1","newEncode","deviation","variance","e10","e5","tickSpec","power","factor","i2","inc","tickIncrement","thresholdSturges","LN2","bin","threshold","histogram","xz","tz","tn","prestep","bins","quickselect","sd","swap","quantile","Float64Array","numbers","value0","subarray","quantileIndex","greatest","medianIndex","builtinFormatter","summary","GroupN","outputs","reducer","reducerFunction","normalizeReducer","field1","maybeFrom","RV","reducedColumns","GV","GD","THRESHOLD","thresholdAuto","cbrt","thresholdScott","Bin","groupChannels","binChannels","channelIndexKey","binValues","DI","groupKeys","indexKey","BinX","thresholdsX","DodgeX","domainSeries","newMark","createComparator","newS","Jitter","paddingX","paddingY","random","JitterX","JitterY","SymmetryY","newYn","MY","maxMiddleY","newV","DiffY","YG","StackEnter","groupEntries","newGroups","ED","EDL","newEnterDelay","pd","maxDuration","enterDuration","enterDelay","NormalizeY","basisFunction","normalizeBasis","basisValue","specifiedTooltip","Select","selectFunction","normalizeSelector","SelectX","SelectY","GroupX","GroupY","GroupColor","sortOrdinal","createReducer","specifiedDomain","filterIndex","ak","av","bk","bv","groupSort","slicedDomain","Sort","sortedI","sortQuantitative","SortX","SortY","SortColor","FlexX","pcount","space","intervalY","Pack","modifier","lttb","sampled","maxArea","nextA","avgX","avgY","frameStart","frameEnd","pointA","Sample","strategy","sampleFunction","strategies","frames","frameSize","getFrames","normalizeSample","Filter","normalizeValue","expectedValues","FI","newIndex","targetMark","noElementMark","targetField","filterObject","filterWhenNoElements","newEncodes","EOL","EOF","objectConverter","columns","inferColumns","columnSet","formatDate","hours","milliseconds","getUTCMilliseconds","formatYear","delimiter","reFormat","RegExp","DELIMITER","charCodeAt","parseRows","eof","eol","preformatBody","formatValue","formatRow","parse","convert","customConverter","formatBody","formatRows","number","fixtz","Fetch","autoType","response","fetch","dsv","json","Inline","SortBy","fields","normalizedF","ret","Pick","Rename","Fold","Slice","Custom","Join","as","fromKey","fk","KDE","sizeField","gs","gb","pdfResult","_y","_size","console","cloudRadians","cloudText","cloudFont","cloudFontNormal","cloudFontSize","cloudRotate","cloudPadding","cloudDispatch","cloudSprite","contextAndRatio","di","sprite","maxh","save","weight","wcr","wsr","hcr","hsr","fillText","strokeText","restore","xoff","yoff","hasText","pixels","w32","seen","seenRow","cloudCollide","board","sw","lx","msx","cloudBounds","b0","b1","collideRects","archimedeanSpiral","zeroArray","cloudCanvas","functor","spirals","archimedean","rectangular","sign","tagCloud","spiral","words","timer","cloud","place","maxDelta","dxdy","strokeStyle","tags","hasImage","_tags","_bounds","clearInterval","setInterval","createMask","can","cxt","imageData","DEFAULT_OPTIONS","processImageMask","rej","HTMLImageElement","Image","crossOrigin","onload","onerror","cloudOptions","setAsync","fMin","fMax","normalizeFontSize","defaultBounds","tlx","tly","brx","bry","invisibleText","EMA","smoothed","warn","smoothedVal","ema","parseAABB","min2","isInBounds","OverlapHide","priority","displayLabels","overlaping","dl","b2","min1","max1","max2","isOverlap","isSegmentIntersect","useMap","getBoundsWithoutConnector","connectorShape","removeChild","OverlapDodgeY","maxIterations","maxError","setY0","setY","setH","xx","setXX","iter","l0","l1","newDelta","OverflowHide","isOverflow","getsRGB","getL","contrast","foreground","rb","bb","L1","L2","mostContrast","parseToRGB","ContrastReverse","parsedStyle","ExceedAdjust","xMax","yMax","xMin","yMin","changeValue","edge","minEdgeX","minEdgeY","maxEdgeX","maxEdgeY","changeX","changeY","adjustPosition","connectorPoints","streamGeometry","geometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","features","Sphere","sphere","coordinates","MultiPoint","LineString","streamLine","MultiLineString","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","polygonStart","polygonEnd","Adder","_partials","_n","epsilon","epsilon2","halfPi","quarterPi","tau","atan","acos","areaSum","areaRingSum","areaStream","areaRingStart","areaRingEnd","areaPointFirst","areaPoint","boundsStream","Z0","Z1","X2","Z2","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","_radius","pointRadius","lengthRing","lengthSum","lengthStream","lengthPointFirst","lengthPoint","cacheDigits","cacheAppend","cacheRadius","cacheCircle","PathString","digits","_append","RangeError","strings","appendRound","projection","projectionStream","contextStream","measure","graticuleX","graticuleY","graticule10","graticule","outline","extentMajor","extentMinor","stepMajor","stepMinor","subTooltip","main","maybeTooltip","isFullTooltip","maybeAnimation","rejoin","Intersection","entry","compareIntersection","startInside","subject","segment","pointEqual","isSubject","spherical","lambda","cosPhi","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","cartesianNormalizeInPlace","longitude","arrays","pointVisible","clipLine","sink","ring","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","sinPhi","winding","point0","lambda0","phi0","sinPhi0","cosPhi0","lambda1","sinPhi1","cosPhi1","point1","phi1","absDelta","antimeridian","intersection","phiArc","polygonContains","pointLine","clean","ringSegments","validSegment","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","circleStream","cosRadius","sinRadius","circleRadius","clipMax","clipMin","clipRectangle","visible","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","activeStream","bufferStream","clipStream","linePoint","polygonInside","cleanInside","rotationIdentity","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","transformer","methods","TransformStream","fit","fitBounds","clipExtent","fitExtent","fitSize","fitWidth","fitHeight","maxDepth","cosMinDistance","project","delta2","resampleLineTo","c0","c1","phi2","lambda2","dx2","dy2","dz","lambda00","b00","c00","resampleStream","ringPoint","resampleNone","transformRadians","scaleTranslateRotate","scaleTranslate","cosAlpha","sinAlpha","ai","bi","ci","fi","projectionMutator","projectAt","projectResample","projectTransform","projectRotateTransform","cacheStream","preclip","postclip","recenter","resample","transformRotate","clipAngle","smallRadius","notHemisphere","two","n1","n2","n2n2","n1n2","determinant","c2","n1xn2","uu","t2","code","v00","point2","reflectX","reflectY","conicProjection","parallels","conicEqualAreaRaw","sy0","forward","cylindricalEqualAreaRaw","r0y","conicEqualArea","lower48Point","alaskaPoint","hawaiiPoint","lower48","albers","alaska","hawaii","pointStream","albersUsa","streams","azimuthalRaw","azimuthalInvert","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","tany","conicConformalRaw","equirectangularRaw","conicEquidistantRaw","gy","A1","A2","A3","A4","equalEarthRaw","l2","l6","gnomonicRaw","sa","tx","ty","kx","ky","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","setProjectionSize","defaultOutline","geoNodes","isGeoPath","gjs","gj","types","properties","normalizeGeoJSON","setFitExtent","setFitWidth","normalizeDataSource","GeoView","projectionOptions","createProjection","normalizeProjection","setProjectionOptions","visualPoint","normalizeInvert","GeoPath","DEFAULT_LAYOUT_OPTIONS","joint","DEFAULT_LINK_OPTIONS","DEFAULT_NODE_OPTIONS","DEFAULT_LABEL_OPTIONS","ForceGraph","nodeLabels","linkLabels","linkKey","nodeEncode","linkEncode","nodesData","linksData","nodeStrength","linkStrength","nodeForce","linkForce","strength","simulation","force","alphaMin","alphaDecay","dataTransform","linkTooltip","nodeTooltip","defaultSeparation","nextLeft","nextRight","moveSubtree","wm","wp","change","nextAncestor","vim","TreeNode","separation","nodeSize","tree","treeRoot","firstWalk","secondWalk","sizeNode","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","meanXReduce","maxYReduce","cluster","previousNode","meanX","leafLeft","leafRight","hierarchyFunction","layoutFunction","sortBy","edges","Cluster","Tree","valueEncode","packEncloseRandom","circles","shuffle","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","encloseBasis1","x21","y21","r21","b3","c3","d3","ab","xa","xb","ya","yb","intersects","packSiblingsRandom","_typeof","aa","sj","sk","radiusLeaf","packChildrenRandom","translateChild","textOverflow","wordWrap","DEFAULT_TOOLTIP_OPTIONS","markOptions","transformedData","GET_DEFAULT_LAYOUT_OPTIONS","targetDepth","justify","sourceLinks","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultNodes","graph","defaultLinks","nodeById","computeLinkBreadths","targetLinks","Sankey","linkSort","iterations","sankey","arg","computeNodeLinks","fixedValue","computeNodeValues","computeNodeDepths","computeNodeHeights","computeNodeLayers","reorderLinks","initializeNodeBreadths","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","targetTop","reorderNodeLinks","resolveCollisions","sourceTop","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","nodeAlign","nodeDepth","nodeSort","nodeWidth","nodePadding","ALIGN_METHOD","nodeNodes","nodeLinks","sankeyProcessor","getNodeAlignFunction","layoutData","linkData","nodeData","key1","frequency","localeCompare","thickness","marginRatio","sourceWeight","targetWeight","edgesBySource","edgesByTarget","sources","targets","preprocess","method","sortNodes","deltaX","layoutNodes","nodesMap","sourceId","targetId","sourceNode","targetNode","sourceEdges","targetEdges","layoutEdges","Chord","linkEncodeColor","nodeWidthRatio","nodePaddingRatio","restLayout","minimumLen","DEFAULT_TOOLTIP_OPTIONS_DRILL","Treemap","treemapDrillDown","layoutOptions","transformedDataAll","q2","OutlierY","Boxplot","restStyle","qy","boxTooltip","pointTooltip","boxStyle","pointStyle","getR","Round","defaultCfg","minR","maxR","roundPath","DEFAULT_INDICATOR_OPTIONS","pointerStyle","pinStyle","pointerShape","resPointerStyle","pinShape","resPinStyle","invertedPoints","getTransformOptions","newCoordinate","newTransformations","newPoints","pointerAttrs","pinAttrs","indicatorGroup","pointerLineCap","pinR","pinFill","DEFAULT_TEXT_OPTIONS","getGaugeData","_target","_total","targetData","totalData","getTextContent","Gauge","indicatorStyle","arcStyle","lerp","getWaterWavePositions","stage","waveLength","amplitude","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","LiquidShapesPath","pin","cpX","cpY","Liquid","liquidOptions","styleOptions","liquidShape","wave","border","distance","outlineStyle","defaultAttr","centerX","centerY","buildPath","getLiquidShape","shapePath","backgroundShape","clipShape","waveCount","waveAttrs","addWave","distanceShape","borderShape","contentStyle","SMALL","intersectionArea","stats","intersectionPoints","circleCircleIntersection","parentIndex","getIntersectionPoints","innerPoints","containedInCircles","arcArea","polygonArea","arcs","midPoint","angleDiff","circleArea","smallest","disjoint","circleOverlap","w2","distanceFromIntersectArea","bestInitialLayout","areas","initial","loss","lossFunction","setOverlaps","sets","rowid","mostOverlapped","sortOrder","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","greedyLayout","constrained","restarts","setids","matrices","distances","zerosM","constraints","getDistanceMatrices","norm","norm2","fxprime","xi","yi","xj","yj","dij","constraint","squaredDistance","constrainedMDSGradient","zeros","conjugateGradient","positions","history","constrainedMDSLayout","overlaps","getBoundingBox","minMax","xRange","yRange","Venn","vennData","solution","parameters","initialLayout","ids","pairs","addMissingAreas","setid","nelderMead","venn","setsValue","xScaling","yScaling","scaling","xOffset","yOffset","scaled","scaleSolution","circlePath","wide","intersectionAreaPath","immediate","callNow","isEqual","valueKeys","otherKeys","LEGEND_INFER_STRATEGIES","inferAxisStyle","radar","radarTheme","AxisRadar","restOptions","internalOrientation","inferTitleTransform","LegendContinuousBlock","LegendContinuousSize","LegendContinuousBlockSize","Mark","static","isStatic","marginBottom","marginRight","viewStyle","View","viewData","viewScale","viewAxis","viewLegend","viewEncode","viewTransform","inferNonCircularStyle","inferRadialStyle","autoRotate","rotateToAlignArc","inferRotation","pointOfArc","inferInnerCircularStyle","radiusRatio","maybeUndefined","inferIdentityStyle","getDefaultStyle","inferOutsideCircularStyle","radius1","linePoints","outside","dodgeY","labelHeight","sortedLabels","boxes","preBox","newHeight","prevY","curY","hideAndDodgeY","unsorted","maxCount","styleByPoints","WeakMap","spider","computed","extendedOptions","surround","getRadius","processor","Label","specifiedTS","useLibrary","publicLibrary","currentLibrary","documentOf","coordinate2Transform","createCoordinate","isTransform","coordOf","specifier","scheme","ramp","radians","degrees","EB","BC_DA","cubehelix","Cubehelix","Rgb","rgbConvert","bl","cubehelixConvert","define","brighter","darker","cosh","sinh","hue","cubehelixGamma","colorCubehelix","gamma","cubehelixLong","warm","cool","ts","pi_1_3","pi_2_3","magma","inferno","plasma","inferScale","asOrdinalType","isOrdinal","isTemporal","asQuantitativeType","inferScaleType","maybeMinMax","inferDomainQ","inferDomainC","inferDomainO","inferDomainS","inferScaleDomain","actualDomain","isQuantitativeScale","clampQuantitativeScale","isDiscreteScale","clampDiscreteScale","maybeRatio","inferOptionsQ","inferPadding","inferOptionsC","inferOptionsS","inferScaleOptions","inferScaleRange","applyScale","scaledValue","scaleName","scaleInstance","assignScale","newKey","useRelationScale","useScale","relations","conditionalize","funcRelations","valueRelations","valueOutput","verify","outputValue","outputFunc","useRelation","syncFacetsScales","syncFacetsScaleByChannel","inferChannelsForComponent","syncedD","gradientColors","rangeMin","rangeMax","categoricalColors","inferRangeQ","usePalette","c10","c20","defaultPalette","fullName","schemeColors","interpolatedColors","isQuantitative","ContinuousScale","linear","identity","sequential","DistributionScale","quantize","DiscreteScale","band","ConstantScale","inferComponent","partialOptions","createGuideComponent","displayedScales","components","normalized","channelName","componentType","inferScrollableType","inferScrollableComponents","titleOptions","inferredComponents","availableScales","isValidDomain","isValidRange","isValidScale","inferLegendComponentType","inferAxisComponentType","inferComponentsType","relativeScales","defaultPlane","DCP","guideOptions","guides","partialGuide","inferComponentPositionAndOrientation","renderComponent","useGuideComponent","scaleInstances","groupComponents","grouped","DL","totalLength","accepts","isConstantSize","constants","fieldScales","scalesByField","scs","combinations","combine","combination","option","getScaleType","accords","accord","lastPolar","lastRadial","inferAxisPositionAndOrientation","ordinalPosition","exec","matchPosition","isReflect","isReflectY","ordinalPositionAndOrientation","computeComponentSize","computeAxisSize","computeGroupSize","computeContinuousLegendSize","computeCategoryLegendSize","computeSliderSize","computeTitleSize","computeScrollbarSize","maxCrossPadding","titleBBox","computeLabelSize","subtitleBBox","styleOf","createScale","labelBBoxes","computeLabelsBBox","paddingTick","maxLabelWidth","maxLabelHeight","offsetOf","endX","overflowX","computeTitleBBox","ribbonStyles","handleIconStyles","crossSize0","defaultTitle","specifiedTitle","getRows","getCols","widthOf","maxPos","titleHeight","computeVerticalSize","computeHorizontalGrid","computeHorizontalFlex","labelsOf","labelStyles","hasTransform","isFalsy","normalizeLabel","computeLayout","maxLabelSpacing","titleBBoxes","titleSize","computeInset","maybeClamp","pl0","pr0","shrinkSize","roughPadding","rpt","rpb","horizontalPadding","computePadding","pl","pr","iw","verticalPadding","pt0","pb0","pb","positionComponents","defaultSizeOf","autoSizeOf","maybeHide","minOrder","createSection","centerSection","inner","outer","placeNonEntityComponents","axisComponents","nonAxisComponents","isRadar","placeAxisRadar","placeArcLinear","placeAxisParallelHorizontal","placeAxisParallelVertical","placeAxisParallel","placeAxisArcInner","placeAxisArcOuter","placeNonEntityAxis","placeCenter","placePaddingArea","mainStartKey","mainStartValue","crossStartKey","crossStartValue","mainSizeKey","mainSizeValue","crossSizeKey","crossSizeValue","isLarge","crossSizeOf","small","bigger","crossStartOf","j0","diff","applyDefaults","applyDataTransform","useData","normalizedDataSource","transformFunctions","composeAsync","flatEncode","flattenEncode","inferChannelsType","typedEncode","isTypedChannel","isField","inferChannelType","maybeVisualChannel","isPosition","extractColumns","useEncode","fieldOf","createColumnOf","valuedEncode","normalizeTooltip","extractTooltip","valueFormatter","normalizedValueFormatter","definedChannel","channelField","newTooltip","maybeArrayField","arrayColumns","addGuideToScale","eachGuide","axisChannels","scrollbarOptions","maybeNonAnimate","initializeMark","partialMark","partialProps","transformedMark","useTransform","transforms","applyMarkTransform","channelDescriptors","nameChannels","scaleType","isConstant","finalRange","useComposition","useInteraction","staticMarks","typeOf","isMark","isStandardView","isStaticMark","composition","viewNode","nodeState","nodeGenerators","initializeState","initializeView","transformedNodes","initializeMarks","nodeT","applyTransform","enterContainer","updateContainer","applyTranslate","plotView","interactions","viewInstanceof","viewContainer","updateInteractions","oldStore","store","createDefinedInteraction","createInteraction","definedInteraction","inferInteraction","updates","newOptions","updateInteraction","createUpdateView","updateTypes","updateType","updateViewInstances","nameInteraction","typeOptions","typeOption","prevInteraction","useThemeInteraction","enterViewInstances","nodeGenerator","keyframe","sizedNode","interactionOptions","applyInteraction","flattenOptions","useMark","createMark","flattenMarks","maybeAuto","computeRoughPlotSize","unshift","transformMarks","mergedOptions","viewCoordinate","viewInteraction","markCoordinates","markInteractions","markViewStyles","reduceRight","cur","newInteraction","newStyle","bubbleOptions","transformedOptions","useTheme","partialTheme","partialMarks","inferTheme","markAndState","initializedMark","scaleChannels","FV","uid","useLabelTransform","NONE_STATIC_KEYS","nameScale","staticScale","guide1","options1","collectScales","normalizeComponents","shapeMap","inferComponentScales","useCoordinate","partialTransform","isCartesian3D","framedStyle","mainLineWidth","mainStroke","planes","yz","nonEntityComponents","entityComponents","placeComponents","axisZ","processAxisZ","uidScale","scaleGroups","groupTransform","scaleDescriptors","createChildren","markScaleInstance","calcPoints","filterValid","titleOf","si","markChildren","areaKeys","areaStyles","areaSizes","styleArea","areaLayouts","pw","ph","animationExtent","minDelay","defaultUpdateType","defaultUpdateDuration","defaultUpdateDelay","defaultEnterType","defaultEnterDuration","defaultEnterDelay","defaultExitType","defaultExitDuration","defaultExitDelay","updateDuration","updateDelay","exitDuration","exitDelay","exitType","computeAnimationExtent","componentAnimateOptions","componentsTransitions","newComponent","updateBBox","updateLayers","applyClip","animateBBox","cls","shapeFunction","createMarkShapeFunction","enterFunction","createEnterFunction","updateFunction","createUpdateFunction","exitFunction","createExitFunction","facetElements","selectFacetElements","maybeFacetElement","fromElements","toElements","labelLayer","labelShapeFunction","labelDescriptor","labelOptions","useShape","abstractData","shapeContext","abstractStyle","abstractOptions","visualOptions","shapeOptions","getDefaultsStyle","createLabelShapeFunction","labelOption","labelIndex","seriesKey","cloneElement","getAnimations","effect","getKeyframes","dependentElement","normalizeLabelSelector","getLabels","labelShapes","labelGroups","labelTransformContext","transformFunction","plotLabel","definedIndex","facetClassName","elementClassName","findAll","originOf","prePlot","newPlot","preTransform","unset","appendTransform","shapeLibrary","styleShape","abstractDatum","visualStyle","shapeName","markTheme","createAnimationFunction","createShape","useAnimation","defaultAnimation","defaultEffectTiming","animateFunction","sliderFilter","scrollbarFilter","names","columnWidthRatio","scaleOption","preprocessOption","convertedOptions","flows","param","adapter","inferKeys","nodeParent","nodeIndex","Canvas","renderer","registerPlugin","prevWidth","prevHeight","getConfig","resize","documentElement","ready","setPosition","requestAnimationFrame","catch","isDestroyCanvas","viewGroups","getRoot","destroyAllInteractions","destroyChildren","parseInt10","bfs","currentNode","getNodeByKey","getNodesByType","getNodeByType","VIEW_KEYS","REMOVE_FLAG","CALLBACK_NODE","autoFit","effectiveWidth","effectiveHeight","containerWidth","containerHeight","getComputedStyle","wrapperWidth","clientWidth","wrapperHeight","clientHeight","getContainerSize","optionsOf","normalizeRoot","childValue","normalizeRootOptions","previousType","oldType","isComposition","createNode","ctor","typeCtor","updateNode","appendNode","nodeOptions","defineValueProp","defineArrayProp","defineObjectProp","defineMixProp","defineNodeProp","hocMark","defineContainerProp","defineProps","descriptors","nodeProps","commonProps","markProps","compositionProps","CompositionNode","chart","getView","_key","getScale","getScaleByChannel","getCoordinate","getTheme","getGroup","isVisible","MarkNode","getMark","chartView","G2_CHART_KEY","Chart","Runtime","lib","plugins","_hasBindAutoFit","_rendering","_trailing","_trailingResolve","_trailingReject","_previousDefinedType","_onResize","forceFit","_renderer","_plugins","_container","_emitter","_create","_addToTrailing","_createCanvas","supportsCSSTransform","_bindAutoFit","_computedOptions","_createResolve","_createReject","finished1","createEmptyPromise","_renderTrailing","definedType","oldNode","newNode","oldChildren","updateRoot","_marks","_compositions","once","_reset","_unbindAutoFit","removeContainer","_width","_height","changeSize","compositions","Composition","KEYS","trailingResolve","trailingReject","tolerance","fA","fB","fMid","weightedSum","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","simplex","updateSimplex","reflected","contracted","expanded","iteration","sortedSimplex","worst","shouldReduce","wolfeLineSearch","pk","phiPrime0","phi_old","phiPrime","zoom","a_lo","a_high","phi_lo","temp","delta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","capitalize","createCompounder","module","upperFirst","string","self","findMin","findMax","findMinMulti","findMaxMulti","inside","LN_2","helper","kernel","getUnifiedMinMax","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","normalizedMinMax","buckets","partialArea","partialAreas","accumulator","generatePartialAreas","fullArea","initalValue","bucket","xToBucket","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","startGradPos","gradAccumulator","getExpectedValueFromPdf","pdf","expected","getXWithLeftTailArea","getPerplexity","entropy","ln"],"sourceRoot":""}