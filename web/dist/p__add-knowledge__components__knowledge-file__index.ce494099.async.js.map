{"version":3,"file":"p__add-knowledge__components__knowledge-file__index.ce494099.async.js","mappings":"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","sources":["webpack:///./src/components/auto-keywords-item.tsx","webpack:///./src/components/dataset-configuration-container.tsx","webpack:///./src/components/delimiter.tsx","webpack:///./src/components/edit-tag/index.less?3847","webpack:///./src/components/edit-tag/index.tsx","webpack:///./src/components/entity-types-item.tsx","webpack:///./src/components/excel-to-html.tsx","webpack:///./src/components/file-upload-modal/index.less?4e00","webpack:///./src/components/file-upload-modal/index.tsx","webpack:///./src/components/layout-recognize.tsx","webpack:///./src/components/max-token-number.tsx","webpack:///./src/components/parse-configuration/graph-rag-items.tsx","webpack:///./src/components/parse-configuration/index.tsx","webpack:///./src/hooks/llm-hooks.tsx","webpack:///./src/components/chunk-method-modal/hooks.ts","webpack:///./src/components/chunk-method-modal/index.less?91a6","webpack:///./src/components/chunk-method-modal/index.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-file/create-file-modal.tsx","webpack:///./src/assets/svg/cancel.svg","webpack:///./src/assets/svg/delete.svg","webpack:///./src/assets/svg/disable.svg","webpack:///./src/assets/svg/enable.svg","webpack:///./src/assets/svg/run.svg","webpack:///./src/pages/add-knowledge/components/knowledge-file/index.less?4526","webpack:///./src/pages/add-knowledge/components/knowledge-file/document-toolbar.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-file/constant.ts","webpack:///./src/pages/add-knowledge/components/knowledge-file/utils.ts","webpack:///./src/pages/add-knowledge/components/knowledge-file/parsing-action-cell/index.less?abf7","webpack:///./src/pages/add-knowledge/components/knowledge-file/parsing-action-cell/index.tsx","webpack:///./src/assets/svg/refresh.svg","webpack:///./src/pages/add-knowledge/components/knowledge-file/parsing-status-cell/index.less?28f2","webpack:///./src/pages/add-knowledge/components/knowledge-file/parsing-status-cell/index.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-file/hooks.ts","webpack:///./src/pages/add-knowledge/components/knowledge-file/rename-modal/index.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-file/web-crawl-modal.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-file/set-meta-modal/index.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-file/index.tsx","webpack:///./src/services/chat-service.ts","webpack:///./src/services/file-manager-service.ts","webpack:///./src/utils/date.ts","webpack:///./src/utils/file-util.ts","webpack:///./src/utils/llm-util.ts"],"sourcesContent":["import { useTranslate } from '@/hooks/common-hooks';\nimport { Flex, Form, InputNumber, Slider } from 'antd';\n\nexport const AutoKeywordsItem = () => {\n  const { t } = useTranslate('knowledgeDetails');\n\n  return (\n    <Form.Item label={t('autoKeywords')} tooltip={t('autoKeywordsTip')}>\n      <Flex gap={20} align=\"center\">\n        <Flex flex={1}>\n          <Form.Item\n            name={['parser_config', 'auto_keywords']}\n            noStyle\n            initialValue={0}\n          >\n            <Slider max={30} style={{ width: '100%' }} />\n          </Form.Item>\n        </Flex>\n        <Form.Item name={['parser_config', 'auto_keywords']} noStyle>\n          <InputNumber max={30} min={0} />\n        </Form.Item>\n      </Flex>\n    </Form.Item>\n  );\n};\n\nexport const AutoQuestionsItem = () => {\n  const { t } = useTranslate('knowledgeDetails');\n\n  return (\n    <Form.Item label={t('autoQuestions')} tooltip={t('autoQuestionsTip')}>\n      <Flex gap={20} align=\"center\">\n        <Flex flex={1}>\n          <Form.Item\n            name={['parser_config', 'auto_questions']}\n            noStyle\n            initialValue={0}\n          >\n            <Slider max={10} style={{ width: '100%' }} />\n          </Form.Item>\n        </Flex>\n        <Form.Item name={['parser_config', 'auto_questions']} noStyle>\n          <InputNumber max={10} min={0} />\n        </Form.Item>\n      </Flex>\n    </Form.Item>\n  );\n};\n","import { cn } from '@/lib/utils';\nimport { PropsWithChildren } from 'react';\n\ntype DatasetConfigurationContainerProps = {\n  className?: string;\n  show?: boolean;\n} & PropsWithChildren;\n\nexport function DatasetConfigurationContainer({\n  children,\n  className,\n  show = true,\n}: DatasetConfigurationContainerProps) {\n  return show ? (\n    <div\n      className={cn(\n        'border p-2 rounded-lg bg-slate-50 dark:bg-gray-600',\n        className,\n      )}\n    >\n      {children}\n    </div>\n  ) : (\n    children\n  );\n}\n","import { Form, Input } from 'antd';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  value?: string | undefined;\n  onChange?: (val: string | undefined) => void;\n  maxLength?: number;\n}\n\nexport const DelimiterInput = ({ value, onChange, maxLength }: IProps) => {\n  const nextValue = value?.replaceAll('\\n', '\\\\n');\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = e.target.value;\n    const nextValue = val.replaceAll('\\\\n', '\\n');\n    onChange?.(nextValue);\n  };\n  return (\n    <Input\n      value={nextValue}\n      onChange={handleInputChange}\n      maxLength={maxLength}\n    ></Input>\n  );\n};\n\nconst Delimiter = () => {\n  const { t } = useTranslation();\n\n  return (\n    <Form.Item\n      name={['parser_config', 'delimiter']}\n      label={t('knowledgeDetails.delimiter')}\n      initialValue={`\\\\n!?;。；！？`}\n      rules={[{ required: true }]}\n      tooltip={t('knowledgeDetails.delimiterTip')}\n    >\n      <DelimiterInput />\n    </Form.Item>\n  );\n};\n\nexport default Delimiter;\n","// extracted by mini-css-extract-plugin\nexport default {\"tweenGroup\":\"tweenGroup___HgfIF\",\"tag\":\"tag___EPGvm\"};","import { PlusOutlined } from '@ant-design/icons';\nimport type { InputRef } from 'antd';\nimport { Input, Tag, theme, Tooltip } from 'antd';\nimport { TweenOneGroup } from 'rc-tween-one';\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport styles from './index.less';\n\ninterface EditTagsProps {\n  value?: string[];\n  onChange?: (tags: string[]) => void;\n}\n\nconst EditTag = ({ value = [], onChange }: EditTagsProps) => {\n  const { token } = theme.useToken();\n  const [inputVisible, setInputVisible] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const inputRef = useRef<InputRef>(null);\n\n  useEffect(() => {\n    if (inputVisible) {\n      inputRef.current?.focus();\n    }\n  }, [inputVisible]);\n\n  const handleClose = (removedTag: string) => {\n    const newTags = value?.filter((tag) => tag !== removedTag);\n    onChange?.(newTags ?? []);\n  };\n\n  const showInput = () => {\n    setInputVisible(true);\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value);\n  };\n\n  const handleInputConfirm = () => {\n    if (inputValue && value) {\n      const newTags = inputValue\n        .split(';')\n        .map((tag) => tag.trim())\n        .filter((tag) => tag && !value.includes(tag));\n      onChange?.([...value, ...newTags]);\n    }\n    setInputVisible(false);\n    setInputValue('');\n  };\n\n  const forMap = (tag: string) => {\n    return (\n      <Tooltip title={tag}>\n        <Tag\n          key={tag}\n          className={styles.tag}\n          closable\n          onClose={(e) => {\n            e.preventDefault();\n            handleClose(tag);\n          }}\n        >\n          {tag}\n        </Tag>\n      </Tooltip>\n    );\n  };\n\n  const tagChild = value?.map(forMap);\n\n  const tagPlusStyle: React.CSSProperties = {\n    background: token.colorBgContainer,\n    borderStyle: 'dashed',\n  };\n\n  return (\n    <div>\n      {Array.isArray(tagChild) && tagChild.length > 0 && (\n        <TweenOneGroup\n          className={styles.tweenGroup}\n          enter={{\n            scale: 0.8,\n            opacity: 0,\n            type: 'from',\n            duration: 100,\n          }}\n          onEnd={(e) => {\n            if (e.type === 'appear' || e.type === 'enter') {\n              (e.target as any).style = 'display: inline-block';\n            }\n          }}\n          leave={{ opacity: 0, width: 0, scale: 0, duration: 200 }}\n          appear={false}\n        >\n          {tagChild}\n        </TweenOneGroup>\n      )}\n      {inputVisible ? (\n        <Input\n          ref={inputRef}\n          type=\"text\"\n          size=\"small\"\n          value={inputValue}\n          onChange={handleInputChange}\n          onBlur={handleInputConfirm}\n          onPressEnter={handleInputConfirm}\n        />\n      ) : (\n        <Tag onClick={showInput} style={tagPlusStyle}>\n          <PlusOutlined />\n        </Tag>\n      )}\n    </div>\n  );\n};\n\nexport default EditTag;\n","import { useTranslate } from '@/hooks/common-hooks';\nimport { Form } from 'antd';\nimport EditTag from './edit-tag';\n\nconst initialEntityTypes = [\n  'organization',\n  'person',\n  'geo',\n  'event',\n  'category',\n];\n\ntype IProps = {\n  field?: string[];\n};\n\nconst EntityTypesItem = ({\n  field = ['parser_config', 'entity_types'],\n}: IProps) => {\n  const { t } = useTranslate('knowledgeConfiguration');\n  return (\n    <Form.Item\n      name={field}\n      label={t('entityTypes')}\n      rules={[{ required: true }]}\n      initialValue={initialEntityTypes}\n    >\n      <EditTag></EditTag>\n    </Form.Item>\n  );\n};\n\nexport default EntityTypesItem;\n","import { useTranslate } from '@/hooks/common-hooks';\nimport { Form, Switch } from 'antd';\n\nconst ExcelToHtml = () => {\n  const { t } = useTranslate('knowledgeDetails');\n  return (\n    <Form.Item\n      name={['parser_config', 'html4excel']}\n      label={t('html4excel')}\n      initialValue={false}\n      valuePropName=\"checked\"\n      tooltip={t('html4excelTip')}\n    >\n      <Switch />\n    </Form.Item>\n  );\n};\n\nexport default ExcelToHtml;\n","// extracted by mini-css-extract-plugin\nexport default {\"uploader\":\"uploader___ezBcw\",\"uploadLimit\":\"uploadLimit___bpygu\"};","import { useTranslate } from '@/hooks/common-hooks';\nimport { IModalProps } from '@/interfaces/common';\nimport { InboxOutlined } from '@ant-design/icons';\nimport {\n  Checkbox,\n  Flex,\n  Modal,\n  Progress,\n  Segmented,\n  Tabs,\n  TabsProps,\n  Upload,\n  UploadFile,\n  UploadProps,\n} from 'antd';\nimport { Dispatch, SetStateAction, useState } from 'react';\n\nimport styles from './index.less';\n\nconst { Dragger } = Upload;\n\nconst FileUpload = ({\n  directory,\n  fileList,\n  setFileList,\n  uploadProgress,\n}: {\n  directory: boolean;\n  fileList: UploadFile[];\n  setFileList: Dispatch<SetStateAction<UploadFile[]>>;\n  uploadProgress?: number;\n}) => {\n  const { t } = useTranslate('fileManager');\n  const props: UploadProps = {\n    multiple: true,\n    onRemove: (file) => {\n      const index = fileList.indexOf(file);\n      const newFileList = fileList.slice();\n      newFileList.splice(index, 1);\n      setFileList(newFileList);\n    },\n    beforeUpload: (file: UploadFile) => {\n      setFileList((pre) => {\n        return [...pre, file];\n      });\n\n      return false;\n    },\n    directory,\n    fileList,\n    progress: {\n      strokeWidth: 2,\n    },\n  };\n\n  return (\n    <>\n      <Progress percent={uploadProgress} showInfo={false} />\n      <Dragger {...props} className={styles.uploader}>\n        <p className=\"ant-upload-drag-icon\">\n          <InboxOutlined />\n        </p>\n        <p className=\"ant-upload-text\">{t('uploadTitle')}</p>\n        <p className=\"ant-upload-hint\">{t('uploadDescription')}</p>\n        {false && <p className={styles.uploadLimit}>{t('uploadLimit')}</p>}\n      </Dragger>\n    </>\n  );\n};\n\ninterface IFileUploadModalProps extends IModalProps<boolean | UploadFile[]> {\n  uploadFileList?: UploadFile[];\n  setUploadFileList?: Dispatch<SetStateAction<UploadFile[]>>;\n  uploadProgress?: number;\n  setUploadProgress?: Dispatch<SetStateAction<number>>;\n}\n\nconst FileUploadModal = ({\n  visible,\n  hideModal,\n  loading,\n  onOk: onFileUploadOk,\n  uploadFileList: fileList,\n  setUploadFileList: setFileList,\n  uploadProgress,\n  setUploadProgress,\n}: IFileUploadModalProps) => {\n  const { t } = useTranslate('fileManager');\n  const [value, setValue] = useState<string | number>('local');\n  const [parseOnCreation, setParseOnCreation] = useState(false);\n  const [currentFileList, setCurrentFileList] = useState<UploadFile[]>([]);\n  const [directoryFileList, setDirectoryFileList] = useState<UploadFile[]>([]);\n\n  const clearFileList = () => {\n    if (setFileList) {\n      setFileList([]);\n      setUploadProgress?.(0);\n    } else {\n      setCurrentFileList([]);\n    }\n    setDirectoryFileList([]);\n  };\n\n  const onOk = async () => {\n    if (uploadProgress === 100) {\n      hideModal?.();\n      return;\n    }\n\n    const ret = await onFileUploadOk?.(\n      fileList ? parseOnCreation : [...currentFileList, ...directoryFileList],\n    );\n    return ret;\n  };\n\n  const afterClose = () => {\n    clearFileList();\n  };\n\n  const items: TabsProps['items'] = [\n    {\n      key: '1',\n      label: t('file'),\n      children: (\n        <FileUpload\n          directory={false}\n          fileList={fileList ? fileList : currentFileList}\n          setFileList={setFileList ? setFileList : setCurrentFileList}\n          uploadProgress={uploadProgress}\n        ></FileUpload>\n      ),\n    },\n    {\n      key: '2',\n      label: t('directory'),\n      children: (\n        <FileUpload\n          directory\n          fileList={directoryFileList}\n          setFileList={setDirectoryFileList}\n          uploadProgress={uploadProgress}\n        ></FileUpload>\n      ),\n    },\n  ];\n\n  return (\n    <>\n      <Modal\n        title={t('uploadFile')}\n        open={visible}\n        onOk={onOk}\n        onCancel={hideModal}\n        confirmLoading={loading}\n        afterClose={afterClose}\n      >\n        <Flex gap={'large'} vertical>\n          <Segmented\n            options={[\n              { label: t('local'), value: 'local' },\n              { label: t('s3'), value: 's3' },\n            ]}\n            block\n            value={value}\n            onChange={setValue}\n          />\n          {value === 'local' ? (\n            <>\n              <Checkbox\n                checked={parseOnCreation}\n                onChange={(e) => setParseOnCreation(e.target.checked)}\n              >\n                {t('parseOnCreation')}\n              </Checkbox>\n              <Tabs defaultActiveKey=\"1\" items={items} />\n            </>\n          ) : (\n            t('comingSoon', { keyPrefix: 'common' })\n          )}\n        </Flex>\n      </Modal>\n    </>\n  );\n};\n\nexport default FileUploadModal;\n","import { LlmModelType } from '@/constants/knowledge';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useSelectLlmOptionsByModelType } from '@/hooks/llm-hooks';\nimport { Form, Select } from 'antd';\nimport { camelCase } from 'lodash';\nimport { useMemo } from 'react';\n\nconst enum DocumentType {\n  DeepDOC = 'DeepDOC',\n  PlainText = 'Plain Text',\n}\n\nconst LayoutRecognize = () => {\n  const { t } = useTranslate('knowledgeDetails');\n  const allOptions = useSelectLlmOptionsByModelType();\n\n  const options = useMemo(() => {\n    const list = [DocumentType.DeepDOC, DocumentType.PlainText].map((x) => ({\n      label: x === DocumentType.PlainText ? t(camelCase(x)) : 'DeepDoc',\n      value: x,\n    }));\n\n    const image2TextList = allOptions[LlmModelType.Image2text].map((x) => {\n      return {\n        ...x,\n        options: x.options.map((y) => {\n          return {\n            ...y,\n            label: (\n              <div className=\"flex justify-between items-center gap-2\">\n                {y.label}\n                <span className=\"text-red-500 text-sm\">Experimental</span>\n              </div>\n            ),\n          };\n        }),\n      };\n    });\n\n    return [...list, ...image2TextList];\n  }, [allOptions, t]);\n\n  return (\n    <Form.Item\n      name={['parser_config', 'layout_recognize']}\n      label={t('layoutRecognize')}\n      initialValue={DocumentType.DeepDOC}\n      tooltip={t('layoutRecognizeTip')}\n    >\n      <Select options={options} popupMatchSelectWidth={false} />\n    </Form.Item>\n  );\n};\n\nexport default LayoutRecognize;\n","import { useTranslate } from '@/hooks/common-hooks';\nimport { Flex, Form, InputNumber, Slider } from 'antd';\n\ninterface IProps {\n  initialValue?: number;\n  max?: number;\n}\n\nconst MaxTokenNumber = ({ initialValue = 128, max = 2048 }: IProps) => {\n  const { t } = useTranslate('knowledgeConfiguration');\n\n  return (\n    <Form.Item label={t('chunkTokenNumber')} tooltip={t('chunkTokenNumberTip')}>\n      <Flex gap={20} align=\"center\">\n        <Flex flex={1}>\n          <Form.Item\n            name={['parser_config', 'chunk_token_num']}\n            noStyle\n            initialValue={initialValue}\n            rules={[{ required: true, message: t('chunkTokenNumberMessage') }]}\n          >\n            <Slider max={max} style={{ width: '100%' }} />\n          </Form.Item>\n        </Flex>\n        <Form.Item\n          name={['parser_config', 'chunk_token_num']}\n          noStyle\n          rules={[{ required: true, message: t('chunkTokenNumberMessage') }]}\n        >\n          <InputNumber max={max} min={0} />\n        </Form.Item>\n      </Flex>\n    </Form.Item>\n  );\n};\n\nexport default MaxTokenNumber;\n","import { DocumentParserType } from '@/constants/knowledge';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { cn } from '@/lib/utils';\nimport { Form, Select, Switch } from 'antd';\nimport { upperFirst } from 'lodash';\nimport { useCallback, useMemo } from 'react';\nimport { DatasetConfigurationContainer } from '../dataset-configuration-container';\nimport EntityTypesItem from '../entity-types-item';\n\nconst excludedTagParseMethods = [\n  DocumentParserType.Table,\n  DocumentParserType.KnowledgeGraph,\n  DocumentParserType.Tag,\n];\n\nexport const showTagItems = (parserId: DocumentParserType) => {\n  return !excludedTagParseMethods.includes(parserId);\n};\n\nconst enum MethodValue {\n  General = 'general',\n  Light = 'light',\n}\n\nexport const excludedParseMethods = [\n  DocumentParserType.Table,\n  DocumentParserType.Resume,\n  DocumentParserType.Picture,\n  DocumentParserType.KnowledgeGraph,\n  DocumentParserType.Qa,\n  DocumentParserType.Tag,\n];\n\nexport const showGraphRagItems = (parserId: DocumentParserType | undefined) => {\n  return !excludedParseMethods.some((x) => x === parserId);\n};\n\ntype GraphRagItemsProps = {\n  marginBottom?: boolean;\n};\n\n// The three types \"table\", \"resume\" and \"one\" do not display this configuration.\nconst GraphRagItems = ({ marginBottom = false }: GraphRagItemsProps) => {\n  const { t } = useTranslate('knowledgeConfiguration');\n\n  const methodOptions = useMemo(() => {\n    return [MethodValue.Light, MethodValue.General].map((x) => ({\n      value: x,\n      label: upperFirst(x),\n    }));\n  }, []);\n\n  const renderWideTooltip = useCallback(\n    (title: React.ReactNode | string) => {\n      return {\n        title: typeof title === 'string' ? t(title) : title,\n        overlayInnerStyle: { width: '32vw' },\n      };\n    },\n    [t],\n  );\n\n  return (\n    <DatasetConfigurationContainer className={cn({ 'mb-4': marginBottom })}>\n      <Form.Item\n        name={['parser_config', 'graphrag', 'use_graphrag']}\n        label={t('useGraphRag')}\n        initialValue={false}\n        valuePropName=\"checked\"\n        tooltip={t('useGraphRagTip')}\n      >\n        <Switch />\n      </Form.Item>\n      <Form.Item\n        shouldUpdate={(prevValues, curValues) =>\n          prevValues.parser_config.graphrag.use_graphrag !==\n          curValues.parser_config.graphrag.use_graphrag\n        }\n      >\n        {({ getFieldValue }) => {\n          const useRaptor = getFieldValue([\n            'parser_config',\n            'graphrag',\n            'use_graphrag',\n          ]);\n\n          return (\n            useRaptor && (\n              <>\n                <EntityTypesItem\n                  field={['parser_config', 'graphrag', 'entity_types']}\n                ></EntityTypesItem>\n                <Form.Item\n                  name={['parser_config', 'graphrag', 'method']}\n                  label={t('graphRagMethod')}\n                  tooltip={renderWideTooltip(\n                    <div\n                      dangerouslySetInnerHTML={{\n                        __html: t('graphRagMethodTip'),\n                      }}\n                    ></div>,\n                  )}\n                  initialValue={MethodValue.Light}\n                >\n                  <Select options={methodOptions} />\n                </Form.Item>\n                <Form.Item\n                  name={['parser_config', 'graphrag', 'resolution']}\n                  label={t('resolution')}\n                  tooltip={renderWideTooltip('resolutionTip')}\n                >\n                  <Switch />\n                </Form.Item>\n                <Form.Item\n                  name={['parser_config', 'graphrag', 'community']}\n                  label={t('community')}\n                  tooltip={renderWideTooltip('communityTip')}\n                >\n                  <Switch />\n                </Form.Item>\n              </>\n            )\n          );\n        }}\n      </Form.Item>\n    </DatasetConfigurationContainer>\n  );\n};\n\nexport default GraphRagItems;\n","import { DocumentParserType } from '@/constants/knowledge';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { Button, Flex, Form, Input, InputNumber, Slider, Switch } from 'antd';\nimport random from 'lodash/random';\n\nexport const excludedParseMethods = [\n  DocumentParserType.Table,\n  DocumentParserType.Resume,\n  DocumentParserType.One,\n  DocumentParserType.Picture,\n  DocumentParserType.KnowledgeGraph,\n  DocumentParserType.Qa,\n  DocumentParserType.Tag,\n];\n\nexport const showRaptorParseConfiguration = (\n  parserId: DocumentParserType | undefined,\n) => {\n  return !excludedParseMethods.some((x) => x === parserId);\n};\n\nexport const excludedTagParseMethods = [\n  DocumentParserType.Table,\n  DocumentParserType.KnowledgeGraph,\n  DocumentParserType.Tag,\n];\n\nexport const showTagItems = (parserId: DocumentParserType) => {\n  return !excludedTagParseMethods.includes(parserId);\n};\n\n// The three types \"table\", \"resume\" and \"one\" do not display this configuration.\nconst ParseConfiguration = () => {\n  const form = Form.useFormInstance();\n  const { t } = useTranslate('knowledgeConfiguration');\n\n  const handleGenerate = () => {\n    form.setFieldValue(\n      ['parser_config', 'raptor', 'random_seed'],\n      random(10000),\n    );\n  };\n\n  return (\n    <>\n      <Form.Item\n        name={['parser_config', 'raptor', 'use_raptor']}\n        label={t('useRaptor')}\n        initialValue={false}\n        valuePropName=\"checked\"\n        tooltip={t('useRaptorTip')}\n      >\n        <Switch />\n      </Form.Item>\n      <Form.Item\n        shouldUpdate={(prevValues, curValues) =>\n          prevValues.parser_config.raptor.use_raptor !==\n          curValues.parser_config.raptor.use_raptor\n        }\n      >\n        {({ getFieldValue }) => {\n          const useRaptor = getFieldValue([\n            'parser_config',\n            'raptor',\n            'use_raptor',\n          ]);\n\n          return (\n            useRaptor && (\n              <>\n                <Form.Item\n                  name={['parser_config', 'raptor', 'prompt']}\n                  label={t('prompt')}\n                  initialValue={t('promptText')}\n                  tooltip={t('promptTip')}\n                  rules={[\n                    {\n                      required: true,\n                      message: t('promptMessage'),\n                    },\n                  ]}\n                >\n                  <Input.TextArea rows={8} />\n                </Form.Item>\n                <Form.Item label={t('maxToken')} tooltip={t('maxTokenTip')}>\n                  <Flex gap={20} align=\"center\">\n                    <Flex flex={1}>\n                      <Form.Item\n                        name={['parser_config', 'raptor', 'max_token']}\n                        noStyle\n                        initialValue={256}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('maxTokenMessage'),\n                          },\n                        ]}\n                      >\n                        <Slider max={2048} style={{ width: '100%' }} />\n                      </Form.Item>\n                    </Flex>\n                    <Form.Item\n                      name={['parser_config', 'raptor', 'max_token']}\n                      noStyle\n                      rules={[\n                        {\n                          required: true,\n                          message: t('maxTokenMessage'),\n                        },\n                      ]}\n                    >\n                      <InputNumber max={2048} min={0} />\n                    </Form.Item>\n                  </Flex>\n                </Form.Item>\n                <Form.Item label={t('threshold')} tooltip={t('thresholdTip')}>\n                  <Flex gap={20} align=\"center\">\n                    <Flex flex={1}>\n                      <Form.Item\n                        name={['parser_config', 'raptor', 'threshold']}\n                        noStyle\n                        initialValue={0.1}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('thresholdMessage'),\n                          },\n                        ]}\n                      >\n                        <Slider\n                          min={0}\n                          max={1}\n                          style={{ width: '100%' }}\n                          step={0.01}\n                        />\n                      </Form.Item>\n                    </Flex>\n                    <Form.Item\n                      name={['parser_config', 'raptor', 'threshold']}\n                      noStyle\n                      rules={[\n                        {\n                          required: true,\n                          message: t('thresholdMessage'),\n                        },\n                      ]}\n                    >\n                      <InputNumber max={1} min={0} step={0.01} />\n                    </Form.Item>\n                  </Flex>\n                </Form.Item>\n                <Form.Item label={t('maxCluster')} tooltip={t('maxClusterTip')}>\n                  <Flex gap={20} align=\"center\">\n                    <Flex flex={1}>\n                      <Form.Item\n                        name={['parser_config', 'raptor', 'max_cluster']}\n                        noStyle\n                        initialValue={64}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('maxClusterMessage'),\n                          },\n                        ]}\n                      >\n                        <Slider min={1} max={1024} style={{ width: '100%' }} />\n                      </Form.Item>\n                    </Flex>\n                    <Form.Item\n                      name={['parser_config', 'raptor', 'max_cluster']}\n                      noStyle\n                      rules={[\n                        {\n                          required: true,\n                          message: t('maxClusterMessage'),\n                        },\n                      ]}\n                    >\n                      <InputNumber max={1024} min={1} />\n                    </Form.Item>\n                  </Flex>\n                </Form.Item>\n                <Form.Item label={t('randomSeed')}>\n                  <Flex gap={20} align=\"center\">\n                    <Flex flex={1}>\n                      <Form.Item\n                        name={['parser_config', 'raptor', 'random_seed']}\n                        noStyle\n                        initialValue={0}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('randomSeedMessage'),\n                          },\n                        ]}\n                      >\n                        <InputNumber style={{ width: '100%' }} />\n                      </Form.Item>\n                    </Flex>\n                    <Form.Item noStyle>\n                      <Button type=\"primary\" onClick={handleGenerate}>\n                        <PlusOutlined />\n                      </Button>\n                    </Form.Item>\n                  </Flex>\n                </Form.Item>\n              </>\n            )\n          );\n        }}\n      </Form.Item>\n    </>\n  );\n};\n\nexport default ParseConfiguration;\n","import { LlmIcon } from '@/components/svg-icon';\nimport { LlmModelType } from '@/constants/knowledge';\nimport { ResponseGetType } from '@/interfaces/database/base';\nimport {\n  IFactory,\n  IMyLlmValue,\n  IThirdOAIModelCollection as IThirdAiModelCollection,\n  IThirdOAIModel,\n  IThirdOAIModelCollection,\n} from '@/interfaces/database/llm';\nimport {\n  IAddLlmRequestBody,\n  IDeleteLlmRequestBody,\n} from '@/interfaces/request/llm';\nimport userService from '@/services/user-service';\nimport { sortLLmFactoryListBySpecifiedOrder } from '@/utils/common-util';\nimport { getLLMIconName, getRealModelName } from '@/utils/llm-util';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { Flex, message } from 'antd';\nimport { DefaultOptionType } from 'antd/es/select';\nimport { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport const useFetchLlmList = (\n  modelType?: LlmModelType,\n): IThirdAiModelCollection => {\n  const { data } = useQuery({\n    queryKey: ['llmList'],\n    initialData: {},\n    queryFn: async () => {\n      const { data } = await userService.llm_list({ model_type: modelType });\n\n      return data?.data ?? {};\n    },\n  });\n\n  return data;\n};\n\nexport const useSelectLlmOptions = () => {\n  const llmInfo: IThirdOAIModelCollection = useFetchLlmList();\n\n  const embeddingModelOptions = useMemo(() => {\n    return Object.entries(llmInfo).map(([key, value]) => {\n      return {\n        label: key,\n        options: value.map((x) => ({\n          label: getRealModelName(x.llm_name),\n          value: `${x.llm_name}@${x.fid}`,\n          disabled: !x.available,\n        })),\n      };\n    });\n  }, [llmInfo]);\n\n  return embeddingModelOptions;\n};\n\nfunction buildLlmOptionsWithIcon(x: IThirdOAIModel) {\n  return {\n    label: (\n      <Flex align=\"center\" gap={6}>\n        <LlmIcon\n          name={getLLMIconName(x.fid, x.llm_name)}\n          width={26}\n          height={26}\n          size={'small'}\n        />\n        <span>{getRealModelName(x.llm_name)}</span>\n      </Flex>\n    ),\n    value: `${x.llm_name}@${x.fid}`,\n    disabled: !x.available,\n  };\n}\n\nexport const useSelectLlmOptionsByModelType = () => {\n  const llmInfo: IThirdOAIModelCollection = useFetchLlmList();\n\n  const groupImage2TextOptions = () => {\n    const modelType = LlmModelType.Image2text;\n    const modelTag = modelType.toUpperCase();\n\n    return Object.entries(llmInfo)\n      .map(([key, value]) => {\n        return {\n          label: key,\n          options: value\n            .filter(\n              (x) =>\n                (x.model_type.includes(modelType) ||\n                  (x.tags && x.tags.includes(modelTag))) &&\n                x.available,\n            )\n            .map(buildLlmOptionsWithIcon),\n        };\n      })\n      .filter((x) => x.options.length > 0);\n  };\n\n  const groupOptionsByModelType = (modelType: LlmModelType) => {\n    return Object.entries(llmInfo)\n      .filter(([, value]) =>\n        modelType ? value.some((x) => x.model_type.includes(modelType)) : true,\n      )\n      .map(([key, value]) => {\n        return {\n          label: key,\n          options: value\n            .filter(\n              (x) =>\n                (modelType ? x.model_type.includes(modelType) : true) &&\n                x.available,\n            )\n            .map(buildLlmOptionsWithIcon),\n        };\n      })\n      .filter((x) => x.options.length > 0);\n  };\n\n  return {\n    [LlmModelType.Chat]: groupOptionsByModelType(LlmModelType.Chat),\n    [LlmModelType.Embedding]: groupOptionsByModelType(LlmModelType.Embedding),\n    [LlmModelType.Image2text]: groupImage2TextOptions(),\n    [LlmModelType.Speech2text]: groupOptionsByModelType(\n      LlmModelType.Speech2text,\n    ),\n    [LlmModelType.Rerank]: groupOptionsByModelType(LlmModelType.Rerank),\n    [LlmModelType.TTS]: groupOptionsByModelType(LlmModelType.TTS),\n  };\n};\n\nexport const useComposeLlmOptionsByModelTypes = (\n  modelTypes: LlmModelType[],\n) => {\n  const allOptions = useSelectLlmOptionsByModelType();\n\n  return modelTypes.reduce<\n    (DefaultOptionType & {\n      options: { label: JSX.Element; value: string; disabled: boolean }[];\n    })[]\n  >((pre, cur) => {\n    const options = allOptions[cur];\n    options.forEach((x) => {\n      const item = pre.find((y) => y.label === x.label);\n      if (item) {\n        item.options.push(...x.options);\n      } else {\n        pre.push(x);\n      }\n    });\n\n    return pre;\n  }, []);\n};\n\nexport const useFetchLlmFactoryList = (): ResponseGetType<IFactory[]> => {\n  const { data, isFetching: loading } = useQuery({\n    queryKey: ['factoryList'],\n    initialData: [],\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await userService.factories_list();\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading };\n};\n\nexport type LlmItem = { name: string; logo: string } & IMyLlmValue;\n\nexport const useFetchMyLlmList = (): ResponseGetType<\n  Record<string, IMyLlmValue>\n> => {\n  const { data, isFetching: loading } = useQuery({\n    queryKey: ['myLlmList'],\n    initialData: {},\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await userService.my_llm();\n\n      return data?.data ?? {};\n    },\n  });\n\n  return { data, loading };\n};\n\nexport const useSelectLlmList = () => {\n  const { data: myLlmList, loading: myLlmListLoading } = useFetchMyLlmList();\n  const { data: factoryList, loading: factoryListLoading } =\n    useFetchLlmFactoryList();\n\n  const nextMyLlmList: Array<LlmItem> = useMemo(() => {\n    return Object.entries(myLlmList).map(([key, value]) => ({\n      name: key,\n      logo: factoryList.find((x) => x.name === key)?.logo ?? '',\n      ...value,\n      llm: value.llm.map((x) => ({ ...x, name: x.name })),\n    }));\n  }, [myLlmList, factoryList]);\n\n  const nextFactoryList = useMemo(() => {\n    const currentList = factoryList.filter((x) =>\n      Object.keys(myLlmList).every((y) => y !== x.name),\n    );\n    return sortLLmFactoryListBySpecifiedOrder(currentList);\n  }, [factoryList, myLlmList]);\n\n  return {\n    myLlmList: nextMyLlmList,\n    factoryList: nextFactoryList,\n    loading: myLlmListLoading || factoryListLoading,\n  };\n};\n\nexport interface IApiKeySavingParams {\n  llm_factory: string;\n  api_key: string;\n  llm_name?: string;\n  model_type?: string;\n  base_url?: string;\n}\n\nexport const useSaveApiKey = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['saveApiKey'],\n    mutationFn: async (params: IApiKeySavingParams) => {\n      const { data } = await userService.set_api_key(params);\n      if (data.code === 0) {\n        message.success(t('message.modified'));\n        queryClient.invalidateQueries({ queryKey: ['myLlmList'] });\n        queryClient.invalidateQueries({ queryKey: ['factoryList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, saveApiKey: mutateAsync };\n};\n\nexport interface ISystemModelSettingSavingParams {\n  tenant_id: string;\n  name?: string;\n  asr_id: string;\n  embd_id: string;\n  img2txt_id: string;\n  llm_id: string;\n}\n\nexport const useSaveTenantInfo = () => {\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['saveTenantInfo'],\n    mutationFn: async (params: ISystemModelSettingSavingParams) => {\n      const { data } = await userService.set_tenant_info(params);\n      if (data.code === 0) {\n        message.success(t('message.modified'));\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, saveTenantInfo: mutateAsync };\n};\n\nexport const useAddLlm = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['addLlm'],\n    mutationFn: async (params: IAddLlmRequestBody) => {\n      const { data } = await userService.add_llm(params);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['myLlmList'] });\n        queryClient.invalidateQueries({ queryKey: ['factoryList'] });\n        message.success(t('message.modified'));\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, addLlm: mutateAsync };\n};\n\nexport const useDeleteLlm = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['deleteLlm'],\n    mutationFn: async (params: IDeleteLlmRequestBody) => {\n      const { data } = await userService.delete_llm(params);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['myLlmList'] });\n        queryClient.invalidateQueries({ queryKey: ['factoryList'] });\n        message.success(t('message.deleted'));\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, deleteLlm: mutateAsync };\n};\n\nexport const useDeleteFactory = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['deleteFactory'],\n    mutationFn: async (params: IDeleteLlmRequestBody) => {\n      const { data } = await userService.deleteFactory(params);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['myLlmList'] });\n        queryClient.invalidateQueries({ queryKey: ['factoryList'] });\n        message.success(t('message.deleted'));\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, deleteFactory: mutateAsync };\n};\n","import { DocumentParserType } from '@/constants/knowledge';\nimport { useHandleChunkMethodSelectChange } from '@/hooks/logic-hooks';\nimport { useSelectParserList } from '@/hooks/user-setting-hooks';\nimport { FormInstance } from 'antd';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\n\nconst ParserListMap = new Map([\n  [\n    ['pdf'],\n    [\n      DocumentParserType.Naive,\n      DocumentParserType.Resume,\n      DocumentParserType.Manual,\n      DocumentParserType.Paper,\n      DocumentParserType.Book,\n      DocumentParserType.Laws,\n      DocumentParserType.Presentation,\n      DocumentParserType.One,\n      DocumentParserType.Qa,\n      DocumentParserType.KnowledgeGraph,\n    ],\n  ],\n  [\n    ['doc', 'docx'],\n    [\n      DocumentParserType.Naive,\n      DocumentParserType.Resume,\n      DocumentParserType.Book,\n      DocumentParserType.Laws,\n      DocumentParserType.One,\n      DocumentParserType.Qa,\n      DocumentParserType.Manual,\n      DocumentParserType.KnowledgeGraph,\n    ],\n  ],\n  [\n    ['xlsx', 'xls'],\n    [\n      DocumentParserType.Naive,\n      DocumentParserType.Qa,\n      DocumentParserType.Table,\n      DocumentParserType.One,\n      DocumentParserType.KnowledgeGraph,\n    ],\n  ],\n  [['ppt', 'pptx'], [DocumentParserType.Presentation]],\n  [\n    ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'tif', 'tiff', 'webp', 'svg', 'ico'],\n    [DocumentParserType.Picture],\n  ],\n  [\n    ['txt'],\n    [\n      DocumentParserType.Naive,\n      DocumentParserType.Resume,\n      DocumentParserType.Book,\n      DocumentParserType.Laws,\n      DocumentParserType.One,\n      DocumentParserType.Qa,\n      DocumentParserType.Table,\n      DocumentParserType.KnowledgeGraph,\n    ],\n  ],\n  [\n    ['csv'],\n    [\n      DocumentParserType.Naive,\n      DocumentParserType.Resume,\n      DocumentParserType.Book,\n      DocumentParserType.Laws,\n      DocumentParserType.One,\n      DocumentParserType.Qa,\n      DocumentParserType.Table,\n      DocumentParserType.KnowledgeGraph,\n    ],\n  ],\n  [\n    ['md'],\n    [\n      DocumentParserType.Naive,\n      DocumentParserType.Qa,\n      DocumentParserType.KnowledgeGraph,\n    ],\n  ],\n  [['json'], [DocumentParserType.Naive, DocumentParserType.KnowledgeGraph]],\n  [['eml'], [DocumentParserType.Email]],\n]);\n\nconst getParserList = (\n  values: string[],\n  parserList: Array<{\n    value: string;\n    label: string;\n  }>,\n) => {\n  return parserList.filter((x) => values?.some((y) => y === x.value));\n};\n\nexport const useFetchParserListOnMount = (\n  documentId: string,\n  parserId: DocumentParserType,\n  documentExtension: string,\n  form: FormInstance,\n) => {\n  const [selectedTag, setSelectedTag] = useState<DocumentParserType>();\n  const parserList = useSelectParserList();\n  const handleChunkMethodSelectChange = useHandleChunkMethodSelectChange(form);\n\n  const nextParserList = useMemo(() => {\n    const key = [...ParserListMap.keys()].find((x) =>\n      x.some((y) => y === documentExtension),\n    );\n    if (key) {\n      const values = ParserListMap.get(key);\n      return getParserList(values ?? [], parserList);\n    }\n\n    return getParserList(\n      [\n        DocumentParserType.Naive,\n        DocumentParserType.Resume,\n        DocumentParserType.Book,\n        DocumentParserType.Laws,\n        DocumentParserType.One,\n        DocumentParserType.Qa,\n        DocumentParserType.Table,\n      ],\n      parserList,\n    );\n  }, [parserList, documentExtension]);\n\n  useEffect(() => {\n    setSelectedTag(parserId);\n  }, [parserId, documentId]);\n\n  const handleChange = (tag: string) => {\n    handleChunkMethodSelectChange(tag);\n    setSelectedTag(tag as DocumentParserType);\n  };\n\n  return { parserList: nextParserList, handleChange, selectedTag };\n};\n\nconst hideAutoKeywords = [\n  DocumentParserType.Qa,\n  DocumentParserType.Table,\n  DocumentParserType.Resume,\n  DocumentParserType.KnowledgeGraph,\n  DocumentParserType.Tag,\n];\n\nexport const useShowAutoKeywords = () => {\n  const showAutoKeywords = useCallback(\n    (selectedTag: DocumentParserType | undefined) => {\n      return hideAutoKeywords.every((x) => selectedTag !== x);\n    },\n    [],\n  );\n\n  return showAutoKeywords;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"pageInputNumber\":\"pageInputNumber___qm78X\",\"questionIcon\":\"questionIcon___d34w8\",\"chunkMethod\":\"chunkMethod___tcugG\"};","import MaxTokenNumber from '@/components/max-token-number';\nimport { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport {\n  MinusCircleOutlined,\n  PlusOutlined,\n  QuestionCircleOutlined,\n} from '@ant-design/icons';\nimport {\n  Button,\n  Divider,\n  Form,\n  InputNumber,\n  Modal,\n  Select,\n  Space,\n  Tooltip,\n} from 'antd';\nimport omit from 'lodash/omit';\nimport React, { useEffect, useMemo } from 'react';\nimport { useFetchParserListOnMount, useShowAutoKeywords } from './hooks';\n\nimport { DocumentParserType } from '@/constants/knowledge';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { IParserConfig } from '@/interfaces/database/document';\nimport { IChangeParserConfigRequestBody } from '@/interfaces/request/document';\nimport { AutoKeywordsItem, AutoQuestionsItem } from '../auto-keywords-item';\nimport { DatasetConfigurationContainer } from '../dataset-configuration-container';\nimport Delimiter from '../delimiter';\nimport EntityTypesItem from '../entity-types-item';\nimport ExcelToHtml from '../excel-to-html';\nimport LayoutRecognize from '../layout-recognize';\nimport ParseConfiguration, {\n  showRaptorParseConfiguration,\n} from '../parse-configuration';\nimport GraphRagItems, {\n  showGraphRagItems,\n} from '../parse-configuration/graph-rag-items';\nimport styles from './index.less';\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  onOk: (\n    parserId: DocumentParserType | undefined,\n    parserConfig: IChangeParserConfigRequestBody,\n  ) => void;\n  showModal?(): void;\n  parserId: DocumentParserType;\n  parserConfig: IParserConfig;\n  documentExtension: string;\n  documentId: string;\n}\n\nconst hidePagesChunkMethods = [\n  DocumentParserType.Qa,\n  DocumentParserType.Table,\n  DocumentParserType.Picture,\n  DocumentParserType.Resume,\n  DocumentParserType.One,\n  DocumentParserType.KnowledgeGraph,\n];\n\nconst ChunkMethodModal: React.FC<IProps> = ({\n  documentId,\n  parserId,\n  onOk,\n  hideModal,\n  visible,\n  documentExtension,\n  parserConfig,\n  loading,\n}) => {\n  const [form] = Form.useForm();\n  const { parserList, handleChange, selectedTag } = useFetchParserListOnMount(\n    documentId,\n    parserId,\n    documentExtension,\n    form,\n  );\n  const { t } = useTranslate('knowledgeDetails');\n\n  const handleOk = async () => {\n    const values = await form.validateFields();\n    const parser_config = {\n      ...values.parser_config,\n      pages: values.pages?.map((x: any) => [x.from, x.to]) ?? [],\n    };\n    onOk(selectedTag, parser_config);\n  };\n\n  const isPdf = documentExtension === 'pdf';\n\n  const showPages = useMemo(() => {\n    return isPdf && hidePagesChunkMethods.every((x) => x !== selectedTag);\n  }, [selectedTag, isPdf]);\n\n  const showOne = useMemo(() => {\n    return (\n      isPdf &&\n      hidePagesChunkMethods\n        .filter((x) => x !== DocumentParserType.One)\n        .every((x) => x !== selectedTag)\n    );\n  }, [selectedTag, isPdf]);\n\n  const showMaxTokenNumber =\n    selectedTag === DocumentParserType.Naive ||\n    selectedTag === DocumentParserType.KnowledgeGraph;\n\n  const showEntityTypes = selectedTag === DocumentParserType.KnowledgeGraph;\n\n  const showExcelToHtml =\n    selectedTag === DocumentParserType.Naive && documentExtension === 'xlsx';\n\n  const showAutoKeywords = useShowAutoKeywords();\n\n  const afterClose = () => {\n    form.resetFields();\n  };\n\n  useEffect(() => {\n    if (visible) {\n      const pages =\n        parserConfig?.pages?.map((x) => ({ from: x[0], to: x[1] })) ?? [];\n      form.setFieldsValue({\n        pages: pages.length > 0 ? pages : [{ from: 1, to: 1024 }],\n        parser_config: omit(parserConfig, 'pages'),\n      });\n    }\n  }, [form, parserConfig, visible]);\n\n  return (\n    <Modal\n      title={t('chunkMethod')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n      afterClose={afterClose}\n      confirmLoading={loading}\n      width={700}\n    >\n      <Space size={[0, 8]} wrap>\n        <Form.Item label={t('chunkMethod')} className={styles.chunkMethod}>\n          <Select\n            style={{ width: 160 }}\n            onChange={handleChange}\n            value={selectedTag}\n            options={parserList}\n          />\n        </Form.Item>\n      </Space>\n      <Divider></Divider>\n      <Form\n        name=\"dynamic_form_nest_item\"\n        autoComplete=\"off\"\n        form={form}\n        className=\"space-y-4\"\n      >\n        {showPages && (\n          <>\n            <Space>\n              <p>{t('pageRanges')}:</p>\n              <Tooltip title={t('pageRangesTip')}>\n                <QuestionCircleOutlined\n                  className={styles.questionIcon}\n                ></QuestionCircleOutlined>\n              </Tooltip>\n            </Space>\n            <Form.List name=\"pages\">\n              {(fields, { add, remove }) => (\n                <>\n                  {fields.map(({ key, name, ...restField }) => (\n                    <Space\n                      key={key}\n                      style={{\n                        display: 'flex',\n                      }}\n                      align=\"baseline\"\n                    >\n                      <Form.Item\n                        {...restField}\n                        name={[name, 'from']}\n                        dependencies={name > 0 ? [name - 1, 'to'] : []}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('fromMessage'),\n                          },\n                          ({ getFieldValue }) => ({\n                            validator(_, value) {\n                              if (\n                                name === 0 ||\n                                !value ||\n                                getFieldValue(['pages', name - 1, 'to']) < value\n                              ) {\n                                return Promise.resolve();\n                              }\n                              return Promise.reject(\n                                new Error(t('greaterThanPrevious')),\n                              );\n                            },\n                          }),\n                        ]}\n                      >\n                        <InputNumber\n                          placeholder={t('fromPlaceholder')}\n                          min={0}\n                          precision={0}\n                          className={styles.pageInputNumber}\n                        />\n                      </Form.Item>\n                      <Form.Item\n                        {...restField}\n                        name={[name, 'to']}\n                        dependencies={[name, 'from']}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('toMessage'),\n                          },\n                          ({ getFieldValue }) => ({\n                            validator(_, value) {\n                              if (\n                                !value ||\n                                getFieldValue(['pages', name, 'from']) < value\n                              ) {\n                                return Promise.resolve();\n                              }\n                              return Promise.reject(\n                                new Error(t('greaterThan')),\n                              );\n                            },\n                          }),\n                        ]}\n                      >\n                        <InputNumber\n                          placeholder={t('toPlaceholder')}\n                          min={0}\n                          precision={0}\n                          className={styles.pageInputNumber}\n                        />\n                      </Form.Item>\n                      {name > 0 && (\n                        <MinusCircleOutlined onClick={() => remove(name)} />\n                      )}\n                    </Space>\n                  ))}\n                  <Form.Item>\n                    <Button\n                      type=\"dashed\"\n                      onClick={() => add()}\n                      block\n                      icon={<PlusOutlined />}\n                    >\n                      {t('addPage')}\n                    </Button>\n                  </Form.Item>\n                </>\n              )}\n            </Form.List>\n          </>\n        )}\n\n        {showPages && (\n          <Form.Item\n            noStyle\n            dependencies={[['parser_config', 'layout_recognize']]}\n          >\n            {({ getFieldValue }) =>\n              getFieldValue(['parser_config', 'layout_recognize']) && (\n                <Form.Item\n                  name={['parser_config', 'task_page_size']}\n                  label={t('taskPageSize')}\n                  tooltip={t('taskPageSizeTip')}\n                  initialValue={12}\n                  rules={[\n                    {\n                      required: true,\n                      message: t('taskPageSizeMessage'),\n                    },\n                  ]}\n                >\n                  <InputNumber min={1} max={128} />\n                </Form.Item>\n              )\n            }\n          </Form.Item>\n        )}\n        <DatasetConfigurationContainer show={showOne || showMaxTokenNumber}>\n          {showOne && <LayoutRecognize></LayoutRecognize>}\n          {showMaxTokenNumber && (\n            <>\n              <MaxTokenNumber\n                max={\n                  selectedTag === DocumentParserType.KnowledgeGraph\n                    ? 8192 * 2\n                    : 2048\n                }\n              ></MaxTokenNumber>\n              <Delimiter></Delimiter>\n            </>\n          )}\n        </DatasetConfigurationContainer>\n        <DatasetConfigurationContainer\n          show={showAutoKeywords(selectedTag) || showExcelToHtml}\n        >\n          {showAutoKeywords(selectedTag) && (\n            <>\n              <AutoKeywordsItem></AutoKeywordsItem>\n              <AutoQuestionsItem></AutoQuestionsItem>\n            </>\n          )}\n          {showExcelToHtml && <ExcelToHtml></ExcelToHtml>}\n        </DatasetConfigurationContainer>\n        {showRaptorParseConfiguration(selectedTag) && (\n          <DatasetConfigurationContainer>\n            <ParseConfiguration></ParseConfiguration>\n          </DatasetConfigurationContainer>\n        )}\n        {showGraphRagItems(selectedTag) && <GraphRagItems></GraphRagItems>}\n        {showEntityTypes && <EntityTypesItem></EntityTypesItem>}\n      </Form>\n    </Modal>\n  );\n};\nexport default ChunkMethodModal;\n","import { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport { Form, Input, Modal } from 'antd';\nimport React from 'react';\n\ntype FieldType = {\n  name?: string;\n};\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  onOk: (name: string) => void;\n  showModal?(): void;\n}\n\nconst FileCreatingModal: React.FC<IProps> = ({ visible, hideModal, onOk }) => {\n  const [form] = Form.useForm();\n\n  const handleOk = async () => {\n    const values = await form.validateFields();\n    onOk(values.name);\n  };\n\n  return (\n    <Modal\n      title=\"File Name\"\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n    >\n      <Form\n        form={form}\n        name=\"validateOnly\"\n        labelCol={{ span: 4 }}\n        wrapperCol={{ span: 20 }}\n        style={{ maxWidth: 600 }}\n        autoComplete=\"off\"\n      >\n        <Form.Item<FieldType>\n          label=\"File Name\"\n          name=\"name\"\n          rules={[{ required: true, message: 'Please input name!' }]}\n        >\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\nexport default FileCreatingModal;\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgCancel = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 22, height: 22, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M.5 11C.5 5.201 5.201.5 11 .5S21.5 5.201 21.5 11 16.799 21.5 11 21.5.5 16.799.5 11Z\", fill: \"#FEF3F2\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M.5 11C.5 5.201 5.201.5 11 .5S21.5 5.201 21.5 11 16.799 21.5 11 21.5.5 16.799.5 11Z\", stroke: \"#FECDCA\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"m14 8-6 6m0-6 6 6\", stroke: \"#F04438\", strokeWidth: 1.5, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgCancel as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTS41IDExQy41IDUuMjAxIDUuMjAxLjUgMTEgLjVTMjEuNSA1LjIwMSAyMS41IDExIDE2Ljc5OSAyMS41IDExIDIxLjUuNSAxNi43OTkuNSAxMVoiIGZpbGw9IiNGRUYzRjIiLz48cGF0aCBkPSJNLjUgMTFDLjUgNS4yMDEgNS4yMDEuNSAxMSAuNVMyMS41IDUuMjAxIDIxLjUgMTEgMTYuNzk5IDIxLjUgMTEgMjEuNS41IDE2Ljc5OS41IDExWiIgc3Ryb2tlPSIjRkVDRENBIi8+PHBhdGggZD0ibTE0IDgtNiA2bTAtNiA2IDYiIHN0cm9rZT0iI0YwNDQzOCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgDelete = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 20, height: 20, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M13.333 5v-.667c0-.933 0-1.4-.181-1.756a1.667 1.667 0 0 0-.729-.729c-.356-.181-.823-.181-1.756-.181H9.333c-.933 0-1.4 0-1.756.181-.314.16-.569.415-.729.729-.181.356-.181.823-.181 1.756V5m1.666 4.583v4.167m3.334-4.167v4.167M2.5 5h15m-1.667 0v9.333c0 1.4 0 2.1-.272 2.635a2.5 2.5 0 0 1-1.093 1.093c-.534.272-1.235.272-2.635.272H8.167c-1.4 0-2.1 0-2.635-.272a2.5 2.5 0 0 1-1.093-1.093c-.272-.534-.272-1.235-.272-2.635V5\", stroke: \"#667085\", strokeWidth: 1.667, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgDelete as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEzLjMzMyA1di0uNjY3YzAtLjkzMyAwLTEuNC0uMTgxLTEuNzU2YTEuNjY3IDEuNjY3IDAgMCAwLS43MjktLjcyOWMtLjM1Ni0uMTgxLS44MjMtLjE4MS0xLjc1Ni0uMTgxSDkuMzMzYy0uOTMzIDAtMS40IDAtMS43NTYuMTgxLS4zMTQuMTYtLjU2OS40MTUtLjcyOS43MjktLjE4MS4zNTYtLjE4MS44MjMtLjE4MSAxLjc1NlY1bTEuNjY2IDQuNTgzdjQuMTY3bTMuMzM0LTQuMTY3djQuMTY3TTIuNSA1aDE1bS0xLjY2NyAwdjkuMzMzYzAgMS40IDAgMi4xLS4yNzIgMi42MzVhMi41IDIuNSAwIDAgMS0xLjA5MyAxLjA5M2MtLjUzNC4yNzItMS4yMzUuMjcyLTIuNjM1LjI3Mkg4LjE2N2MtMS40IDAtMi4xIDAtMi42MzUtLjI3MmEyLjUgMi41IDAgMCAxLTEuMDkzLTEuMDkzYy0uMjcyLS41MzQtLjI3Mi0xLjIzNS0uMjcyLTIuNjM1VjUiIHN0cm9rZT0iIzY2NzA4NSIgc3Ryb2tlLXdpZHRoPSIxLjY2NyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgDisable = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ className: \"disable_svg__icon\", viewBox: \"0 0 1024 1024\", xmlns: \"http://www.w3.org/2000/svg\", width: 22, height: 22 }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M222.635 272.299A382.4 382.4 0 0 0 138.667 512c0 212.117 171.904 384 384 384 90.666 0 174.016-31.424 239.701-83.968L222.635 272.299zm60.33-60.331L822.7 751.701A382.4 382.4 0 0 0 906.667 512c0-212.117-171.904-384-384-384-90.667 0-174.016 31.424-239.702 83.968zM53.333 512c0-259.221 210.091-469.333 469.334-469.333C781.888 42.667 992 252.757 992 512c0 259.221-210.09 469.333-469.333 469.333-259.222 0-469.334-210.09-469.334-469.333z\", fill: \"#F04438\" }));\nexport { SvgDisable as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiPjxwYXRoIGQ9Ik0yMjIuNjM1IDI3Mi4yOTlBMzgyLjQgMzgyLjQgMCAwIDAgMTM4LjY2NyA1MTJjMCAyMTIuMTE3IDE3MS45MDQgMzg0IDM4NCAzODQgOTAuNjY2IDAgMTc0LjAxNi0zMS40MjQgMjM5LjcwMS04My45NjhMMjIyLjYzNSAyNzIuMjk5em02MC4zMy02MC4zMzFMODIyLjcgNzUxLjcwMUEzODIuNCAzODIuNCAwIDAgMCA5MDYuNjY3IDUxMmMwLTIxMi4xMTctMTcxLjkwNC0zODQtMzg0LTM4NC05MC42NjcgMC0xNzQuMDE2IDMxLjQyNC0yMzkuNzAyIDgzLjk2OHpNNTMuMzMzIDUxMmMwLTI1OS4yMjEgMjEwLjA5MS00NjkuMzMzIDQ2OS4zMzQtNDY5LjMzM0M3ODEuODg4IDQyLjY2NyA5OTIgMjUyLjc1NyA5OTIgNTEyYzAgMjU5LjIyMS0yMTAuMDkgNDY5LjMzMy00NjkuMzMzIDQ2OS4zMzMtMjU5LjIyMiAwLTQ2OS4zMzQtMjEwLjA5LTQ2OS4zMzQtNDY5LjMzM3oiIGZpbGw9IiNGMDQ0MzgiLz48L3N2Zz4=\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgEnable = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ className: \"enable_svg__icon\", viewBox: \"0 0 1024 1024\", xmlns: \"http://www.w3.org/2000/svg\", width: 22, height: 22 }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M512 0a512 512 0 1 0 0 1024A512 512 0 0 0 512 0zm0 990.2a438.2 438.2 0 1 1 0-956.4 438.2 438.2 0 0 1 0 956.4z\", fill: \"#abefc6\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M448.1 584.3 322.4 458.6l-78.9 78.9L449.1 743h.1l.5.5 325.9-325.9-80.4-80.4z\", fill: \"#17b26a\" }));\nexport { SvgEnable as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiPjxwYXRoIGQ9Ik01MTIgMGE1MTIgNTEyIDAgMSAwIDAgMTAyNEE1MTIgNTEyIDAgMCAwIDUxMiAwem0wIDk5MC4yYTQzOC4yIDQzOC4yIDAgMSAxIDAtOTU2LjQgNDM4LjIgNDM4LjIgMCAwIDEgMCA5NTYuNHoiIGZpbGw9IiNhYmVmYzYiLz48cGF0aCBkPSJNNDQ4LjEgNTg0LjMgMzIyLjQgNDU4LjZsLTc4LjkgNzguOUw0NDkuMSA3NDNoLjFsLjUuNSAzMjUuOS0zMjUuOS04MC40LTgwLjR6IiBmaWxsPSIjMTdiMjZhIi8+PC9zdmc+\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgRun = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 22, height: 22, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M11 21.5C5.201 21.5.5 16.799.5 11S5.201.5 11 .5 21.5 5.201 21.5 11 16.799 21.5 11 21.5Z\", fill: \"#ECFDF3\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M11 21.5C5.201 21.5.5 16.799.5 11S5.201.5 11 .5 21.5 5.201 21.5 11 16.799 21.5 11 21.5Z\", stroke: \"#ABEFC6\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M7.5 7.495c0-.486 0-.729.101-.862a.5.5 0 0 1 .37-.198c.167-.01.369.125.773.394l5.258 3.505c.333.223.5.334.558.475a.5.5 0 0 1 0 .383c-.058.14-.225.251-.559.474L8.745 15.17c-.404.27-.606.404-.774.394a.5.5 0 0 1-.369-.198c-.101-.133-.101-.376-.101-.862v-7.01Z\", stroke: \"#17B26A\", strokeWidth: 1.5, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgRun as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExIDIxLjVDNS4yMDEgMjEuNS41IDE2Ljc5OS41IDExUzUuMjAxLjUgMTEgLjUgMjEuNSA1LjIwMSAyMS41IDExIDE2Ljc5OSAyMS41IDExIDIxLjVaIiBmaWxsPSIjRUNGREYzIi8+PHBhdGggZD0iTTExIDIxLjVDNS4yMDEgMjEuNS41IDE2Ljc5OS41IDExUzUuMjAxLjUgMTEgLjUgMjEuNSA1LjIwMSAyMS41IDExIDE2Ljc5OSAyMS41IDExIDIxLjVaIiBzdHJva2U9IiNBQkVGQzYiLz48cGF0aCBkPSJNNy41IDcuNDk1YzAtLjQ4NiAwLS43MjkuMTAxLS44NjJhLjUuNSAwIDAgMSAuMzctLjE5OGMuMTY3LS4wMS4zNjkuMTI1Ljc3My4zOTRsNS4yNTggMy41MDVjLjMzMy4yMjMuNS4zMzQuNTU4LjQ3NWEuNS41IDAgMCAxIDAgLjM4M2MtLjA1OC4xNC0uMjI1LjI1MS0uNTU5LjQ3NEw4Ljc0NSAxNS4xN2MtLjQwNC4yNy0uNjA2LjQwNC0uNzc0LjM5NGEuNS41IDAgMCAxLS4zNjktLjE5OGMtLjEwMS0uMTMzLS4xMDEtLjM3Ni0uMTAxLS44NjJ2LTcuMDFaIiBzdHJva2U9IiMxN0IyNkEiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L3N2Zz4=\";\n","// extracted by mini-css-extract-plugin\nexport default {\"datasetWrapper\":\"datasetWrapper___q27L3\",\"filter\":\"filter___ETTRo\",\"deleteIconWrapper\":\"deleteIconWrapper___DKg5C\",\"img\":\"img___JlbZB\",\"column\":\"column___fvjI4\",\"toChunks\":\"toChunks___LX_Ow\",\"pageInputNumber\":\"pageInputNumber___hsRez\",\"questionIcon\":\"questionIcon___JX1Gh\",\"nameText\":\"nameText___Fvf8C\"};","import { ReactComponent as CancelIcon } from '@/assets/svg/cancel.svg';\nimport { ReactComponent as DeleteIcon } from '@/assets/svg/delete.svg';\nimport { ReactComponent as DisableIcon } from '@/assets/svg/disable.svg';\nimport { ReactComponent as EnableIcon } from '@/assets/svg/enable.svg';\nimport { ReactComponent as RunIcon } from '@/assets/svg/run.svg';\nimport { useShowDeleteConfirm, useTranslate } from '@/hooks/common-hooks';\nimport {\n  useRemoveNextDocument,\n  useRunNextDocument,\n  useSetNextDocumentStatus,\n} from '@/hooks/document-hooks';\nimport {\n  DownOutlined,\n  FileOutlined,\n  FileTextOutlined,\n  PlusOutlined,\n  SearchOutlined,\n} from '@ant-design/icons';\nimport { Button, Dropdown, Flex, Input, MenuProps, Space } from 'antd';\nimport { useCallback, useMemo } from 'react';\n\nimport styles from './index.less';\n\ninterface IProps {\n  selectedRowKeys: string[];\n  showCreateModal(): void;\n  showWebCrawlModal(): void;\n  showDocumentUploadModal(): void;\n  searchString: string;\n  handleInputChange: React.ChangeEventHandler<HTMLInputElement>;\n}\n\nconst DocumentToolbar = ({\n  searchString,\n  selectedRowKeys,\n  showCreateModal,\n  showDocumentUploadModal,\n  handleInputChange,\n}: IProps) => {\n  const { t } = useTranslate('knowledgeDetails');\n  const { removeDocument } = useRemoveNextDocument();\n  const showDeleteConfirm = useShowDeleteConfirm();\n  const { runDocumentByIds } = useRunNextDocument();\n  const { setDocumentStatus } = useSetNextDocumentStatus();\n\n  const actionItems: MenuProps['items'] = useMemo(() => {\n    return [\n      {\n        key: '1',\n        onClick: showDocumentUploadModal,\n        label: (\n          <div>\n            <Button type=\"link\">\n              <Space>\n                <FileTextOutlined />\n                {t('localFiles')}\n              </Space>\n            </Button>\n          </div>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '3',\n        onClick: showCreateModal,\n        label: (\n          <div>\n            <Button type=\"link\">\n              <FileOutlined />\n              {t('emptyFiles')}\n            </Button>\n          </div>\n        ),\n      },\n    ];\n  }, [showDocumentUploadModal, showCreateModal, t]);\n\n  const handleDelete = useCallback(() => {\n    showDeleteConfirm({\n      onOk: () => {\n        removeDocument(selectedRowKeys);\n      },\n    });\n  }, [removeDocument, showDeleteConfirm, selectedRowKeys]);\n\n  const runDocument = useCallback(\n    (run: number) => {\n      runDocumentByIds({\n        documentIds: selectedRowKeys,\n        run,\n      });\n    },\n    [runDocumentByIds, selectedRowKeys],\n  );\n\n  const handleRunClick = useCallback(() => {\n    runDocument(1);\n  }, [runDocument]);\n\n  const handleCancelClick = useCallback(() => {\n    runDocument(2);\n  }, [runDocument]);\n\n  const onChangeStatus = useCallback(\n    (enabled: boolean) => {\n      selectedRowKeys.forEach((id) => {\n        setDocumentStatus({ status: enabled, documentId: id });\n      });\n    },\n    [selectedRowKeys, setDocumentStatus],\n  );\n\n  const handleEnableClick = useCallback(() => {\n    onChangeStatus(true);\n  }, [onChangeStatus]);\n\n  const handleDisableClick = useCallback(() => {\n    onChangeStatus(false);\n  }, [onChangeStatus]);\n\n  const disabled = selectedRowKeys.length === 0;\n\n  const items: MenuProps['items'] = useMemo(() => {\n    return [\n      {\n        key: '0',\n        onClick: handleEnableClick,\n        label: (\n          <Flex gap={10}>\n            <EnableIcon></EnableIcon>\n            <b>{t('enabled')}</b>\n          </Flex>\n        ),\n      },\n      {\n        key: '1',\n        onClick: handleDisableClick,\n        label: (\n          <Flex gap={10}>\n            <DisableIcon></DisableIcon>\n            <b>{t('disabled')}</b>\n          </Flex>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '2',\n        onClick: handleRunClick,\n        label: (\n          <Flex gap={10}>\n            <RunIcon></RunIcon>\n            <b>{t('run')}</b>\n          </Flex>\n        ),\n      },\n      {\n        key: '3',\n        onClick: handleCancelClick,\n        label: (\n          <Flex gap={10}>\n            <CancelIcon />\n            <b>{t('cancel')}</b>\n          </Flex>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '4',\n        onClick: handleDelete,\n        label: (\n          <Flex gap={10}>\n            <span className={styles.deleteIconWrapper}>\n              <DeleteIcon width={18} />\n            </span>\n            <b>{t('delete', { keyPrefix: 'common' })}</b>\n          </Flex>\n        ),\n      },\n    ];\n  }, [\n    handleDelete,\n    handleRunClick,\n    handleCancelClick,\n    t,\n    handleDisableClick,\n    handleEnableClick,\n  ]);\n\n  return (\n    <div className={styles.filter}>\n      <Dropdown\n        menu={{ items }}\n        placement=\"bottom\"\n        arrow={false}\n        disabled={disabled}\n      >\n        <Button>\n          <Space>\n            <b> {t('bulk')}</b>\n            <DownOutlined />\n          </Space>\n        </Button>\n      </Dropdown>\n      <Space>\n        <Input\n          placeholder={t('searchFiles')}\n          value={searchString}\n          style={{ width: 220 }}\n          allowClear\n          onChange={handleInputChange}\n          prefix={<SearchOutlined />}\n        />\n\n        <Dropdown menu={{ items: actionItems }} trigger={['click']}>\n          <Button type=\"primary\" icon={<PlusOutlined />}>\n            {t('addFile')}\n          </Button>\n        </Dropdown>\n      </Space>\n    </div>\n  );\n};\n\nexport default DocumentToolbar;\n","import { RunningStatus } from '@/constants/knowledge';\n\nexport const RunningStatusMap = {\n  [RunningStatus.UNSTART]: {\n    label: 'UNSTART',\n    color: 'cyan',\n  },\n  [RunningStatus.RUNNING]: {\n    label: 'Parsing',\n    color: 'blue',\n  },\n  [RunningStatus.CANCEL]: { label: 'CANCEL', color: 'orange' },\n  [RunningStatus.DONE]: { label: 'SUCCESS', color: 'geekblue' },\n  [RunningStatus.FAIL]: { label: 'FAIL', color: 'red' },\n};\n\nexport * from '@/constants/knowledge';\n","import { RunningStatus } from './constant';\n\nexport const isParserRunning = (text: RunningStatus) => {\n  const isRunning = text === RunningStatus.RUNNING;\n  return isRunning;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"iconButton\":\"iconButton___btHnB\"};","import { useShowDeleteConfirm, useTranslate } from '@/hooks/common-hooks';\nimport { useRemoveNextDocument } from '@/hooks/document-hooks';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport { downloadDocument } from '@/utils/file-util';\nimport {\n  DeleteOutlined,\n  DownloadOutlined,\n  EditOutlined,\n  ToolOutlined,\n} from '@ant-design/icons';\nimport { Button, Dropdown, MenuProps, Space, Tooltip } from 'antd';\nimport { isParserRunning } from '../utils';\n\nimport { useCallback } from 'react';\nimport { DocumentType } from '../constant';\nimport styles from './index.less';\n\ninterface IProps {\n  record: IDocumentInfo;\n  setCurrentRecord: (record: IDocumentInfo) => void;\n  showRenameModal: () => void;\n  showChangeParserModal: () => void;\n  showSetMetaModal: () => void;\n}\n\nconst ParsingActionCell = ({\n  record,\n  setCurrentRecord,\n  showRenameModal,\n  showChangeParserModal,\n  showSetMetaModal,\n}: IProps) => {\n  const documentId = record.id;\n  const isRunning = isParserRunning(record.run);\n  const { t } = useTranslate('knowledgeDetails');\n  const { removeDocument } = useRemoveNextDocument();\n  const showDeleteConfirm = useShowDeleteConfirm();\n  const isVirtualDocument = record.type === DocumentType.Virtual;\n\n  const onRmDocument = () => {\n    if (!isRunning) {\n      showDeleteConfirm({\n        onOk: () => removeDocument([documentId]),\n        content: record?.parser_config?.graphrag?.use_graphrag\n          ? t('deleteDocumentConfirmContent')\n          : '',\n      });\n    }\n  };\n\n  const onDownloadDocument = () => {\n    downloadDocument({\n      id: documentId,\n      filename: record.name,\n    });\n  };\n\n  const setRecord = useCallback(() => {\n    setCurrentRecord(record);\n  }, [record, setCurrentRecord]);\n\n  const onShowRenameModal = () => {\n    setRecord();\n    showRenameModal();\n  };\n  const onShowChangeParserModal = () => {\n    setRecord();\n    showChangeParserModal();\n  };\n\n  const onShowSetMetaModal = useCallback(() => {\n    setRecord();\n    showSetMetaModal();\n  }, [setRecord, showSetMetaModal]);\n\n  const chunkItems: MenuProps['items'] = [\n    {\n      key: '1',\n      label: (\n        <div className=\"flex flex-col\">\n          <Button type=\"link\" onClick={onShowChangeParserModal}>\n            {t('chunkMethod')}\n          </Button>\n        </div>\n      ),\n    },\n    { type: 'divider' },\n    {\n      key: '2',\n      label: (\n        <div className=\"flex flex-col\">\n          <Button type=\"link\" onClick={onShowSetMetaModal}>\n            {t('setMetaData')}\n          </Button>\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <Space size={0}>\n      {isVirtualDocument || (\n        <Dropdown\n          menu={{ items: chunkItems }}\n          trigger={['click']}\n          disabled={isRunning || record.parser_id === 'tag'}\n        >\n          <Button type=\"text\" className={styles.iconButton}>\n            <ToolOutlined size={20} />\n          </Button>\n        </Dropdown>\n      )}\n      <Tooltip title={t('rename', { keyPrefix: 'common' })}>\n        <Button\n          type=\"text\"\n          disabled={isRunning}\n          onClick={onShowRenameModal}\n          className={styles.iconButton}\n        >\n          <EditOutlined size={20} />\n        </Button>\n      </Tooltip>\n      <Tooltip title={t('delete', { keyPrefix: 'common' })}>\n        <Button\n          type=\"text\"\n          disabled={isRunning}\n          onClick={onRmDocument}\n          className={styles.iconButton}\n        >\n          <DeleteOutlined size={20} />\n        </Button>\n      </Tooltip>\n      {isVirtualDocument || (\n        <Tooltip title={t('download', { keyPrefix: 'common' })}>\n          <Button\n            type=\"text\"\n            disabled={isRunning}\n            onClick={onDownloadDocument}\n            className={styles.iconButton}\n          >\n            <DownloadOutlined size={20} />\n          </Button>\n        </Tooltip>\n      )}\n    </Space>\n  );\n};\n\nexport default ParsingActionCell;\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgRefresh = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 20, height: 20, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M14.167 4.271A7.083 7.083 0 0 1 10 17.083h-.417m-3.75-1.354A7.083 7.083 0 0 1 10 2.917h.417m.416 15.75L9.167 17l1.666-1.667M9.167 4.667 10.833 3 9.167 1.333\", stroke: \"#17B26A\", strokeWidth: 1.667, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgRefresh as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjE2NyA0LjI3MUE3LjA4MyA3LjA4MyAwIDAgMSAxMCAxNy4wODNoLS40MTdtLTMuNzUtMS4zNTRBNy4wODMgNy4wODMgMCAwIDEgMTAgMi45MTdoLjQxN20uNDE2IDE1Ljc1TDkuMTY3IDE3bDEuNjY2LTEuNjY3TTkuMTY3IDQuNjY3IDEwLjgzMyAzIDkuMTY3IDEuMzMzIiBzdHJva2U9IiMxN0IyNkEiIHN0cm9rZS13aWR0aD0iMS42NjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==\";\n","// extracted by mini-css-extract-plugin\nexport default {\"popoverContent\":\"popoverContent___Y8ZAO\",\"popoverContentItem\":\"popoverContentItem___Q3slq\",\"popoverContentText\":\"popoverContentText___nUr7b\",\"popoverContentErrorLabel\":\"popoverContentErrorLabel___vthqR\",\"operationIcon\":\"operationIcon___PnxaJ\",\"operationIconSpin\":\"operationIconSpin___Pf25W\",\"spin\":\"spin___POEkq\"};","import { ReactComponent as CancelIcon } from '@/assets/svg/cancel.svg';\nimport { ReactComponent as RefreshIcon } from '@/assets/svg/refresh.svg';\nimport { ReactComponent as RunIcon } from '@/assets/svg/run.svg';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport {\n  Badge,\n  DescriptionsProps,\n  Flex,\n  Popconfirm,\n  Popover,\n  Space,\n  Tag,\n} from 'antd';\nimport classNames from 'classnames';\nimport { useTranslation } from 'react-i18next';\nimport reactStringReplace from 'react-string-replace';\nimport { DocumentType, RunningStatus, RunningStatusMap } from '../constant';\nimport { useHandleRunDocumentByIds } from '../hooks';\nimport { isParserRunning } from '../utils';\nimport styles from './index.less';\n\nconst iconMap = {\n  [RunningStatus.UNSTART]: RunIcon,\n  [RunningStatus.RUNNING]: CancelIcon,\n  [RunningStatus.CANCEL]: RefreshIcon,\n  [RunningStatus.DONE]: RefreshIcon,\n  [RunningStatus.FAIL]: RefreshIcon,\n};\n\ninterface IProps {\n  record: IDocumentInfo;\n}\n\nconst PopoverContent = ({ record }: IProps) => {\n  const { t } = useTranslate('knowledgeDetails');\n\n  const replaceText = (text: string) => {\n    // Remove duplicate \\n\n    const nextText = text.replace(/(\\n)\\1+/g, '$1');\n\n    const replacedText = reactStringReplace(\n      nextText,\n      /(\\[ERROR\\].+\\s)/g,\n      (match, i) => {\n        return (\n          <span key={i} className={styles.popoverContentErrorLabel}>\n            {match}\n          </span>\n        );\n      },\n    );\n\n    return replacedText;\n  };\n\n  const items: DescriptionsProps['items'] = [\n    {\n      key: 'process_begin_at',\n      label: t('processBeginAt'),\n      children: record.process_begin_at,\n    },\n    {\n      key: 'process_duation',\n      label: t('processDuration'),\n      children: `${record.process_duation.toFixed(2)} s`,\n    },\n    {\n      key: 'progress_msg',\n      label: t('progressMsg'),\n      children: replaceText(record.progress_msg.trim()),\n    },\n  ];\n\n  return (\n    <Flex vertical className={styles.popoverContent}>\n      {items.map((x, idx) => {\n        return (\n          <div key={x.key} className={idx < 2 ? styles.popoverContentItem : ''}>\n            <b>{x.label}:</b>\n            <div className={styles.popoverContentText}>{x.children}</div>\n          </div>\n        );\n      })}\n    </Flex>\n  );\n};\n\nexport const ParsingStatusCell = ({ record }: IProps) => {\n  const text = record.run;\n  const runningStatus = RunningStatusMap[text];\n  const { t } = useTranslation();\n  const { handleRunDocumentByIds, loading } = useHandleRunDocumentByIds(\n    record.id,\n  );\n\n  const isRunning = isParserRunning(text);\n\n  const OperationIcon = iconMap[text];\n\n  const label = t(`knowledgeDetails.runningStatus${text}`);\n\n  const handleOperationIconClick =\n    (shouldDelete: boolean = false) =>\n    () => {\n      handleRunDocumentByIds(record.id, isRunning, shouldDelete);\n    };\n\n  return record.type === DocumentType.Virtual ? null : (\n    <Flex justify={'space-between'} align=\"center\">\n      <Popover content={<PopoverContent record={record}></PopoverContent>}>\n        <Tag color={runningStatus.color}>\n          {isRunning ? (\n            <Space>\n              <Badge color={runningStatus.color} />\n              {label}\n              <span>{(record.progress * 100).toFixed(2)}%</span>\n            </Space>\n          ) : (\n            label\n          )}\n        </Tag>\n      </Popover>\n      <Popconfirm\n        title={t(`knowledgeDetails.redo`, { chunkNum: record.chunk_num })}\n        onConfirm={handleOperationIconClick(true)}\n        onCancel={handleOperationIconClick(false)}\n        disabled={record.chunk_num === 0}\n        okText={t('common.ok')}\n        cancelText={t('common.cancel')}\n      >\n        <div\n          className={classNames(styles.operationIcon, {\n            [styles.operationIconSpin]: loading,\n          })}\n          onClick={\n            record.chunk_num === 0 ? handleOperationIconClick(false) : () => {}\n          }\n        >\n          <OperationIcon />\n        </div>\n      </Popconfirm>\n    </Flex>\n  );\n};\n\nexport default ParsingStatusCell;\n","import { useSetModalState } from '@/hooks/common-hooks';\nimport {\n  useCreateNextDocument,\n  useNextWebCrawl,\n  useRunNextDocument,\n  useSaveNextDocumentName,\n  useSetDocumentMeta,\n  useSetNextDocumentParser,\n  useUploadNextDocument,\n} from '@/hooks/document-hooks';\nimport { useGetKnowledgeSearchParams } from '@/hooks/route-hook';\nimport { IChangeParserConfigRequestBody } from '@/interfaces/request/document';\nimport { UploadFile } from 'antd';\nimport { useCallback, useState } from 'react';\nimport { useNavigate } from 'umi';\nimport { KnowledgeRouteKey } from './constant';\n\nexport const useNavigateToOtherPage = () => {\n  const navigate = useNavigate();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  const linkToUploadPage = useCallback(() => {\n    navigate(`/knowledge/dataset/upload?id=${knowledgeId}`);\n  }, [navigate, knowledgeId]);\n\n  const toChunk = useCallback(\n    (id: string) => {\n      navigate(\n        `/knowledge/${KnowledgeRouteKey.Dataset}/chunk?id=${knowledgeId}&doc_id=${id}`,\n      );\n    },\n    [navigate, knowledgeId],\n  );\n\n  return { linkToUploadPage, toChunk };\n};\n\nexport const useRenameDocument = (documentId: string) => {\n  const { saveName, loading } = useSaveNextDocumentName();\n\n  const {\n    visible: renameVisible,\n    hideModal: hideRenameModal,\n    showModal: showRenameModal,\n  } = useSetModalState();\n\n  const onRenameOk = useCallback(\n    async (name: string) => {\n      const ret = await saveName({ documentId, name });\n      if (ret === 0) {\n        hideRenameModal();\n      }\n    },\n    [hideRenameModal, saveName, documentId],\n  );\n\n  return {\n    renameLoading: loading,\n    onRenameOk,\n    renameVisible,\n    hideRenameModal,\n    showRenameModal,\n  };\n};\n\nexport const useCreateEmptyDocument = () => {\n  const { createDocument, loading } = useCreateNextDocument();\n\n  const {\n    visible: createVisible,\n    hideModal: hideCreateModal,\n    showModal: showCreateModal,\n  } = useSetModalState();\n\n  const onCreateOk = useCallback(\n    async (name: string) => {\n      const ret = await createDocument(name);\n      if (ret === 0) {\n        hideCreateModal();\n      }\n    },\n    [hideCreateModal, createDocument],\n  );\n\n  return {\n    createLoading: loading,\n    onCreateOk,\n    createVisible,\n    hideCreateModal,\n    showCreateModal,\n  };\n};\n\nexport const useChangeDocumentParser = (documentId: string) => {\n  const { setDocumentParser, loading } = useSetNextDocumentParser();\n\n  const {\n    visible: changeParserVisible,\n    hideModal: hideChangeParserModal,\n    showModal: showChangeParserModal,\n  } = useSetModalState();\n\n  const onChangeParserOk = useCallback(\n    async (parserId: string, parserConfig: IChangeParserConfigRequestBody) => {\n      const ret = await setDocumentParser({\n        parserId,\n        documentId,\n        parserConfig,\n      });\n      if (ret === 0) {\n        hideChangeParserModal();\n      }\n    },\n    [hideChangeParserModal, setDocumentParser, documentId],\n  );\n\n  return {\n    changeParserLoading: loading,\n    onChangeParserOk,\n    changeParserVisible,\n    hideChangeParserModal,\n    showChangeParserModal,\n  };\n};\n\nexport const useGetRowSelection = () => {\n  const [selectedRowKeys, setSelectedRowKeys] = useState<React.Key[]>([]);\n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: (newSelectedRowKeys: React.Key[]) => {\n      setSelectedRowKeys(newSelectedRowKeys);\n    },\n  };\n\n  return rowSelection;\n};\n\nexport const useHandleUploadDocument = () => {\n  const {\n    visible: documentUploadVisible,\n    hideModal: hideDocumentUploadModal,\n    showModal: showDocumentUploadModal,\n  } = useSetModalState();\n  const [fileList, setFileList] = useState<UploadFile[]>([]);\n  const [uploadProgress, setUploadProgress] = useState<number>(0);\n  const { uploadDocument, loading } = useUploadNextDocument();\n  const { runDocumentByIds, loading: _ } = useRunNextDocument();\n\n  const onDocumentUploadOk = useCallback(\n    async (parseOnCreation: boolean): Promise<number | undefined> => {\n      const processFileGroup = async (filesPart: UploadFile[]) => {\n        // set status to uploading on files\n        setFileList(\n          fileList.map((file) => {\n            if (!filesPart.includes(file)) {\n              return file;\n            }\n\n            let newFile = file;\n            newFile.status = 'uploading';\n            newFile.percent = 1;\n            return newFile;\n          }),\n        );\n\n        const ret = await uploadDocument(filesPart);\n\n        const files = ret?.data || [];\n        const succesfulFilenames = files.map((file: any) => file.name);\n\n        // set status to done or error on files (based on response)\n        setFileList(\n          fileList.map((file) => {\n            if (!filesPart.includes(file)) {\n              return file;\n            }\n\n            let newFile = file;\n            newFile.status = succesfulFilenames.includes(file.name)\n              ? 'done'\n              : 'error';\n            newFile.percent = 100;\n            newFile.response = ret.message;\n            return newFile;\n          }),\n        );\n\n        return {\n          code: ret?.code,\n          fileIds: files.map((file: any) => file.id),\n          totalSuccess: succesfulFilenames.length,\n        };\n      };\n\n      const totalFiles = fileList.length;\n\n      if (totalFiles === 0) {\n        console.log('No files to upload');\n        hideDocumentUploadModal();\n        return 0;\n      }\n\n      let totalSuccess = 0;\n      let codes = [];\n      let toRunFileIds: any[] = [];\n      for (let i = 0; i < totalFiles; i += 10) {\n        setUploadProgress(Math.floor((i / totalFiles) * 100));\n        const files = fileList.slice(i, i + 10);\n        const {\n          code,\n          totalSuccess: count,\n          fileIds,\n        } = await processFileGroup(files);\n        codes.push(code);\n        totalSuccess += count;\n        toRunFileIds = toRunFileIds.concat(fileIds);\n      }\n\n      const allSuccess = codes.every((code) => code === 0);\n      const any500 = codes.some((code) => code === 500);\n\n      let code = 500;\n      if (allSuccess || (any500 && totalSuccess === totalFiles)) {\n        code = 0;\n        hideDocumentUploadModal();\n      }\n\n      if (parseOnCreation) {\n        await runDocumentByIds({\n          documentIds: toRunFileIds,\n          run: 1,\n          shouldDelete: false,\n        });\n      }\n\n      setUploadProgress(100);\n\n      return code;\n    },\n    [fileList, uploadDocument, hideDocumentUploadModal, runDocumentByIds],\n  );\n\n  return {\n    documentUploadLoading: loading,\n    onDocumentUploadOk,\n    documentUploadVisible,\n    hideDocumentUploadModal,\n    showDocumentUploadModal,\n    uploadFileList: fileList,\n    setUploadFileList: setFileList,\n    uploadProgress,\n    setUploadProgress,\n  };\n};\n\nexport const useHandleWebCrawl = () => {\n  const {\n    visible: webCrawlUploadVisible,\n    hideModal: hideWebCrawlUploadModal,\n    showModal: showWebCrawlUploadModal,\n  } = useSetModalState();\n  const { webCrawl, loading } = useNextWebCrawl();\n\n  const onWebCrawlUploadOk = useCallback(\n    async (name: string, url: string) => {\n      const ret = await webCrawl({ name, url });\n      if (ret === 0) {\n        hideWebCrawlUploadModal();\n        return 0;\n      }\n      return -1;\n    },\n    [webCrawl, hideWebCrawlUploadModal],\n  );\n\n  return {\n    webCrawlUploadLoading: loading,\n    onWebCrawlUploadOk,\n    webCrawlUploadVisible,\n    hideWebCrawlUploadModal,\n    showWebCrawlUploadModal,\n  };\n};\n\nexport const useHandleRunDocumentByIds = (id: string) => {\n  const { runDocumentByIds, loading } = useRunNextDocument();\n  const [currentId, setCurrentId] = useState<string>('');\n  const isLoading = loading && currentId !== '' && currentId === id;\n\n  const handleRunDocumentByIds = async (\n    documentId: string,\n    isRunning: boolean,\n    shouldDelete: boolean = false,\n  ) => {\n    if (isLoading) {\n      return;\n    }\n    setCurrentId(documentId);\n    try {\n      await runDocumentByIds({\n        documentIds: [documentId],\n        run: isRunning ? 2 : 1,\n        shouldDelete,\n      });\n      setCurrentId('');\n    } catch (error) {\n      setCurrentId('');\n    }\n  };\n\n  return {\n    handleRunDocumentByIds,\n    loading: isLoading,\n  };\n};\n\nexport const useShowMetaModal = (documentId: string) => {\n  const { setDocumentMeta, loading } = useSetDocumentMeta();\n\n  const {\n    visible: setMetaVisible,\n    hideModal: hideSetMetaModal,\n    showModal: showSetMetaModal,\n  } = useSetModalState();\n\n  const onSetMetaModalOk = useCallback(\n    async (meta: string) => {\n      const ret = await setDocumentMeta({\n        documentId,\n        meta,\n      });\n      if (ret === 0) {\n        hideSetMetaModal();\n      }\n    },\n    [setDocumentMeta, documentId, hideSetMetaModal],\n  );\n\n  return {\n    setMetaLoading: loading,\n    onSetMetaModalOk,\n    setMetaVisible,\n    hideSetMetaModal,\n    showSetMetaModal,\n  };\n};\n","import { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { Form, Input, Modal } from 'antd';\nimport { useEffect } from 'react';\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  initialName: string;\n  onOk: (name: string) => void;\n  showModal?(): void;\n}\n\nconst RenameModal = ({\n  visible,\n  onOk,\n  loading,\n  initialName,\n  hideModal,\n}: IProps) => {\n  const [form] = Form.useForm();\n  const { t } = useTranslate('common');\n  type FieldType = {\n    name?: string;\n  };\n\n  const handleOk = async () => {\n    const ret = await form.validateFields();\n    onOk(ret.name);\n  };\n\n  const onFinish = (values: any) => {\n    console.log('Success:', values);\n  };\n\n  const onFinishFailed = (errorInfo: any) => {\n    console.log('Failed:', errorInfo);\n  };\n\n  useEffect(() => {\n    if (visible) {\n      form.setFieldValue('name', initialName);\n    }\n  }, [initialName, form, visible]);\n\n  return (\n    <Modal\n      title={t('rename')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n      okButtonProps={{ loading }}\n    >\n      <Form\n        name=\"basic\"\n        labelCol={{ span: 4 }}\n        wrapperCol={{ span: 20 }}\n        style={{ maxWidth: 600 }}\n        onFinish={onFinish}\n        onFinishFailed={onFinishFailed}\n        autoComplete=\"off\"\n        form={form}\n      >\n        <Form.Item<FieldType>\n          label={t('name')}\n          name=\"name\"\n          rules={[{ required: true, message: t('namePlaceholder') }]}\n        >\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default RenameModal;\n","import { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { Form, Input, Modal } from 'antd';\nimport React from 'react';\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  onOk: (name: string, url: string) => void;\n  showModal?(): void;\n}\n\nconst WebCrawlModal: React.FC<IProps> = ({ visible, hideModal, onOk }) => {\n  const [form] = Form.useForm();\n  const { t } = useTranslate('knowledgeDetails');\n  const handleOk = async () => {\n    const values = await form.validateFields();\n    onOk(values.name, values.url);\n  };\n\n  return (\n    <Modal\n      title={t('webCrawl')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n    >\n      <Form\n        form={form}\n        name=\"validateOnly\"\n        labelCol={{ span: 4 }}\n        wrapperCol={{ span: 20 }}\n        style={{ maxWidth: 600 }}\n        autoComplete=\"off\"\n      >\n        <Form.Item\n          label=\"Name\"\n          name=\"name\"\n          rules={[\n            { required: true, message: 'Please input name!' },\n            {\n              max: 10,\n              message: 'The maximum length of name is 128 characters',\n            },\n          ]}\n        >\n          <Input placeholder=\"Document name\" />\n        </Form.Item>\n        <Form.Item\n          label=\"URL\"\n          name=\"url\"\n          rules={[\n            { required: true, message: 'Please input url!' },\n            {\n              pattern: new RegExp(\n                '(https?|ftp|file)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]',\n              ),\n              message: 'Please enter a valid URL!',\n            },\n          ]}\n        >\n          <Input placeholder=\"https://www.baidu.com\" />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\nexport default WebCrawlModal;\n","import { IModalProps } from '@/interfaces/common';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport Editor, { loader } from '@monaco-editor/react';\n\nimport { Form, Modal } from 'antd';\nimport DOMPurify from 'dompurify';\nimport { useCallback, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nloader.config({ paths: { vs: '/vs' } });\n\ntype FieldType = {\n  meta?: string;\n};\n\nexport function SetMetaModal({\n  visible,\n  hideModal,\n  onOk,\n  initialMetaData,\n}: IModalProps<any> & { initialMetaData?: IDocumentInfo['meta_fields'] }) {\n  const { t } = useTranslation();\n  const [form] = Form.useForm();\n\n  const handleOk = useCallback(async () => {\n    const values = await form.validateFields();\n    onOk?.(values.meta);\n  }, [form, onOk]);\n\n  useEffect(() => {\n    form.setFieldValue('meta', JSON.stringify(initialMetaData, null, 4));\n  }, [form, initialMetaData]);\n\n  return (\n    <Modal\n      title={t('knowledgeDetails.setMetaData')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n    >\n      <Form\n        name=\"basic\"\n        initialValues={{ remember: true }}\n        autoComplete=\"off\"\n        layout={'vertical'}\n        form={form}\n      >\n        <Form.Item<FieldType>\n          label={t('knowledgeDetails.metaData')}\n          name=\"meta\"\n          rules={[\n            {\n              required: true,\n              validator(rule, value) {\n                try {\n                  JSON.parse(value);\n                  return Promise.resolve();\n                } catch (error) {\n                  return Promise.reject(\n                    new Error(t('knowledgeDetails.pleaseInputJson')),\n                  );\n                }\n              },\n            },\n          ]}\n          tooltip={\n            <div\n              dangerouslySetInnerHTML={{\n                __html: DOMPurify.sanitize(\n                  t('knowledgeDetails.documentMetaTips'),\n                ),\n              }}\n            ></div>\n          }\n        >\n          <Editor height={200} defaultLanguage=\"json\" theme=\"vs-dark\" />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n}\n","import ChunkMethodModal from '@/components/chunk-method-modal';\nimport SvgIcon from '@/components/svg-icon';\nimport {\n  useFetchNextDocumentList,\n  useSetNextDocumentStatus,\n} from '@/hooks/document-hooks';\nimport { useSetSelectedRecord } from '@/hooks/logic-hooks';\nimport { useSelectParserList } from '@/hooks/user-setting-hooks';\nimport { getExtension } from '@/utils/document-util';\nimport { Divider, Flex, Switch, Table, Typography } from 'antd';\nimport type { ColumnsType } from 'antd/es/table';\nimport { useTranslation } from 'react-i18next';\nimport CreateFileModal from './create-file-modal';\nimport DocumentToolbar from './document-toolbar';\nimport {\n  useChangeDocumentParser,\n  useCreateEmptyDocument,\n  useGetRowSelection,\n  useHandleUploadDocument,\n  useHandleWebCrawl,\n  useNavigateToOtherPage,\n  useRenameDocument,\n  useShowMetaModal,\n} from './hooks';\nimport ParsingActionCell from './parsing-action-cell';\nimport ParsingStatusCell from './parsing-status-cell';\nimport RenameModal from './rename-modal';\nimport WebCrawlModal from './web-crawl-modal';\n\nimport FileUploadModal from '@/components/file-upload-modal';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport { formatDate } from '@/utils/date';\nimport styles from './index.less';\nimport { SetMetaModal } from './set-meta-modal';\n\nconst { Text } = Typography;\n\nconst KnowledgeFile = () => {\n  const { searchString, documents, pagination, handleInputChange } =\n    useFetchNextDocumentList();\n  const parserList = useSelectParserList();\n  const { setDocumentStatus } = useSetNextDocumentStatus();\n  const { toChunk } = useNavigateToOtherPage();\n  const { currentRecord, setRecord } = useSetSelectedRecord<IDocumentInfo>();\n  const {\n    renameLoading,\n    onRenameOk,\n    renameVisible,\n    hideRenameModal,\n    showRenameModal,\n  } = useRenameDocument(currentRecord.id);\n  const {\n    createLoading,\n    onCreateOk,\n    createVisible,\n    hideCreateModal,\n    showCreateModal,\n  } = useCreateEmptyDocument();\n  const {\n    changeParserLoading,\n    onChangeParserOk,\n    changeParserVisible,\n    hideChangeParserModal,\n    showChangeParserModal,\n  } = useChangeDocumentParser(currentRecord.id);\n  const {\n    documentUploadVisible,\n    hideDocumentUploadModal,\n    showDocumentUploadModal,\n    onDocumentUploadOk,\n    documentUploadLoading,\n    uploadFileList,\n    setUploadFileList,\n    uploadProgress,\n    setUploadProgress,\n  } = useHandleUploadDocument();\n  const {\n    webCrawlUploadVisible,\n    hideWebCrawlUploadModal,\n    showWebCrawlUploadModal,\n    onWebCrawlUploadOk,\n    webCrawlUploadLoading,\n  } = useHandleWebCrawl();\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'knowledgeDetails',\n  });\n\n  const {\n    showSetMetaModal,\n    hideSetMetaModal,\n    setMetaVisible,\n    setMetaLoading,\n    onSetMetaModalOk,\n  } = useShowMetaModal(currentRecord.id);\n\n  const rowSelection = useGetRowSelection();\n\n  const columns: ColumnsType<IDocumentInfo> = [\n    {\n      title: t('name'),\n      dataIndex: 'name',\n      key: 'name',\n      fixed: 'left',\n      render: (text: any, { id, thumbnail, name }) => (\n        <div className={styles.toChunks} onClick={() => toChunk(id)}>\n          <Flex gap={10} align=\"center\">\n            {thumbnail ? (\n              <img className={styles.img} src={thumbnail} alt=\"\" />\n            ) : (\n              <SvgIcon\n                name={`file-icon/${getExtension(name)}`}\n                width={24}\n              ></SvgIcon>\n            )}\n            <Text ellipsis={{ tooltip: text }} className={styles.nameText}>\n              {text}\n            </Text>\n          </Flex>\n        </div>\n      ),\n    },\n    {\n      title: t('chunkNumber'),\n      dataIndex: 'chunk_num',\n      key: 'chunk_num',\n    },\n    {\n      title: t('uploadDate'),\n      dataIndex: 'create_time',\n      key: 'create_time',\n      render(value) {\n        return formatDate(value);\n      },\n    },\n    {\n      title: t('chunkMethod'),\n      dataIndex: 'parser_id',\n      key: 'parser_id',\n      render: (text) => {\n        return parserList.find((x) => x.value === text)?.label;\n      },\n    },\n    {\n      title: t('enabled'),\n      key: 'status',\n      dataIndex: 'status',\n      render: (_, { status, id }) => (\n        <>\n          <Switch\n            checked={status === '1'}\n            onChange={(e) => {\n              setDocumentStatus({ status: e, documentId: id });\n            }}\n          />\n        </>\n      ),\n    },\n    {\n      title: t('parsingStatus'),\n      dataIndex: 'run',\n      key: 'run',\n      render: (text, record) => {\n        return <ParsingStatusCell record={record}></ParsingStatusCell>;\n      },\n    },\n    {\n      title: t('action'),\n      key: 'action',\n      render: (_, record) => (\n        <ParsingActionCell\n          setCurrentRecord={setRecord}\n          showRenameModal={showRenameModal}\n          showChangeParserModal={showChangeParserModal}\n          showSetMetaModal={showSetMetaModal}\n          record={record}\n        ></ParsingActionCell>\n      ),\n    },\n  ];\n\n  const finalColumns = columns.map((x) => ({\n    ...x,\n    className: `${styles.column}`,\n  }));\n\n  return (\n    <div className={styles.datasetWrapper}>\n      <h3>{t('dataset')}</h3>\n      <p>{t('datasetDescription')}</p>\n      <Divider></Divider>\n      <DocumentToolbar\n        selectedRowKeys={rowSelection.selectedRowKeys as string[]}\n        showCreateModal={showCreateModal}\n        showWebCrawlModal={showWebCrawlUploadModal}\n        showDocumentUploadModal={showDocumentUploadModal}\n        searchString={searchString}\n        handleInputChange={handleInputChange}\n      ></DocumentToolbar>\n      <Table\n        rowKey=\"id\"\n        columns={finalColumns}\n        dataSource={documents}\n        pagination={pagination}\n        rowSelection={rowSelection}\n        className={styles.documentTable}\n        scroll={{ scrollToFirstRowOnChange: true, x: 1300 }}\n      />\n      <CreateFileModal\n        visible={createVisible}\n        hideModal={hideCreateModal}\n        loading={createLoading}\n        onOk={onCreateOk}\n      />\n      <ChunkMethodModal\n        documentId={currentRecord.id}\n        parserId={currentRecord.parser_id}\n        parserConfig={currentRecord.parser_config}\n        documentExtension={getExtension(currentRecord.name)}\n        onOk={onChangeParserOk}\n        visible={changeParserVisible}\n        hideModal={hideChangeParserModal}\n        loading={changeParserLoading}\n      />\n      <RenameModal\n        visible={renameVisible}\n        onOk={onRenameOk}\n        loading={renameLoading}\n        hideModal={hideRenameModal}\n        initialName={currentRecord.name}\n      ></RenameModal>\n      <FileUploadModal\n        visible={documentUploadVisible}\n        hideModal={hideDocumentUploadModal}\n        loading={documentUploadLoading}\n        onOk={onDocumentUploadOk}\n        uploadFileList={uploadFileList}\n        setUploadFileList={setUploadFileList}\n        uploadProgress={uploadProgress}\n        setUploadProgress={setUploadProgress}\n      ></FileUploadModal>\n      <WebCrawlModal\n        visible={webCrawlUploadVisible}\n        hideModal={hideWebCrawlUploadModal}\n        loading={webCrawlUploadLoading}\n        onOk={onWebCrawlUploadOk}\n      ></WebCrawlModal>\n      {setMetaVisible && (\n        <SetMetaModal\n          visible={setMetaVisible}\n          hideModal={hideSetMetaModal}\n          onOk={onSetMetaModalOk}\n          loading={setMetaLoading}\n          initialMetaData={currentRecord.meta_fields}\n        ></SetMetaModal>\n      )}\n    </div>\n  );\n};\n\nexport default KnowledgeFile;\n","import api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request from '@/utils/request';\n\nconst {\n  getDialog,\n  setDialog,\n  listDialog,\n  removeDialog,\n  getConversation,\n  getConversationSSE,\n  setConversation,\n  completeConversation,\n  listConversation,\n  removeConversation,\n  createToken,\n  listToken,\n  removeToken,\n  getStats,\n  createExternalConversation,\n  getExternalConversation,\n  completeExternalConversation,\n  uploadAndParseExternal,\n  deleteMessage,\n  thumbup,\n  tts,\n  ask,\n  mindmap,\n  getRelatedQuestions,\n} = api;\n\nconst methods = {\n  getDialog: {\n    url: getDialog,\n    method: 'get',\n  },\n  setDialog: {\n    url: setDialog,\n    method: 'post',\n  },\n  removeDialog: {\n    url: removeDialog,\n    method: 'post',\n  },\n  listDialog: {\n    url: listDialog,\n    method: 'get',\n  },\n  listConversation: {\n    url: listConversation,\n    method: 'get',\n  },\n  getConversation: {\n    url: getConversation,\n    method: 'get',\n  },\n  getConversationSSE: {\n    url: getConversationSSE,\n    method: 'get',\n  },\n  setConversation: {\n    url: setConversation,\n    method: 'post',\n  },\n  completeConversation: {\n    url: completeConversation,\n    method: 'post',\n  },\n  removeConversation: {\n    url: removeConversation,\n    method: 'post',\n  },\n  createToken: {\n    url: createToken,\n    method: 'post',\n  },\n  listToken: {\n    url: listToken,\n    method: 'get',\n  },\n  removeToken: {\n    url: removeToken,\n    method: 'post',\n  },\n  getStats: {\n    url: getStats,\n    method: 'get',\n  },\n  createExternalConversation: {\n    url: createExternalConversation,\n    method: 'get',\n  },\n  getExternalConversation: {\n    url: getExternalConversation,\n    method: 'get',\n  },\n  completeExternalConversation: {\n    url: completeExternalConversation,\n    method: 'post',\n  },\n  uploadAndParseExternal: {\n    url: uploadAndParseExternal,\n    method: 'post',\n  },\n  deleteMessage: {\n    url: deleteMessage,\n    method: 'post',\n  },\n  thumbup: {\n    url: thumbup,\n    method: 'post',\n  },\n  tts: {\n    url: tts,\n    method: 'post',\n  },\n  ask: {\n    url: ask,\n    method: 'post',\n  },\n  getMindMap: {\n    url: mindmap,\n    method: 'post',\n  },\n  getRelatedQuestions: {\n    url: getRelatedQuestions,\n    method: 'post',\n  },\n} as const;\n\nconst chatService = registerServer<keyof typeof methods>(methods, request);\n\nexport default chatService;\n","import api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request from '@/utils/request';\n\nconst {\n  listFile,\n  removeFile,\n  uploadFile,\n  renameFile,\n  getAllParentFolder,\n  createFolder,\n  connectFileToKnowledge,\n  get_document_file,\n  getFile,\n  moveFile,\n} = api;\n\nconst methods = {\n  listFile: {\n    url: listFile,\n    method: 'get',\n  },\n  removeFile: {\n    url: removeFile,\n    method: 'post',\n  },\n  uploadFile: {\n    url: uploadFile,\n    method: 'post',\n  },\n  renameFile: {\n    url: renameFile,\n    method: 'post',\n  },\n  getAllParentFolder: {\n    url: getAllParentFolder,\n    method: 'get',\n  },\n  createFolder: {\n    url: createFolder,\n    method: 'post',\n  },\n  connectFileToKnowledge: {\n    url: connectFileToKnowledge,\n    method: 'post',\n  },\n  getFile: {\n    url: getFile,\n    method: 'get',\n    responseType: 'blob',\n  },\n  getDocumentFile: {\n    url: get_document_file,\n    method: 'get',\n    responseType: 'blob',\n  },\n  moveFile: {\n    url: moveFile,\n    method: 'post',\n  },\n} as const;\n\nconst fileManagerService = registerServer<keyof typeof methods>(\n  methods,\n  request,\n);\n\nexport default fileManagerService;\n","import dayjs from 'dayjs';\n\nexport function formatDate(date: any) {\n  if (!date) {\n    return '';\n  }\n  return dayjs(date).format('DD/MM/YYYY HH:mm:ss');\n}\n\nexport function formatTime(date: any) {\n  if (!date) {\n    return '';\n  }\n  return dayjs(date).format('HH:mm:ss');\n}\n\nexport function today() {\n  return formatDate(dayjs());\n}\n\nexport function lastDay() {\n  return formatDate(dayjs().subtract(1, 'days'));\n}\n\nexport function lastWeek() {\n  return formatDate(dayjs().subtract(1, 'weeks'));\n}\n\nexport function formatPureDate(date: any) {\n  if (!date) {\n    return '';\n  }\n  return dayjs(date).format('DD/MM/YYYY');\n}\n","import { FileMimeType } from '@/constants/common';\nimport fileManagerService from '@/services/file-manager-service';\nimport { UploadFile } from 'antd';\n\nexport const transformFile2Base64 = (val: any): Promise<any> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(val);\n    reader.onload = (): void => {\n      // Create image object\n      const img = new Image();\n      img.src = reader.result as string;\n\n      img.onload = () => {\n        // Create canvas\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n\n        // Calculate compressed dimensions, set max width/height to 800px\n        let width = img.width;\n        let height = img.height;\n        const maxSize = 100;\n\n        if (width > height && width > maxSize) {\n          height = (height * maxSize) / width;\n          width = maxSize;\n        } else if (height > maxSize) {\n          width = (width * maxSize) / height;\n          height = maxSize;\n        }\n\n        // Set canvas dimensions\n        canvas.width = width;\n        canvas.height = height;\n\n        // Draw image\n        ctx?.drawImage(img, 0, 0, width, height);\n\n        // Convert to base64, maintain original format and transparency\n        const compressedBase64 = canvas.toDataURL('image/png');\n        resolve(compressedBase64);\n      };\n\n      img.onerror = reject;\n    };\n    reader.onerror = reject;\n  });\n};\n\nexport const transformBase64ToFile = (\n  dataUrl: string,\n  filename: string = 'file',\n) => {\n  let arr = dataUrl.split(','),\n    bstr = atob(arr[1]),\n    n = bstr.length,\n    u8arr = new Uint8Array(n);\n\n  const mime = arr[0].match(/:(.*?);/);\n  const mimeType = mime ? mime[1] : 'image/png';\n\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new File([u8arr], filename, { type: mimeType });\n};\n\nexport const normFile = (e: any) => {\n  if (Array.isArray(e)) {\n    return e;\n  }\n  return e?.fileList;\n};\n\nexport const getUploadFileListFromBase64 = (avatar: string) => {\n  let fileList: UploadFile[] = [];\n\n  if (avatar) {\n    fileList = [{ uid: '1', name: 'file', thumbUrl: avatar, status: 'done' }];\n  }\n\n  return fileList;\n};\n\nexport const getBase64FromUploadFileList = async (fileList?: UploadFile[]) => {\n  if (Array.isArray(fileList) && fileList.length > 0) {\n    const file = fileList[0];\n    const originFileObj = file.originFileObj;\n    if (originFileObj) {\n      const base64 = await transformFile2Base64(originFileObj);\n      return base64;\n    } else {\n      return file.thumbUrl;\n    }\n    // return fileList[0].thumbUrl; TODO: Even JPG files will be converted to base64 parameters in png format\n  }\n\n  return '';\n};\n\nasync function fetchDocumentBlob(id: string, mimeType?: FileMimeType) {\n  const response = await fileManagerService.getDocumentFile({}, id);\n  const blob = new Blob([response.data], {\n    type: mimeType || response.data.type,\n  });\n\n  return blob;\n}\n\nexport async function previewHtmlFile(id: string) {\n  const blob = await fetchDocumentBlob(id, FileMimeType.Html);\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.click();\n  URL.revokeObjectURL(url);\n}\n\nexport const downloadFileFromBlob = (blob: Blob, name?: string) => {\n  const url = window.URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  if (name) {\n    a.download = name;\n  }\n  a.click();\n  window.URL.revokeObjectURL(url);\n};\n\nexport const downloadDocument = async ({\n  id,\n  filename,\n}: {\n  id: string;\n  filename?: string;\n}) => {\n  const blob = await fetchDocumentBlob(id);\n  downloadFileFromBlob(blob, filename);\n};\n\nconst Units = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\nexport const formatBytes = (x: string | number) => {\n  let l = 0,\n    n = (typeof x === 'string' ? parseInt(x, 10) : x) || 0;\n\n  while (n >= 1024 && ++l) {\n    n = n / 1024;\n  }\n\n  return n.toFixed(n < 10 && l > 0 ? 1 : 0) + ' ' + Units[l];\n};\n\nexport const downloadJsonFile = async (\n  data: Record<string, any>,\n  fileName: string,\n) => {\n  const blob = new Blob([JSON.stringify(data)], { type: FileMimeType.Json });\n  downloadFileFromBlob(blob, fileName);\n};\n","export const getLLMIconName = (fid: string, llm_name: string) => {\n  if (fid === 'FastEmbed') {\n    return llm_name.split('/').at(0) ?? '';\n  }\n\n  return fid;\n};\n\nexport const getLlmNameAndFIdByLlmId = (llmId?: string) => {\n  const [llmName, fId] = llmId?.split('@') || [];\n\n  return { fId, llmName };\n};\n\n// The names of the large models returned by the interface are similar to \"deepseek-r1___OpenAI-API\"\nexport function getRealModelName(llmName: string) {\n  return llmName.split('__').at(0) ?? '';\n}\n"],"names":["AutoKeywordsItem","t","useTranslate","_jsx","Form","Item","label","tooltip","children","_jsxs","Flex","gap","align","flex","name","noStyle","initialValue","Slider","max","style","width","InputNumber","min","AutoQuestionsItem","DatasetConfigurationContainer","_ref","className","_ref$show","show","cn","DelimiterInput","value","onChange","maxLength","nextValue","replaceAll","Input","e","target","useTranslation","rules","required","_ref$value","token","theme","useToken","_useState","useState","_useState2","_slicedToArray","inputVisible","setInputVisible","_useState3","_useState4","inputValue","setInputValue","inputRef","useRef","useEffect","_inputRef$current","current","focus","handleInputConfirm","newTags","split","map","tag","trim","filter","includes","concat","_toConsumableArray","tagChild","Tooltip","title","Tag","styles","closable","onClose","removedTag","preventDefault","tagPlusStyle","background","colorBgContainer","borderStyle","Array","isArray","length","TweenOneGroup","enter","scale","opacity","type","duration","onEnd","leave","appear","ref","size","onBlur","onPressEnter","onClick","PlusOutlined","initialEntityTypes","_ref$field","field","EditTag","valuePropName","Switch","Dragger","Upload","FileUpload","directory","fileList","setFileList","uploadProgress","props","multiple","onRemove","file","index","indexOf","newFileList","slice","splice","beforeUpload","pre","progress","strokeWidth","_Fragment","Progress","percent","showInfo","_objectSpread","InboxOutlined","_ref2","visible","hideModal","loading","onFileUploadOk","onOk","uploadFileList","setUploadFileList","setUploadProgress","setValue","parseOnCreation","setParseOnCreation","_useState5","_useState6","currentFileList","setCurrentFileList","_useState7","_useState8","directoryFileList","setDirectoryFileList","_ref3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ret","wrap","_context","prev","next","abrupt","sent","stop","apply","arguments","items","key","Modal","open","onCancel","confirmLoading","afterClose","vertical","Segmented","options","block","Checkbox","checked","Tabs","defaultActiveKey","keyPrefix","allOptions","useSelectLlmOptionsByModelType","useMemo","list","x","camelCase","image2TextList","LlmModelType","Image2text","y","Select","popupMatchSelectWidth","_ref$initialValue","_ref$max","message","excludedParseMethods","DocumentParserType","Table","KnowledgeGraph","Resume","Picture","Qa","showGraphRagItems","parserId","some","_ref$marginBottom","marginBottom","methodOptions","upperFirst","renderWideTooltip","useCallback","overlayInnerStyle","shouldUpdate","prevValues","curValues","parser_config","graphrag","use_graphrag","getFieldValue","EntityTypesItem","dangerouslySetInnerHTML","__html","One","showRaptorParseConfiguration","form","useFormInstance","handleGenerate","setFieldValue","random","raptor","use_raptor","TextArea","rows","step","Button","useFetchLlmList","modelType","_queryFn","_useQuery","useQuery","queryKey","initialData","queryFn","_data$data","_yield$userService$ll","data","userService","llm_list","model_type","buildLlmOptionsWithIcon","LlmIcon","getLLMIconName","fid","llm_name","height","getRealModelName","disabled","available","modelTag","llmInfo","groupOptionsByModelType","Object","entries","_ref5","_ref7","_ref8","_defineProperty","Chat","Embedding","toUpperCase","_ref4","tags","Speech2text","Rerank","TTS","useComposeLlmOptionsByModelTypes","modelTypes","reduce","cur","forEach","_item$options","item","find","push","useSelectLlmList","_queryFn3","_useQuery3","_queryFn2","_useQuery2","_useFetchMyLlmList","gcTime","_callee3","_data$data3","_yield$userService$my","_context3","my_llm","isFetching","myLlmList","myLlmListLoading","_useFetchLlmFactoryLi","_callee2","_data$data2","_yield$userService$fa","_context2","factories_list","factoryList","factoryListLoading","_ref10","_factoryList$find$log","_factoryList$find","_ref11","logo","llm","currentList","keys","every","sortLLmFactoryListBySpecifiedOrder","useSaveApiKey","_mutationFn","queryClient","useQueryClient","_useMutation","useMutation","mutationKey","mutationFn","_callee4","params","_yield$userService$se","_context4","set_api_key","code","success","invalidateQueries","_x","isPending","saveApiKey","mutateAsync","useSaveTenantInfo","_mutationFn2","_useMutation2","_callee5","_yield$userService$se2","_context5","set_tenant_info","_x2","saveTenantInfo","useAddLlm","_mutationFn3","_useMutation3","_callee6","_yield$userService$ad","_context6","add_llm","_x3","addLlm","useDeleteLlm","_mutationFn4","_useMutation4","_callee7","_yield$userService$de","_context7","delete_llm","_x4","deleteLlm","useDeleteFactory","_mutationFn5","_useMutation5","_callee8","_yield$userService$de2","_context8","deleteFactory","_x5","ParserListMap","Map","Naive","Manual","Paper","Book","Laws","Presentation","Email","getParserList","values","parserList","hideAutoKeywords","hidePagesChunkMethods","documentId","documentExtension","parserConfig","_Form$useForm","useForm","_useFetchParserListOn","selectedTag","setSelectedTag","useSelectParserList","handleChunkMethodSelectChange","useHandleChunkMethodSelectChange","nextParserList","get","handleChange","useFetchParserListOnMount","handleOk","_values$pages$map","_values$pages","validateFields","pages","from","to","isPdf","showPages","showOne","showMaxTokenNumber","showEntityTypes","showExcelToHtml","showAutoKeywords","_parserConfig$pages$m","_parserConfig$pages","setFieldsValue","omit","resetFields","Space","Divider","autoComplete","QuestionCircleOutlined","List","fields","add","remove","restField","_objectWithoutProperties","_excluded","display","dependencies","validator","_","Promise","resolve","reject","Error","placeholder","precision","_ref6","MinusCircleOutlined","icon","LayoutRecognize","MaxTokenNumber","Delimiter","ExcelToHtml","ParseConfiguration","GraphRagItems","labelCol","span","wrapperCol","maxWidth","__defProp","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","enumerable","configurable","writable","SvgCancel","a","b","prop","call","__spreadValues","fill","xmlns","d","stroke","strokeLinecap","strokeLinejoin","SvgDelete","SvgDisable","viewBox","SvgEnable","SvgRun","searchString","selectedRowKeys","showCreateModal","showDocumentUploadModal","handleInputChange","removeDocument","useRemoveNextDocument","showDeleteConfirm","useShowDeleteConfirm","runDocumentByIds","useRunNextDocument","setDocumentStatus","useSetNextDocumentStatus","actionItems","FileTextOutlined","FileOutlined","handleDelete","runDocument","run","documentIds","handleRunClick","handleCancelClick","onChangeStatus","enabled","id","status","handleEnableClick","handleDisableClick","EnableIcon","DisableIcon","RunIcon","CancelIcon","deleteIconWrapper","DeleteIcon","Dropdown","menu","placement","arrow","DownOutlined","allowClear","prefix","SearchOutlined","trigger","RunningStatusMap","RunningStatus","UNSTART","color","RUNNING","CANCEL","DONE","FAIL","isParserRunning","text","record","setCurrentRecord","showRenameModal","showChangeParserModal","showSetMetaModal","isRunning","isVirtualDocument","DocumentType","Virtual","setRecord","onShowSetMetaModal","chunkItems","parser_id","ToolOutlined","EditOutlined","_record$parser_config","content","DeleteOutlined","downloadDocument","filename","DownloadOutlined","SvgRefresh","iconMap","RefreshIcon","PopoverContent","nextText","process_begin_at","process_duation","toFixed","progress_msg","replace","reactStringReplace","match","i","idx","runningStatus","_useHandleRunDocument","_useRunNextDocument2","currentId","setCurrentId","isLoading","handleRunDocumentByIds","shouldDelete","_args7","undefined","t0","_x9","_x10","useHandleRunDocumentByIds","OperationIcon","handleOperationIconClick","justify","Popover","Badge","Popconfirm","chunkNum","chunk_num","onConfirm","okText","cancelText","classNames","initialName","okButtonProps","onFinish","console","log","onFinishFailed","errorInfo","url","pattern","RegExp","SetMetaModal","initialMetaData","meta","JSON","stringify","initialValues","remember","layout","rule","parse","error","DOMPurify","Editor","defaultLanguage","loader","config","paths","vs","Text","Typography","navigate","knowledgeId","setSelectedRowKeys","_useFetchNextDocument","useFetchNextDocumentList","documents","pagination","toChunk","useNavigate","useGetKnowledgeSearchParams","linkToUploadPage","KnowledgeRouteKey","Dataset","_useSetSelectedRecord","useSetSelectedRecord","currentRecord","_useRenameDocument","_useSaveNextDocumentN","useSaveNextDocumentName","saveName","_useSetModalState","useSetModalState","renameVisible","hideRenameModal","showModal","onRenameOk","renameLoading","useRenameDocument","_useCreateEmptyDocume","_useCreateNextDocumen","useCreateNextDocument","createDocument","_useSetModalState2","createVisible","hideCreateModal","onCreateOk","createLoading","useCreateEmptyDocument","_useChangeDocumentPar","_useSetNextDocumentPa","useSetNextDocumentParser","setDocumentParser","_useSetModalState3","changeParserVisible","hideChangeParserModal","onChangeParserOk","changeParserLoading","useChangeDocumentParser","_useHandleUploadDocum","_useSetModalState4","documentUploadVisible","hideDocumentUploadModal","_useUploadNextDocumen","useUploadNextDocument","uploadDocument","_useRunNextDocument","onDocumentUploadOk","processFileGroup","totalFiles","totalSuccess","codes","toRunFileIds","files","_yield$processFileGro","_code","count","fileIds","allSuccess","any500","filesPart","succesfulFilenames","newFile","response","_x6","Math","floor","documentUploadLoading","useHandleUploadDocument","_useHandleWebCrawl","_useSetModalState5","webCrawlUploadVisible","hideWebCrawlUploadModal","showWebCrawlUploadModal","_useNextWebCrawl","useNextWebCrawl","webCrawl","onWebCrawlUploadOk","_x7","_x8","webCrawlUploadLoading","useHandleWebCrawl","_useShowMetaModal","_useSetDocumentMeta","useSetDocumentMeta","setDocumentMeta","_useSetModalState6","setMetaVisible","hideSetMetaModal","onSetMetaModalOk","_x11","setMetaLoading","useShowMetaModal","rowSelection","newSelectedRowKeys","finalColumns","dataIndex","fixed","render","thumbnail","toChunks","img","src","alt","SvgIcon","getExtension","ellipsis","nameText","formatDate","_parserList$find","ParsingStatusCell","ParsingActionCell","column","datasetWrapper","DocumentToolbar","showWebCrawlModal","rowKey","columns","dataSource","documentTable","scroll","scrollToFirstRowOnChange","CreateFileModal","ChunkMethodModal","RenameModal","FileUploadModal","WebCrawlModal","meta_fields","getDialog","api","setDialog","listDialog","removeDialog","getConversation","getConversationSSE","setConversation","completeConversation","methods","method","listConversation","removeConversation","createToken","listToken","removeToken","getStats","createExternalConversation","getExternalConversation","completeExternalConversation","uploadAndParseExternal","deleteMessage","thumbup","tts","ask","getMindMap","mindmap","getRelatedQuestions","chatService","registerServer","request","listFile","removeFile","uploadFile","renameFile","getAllParentFolder","createFolder","connectFileToKnowledge","get_document_file","getFile","responseType","getDocumentFile","moveFile","fileManagerService","date","dayjs","format","formatTime","formatPureDate","transformFile2Base64","val","reader","FileReader","readAsDataURL","onload","Image","result","canvas","document","createElement","ctx","getContext","maxSize","drawImage","compressedBase64","toDataURL","onerror","normFile","getUploadFileListFromBase64","avatar","uid","thumbUrl","getBase64FromUploadFileList","originFileObj","base64","fetchDocumentBlob","_fetchDocumentBlob","mimeType","blob","Blob","previewHtmlFile","_previewHtmlFile","link","FileMimeType","Html","URL","createObjectURL","href","click","revokeObjectURL","downloadFileFromBlob","window","download","Units","formatBytes","l","n","parseInt","downloadJsonFile","fileName","Json","_llm_name$split$at","at","getLlmNameAndFIdByLlmId","llmId","llmName","fId","_llmName$split$at"],"sourceRoot":""}