{"version":3,"file":"3910.c38ba7db.async.js","mappings":"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","sources":["webpack:///./src/components/svg-icon.tsx","webpack:///./src/hooks/file-manager-hooks.ts","webpack:///./src/services/file-manager-service.ts","webpack:///./src/utils/date.ts","webpack:///./src/utils/document-util.ts","webpack:///./src/utils/file-util.ts","webpack:///./src/assets/svg/ sync \\.svg$"],"sourcesContent":["import { IconMap } from '@/constants/llm';\nimport { cn } from '@/lib/utils';\nimport Icon, { UserOutlined } from '@ant-design/icons';\nimport { IconComponentProps } from '@ant-design/icons/lib/components/Icon';\nimport { Avatar } from 'antd';\nimport { AvatarSize } from 'antd/es/avatar/AvatarContext';\n\nconst importAll = (requireContext: __WebpackModuleApi.RequireContext) => {\n  const list = requireContext.keys().map((key) => {\n    const name = key.replace(/\\.\\/(.*)\\.\\w+$/, '$1');\n    return { name, value: requireContext(key) };\n  });\n  return list;\n};\n\nlet routeList: { name: string; value: string }[] = [];\n\ntry {\n  routeList = importAll(require.context('@/assets/svg', true, /\\.svg$/));\n} catch (error) {\n  console.warn(error);\n  routeList = [];\n}\n\ninterface IProps extends IconComponentProps {\n  name: string;\n  width: string | number;\n  height?: string | number;\n  imgClass?: string;\n}\n\nconst SvgIcon = ({ name, width, height, imgClass, ...restProps }: IProps) => {\n  const ListItem = routeList.find((item) => item.name === name);\n  return (\n    <Icon\n      component={() => (\n        <img\n          src={ListItem?.value}\n          alt=\"\"\n          width={width}\n          height={height}\n          className={cn(imgClass, 'max-w-full')}\n        />\n      )}\n      {...(restProps as any)}\n    />\n  );\n};\n\nexport const LlmIcon = ({\n  name,\n  height = 48,\n  width = 48,\n  size = 'large',\n  imgClass,\n}: {\n  name: string;\n  height?: number;\n  width?: number;\n  size?: AvatarSize;\n  imgClass?: string;\n}) => {\n  const icon = IconMap[name as keyof typeof IconMap];\n\n  return icon ? (\n    <SvgIcon\n      name={`llm/${icon}`}\n      width={width}\n      height={height}\n      imgClass={imgClass}\n    ></SvgIcon>\n  ) : (\n    <Avatar shape=\"square\" size={size} icon={<UserOutlined />} />\n  );\n};\n\nexport default SvgIcon;\n","import { ResponseType } from '@/interfaces/database/base';\nimport { IFolder } from '@/interfaces/database/file-manager';\nimport { IConnectRequestBody } from '@/interfaces/request/file-manager';\nimport fileManagerService from '@/services/file-manager-service';\nimport { downloadFileFromBlob } from '@/utils/file-util';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { PaginationProps, UploadFile, message } from 'antd';\nimport React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSearchParams } from 'umi';\nimport {\n  useGetPaginationWithRouter,\n  useHandleSearchChange,\n} from './logic-hooks';\nimport { useSetPaginationParams } from './route-hook';\n\nexport const useGetFolderId = () => {\n  const [searchParams] = useSearchParams();\n  const id = searchParams.get('folderId') as string;\n\n  return id ?? '';\n};\n\nexport interface IListResult {\n  searchString: string;\n  handleInputChange: React.ChangeEventHandler<HTMLInputElement>;\n  pagination: PaginationProps;\n  setPagination: (pagination: { page: number; pageSize: number }) => void;\n  loading: boolean;\n}\n\nexport const useFetchPureFileList = () => {\n  const { mutateAsync, isPending: loading } = useMutation({\n    mutationKey: ['fetchPureFileList'],\n    gcTime: 0,\n\n    mutationFn: async (parentId: string) => {\n      const { data } = await fileManagerService.listFile({\n        parent_id: parentId,\n      });\n\n      return data;\n    },\n  });\n\n  return { loading, fetchList: mutateAsync };\n};\n\nexport const useFetchFileList = (): ResponseType<any> & IListResult => {\n  const { searchString, handleInputChange } = useHandleSearchChange();\n  const { pagination, setPagination } = useGetPaginationWithRouter();\n  const id = useGetFolderId();\n\n  const { data, isFetching: loading } = useQuery({\n    queryKey: [\n      'fetchFileList',\n      {\n        id,\n        searchString,\n        ...pagination,\n      },\n    ],\n    initialData: {},\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await fileManagerService.listFile({\n        parent_id: id,\n        keywords: searchString,\n        page_size: pagination.pageSize,\n        page: pagination.current,\n      });\n\n      return data;\n    },\n  });\n\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = useCallback(\n    (e) => {\n      setPagination({ page: 1 });\n      handleInputChange(e);\n    },\n    [handleInputChange, setPagination],\n  );\n\n  return {\n    ...data,\n    searchString,\n    handleInputChange: onInputChange,\n    pagination: { ...pagination, total: data?.data?.total },\n    setPagination,\n    loading,\n  };\n};\n\nexport const useDeleteFile = () => {\n  const { setPaginationParams } = useSetPaginationParams();\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['deleteFile'],\n    mutationFn: async (params: { fileIds: string[]; parentId: string }) => {\n      const { data } = await fileManagerService.removeFile(params);\n      if (data.code === 0) {\n        setPaginationParams(1); // TODO: There should be a better way to paginate the request list\n        queryClient.invalidateQueries({ queryKey: ['fetchFileList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, deleteFile: mutateAsync };\n};\n\nexport const useDownloadFile = () => {\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['downloadFile'],\n    mutationFn: async (params: { id: string; filename?: string }) => {\n      const response = await fileManagerService.getFile({}, params.id);\n      const blob = new Blob([response.data], { type: response.data.type });\n      downloadFileFromBlob(blob, params.filename);\n    },\n  });\n  return { data, loading, downloadFile: mutateAsync };\n};\n\nexport const useRenameFile = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['renameFile'],\n    mutationFn: async (params: { fileId: string; name: string }) => {\n      const { data } = await fileManagerService.renameFile(params);\n      if (data.code === 0) {\n        message.success(t('message.renamed'));\n        queryClient.invalidateQueries({ queryKey: ['fetchFileList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, renameFile: mutateAsync };\n};\n\nexport const useFetchParentFolderList = (): IFolder[] => {\n  const id = useGetFolderId();\n  const { data } = useQuery({\n    queryKey: ['fetchParentFolderList', id],\n    initialData: [],\n    enabled: !!id,\n    queryFn: async () => {\n      const { data } = await fileManagerService.getAllParentFolder({\n        fileId: id,\n      });\n\n      return data?.data?.parent_folders?.toReversed() ?? [];\n    },\n  });\n\n  return data;\n};\n\nexport const useCreateFolder = () => {\n  const { setPaginationParams } = useSetPaginationParams();\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['createFolder'],\n    mutationFn: async (params: { parentId: string; name: string }) => {\n      const { data } = await fileManagerService.createFolder({\n        ...params,\n        type: 'folder',\n      });\n      if (data.code === 0) {\n        message.success(t('message.created'));\n        setPaginationParams(1);\n        queryClient.invalidateQueries({ queryKey: ['fetchFileList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, createFolder: mutateAsync };\n};\n\nexport const useUploadFile = () => {\n  const { setPaginationParams } = useSetPaginationParams();\n  const { t } = useTranslation();\n  const queryClient = useQueryClient();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['uploadFile'],\n    mutationFn: async (params: {\n      fileList: UploadFile[];\n      parentId: string;\n    }) => {\n      const fileList = params.fileList;\n      const pathList = params.fileList.map(\n        (file) => (file as any).webkitRelativePath,\n      );\n      const formData = new FormData();\n      formData.append('parent_id', params.parentId);\n      fileList.forEach((file: any, index: number) => {\n        formData.append('file', file);\n        formData.append('path', pathList[index]);\n      });\n      try {\n        const ret = await fileManagerService.uploadFile(formData);\n        if (ret?.data.code === 0) {\n          message.success(t('message.uploaded'));\n          setPaginationParams(1);\n          queryClient.invalidateQueries({ queryKey: ['fetchFileList'] });\n        }\n        return ret?.data?.code;\n      } catch (error) {\n        console.log('ðŸš€ ~ useUploadFile ~ error:', error);\n      }\n    },\n  });\n\n  return { data, loading, uploadFile: mutateAsync };\n};\n\nexport const useConnectToKnowledge = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['connectFileToKnowledge'],\n    mutationFn: async (params: IConnectRequestBody) => {\n      const { data } = await fileManagerService.connectFileToKnowledge(params);\n      if (data.code === 0) {\n        message.success(t('message.operated'));\n        queryClient.invalidateQueries({ queryKey: ['fetchFileList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, connectFileToKnowledge: mutateAsync };\n};\n\nexport interface IMoveFileBody {\n  src_file_ids: string[];\n  dest_file_id: string; // target folder id\n}\n\nexport const useMoveFile = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['moveFile'],\n    mutationFn: async (params: IMoveFileBody) => {\n      const { data } = await fileManagerService.moveFile(params);\n      if (data.code === 0) {\n        message.success(t('message.operated'));\n        queryClient.invalidateQueries({ queryKey: ['fetchFileList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, moveFile: mutateAsync };\n};\n","import api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request from '@/utils/request';\n\nconst {\n  listFile,\n  removeFile,\n  uploadFile,\n  renameFile,\n  getAllParentFolder,\n  createFolder,\n  connectFileToKnowledge,\n  get_document_file,\n  getFile,\n  moveFile,\n} = api;\n\nconst methods = {\n  listFile: {\n    url: listFile,\n    method: 'get',\n  },\n  removeFile: {\n    url: removeFile,\n    method: 'post',\n  },\n  uploadFile: {\n    url: uploadFile,\n    method: 'post',\n  },\n  renameFile: {\n    url: renameFile,\n    method: 'post',\n  },\n  getAllParentFolder: {\n    url: getAllParentFolder,\n    method: 'get',\n  },\n  createFolder: {\n    url: createFolder,\n    method: 'post',\n  },\n  connectFileToKnowledge: {\n    url: connectFileToKnowledge,\n    method: 'post',\n  },\n  getFile: {\n    url: getFile,\n    method: 'get',\n    responseType: 'blob',\n  },\n  getDocumentFile: {\n    url: get_document_file,\n    method: 'get',\n    responseType: 'blob',\n  },\n  moveFile: {\n    url: moveFile,\n    method: 'post',\n  },\n} as const;\n\nconst fileManagerService = registerServer<keyof typeof methods>(\n  methods,\n  request,\n);\n\nexport default fileManagerService;\n","import dayjs from 'dayjs';\n\nexport function formatDate(date: any) {\n  if (!date) {\n    return '';\n  }\n  return dayjs(date).format('DD/MM/YYYY HH:mm:ss');\n}\n\nexport function formatTime(date: any) {\n  if (!date) {\n    return '';\n  }\n  return dayjs(date).format('HH:mm:ss');\n}\n\nexport function today() {\n  return formatDate(dayjs());\n}\n\nexport function lastDay() {\n  return formatDate(dayjs().subtract(1, 'days'));\n}\n\nexport function lastWeek() {\n  return formatDate(dayjs().subtract(1, 'weeks'));\n}\n\nexport function formatPureDate(date: any) {\n  if (!date) {\n    return '';\n  }\n  return dayjs(date).format('DD/MM/YYYY');\n}\n","import { Images, SupportedPreviewDocumentTypes } from '@/constants/common';\nimport { IReferenceChunk } from '@/interfaces/database/chat';\nimport { IChunk } from '@/interfaces/database/knowledge';\nimport { UploadFile } from 'antd';\nimport { get } from 'lodash';\nimport { v4 as uuid } from 'uuid';\n\nexport const buildChunkHighlights = (\n  selectedChunk: IChunk | IReferenceChunk,\n  size: { width: number; height: number },\n) => {\n  return Array.isArray(selectedChunk?.positions) &&\n    selectedChunk.positions.every((x) => Array.isArray(x))\n    ? selectedChunk?.positions?.map((x) => {\n        const boundingRect = {\n          width: size.width,\n          height: size.height,\n          x1: x[1],\n          x2: x[2],\n          y1: x[3],\n          y2: x[4],\n        };\n        return {\n          id: uuid(),\n          comment: {\n            text: '',\n            emoji: '',\n          },\n          content: {\n            text:\n              get(selectedChunk, 'content_with_weight') ||\n              get(selectedChunk, 'content', ''),\n          },\n          position: {\n            boundingRect: boundingRect,\n            rects: [boundingRect],\n            pageNumber: x[0],\n          },\n        };\n      })\n    : [];\n};\n\nexport const isFileUploadDone = (file: UploadFile) => file.status === 'done';\n\nexport const getExtension = (name: string) =>\n  name?.slice(name.lastIndexOf('.') + 1).toLowerCase() ?? '';\n\nexport const isPdf = (name: string) => {\n  return getExtension(name) === 'pdf';\n};\n\nexport const getUnSupportedFilesCount = (message: string) => {\n  return message.split('\\n').length;\n};\n\nexport const isSupportedPreviewDocumentType = (fileExtension: string) => {\n  return SupportedPreviewDocumentTypes.includes(fileExtension);\n};\n\nexport const isImage = (image: string) => {\n  return [...Images, 'svg'].some((x) => x === image);\n};\n","import { FileMimeType } from '@/constants/common';\nimport fileManagerService from '@/services/file-manager-service';\nimport { UploadFile } from 'antd';\n\nexport const transformFile2Base64 = (val: any): Promise<any> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(val);\n    reader.onload = (): void => {\n      // Create image object\n      const img = new Image();\n      img.src = reader.result as string;\n\n      img.onload = () => {\n        // Create canvas\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n\n        // Calculate compressed dimensions, set max width/height to 800px\n        let width = img.width;\n        let height = img.height;\n        const maxSize = 100;\n\n        if (width > height && width > maxSize) {\n          height = (height * maxSize) / width;\n          width = maxSize;\n        } else if (height > maxSize) {\n          width = (width * maxSize) / height;\n          height = maxSize;\n        }\n\n        // Set canvas dimensions\n        canvas.width = width;\n        canvas.height = height;\n\n        // Draw image\n        ctx?.drawImage(img, 0, 0, width, height);\n\n        // Convert to base64, maintain original format and transparency\n        const compressedBase64 = canvas.toDataURL('image/png');\n        resolve(compressedBase64);\n      };\n\n      img.onerror = reject;\n    };\n    reader.onerror = reject;\n  });\n};\n\nexport const transformBase64ToFile = (\n  dataUrl: string,\n  filename: string = 'file',\n) => {\n  let arr = dataUrl.split(','),\n    bstr = atob(arr[1]),\n    n = bstr.length,\n    u8arr = new Uint8Array(n);\n\n  const mime = arr[0].match(/:(.*?);/);\n  const mimeType = mime ? mime[1] : 'image/png';\n\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new File([u8arr], filename, { type: mimeType });\n};\n\nexport const normFile = (e: any) => {\n  if (Array.isArray(e)) {\n    return e;\n  }\n  return e?.fileList;\n};\n\nexport const getUploadFileListFromBase64 = (avatar: string) => {\n  let fileList: UploadFile[] = [];\n\n  if (avatar) {\n    fileList = [{ uid: '1', name: 'file', thumbUrl: avatar, status: 'done' }];\n  }\n\n  return fileList;\n};\n\nexport const getBase64FromUploadFileList = async (fileList?: UploadFile[]) => {\n  if (Array.isArray(fileList) && fileList.length > 0) {\n    const file = fileList[0];\n    const originFileObj = file.originFileObj;\n    if (originFileObj) {\n      const base64 = await transformFile2Base64(originFileObj);\n      return base64;\n    } else {\n      return file.thumbUrl;\n    }\n    // return fileList[0].thumbUrl; TODO: Even JPG files will be converted to base64 parameters in png format\n  }\n\n  return '';\n};\n\nasync function fetchDocumentBlob(id: string, mimeType?: FileMimeType) {\n  const response = await fileManagerService.getDocumentFile({}, id);\n  const blob = new Blob([response.data], {\n    type: mimeType || response.data.type,\n  });\n\n  return blob;\n}\n\nexport async function previewHtmlFile(id: string) {\n  const blob = await fetchDocumentBlob(id, FileMimeType.Html);\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.click();\n  URL.revokeObjectURL(url);\n}\n\nexport const downloadFileFromBlob = (blob: Blob, name?: string) => {\n  const url = window.URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  if (name) {\n    a.download = name;\n  }\n  a.click();\n  window.URL.revokeObjectURL(url);\n};\n\nexport const downloadDocument = async ({\n  id,\n  filename,\n}: {\n  id: string;\n  filename?: string;\n}) => {\n  const blob = await fetchDocumentBlob(id);\n  downloadFileFromBlob(blob, filename);\n};\n\nconst Units = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\nexport const formatBytes = (x: string | number) => {\n  let l = 0,\n    n = (typeof x === 'string' ? parseInt(x, 10) : x) || 0;\n\n  while (n >= 1024 && ++l) {\n    n = n / 1024;\n  }\n\n  return n.toFixed(n < 10 && l > 0 ? 1 : 0) + ' ' + Units[l];\n};\n\nexport const downloadJsonFile = async (\n  data: Record<string, any>,\n  fileName: string,\n) => {\n  const blob = new Blob([JSON.stringify(data)], { type: FileMimeType.Json });\n  downloadFileFromBlob(blob, fileName);\n};\n","var map = {\n\t\"./akshare.svg\": 26032,\n\t\"./api.svg\": 30747,\n\t\"./arxiv.svg\": 90854,\n\t\"./assistant.svg\": 4159,\n\t\"./baidu-fanyi.svg\": 83544,\n\t\"./baidu.svg\": 92892,\n\t\"./begin.svg\": 69779,\n\t\"./bing.svg\": 55914,\n\t\"./cancel.svg\": 8156,\n\t\"./chat-app-cube.svg\": 34339,\n\t\"./chat-configuration-atom.svg\": 57950,\n\t\"./chat-star.svg\": 49570,\n\t\"./chunk-method/book-01.svg\": 38726,\n\t\"./chunk-method/book-02.svg\": 21357,\n\t\"./chunk-method/book-03.svg\": 88093,\n\t\"./chunk-method/book-04.svg\": 58355,\n\t\"./chunk-method/chunk-empty.svg\": 16035,\n\t\"./chunk-method/knowledge-graph-01.svg\": 42576,\n\t\"./chunk-method/knowledge-graph-02.svg\": 46853,\n\t\"./chunk-method/law-01.svg\": 54530,\n\t\"./chunk-method/law-02.svg\": 75787,\n\t\"./chunk-method/manual-01.svg\": 64179,\n\t\"./chunk-method/manual-02.svg\": 40547,\n\t\"./chunk-method/manual-03.svg\": 1437,\n\t\"./chunk-method/manual-04.svg\": 81486,\n\t\"./chunk-method/media-01.svg\": 33952,\n\t\"./chunk-method/media-02.svg\": 93802,\n\t\"./chunk-method/naive-01.svg\": 88488,\n\t\"./chunk-method/naive-02.svg\": 74795,\n\t\"./chunk-method/one-01.svg\": 88533,\n\t\"./chunk-method/one-02.svg\": 99199,\n\t\"./chunk-method/one-03.svg\": 23192,\n\t\"./chunk-method/one-04.svg\": 72906,\n\t\"./chunk-method/paper-01.svg\": 64018,\n\t\"./chunk-method/paper-02.svg\": 77250,\n\t\"./chunk-method/presentation-01.svg\": 87162,\n\t\"./chunk-method/presentation-02.svg\": 59640,\n\t\"./chunk-method/qa-01.svg\": 39420,\n\t\"./chunk-method/qa-02.svg\": 55086,\n\t\"./chunk-method/resume-01.svg\": 76604,\n\t\"./chunk-method/resume-02.svg\": 96131,\n\t\"./chunk-method/table-01.svg\": 42743,\n\t\"./chunk-method/table-02.svg\": 84817,\n\t\"./chunk-method/tag-01.svg\": 96953,\n\t\"./chunk-method/tag-02.svg\": 82472,\n\t\"./concentrator.svg\": 86933,\n\t\"./crawler.svg\": 71090,\n\t\"./database.svg\": 38575,\n\t\"./deepl.svg\": 98301,\n\t\"./delete.svg\": 71483,\n\t\"./disable.svg\": 84377,\n\t\"./duck.svg\": 24287,\n\t\"./email.svg\": 10808,\n\t\"./enable.svg\": 8207,\n\t\"./es.svg\": 96492,\n\t\"./exesql.svg\": 43004,\n\t\"./file-icon/aep.svg\": 83889,\n\t\"./file-icon/ai.svg\": 28897,\n\t\"./file-icon/avi.svg\": 27635,\n\t\"./file-icon/css.svg\": 52229,\n\t\"./file-icon/csv.svg\": 50747,\n\t\"./file-icon/dmg.svg\": 71691,\n\t\"./file-icon/doc.svg\": 35354,\n\t\"./file-icon/docx.svg\": 69139,\n\t\"./file-icon/eps.svg\": 43279,\n\t\"./file-icon/exe.svg\": 46462,\n\t\"./file-icon/fig.svg\": 33179,\n\t\"./file-icon/folder.svg\": 54168,\n\t\"./file-icon/gif.svg\": 73845,\n\t\"./file-icon/html.svg\": 53682,\n\t\"./file-icon/indd.svg\": 26763,\n\t\"./file-icon/java.svg\": 13916,\n\t\"./file-icon/jpeg.svg\": 19525,\n\t\"./file-icon/jpg.svg\": 24674,\n\t\"./file-icon/js.svg\": 38470,\n\t\"./file-icon/json.svg\": 56373,\n\t\"./file-icon/md.svg\": 77357,\n\t\"./file-icon/mkv.svg\": 49197,\n\t\"./file-icon/mp3.svg\": 44538,\n\t\"./file-icon/mp4.svg\": 52038,\n\t\"./file-icon/mpeg.svg\": 77747,\n\t\"./file-icon/pdf.svg\": 82938,\n\t\"./file-icon/png.svg\": 71915,\n\t\"./file-icon/ppt.svg\": 85173,\n\t\"./file-icon/pptx.svg\": 62133,\n\t\"./file-icon/psd.svg\": 30182,\n\t\"./file-icon/rss.svg\": 38428,\n\t\"./file-icon/sql.svg\": 78501,\n\t\"./file-icon/svg.svg\": 72515,\n\t\"./file-icon/tiff.svg\": 4502,\n\t\"./file-icon/txt.svg\": 55773,\n\t\"./file-icon/wav.svg\": 63645,\n\t\"./file-icon/webp.svg\": 87260,\n\t\"./file-icon/xls.svg\": 5343,\n\t\"./file-icon/xlsx.svg\": 41475,\n\t\"./file-icon/xml.svg\": 38476,\n\t\"./file-management.svg\": 39121,\n\t\"./github.svg\": 69696,\n\t\"./google-scholar.svg\": 99466,\n\t\"./google.svg\": 18176,\n\t\"./graph.svg\": 57355,\n\t\"./invoke-ai.svg\": 82888,\n\t\"./jin10.svg\": 31801,\n\t\"./keyword.svg\": 30552,\n\t\"./knowledge-base.svg\": 87055,\n\t\"./knowledge-configration.svg\": 96450,\n\t\"./knowledge-dataset.svg\": 9385,\n\t\"./knowledge-testing.svg\": 65376,\n\t\"./llm/anthropic.svg\": 74768,\n\t\"./llm/azure.svg\": 99817,\n\t\"./llm/baai.svg\": 93594,\n\t\"./llm/baichuan.svg\": 6507,\n\t\"./llm/bedrock.svg\": 30818,\n\t\"./llm/chat-minimax.svg\": 69534,\n\t\"./llm/cohere.svg\": 86198,\n\t\"./llm/deepseek.svg\": 23476,\n\t\"./llm/fish-audio.svg\": 97300,\n\t\"./llm/gemini.svg\": 69156,\n\t\"./llm/github.svg\": 29034,\n\t\"./llm/google-cloud.svg\": 75383,\n\t\"./llm/google.svg\": 93926,\n\t\"./llm/gpustack.svg\": 41538,\n\t\"./llm/groq-next.svg\": 43719,\n\t\"./llm/huggingface.svg\": 20566,\n\t\"./llm/hunyuan.svg\": 10266,\n\t\"./llm/jina.svg\": 19765,\n\t\"./llm/lepton-ai.svg\": 68341,\n\t\"./llm/lm-studio.svg\": 77894,\n\t\"./llm/local-ai.svg\": 97354,\n\t\"./llm/mistral.svg\": 58247,\n\t\"./llm/modelscope.svg\": 21248,\n\t\"./llm/moonshot.svg\": 98184,\n\t\"./llm/nomic-ai.svg\": 14860,\n\t\"./llm/novita-ai.svg\": 72584,\n\t\"./llm/nvidia.svg\": 33325,\n\t\"./llm/ollama.svg\": 59488,\n\t\"./llm/open-router.svg\": 23258,\n\t\"./llm/openai-api.svg\": 63715,\n\t\"./llm/openai.svg\": 81459,\n\t\"./llm/perfx-cloud.svg\": 39886,\n\t\"./llm/ppio.svg\": 89957,\n\t\"./llm/replicate.svg\": 13492,\n\t\"./llm/sentence-transformers.svg\": 85448,\n\t\"./llm/siliconflow.svg\": 65762,\n\t\"./llm/spark.svg\": 4216,\n\t\"./llm/stepfun.svg\": 53618,\n\t\"./llm/tencent-cloud.svg\": 96734,\n\t\"./llm/together-ai.svg\": 65167,\n\t\"./llm/tongyi.svg\": 74296,\n\t\"./llm/upstage.svg\": 30464,\n\t\"./llm/vllm.svg\": 91333,\n\t\"./llm/volc_engine.svg\": 25210,\n\t\"./llm/voyage.svg\": 6385,\n\t\"./llm/wenxin.svg\": 34981,\n\t\"./llm/xinference.svg\": 76577,\n\t\"./llm/yi.svg\": 20447,\n\t\"./llm/yiyan.svg\": 55103,\n\t\"./llm/youdao.svg\": 81010,\n\t\"./llm/zhipu.svg\": 19568,\n\t\"./login-avatars.svg\": 68683,\n\t\"./login-background.svg\": 89624,\n\t\"./login-star.svg\": 31130,\n\t\"./logout.svg\": 67487,\n\t\"./minio.svg\": 32382,\n\t\"./model-providers.svg\": 70410,\n\t\"./moon.svg\": 22350,\n\t\"./more-model.svg\": 88458,\n\t\"./more.svg\": 1333,\n\t\"./move.svg\": 90076,\n\t\"./mysql.svg\": 37124,\n\t\"./navigation-pointer.svg\": 1979,\n\t\"./next-login-bg.svg\": 33391,\n\t\"./note.svg\": 28687,\n\t\"./nothing.svg\": 47138,\n\t\"./paper-clip.svg\": 2306,\n\t\"./password.svg\": 33530,\n\t\"./plus-circle-fill.svg\": 3804,\n\t\"./plus.svg\": 75350,\n\t\"./profile.svg\": 1769,\n\t\"./prompt.svg\": 49261,\n\t\"./pubmed.svg\": 78566,\n\t\"./qweather.svg\": 56077,\n\t\"./redis.svg\": 43867,\n\t\"./refresh.svg\": 96198,\n\t\"./resize.svg\": 80415,\n\t\"./run.svg\": 91449,\n\t\"./select-files-end.svg\": 14387,\n\t\"./select-files-start.svg\": 16734,\n\t\"./selected-files-collapse.svg\": 40975,\n\t\"./storage.svg\": 3949,\n\t\"./switch.svg\": 1311,\n\t\"./team.svg\": 52381,\n\t\"./template.svg\": 63993,\n\t\"./translation.svg\": 40724,\n\t\"./tushare.svg\": 16521,\n\t\"./wencai.svg\": 72835,\n\t\"./wikipedia.svg\": 18684,\n\t\"./yahoo-finance.svg\": 7957\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 78131;"],"names":["requireContext","routeList","require","keys","map","key","name","replace","value","error","console","warn","SvgIcon","_ref","width","height","imgClass","restProps","_objectWithoutProperties","_excluded","ListItem","find","item","_jsx","Icon","_objectSpread","component","src","alt","className","cn","LlmIcon","_ref2","_ref2$height","_ref2$width","_ref2$size","size","icon","IconMap","concat","Avatar","shape","UserOutlined","useGetFolderId","_useSearchParams","useSearchParams","id","_slicedToArray","get","useFetchPureFileList","_mutationFn","_useMutation","useMutation","mutationKey","gcTime","mutationFn","_asyncToGenerator","_regeneratorRuntime","mark","_callee","parentId","_yield$fileManagerSer","data","wrap","_context","prev","next","fileManagerService","listFile","parent_id","sent","abrupt","stop","_x","apply","arguments","mutateAsync","loading","isPending","fetchList","useFetchFileList","_data$data","_queryFn","_useHandleSearchChang","useHandleSearchChange","searchString","handleInputChange","_useGetPaginationWith","useGetPaginationWithRouter","pagination","setPagination","_useQuery","useQuery","queryKey","initialData","queryFn","_callee2","_yield$fileManagerSer2","_context2","keywords","page_size","pageSize","page","current","isFetching","onInputChange","useCallback","e","total","useDeleteFile","_mutationFn2","setPaginationParams","useSetPaginationParams","queryClient","useQueryClient","_useMutation2","_callee3","params","_yield$fileManagerSer3","_context3","removeFile","code","invalidateQueries","_x2","deleteFile","useDownloadFile","_mutationFn3","_useMutation3","_callee4","response","blob","_context4","getFile","Blob","type","downloadFileFromBlob","filename","_x3","downloadFile","useRenameFile","_mutationFn4","t","useTranslation","_useMutation4","_callee5","_yield$fileManagerSer4","_context5","renameFile","message","success","_x4","useFetchParentFolderList","_queryFn2","_useQuery2","enabled","_callee6","_data$data$parent_fol","_data$data2","_yield$fileManagerSer5","_context6","getAllParentFolder","fileId","parent_folders","toReversed","useCreateFolder","_mutationFn5","_useMutation5","_callee7","_yield$fileManagerSer6","_context7","createFolder","_x5","useUploadFile","_mutationFn6","_useMutation6","_callee8","fileList","pathList","formData","_ret$data","ret","_context8","file","webkitRelativePath","FormData","append","forEach","index","uploadFile","t0","log","_x6","useConnectToKnowledge","_mutationFn7","_useMutation7","_callee9","_yield$fileManagerSer7","_context9","connectFileToKnowledge","_x7","useMoveFile","_mutationFn8","_useMutation8","_callee10","_yield$fileManagerSer8","_context10","moveFile","_x8","api","get_document_file","methods","url","method","responseType","getDocumentFile","registerServer","request","formatDate","date","dayjs","format","formatTime","formatPureDate","buildChunkHighlights","selectedChunk","_selectedChunk$positi","Array","isArray","positions","every","x","boundingRect","x1","x2","y1","y2","uuid","comment","text","emoji","content","position","rects","pageNumber","getExtension","_name$slice$toLowerCa","slice","lastIndexOf","toLowerCase","getUnSupportedFilesCount","split","length","isSupportedPreviewDocumentType","fileExtension","SupportedPreviewDocumentTypes","includes","isImage","image","_toConsumableArray","Images","some","transformFile2Base64","val","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","img","Image","result","canvas","document","createElement","ctx","getContext","maxSize","drawImage","compressedBase64","toDataURL","onerror","normFile","getUploadFileListFromBase64","avatar","uid","thumbUrl","status","getBase64FromUploadFileList","originFileObj","base64","fetchDocumentBlob","_fetchDocumentBlob","mimeType","previewHtmlFile","_previewHtmlFile","link","FileMimeType","Html","URL","createObjectURL","href","click","revokeObjectURL","window","a","download","downloadDocument","_ref3","Units","formatBytes","l","n","parseInt","toFixed","downloadJsonFile","_ref4","fileName","JSON","stringify","Json","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","Object","module","exports"],"sourceRoot":""}