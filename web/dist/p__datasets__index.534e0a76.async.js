/*! For license information please see p__datasets__index.534e0a76.async.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1200],{83943:function(e,a,t){t.d(a,{Z:function(){return o}});var n=t(71981),s=t(57636),r=t(27591),c=t(86074);function o(e){var a=e.title,t=e.children,o=e.showDialog;return(0,c.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,c.jsx)("span",{className:"text-3xl font-bold ",children:a}),(0,c.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,c.jsx)(n.Z,{className:"size-5"}),(0,c.jsx)(r.Mj,{}),(0,c.jsx)(s.z,{variant:"tertiary",size:"sm",onClick:o,children:t})]})]})}},5715:function(e,a,t){t.d(a,{F$:function(){return h},Q5:function(){return p},qE:function(){return m}});var n=t(97857),s=t.n(n),r=t(13769),c=t.n(r),o=t(10952),i=t(62435),l=t(27080),u=t(86074),d=["className"],f=["className"],g=["className"],m=i.forwardRef((function(e,a){var t=e.className,n=c()(e,d);return(0,u.jsx)(o.fC,s()({ref:a,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t)},n))}));m.displayName=o.fC.displayName;var h=i.forwardRef((function(e,a){var t=e.className,n=c()(e,f);return(0,u.jsx)(o.Ee,s()({ref:a,className:(0,l.cn)("aspect-square h-full w-full",t)},n))}));h.displayName=o.Ee.displayName;var p=i.forwardRef((function(e,a){var t=e.className,n=c()(e,g);return(0,u.jsx)(o.NY,s()({ref:a,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t)},n))}));p.displayName=o.NY.displayName},87030:function(e,a,t){t.d(a,{Ol:function(){return v},Zb:function(){return p},aY:function(){return N},ll:function(){return x}});var n=t(97857),s=t.n(n),r=t(13769),c=t.n(r),o=t(62435),i=t(27080),l=t(86074),u=["className"],d=["className"],f=["className"],g=["className"],m=["className"],h=["className"],p=o.forwardRef((function(e,a){var t=e.className,n=c()(e,u);return(0,l.jsx)("div",s()({ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t)},n))}));p.displayName="Card";var v=o.forwardRef((function(e,a){var t=e.className,n=c()(e,d);return(0,l.jsx)("div",s()({ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t)},n))}));v.displayName="CardHeader";var x=o.forwardRef((function(e,a){var t=e.className,n=c()(e,f);return(0,l.jsx)("div",s()({ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t)},n))}));x.displayName="CardTitle",o.forwardRef((function(e,a){var t=e.className,n=c()(e,g);return(0,l.jsx)("div",s()({ref:a,className:(0,i.cn)("text-sm text-muted-foreground",t)},n))})).displayName="CardDescription";var N=o.forwardRef((function(e,a){var t=e.className,n=c()(e,m);return(0,l.jsx)("div",s()({ref:a,className:(0,i.cn)("p-6 pt-0",t)},n))}));N.displayName="CardContent",o.forwardRef((function(e,a){var t=e.className,n=c()(e,h);return(0,l.jsx)("div",s()({ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",t)},n))})).displayName="CardFooter"},704:function(e,a,t){t.d(a,{$:function(){return d},t:function(){return u}});var n=t(9783),s=t.n(n),r=t(5574),c=t.n(r),o=t(23454),i=t(62435),l=t(24701),u=function(e){return e.KnowledgeId="knowledgeId",e}({}),d=function(){var e=(0,l.s0)(),a=(0,l.lr)(),t=c()(a,1)[0],n=(0,l.UO)().id,r=(0,i.useCallback)((function(){e(o.Z.Datasets)}),[e]),d=(0,i.useCallback)((function(a){return function(){e("".concat(o.Z.Dataset,"/").concat(a))}}),[e]),f=(0,i.useCallback)((function(){e(o.Z.Home)}),[e]),g=(0,i.useCallback)((function(){e(o.Z.ProfileSetting)}),[e]),m=(0,i.useCallback)((function(){e(o.Z.Chats)}),[e]),h=(0,i.useCallback)((function(){e(o.Z.Chat)}),[e]),p=(0,i.useCallback)((function(){e(o.Z.Agents)}),[e]),v=(0,i.useCallback)((function(a){return function(){e("".concat(o.Z.Agent,"/").concat(a))}}),[e]),x=(0,i.useCallback)((function(){e(o.Z.AgentTemplates)}),[e]),N=(0,i.useCallback)((function(){e(o.Z.Searches)}),[e]),C=(0,i.useCallback)((function(){e(o.Z.Search)}),[e]),k=(0,i.useCallback)((function(a,t){return function(){e("".concat(o.Z.ParsedResult,"/").concat(a,"?").concat(u.KnowledgeId,"=").concat(t))}}),[e]),j=(0,i.useCallback)((function(e){var a=s()({},u.KnowledgeId,t.get(u.KnowledgeId));return e?a[e]:a}),[t]),w=(0,i.useCallback)((function(a){e("".concat(a,"/").concat(n,"?").concat(u.KnowledgeId,"=").concat(j(u.KnowledgeId)))}),[j,n,e]);return{navigateToDatasetList:r,navigateToDataset:d,navigateToHome:f,navigateToProfile:g,navigateToChatList:m,navigateToChat:h,navigateToChunkParsedResult:k,getQueryString:j,navigateToChunk:w,navigateToAgentList:p,navigateToAgent:v,navigateToAgentTemplates:x,navigateToSearchList:N,navigateToSearch:C}}},91663:function(e,a,t){t.r(a),t.d(a,{default:function(){return Y}});var n=t(26625),s=t(83943),r=t(5715),c=t(57636),o=t(87030),i=t(10541),l=t(704),u=t(28382),d=t(31012),f=t(13718),g=t(64998),m=t(62435),h=t(97857),p=t.n(h),v=t(28993),x=t(80499),N=t(27591),C=t(56312),k=t(87536),j=t(67421),w=t(1604),b=t(86074),S="dataset-creating-form";function y(){var e=(0,j.$G)().t,a=w.z.object({name:w.z.string().min(1,{message:e("knowledgeList.namePlaceholder")}).trim()}),t=(0,k.cI)({resolver:(0,C.F)(a),defaultValues:{name:""}});return(0,b.jsx)(x.l0,p()(p()({},t),{},{children:(0,b.jsx)("form",{onSubmit:t.handleSubmit((function(e){console.log("ðŸš€ ~ onSubmit ~ data:",e)})),className:"space-y-6",id:S,children:(0,b.jsx)(x.Wi,{control:t.control,name:"name",render:function(a){var t=a.field;return(0,b.jsxs)(x.xJ,{children:[(0,b.jsx)(x.lX,{children:e("knowledgeList.name")}),(0,b.jsx)(x.NI,{children:(0,b.jsx)(N.II,p()({placeholder:e("knowledgeList.namePlaceholder")},t))}),(0,b.jsx)(x.zG,{})]})}})})}))}function D(e){var a=e.hideModal,t=(0,j.$G)().t;return(0,b.jsx)(v.Vq,{open:!0,onOpenChange:a,children:(0,b.jsxs)(v.cZ,{className:"sm:max-w-[425px]",children:[(0,b.jsx)(v.fK,{children:(0,b.jsx)(v.$N,{children:t("knowledgeList.createKnowledgeBase")})}),(0,b.jsx)(y,{}),(0,b.jsx)(v.cN,{children:(0,b.jsx)(c.z,{type:"submit",variant:"tertiary",size:"sm",form:S,children:t("common.save")})})]})})}var P=t(15009),Z=t.n(P),A=t(99289),T=t.n(A),R=(t(5574),t(96330)),M=t(86968),I=t(24701),L=function(){var e=(0,M.pG)(),a=e.visible,t=e.hideModal,n=e.showModal,s=(0,i.ME)(),r=s.loading,c=s.createKnowledge,o=(0,I.s0)(),l=(0,m.useCallback)(function(){var e=T()(Z()().mark((function e(a){var n;return Z()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({name:a});case 2:0===(null==(n=e.sent)?void 0:n.code)&&(t(),o("/knowledge/".concat(R.Rx.Configuration,"?id=").concat(n.data.kb_id)));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[c,t,o]);return{loading:r,onCreateOk:l,visible:a,hideModal:t,showModal:n}};function Y(){var e=L(),a=e.visible,t=e.hideModal,h=e.showModal,p=e.onCreateOk,v=e.loading,x=(0,l.$)().navigateToDataset,N=(0,i.L5)(),C=(N.fetchNextPage,N.data),k=(N.hasNextPage,N.searchString,N.handleInputChange,N.loading,(0,m.useMemo)((function(){var e,a;return null!==(e=null==C||null===(a=C.pages)||void 0===a?void 0:a.flatMap((function(e){return Array.isArray(e.kbs)?e.kbs:[]})))&&void 0!==e?e:[]}),[null==C?void 0:C.pages]));(0,m.useMemo)((function(){var e;return null!==(e=null==C?void 0:C.pages.at(-1).total)&&void 0!==e?e:0}),[null==C?void 0:C.pages]);return(0,b.jsxs)("section",{className:"p-8 text-foreground",children:[(0,b.jsxs)(s.Z,{title:"Datasets",showDialog:h,children:[(0,b.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"Create dataset"]}),(0,b.jsx)("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 2xl:grid-cols-8",children:k.map((function(e){return(0,b.jsx)(o.Zb,{className:"bg-colors-background-inverse-weak flex-1",children:(0,b.jsxs)(o.aY,{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,b.jsxs)(r.qE,{className:"w-[70px] h-[70px] rounded-lg",children:[(0,b.jsx)(r.F$,{src:e.avatar}),(0,b.jsx)(r.Q5,{className:"rounded-lg",children:"CN"})]}),(0,b.jsx)(n.h,{children:(0,b.jsx)(c.z,{variant:"ghost",size:"icon",children:(0,b.jsx)(f.Z,{})})})]}),(0,b.jsxs)("div",{className:"flex justify-between items-end",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e.name}),(0,b.jsxs)("p",{className:"text-sm opacity-80",children:[e.doc_num," files"]}),(0,b.jsxs)("p",{className:"text-sm opacity-80",children:["Created ",(0,u.p6)(e.update_time)]})]}),(0,b.jsx)(c.z,{variant:"icon",size:"icon",onClick:x(e.id),children:(0,b.jsx)(g.Z,{className:"h-6 w-6"})})]})]})},e.id)}))}),a&&(0,b.jsx)(D,{hideModal:t,onOk:p,loading:v})]})}},23454:function(e,a,t){t.d(a,{Z:function(){return n}});var n=function(e){return e.Login="/login",e.Home="/home",e.Datasets="/datasets",e.DatasetBase="/dataset",e[e.Dataset="".concat(e.DatasetBase).concat(e.DatasetBase)]="Dataset",e.Agent="/agent",e.AgentTemplates="/agent-templates",e.Agents="/agents",e.Searches="/next-searches",e.Search="/next-search",e.Chats="/next-chats",e.Chat="/next-chat",e.Files="/files",e.ProfileSetting="/profile-setting",e.DatasetTesting="/testing",e.DatasetSetting="/setting",e.Chunk="/chunk",e.ChunkResult="/chunk/chunk",e.Parsed="/parsed",e.ParsedResult="/chunk/parsed",e.Result="/result",e.ResultView="/chunk/result",e}({});n.Home,n.Home,"@/pages".concat(n.Home),n.Datasets,n.Datasets,"@/pages".concat(n.Datasets),n.Chats,n.Chats,"@/pages".concat(n.Chats),n.Chat,"@/pages".concat(n.Chats,"/chat"),n.Searches,n.Searches,"@/pages".concat(n.Searches),n.Search,"@/pages".concat(n.Search),n.Agents,n.Agents,"@/pages".concat(n.Agents),"".concat(n.Agent,"/:id"),"@/pages".concat(n.Agent),n.AgentTemplates,"@/pages".concat(n.Agents).concat(n.AgentTemplates),n.Files,n.Files,"@/pages".concat(n.Files),n.DatasetBase,n.DatasetBase,n.Dataset,n.DatasetBase,"@/pages".concat(n.DatasetBase),"".concat(n.Dataset,"/:id"),"@/pages".concat(n.Dataset),"".concat(n.DatasetBase).concat(n.DatasetSetting,"/:id"),"@/pages".concat(n.DatasetBase).concat(n.DatasetSetting),"".concat(n.DatasetBase).concat(n.DatasetTesting,"/:id"),"@/pages".concat(n.DatasetBase).concat(n.DatasetTesting),n.Chunk,n.Chunk,"@/pages".concat(n.Chunk),"".concat(n.ParsedResult,"/:id"),"@/pages".concat(n.Chunk,"/parsed-result"),"".concat(n.ChunkResult,"/:id"),"@/pages".concat(n.Chunk,"/chunk-result"),"".concat(n.ResultView,"/:id"),"@/pages".concat(n.Chunk,"/result-view"),n.Chunk,"@/pages".concat(n.Chunk),n.ProfileSetting,"@/pages".concat(n.ProfileSetting),n.ProfileSetting,"".concat(n.ProfileSetting,"/profile"),"".concat(n.ProfileSetting,"/profile"),"@/pages".concat(n.ProfileSetting,"/profile"),"".concat(n.ProfileSetting,"/team"),"@/pages".concat(n.ProfileSetting,"/team"),"".concat(n.ProfileSetting,"/plan"),"@/pages".concat(n.ProfileSetting,"/plan"),"".concat(n.ProfileSetting,"/model"),"@/pages".concat(n.ProfileSetting,"/model"),"".concat(n.ProfileSetting,"/prompt"),"@/pages".concat(n.ProfileSetting,"/prompt")},28382:function(e,a,t){t.d(a,{Qc:function(){return o},mr:function(){return c},p6:function(){return r}});var n=t(27484),s=t.n(n);function r(e){return e?s()(e).format("DD/MM/YYYY HH:mm:ss"):""}function c(e){return e?s()(e).format("HH:mm:ss"):""}function o(e){return e?s()(e).format("DD/MM/YYYY"):""}},64998:function(e,a,t){t.d(a,{Z:function(){return n}});const n=(0,t(91373).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},71981:function(e,a,t){t.d(a,{Z:function(){return n}});const n=(0,t(91373).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},31012:function(e,a,t){t.d(a,{Z:function(){return n}});const n=(0,t(91373).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},10952:function(e,a,t){t.d(a,{Ee:function(){return C},NY:function(){return k},fC:function(){return N}});var n=t(62435),s=t(25360),r=t(79698),c=t(9981),o=t(75320),i=t(86074),l="Avatar",[u,d]=(0,s.b)(l),[f,g]=u(l),m=n.forwardRef(((e,a)=>{const{__scopeAvatar:t,...s}=e,[r,c]=n.useState("idle");return(0,i.jsx)(f,{scope:t,imageLoadingStatus:r,onImageLoadingStatusChange:c,children:(0,i.jsx)(o.WV.span,{...s,ref:a})})}));m.displayName=l;var h="AvatarImage",p=n.forwardRef(((e,a)=>{const{__scopeAvatar:t,src:s,onLoadingStatusChange:l=()=>{},...u}=e,d=g(h,t),f=function(e,a){const[t,s]=n.useState("idle");return(0,c.b)((()=>{if(!e)return void s("error");let t=!0;const n=new window.Image,r=e=>()=>{t&&s(e)};return s("loading"),n.onload=r("loaded"),n.onerror=r("error"),n.src=e,a&&(n.referrerPolicy=a),()=>{t=!1}}),[e,a]),t}(s,u.referrerPolicy),m=(0,r.W)((e=>{l(e),d.onImageLoadingStatusChange(e)}));return(0,c.b)((()=>{"idle"!==f&&m(f)}),[f,m]),"loaded"===f?(0,i.jsx)(o.WV.img,{...u,ref:a,src:s}):null}));p.displayName=h;var v="AvatarFallback",x=n.forwardRef(((e,a)=>{const{__scopeAvatar:t,delayMs:s,...r}=e,c=g(v,t),[l,u]=n.useState(void 0===s);return n.useEffect((()=>{if(void 0!==s){const e=window.setTimeout((()=>u(!0)),s);return()=>window.clearTimeout(e)}}),[s]),l&&"loaded"!==c.imageLoadingStatus?(0,i.jsx)(o.WV.span,{...r,ref:a}):null}));x.displayName=v;var N=m,C=p,k=x}}]);
//# sourceMappingURL=p__datasets__index.534e0a76.async.js.map