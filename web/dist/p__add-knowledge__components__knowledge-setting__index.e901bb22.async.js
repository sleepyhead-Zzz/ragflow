/*! For license information please see p__add-knowledge__components__knowledge-setting__index.e901bb22.async.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[53],{99611:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(87462),a=t(62435),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},i=t(84089),o=function(e,n){return a.createElement(i.Z,(0,r.Z)({},e,{ref:n,icon:s}))};var l=a.forwardRef(o)},24969:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(87462),a=t(62435),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},i=t(84089),o=function(e,n){return a.createElement(i.Z,(0,r.Z)({},e,{ref:n,icon:s}))};var l=a.forwardRef(o)},25170:function(e,n,t){"use strict";t.d(n,{r:function(){return c},w:function(){return u}});var r=t(86968),a=t(22150),s=t(86250),i=t(71338),o=t(48928),l=t(86074),c=function(){var e=(0,r.qM)("knowledgeDetails").t;return(0,l.jsx)(a.Z.Item,{label:e("autoKeywords"),tooltip:e("autoKeywordsTip"),children:(0,l.jsxs)(s.Z,{gap:20,align:"center",children:[(0,l.jsx)(s.Z,{flex:1,children:(0,l.jsx)(a.Z.Item,{name:["parser_config","auto_keywords"],noStyle:!0,initialValue:0,children:(0,l.jsx)(i.Z,{max:30,style:{width:"100%"}})})}),(0,l.jsx)(a.Z.Item,{name:["parser_config","auto_keywords"],noStyle:!0,children:(0,l.jsx)(o.Z,{max:30,min:0})})]})})},u=function(){var e=(0,r.qM)("knowledgeDetails").t;return(0,l.jsx)(a.Z.Item,{label:e("autoQuestions"),tooltip:e("autoQuestionsTip"),children:(0,l.jsxs)(s.Z,{gap:20,align:"center",children:[(0,l.jsx)(s.Z,{flex:1,children:(0,l.jsx)(a.Z.Item,{name:["parser_config","auto_questions"],noStyle:!0,initialValue:0,children:(0,l.jsx)(i.Z,{max:10,style:{width:"100%"}})})}),(0,l.jsx)(a.Z.Item,{name:["parser_config","auto_questions"],noStyle:!0,children:(0,l.jsx)(o.Z,{max:10,min:0})})]})})}},26625:function(e,n,t){"use strict";t.d(n,{h:function(){return S}});var r=t(97857),a=t.n(r),s=t(13769),i=t.n(s),o=t(75962),l=t(62435),c=t(57636),u=t(27080),d=t(86074),f=["className"],m=["className"],x=["className"],p=["className"],g=["className"],h=["className"],j=["className"],v=["className"],b=o.fC,y=o.xz,Z=o.h_,w=l.forwardRef((function(e,n){var t=e.className,r=i()(e,f);return(0,d.jsx)(o.aV,a()(a()({className:(0,u.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},r),{},{ref:n}))}));w.displayName=o.aV.displayName;var N=l.forwardRef((function(e,n){var t=e.className,r=i()(e,m);return(0,d.jsxs)(Z,{children:[(0,d.jsx)(w,{}),(0,d.jsx)(o.VY,a()({ref:n,className:(0,u.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-colors-background-neutral-standard p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},r))]})}));N.displayName=o.VY.displayName;var k=function(e){var n=e.className,t=i()(e,x);return(0,d.jsx)("div",a()({className:(0,u.cn)("flex flex-col space-y-2 text-center sm:text-left",n)},t))};k.displayName="AlertDialogHeader";var C=function(e){var n=e.className,t=i()(e,p);return(0,d.jsx)("div",a()({className:(0,u.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n)},t))};C.displayName="AlertDialogFooter";var _=l.forwardRef((function(e,n){var t=e.className,r=i()(e,g);return(0,d.jsx)(o.Dx,a()({ref:n,className:(0,u.cn)("text-lg font-semibold",t)},r))}));_.displayName=o.Dx.displayName,l.forwardRef((function(e,n){var t=e.className,r=i()(e,h);return(0,d.jsx)(o.dk,a()({ref:n,className:(0,u.cn)("text-sm text-muted-foreground",t)},r))})).displayName=o.dk.displayName;var M=l.forwardRef((function(e,n){var t=e.className,r=i()(e,j);return(0,d.jsx)(o.aU,a()({ref:n,className:(0,u.cn)((0,c.d)(),t)},r))}));M.displayName=o.aU.displayName;var T=l.forwardRef((function(e,n){var t=e.className,r=i()(e,v);return(0,d.jsx)(o.$j,a()({ref:n,className:(0,u.cn)((0,c.d)({variant:"outline"}),"mt-2 sm:mt-0",t)},r))}));T.displayName=o.$j.displayName;var R=t(13718),P=t(67421);function S(e){var n=e.children,t=e.title,r=e.onOk,a=(0,P.$G)().t;return(0,d.jsxs)(b,{children:[(0,d.jsx)(y,{asChild:!0,children:n}),(0,d.jsxs)(N,{children:[(0,d.jsx)(k,{children:(0,d.jsx)(_,{children:null!=t?t:a("common.deleteModalTitle")})}),(0,d.jsxs)(C,{children:[(0,d.jsx)(T,{children:a("common.cancel")}),(0,d.jsxs)(M,{className:"bg-colors-background-functional-solid-danger text--colors-text-neutral-strong",onClick:r,children:[(0,d.jsx)(R.Z,{}),a("common.ok")]})]})]})]})}},38218:function(e,n,t){"use strict";t.d(n,{d:function(){return s}});var r=t(27080),a=t(86074);function s(e){var n=e.children,t=e.className,s=e.show;return void 0===s||s?(0,a.jsx)("div",{className:(0,r.cn)("border p-2 rounded-lg bg-slate-50 dark:bg-gray-600",t),children:n}):n}},84782:function(e,n,t){"use strict";var r=t(79531),a=t(22150),s=t(67421),i=t(86074),o=function(e){var n=e.value,t=e.onChange,a=e.maxLength,s=null==n?void 0:n.replaceAll("\n","\\n");return(0,i.jsx)(r.Z,{value:s,onChange:function(e){var n=e.target.value.replaceAll("\\n","\n");null==t||t(n)},maxLength:a})};n.Z=function(){var e=(0,s.$G)().t;return(0,i.jsx)(a.Z.Item,{name:["parser_config","delimiter"],label:e("knowledgeDetails.delimiter"),initialValue:"\\n!?;ã€‚ï¼›ï¼ï¼Ÿ",rules:[{required:!0}],tooltip:e("knowledgeDetails.delimiterTip"),children:(0,i.jsx)(o,{})})}},26572:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var r=t(19632),a=t.n(r),s=t(5574),i=t.n(s),o=t(24969),l=t(9361),c=t(83062),u=t(66309),d=t(79531),f=t(52376),m=t(62435),x="tweenGroup___HgfIF",p="tag___EPGvm",g=t(86074),h=function(e){var n=e.value,t=void 0===n?[]:n,r=e.onChange,s=l.Z.useToken().token,h=(0,m.useState)(!1),j=i()(h,2),v=j[0],b=j[1],y=(0,m.useState)(""),Z=i()(y,2),w=Z[0],N=Z[1],k=(0,m.useRef)(null);(0,m.useEffect)((function(){var e;v&&(null===(e=k.current)||void 0===e||e.focus())}),[v]);var C=function(){if(w&&t){var e=w.split(";").map((function(e){return e.trim()})).filter((function(e){return e&&!t.includes(e)}));null==r||r([].concat(a()(t),a()(e)))}b(!1),N("")},_=null==t?void 0:t.map((function(e){return(0,g.jsx)(c.Z,{title:e,children:(0,g.jsx)(u.Z,{className:p,closable:!0,onClose:function(n){var a,s;n.preventDefault(),a=e,s=null==t?void 0:t.filter((function(e){return e!==a})),null==r||r(null!=s?s:[])},children:e},e)})})),M={background:s.colorBgContainer,borderStyle:"dashed"};return(0,g.jsxs)("div",{children:[Array.isArray(_)&&_.length>0&&(0,g.jsx)(f.Z,{className:x,enter:{scale:.8,opacity:0,type:"from",duration:100},onEnd:function(e){"appear"!==e.type&&"enter"!==e.type||(e.target.style="display: inline-block")},leave:{opacity:0,width:0,scale:0,duration:200},appear:!1,children:_}),v?(0,g.jsx)(d.Z,{ref:k,type:"text",size:"small",value:w,onChange:function(e){N(e.target.value)},onBlur:C,onPressEnter:C}):(0,g.jsx)(u.Z,{onClick:function(){b(!0)},style:M,children:(0,g.jsx)(o.Z,{})})]})}},50960:function(e,n,t){"use strict";var r=t(86968),a=t(22150),s=t(26572),i=t(86074),o=["organization","person","geo","event","category"];n.Z=function(e){var n=e.field,t=void 0===n?["parser_config","entity_types"]:n,l=(0,r.qM)("knowledgeConfiguration").t;return(0,i.jsx)(a.Z.Item,{name:t,label:l("entityTypes"),rules:[{required:!0}],initialValue:o,children:(0,i.jsx)(s.Z,{})})}},54140:function(e,n,t){"use strict";var r=t(86968),a=t(22150),s=t(72269),i=t(86074);n.Z=function(){var e=(0,r.qM)("knowledgeDetails").t;return(0,i.jsx)(a.Z.Item,{name:["parser_config","html4excel"],label:e("html4excel"),initialValue:!1,valuePropName:"checked",tooltip:e("html4excelTip"),children:(0,i.jsx)(s.Z,{})})}},78656:function(e,n,t){"use strict";var r=t(19632),a=t.n(r),s=t(97857),i=t.n(s),o=t(96330),l=t(86968),c=t(38392),u=t(22150),d=t(34041),f=t(96486),m=t(62435),x=t(86074);n.Z=function(){var e=(0,l.qM)("knowledgeDetails").t,n=(0,c.hl)(),t=(0,m.useMemo)((function(){var t=["DeepDOC","Plain Text"].map((function(n){return{label:"Plain Text"===n?e((0,f.camelCase)(n)):"DeepDoc",value:n}})),r=n[o.Vr.Image2text].map((function(e){return i()(i()({},e),{},{options:e.options.map((function(e){return i()(i()({},e),{},{label:(0,x.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[e.label,(0,x.jsx)("span",{className:"text-red-500 text-sm",children:"Experimental"})]})})}))})}));return[].concat(a()(t),a()(r))}),[n,e]);return(0,x.jsx)(u.Z.Item,{name:["parser_config","layout_recognize"],label:e("layoutRecognize"),initialValue:"DeepDOC",tooltip:e("layoutRecognizeTip"),children:(0,x.jsx)(d.Z,{options:t,popupMatchSelectWidth:!1})})}},77680:function(e,n,t){"use strict";var r=t(86968),a=t(22150),s=t(86250),i=t(71338),o=t(48928),l=t(86074);n.Z=function(e){var n=e.initialValue,t=void 0===n?128:n,c=e.max,u=void 0===c?2048:c,d=(0,r.qM)("knowledgeConfiguration").t;return(0,l.jsx)(a.Z.Item,{label:d("chunkTokenNumber"),tooltip:d("chunkTokenNumberTip"),children:(0,l.jsxs)(s.Z,{gap:20,align:"center",children:[(0,l.jsx)(s.Z,{flex:1,children:(0,l.jsx)(a.Z.Item,{name:["parser_config","chunk_token_num"],noStyle:!0,initialValue:t,rules:[{required:!0,message:d("chunkTokenNumberMessage")}],children:(0,l.jsx)(i.Z,{max:u,style:{width:"100%"}})})}),(0,l.jsx)(a.Z.Item,{name:["parser_config","chunk_token_num"],noStyle:!0,rules:[{required:!0,message:d("chunkTokenNumberMessage")}],children:(0,l.jsx)(o.Z,{max:u,min:0})})]})})}},72103:function(e,n,t){"use strict";t.d(n,{hc:function(){return p}});var r=t(96330),a=t(86968),s=t(27080),i=t(22150),o=t(72269),l=t(34041),c=t(96486),u=t(62435),d=t(38218),f=t(50960),m=t(86074),x=(r.K1.Table,r.K1.KnowledgeGraph,r.K1.Tag,[r.K1.Table,r.K1.Resume,r.K1.Picture,r.K1.KnowledgeGraph,r.K1.Qa,r.K1.Tag]),p=function(e){return!x.some((function(n){return n===e}))};n.ZP=function(e){var n=e.marginBottom,t=void 0!==n&&n,r=(0,a.qM)("knowledgeConfiguration").t,x=(0,u.useMemo)((function(){return["light","general"].map((function(e){return{value:e,label:(0,c.upperFirst)(e)}}))}),[]),p=(0,u.useCallback)((function(e){return{title:"string"==typeof e?r(e):e,overlayInnerStyle:{width:"32vw"}}}),[r]);return(0,m.jsxs)(d.d,{className:(0,s.cn)({"mb-4":t}),children:[(0,m.jsx)(i.Z.Item,{name:["parser_config","graphrag","use_graphrag"],label:r("useGraphRag"),initialValue:!1,valuePropName:"checked",tooltip:r("useGraphRagTip"),children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(i.Z.Item,{shouldUpdate:function(e,n){return e.parser_config.graphrag.use_graphrag!==n.parser_config.graphrag.use_graphrag},children:function(e){return(0,e.getFieldValue)(["parser_config","graphrag","use_graphrag"])&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f.Z,{field:["parser_config","graphrag","entity_types"]}),(0,m.jsx)(i.Z.Item,{name:["parser_config","graphrag","method"],label:r("graphRagMethod"),tooltip:p((0,m.jsx)("div",{dangerouslySetInnerHTML:{__html:r("graphRagMethodTip")}})),initialValue:"light",children:(0,m.jsx)(l.Z,{options:x})}),(0,m.jsx)(i.Z.Item,{name:["parser_config","graphrag","resolution"],label:r("resolution"),tooltip:p("resolutionTip"),children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)(i.Z.Item,{name:["parser_config","graphrag","community"],label:r("community"),tooltip:p("communityTip"),children:(0,m.jsx)(o.Z,{})})]})}})]})}},85885:function(e,n,t){"use strict";t.d(n,{J3:function(){return h}});var r=t(96330),a=t(86968),s=t(24969),i=t(22150),o=t(72269),l=t(79531),c=t(86250),u=t(71338),d=t(48928),f=t(15867),m=t(83608),x=t.n(m),p=t(86074),g=[r.K1.Table,r.K1.Resume,r.K1.One,r.K1.Picture,r.K1.KnowledgeGraph,r.K1.Qa,r.K1.Tag],h=function(e){return!g.some((function(n){return n===e}))};r.K1.Table,r.K1.KnowledgeGraph,r.K1.Tag;n.ZP=function(){var e=i.Z.useFormInstance(),n=(0,a.qM)("knowledgeConfiguration").t,t=function(){e.setFieldValue(["parser_config","raptor","random_seed"],x()(1e4))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.Z.Item,{name:["parser_config","raptor","use_raptor"],label:n("useRaptor"),initialValue:!1,valuePropName:"checked",tooltip:n("useRaptorTip"),children:(0,p.jsx)(o.Z,{})}),(0,p.jsx)(i.Z.Item,{shouldUpdate:function(e,n){return e.parser_config.raptor.use_raptor!==n.parser_config.raptor.use_raptor},children:function(e){return(0,e.getFieldValue)(["parser_config","raptor","use_raptor"])&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.Z.Item,{name:["parser_config","raptor","prompt"],label:n("prompt"),initialValue:n("promptText"),tooltip:n("promptTip"),rules:[{required:!0,message:n("promptMessage")}],children:(0,p.jsx)(l.Z.TextArea,{rows:8})}),(0,p.jsx)(i.Z.Item,{label:n("maxToken"),tooltip:n("maxTokenTip"),children:(0,p.jsxs)(c.Z,{gap:20,align:"center",children:[(0,p.jsx)(c.Z,{flex:1,children:(0,p.jsx)(i.Z.Item,{name:["parser_config","raptor","max_token"],noStyle:!0,initialValue:256,rules:[{required:!0,message:n("maxTokenMessage")}],children:(0,p.jsx)(u.Z,{max:2048,style:{width:"100%"}})})}),(0,p.jsx)(i.Z.Item,{name:["parser_config","raptor","max_token"],noStyle:!0,rules:[{required:!0,message:n("maxTokenMessage")}],children:(0,p.jsx)(d.Z,{max:2048,min:0})})]})}),(0,p.jsx)(i.Z.Item,{label:n("threshold"),tooltip:n("thresholdTip"),children:(0,p.jsxs)(c.Z,{gap:20,align:"center",children:[(0,p.jsx)(c.Z,{flex:1,children:(0,p.jsx)(i.Z.Item,{name:["parser_config","raptor","threshold"],noStyle:!0,initialValue:.1,rules:[{required:!0,message:n("thresholdMessage")}],children:(0,p.jsx)(u.Z,{min:0,max:1,style:{width:"100%"},step:.01})})}),(0,p.jsx)(i.Z.Item,{name:["parser_config","raptor","threshold"],noStyle:!0,rules:[{required:!0,message:n("thresholdMessage")}],children:(0,p.jsx)(d.Z,{max:1,min:0,step:.01})})]})}),(0,p.jsx)(i.Z.Item,{label:n("maxCluster"),tooltip:n("maxClusterTip"),children:(0,p.jsxs)(c.Z,{gap:20,align:"center",children:[(0,p.jsx)(c.Z,{flex:1,children:(0,p.jsx)(i.Z.Item,{name:["parser_config","raptor","max_cluster"],noStyle:!0,initialValue:64,rules:[{required:!0,message:n("maxClusterMessage")}],children:(0,p.jsx)(u.Z,{min:1,max:1024,style:{width:"100%"}})})}),(0,p.jsx)(i.Z.Item,{name:["parser_config","raptor","max_cluster"],noStyle:!0,rules:[{required:!0,message:n("maxClusterMessage")}],children:(0,p.jsx)(d.Z,{max:1024,min:1})})]})}),(0,p.jsx)(i.Z.Item,{label:n("randomSeed"),children:(0,p.jsxs)(c.Z,{gap:20,align:"center",children:[(0,p.jsx)(c.Z,{flex:1,children:(0,p.jsx)(i.Z.Item,{name:["parser_config","raptor","random_seed"],noStyle:!0,initialValue:0,rules:[{required:!0,message:n("randomSeedMessage")}],children:(0,p.jsx)(d.Z,{style:{width:"100%"}})})}),(0,p.jsx)(i.Z.Item,{noStyle:!0,children:(0,p.jsx)(f.ZP,{type:"primary",onClick:t,children:(0,p.jsx)(s.Z,{})})})]})})]})}})]})}},57636:function(e,n,t){"use strict";t.d(n,{d:function(){return m},z:function(){return x}});var r=t(97857),a=t.n(r),s=t(13769),i=t.n(s),o=t(88426),l=t(45139),c=t(62435),u=t(27080),d=t(86074),f=["className","variant","size","asChild"],m=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-colors-outline-sentiment-primary bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",tertiary:"bg-colors-background-sentiment-solid-primary text-colors-text-persist-light hover:bg-colors-background-sentiment-solid-primary/80",icon:"bg-colors-background-inverse-standard text-foreground hover:bg-colors-background-inverse-standard/80"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",auto:"h-full px-1"}},defaultVariants:{variant:"default",size:"default"}}),x=c.forwardRef((function(e,n){var t=e.className,r=e.variant,s=e.size,l=e.asChild,c=void 0!==l&&l,x=i()(e,f),p=c?o.g7:"button";return(0,d.jsx)(p,a()({className:(0,u.cn)(m({variant:r,size:s,className:t})),ref:n},x))}));x.displayName="Button"},23309:function(e,n,t){"use strict";t.d(n,{X:function(){return m}});var r=t(97857),a=t.n(r),s=t(13769),i=t.n(s),o=t(46069),l=t(13742),c=t(62435),u=t(27080),d=t(86074),f=["className"],m=c.forwardRef((function(e,n){var t=e.className,r=i()(e,f);return(0,d.jsx)(o.fC,a()(a()({ref:n,className:(0,u.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t)},r),{},{children:(0,d.jsx)(o.z$,{className:(0,u.cn)("flex items-center justify-center text-current"),children:(0,d.jsx)(l.Z,{className:"h-4 w-4"})})}))}));m.displayName=o.fC.displayName},28993:function(e,n,t){"use strict";t.d(n,{$N:function(){return N},Vq:function(){return j},cN:function(){return w},cZ:function(){return y},fK:function(){return Z}});var r=t(97857),a=t.n(r),s=t(13769),i=t.n(s),o=t(94153),l=t(41352),c=t(62435),u=t(27080),d=t(86074),f=["className"],m=["className","children"],x=["className"],p=["className"],g=["className"],h=["className"],j=o.fC,v=(o.xz,o.h_),b=(o.x8,c.forwardRef((function(e,n){var t=e.className,r=i()(e,f);return(0,d.jsx)(o.aV,a()({ref:n,className:(0,u.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},r))})));b.displayName=o.aV.displayName;var y=c.forwardRef((function(e,n){var t=e.className,r=e.children,s=i()(e,m);return(0,d.jsxs)(v,{children:[(0,d.jsx)(b,{}),(0,d.jsxs)(o.VY,a()(a()({ref:n,className:(0,u.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-colors-background-neutral-standard p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},s),{},{children:[r,(0,d.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(l.Z,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})}));y.displayName=o.VY.displayName;var Z=function(e){var n=e.className,t=i()(e,x);return(0,d.jsx)("div",a()({className:(0,u.cn)("flex flex-col space-y-1.5 text-center sm:text-left",n)},t))};Z.displayName="DialogHeader";var w=function(e){var n=e.className,t=i()(e,p);return(0,d.jsx)("div",a()({className:(0,u.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n)},t))};w.displayName="DialogFooter";var N=c.forwardRef((function(e,n){var t=e.className,r=i()(e,g);return(0,d.jsx)(o.Dx,a()({ref:n,className:(0,u.cn)("text-lg font-semibold leading-none tracking-tight",t)},r))}));N.displayName=o.Dx.displayName,c.forwardRef((function(e,n){var t=e.className,r=i()(e,h);return(0,d.jsx)(o.dk,a()({ref:n,className:(0,u.cn)("text-sm text-muted-foreground",t)},r))})).displayName=o.dk.displayName},27591:function(e,n,t){"use strict";t.d(n,{II:function(){return p},Mj:function(){return h}});var r=t(9783),a=t.n(r),s=t(97857),i=t.n(s),o=t(13769),l=t.n(o),c=t(62435),u=t(27080),d=t(87764),f=t(86074),m=["className","type"],x=["suffix","prefix"],p=c.forwardRef((function(e,n){var t=e.className,r=e.type,a=l()(e,m);return(0,f.jsx)("input",i()({type:r,className:(0,u.cn)("flex h-10 w-full rounded-md border border-input bg-colors-background-inverse-weak px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n},a))}));p.displayName="Input";var g=function(e){var n=e.suffix,t=e.prefix,r=l()(e,x);return(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("span",{className:(0,u.cn)(a()({},"absolute left-3 top-[50%] translate-y-[-50%]",t)),children:t}),(0,f.jsx)(p,i()({className:(0,u.cn)({"pr-10":n,"pl-10":t})},r)),(0,f.jsx)("span",{className:(0,u.cn)(a()({},"absolute right-3 top-[50%] translate-y-[-50%]",n)),children:n})]})},h=function(e){return(0,f.jsx)(g,i()({suffix:(0,f.jsx)(d.Z,{})},e))}},11524:function(e,n,t){"use strict";t.d(n,{f:function(){return p}});var r=t(97857),a=t.n(r),s=t(13769),i=t.n(s),o=t(27080),l=t(88426),c=t(45139),u=t(36316),d=t(62435),f=t(86074),m=["className","loading","children","disabled","variant","size","asChild"],x=(0,c.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",tertiary:"bg-colors-background-sentiment-solid-primary text-colors-text-persist-light hover:bg-colors-background-sentiment-solid-primary/80"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=d.forwardRef((function(e,n){var t=e.className,r=e.loading,s=void 0!==r&&r,c=e.children,d=e.disabled,p=e.variant,g=e.size,h=e.asChild,j=void 0!==h&&h,v=i()(e,m),b=j?l.g7:"button";return(0,f.jsxs)(b,a()(a()({className:(0,o.cn)(x({variant:p,size:g,className:t})),ref:n,disabled:s||d},v),{},{children:[s&&(0,f.jsx)(u.Z,{className:"mr-2 h-5 w-5 animate-spin"}),(0,f.jsx)(l.A4,{children:c})]}))}));p.displayName="LoadingButton"},75269:function(e,n,t){"use strict";t.d(n,{RM:function(){return b},SC:function(){return y},iA:function(){return j},pj:function(){return w},ss:function(){return Z},xD:function(){return v}});var r=t(97857),a=t.n(r),s=t(13769),i=t.n(s),o=t(62435),l=t(27080),c=t(86074),u=["className"],d=["className"],f=["className"],m=["className"],x=["className"],p=["className"],g=["className"],h=["className"],j=o.forwardRef((function(e,n){var t=e.className,r=i()(e,u);return(0,c.jsx)("div",{className:"relative w-full overflow-auto",children:(0,c.jsx)("table",a()({ref:n,className:(0,l.cn)("w-full caption-bottom text-sm",t)},r))})}));j.displayName="Table";var v=o.forwardRef((function(e,n){var t=e.className,r=i()(e,d);return(0,c.jsx)("thead",a()({ref:n,className:(0,l.cn)("[&_tr]:border-b",t)},r))}));v.displayName="TableHeader";var b=o.forwardRef((function(e,n){var t=e.className,r=i()(e,f);return(0,c.jsx)("tbody",a()({ref:n,className:(0,l.cn)("[&_tr:last-child]:border-0",t)},r))}));b.displayName="TableBody",o.forwardRef((function(e,n){var t=e.className,r=i()(e,m);return(0,c.jsx)("tfoot",a()({ref:n,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t)},r))})).displayName="TableFooter";var y=o.forwardRef((function(e,n){var t=e.className,r=i()(e,x);return(0,c.jsx)("tr",a()({ref:n,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t)},r))}));y.displayName="TableRow";var Z=o.forwardRef((function(e,n){var t=e.className,r=i()(e,p);return(0,c.jsx)("th",a()({ref:n,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t)},r))}));Z.displayName="TableHead";var w=o.forwardRef((function(e,n){var t=e.className,r=i()(e,g);return(0,c.jsx)("td",a()({ref:n,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t)},r))}));w.displayName="TableCell",o.forwardRef((function(e,n){var t=e.className,r=i()(e,h);return(0,c.jsx)("caption",a()({ref:n,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",t)},r))})).displayName="TableCaption"},33696:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return an}});var r=t(22850),a=t(96074),s=t(75081),i=t(71230),o=t(15746),l=t(46693),c=t(86968),u=t(39259),d=t(32983),f=t(27856),m=t.n(f),x=t(68929),p=t.n(x),g=t(62435),h="configurationWrapper___I5Kdy",j="buttonWrapper___k6eVW",v="categoryPanelWrapper___yI4rY",b="imageRow___C3Xpb",y="image___D0j7I",Z=t(5574),w=t.n(Z),N=t(9783),k=t.n(N),C=t(92783),_=t(96486),M=t(67421),T=t(74094),R=t(27060),P=t(61932),S=t(13718),F=t(90470),I=t(26625),z=t(57636),E=t(23309),O=t(27591),q=t(75269),K=t(7182),V=t(10541),D=t(15009),$=t.n(D),B=t(97857),L=t.n(B),G=t(99289),A=t.n(G),U=t(96330),H=t(38392),X=t(96100),Q=t(51331),W=t(67112),J=t(30202);var Y=t(22150),ee=t(78718),ne=t.n(ee),te=["email","picture","audio"];function re(){return(0,V.PX)().data.chunk_num>0}var ae=function(){return function(e,n){const t=(0,J.NL)(n),r=t.getQueryCache();return g.useSyncExternalStore(g.useCallback((e=>r.subscribe(W.V.batchCalls(e))),[r]),(()=>t.isFetching(e)),(()=>t.isFetching(e)))}({queryKey:["fetchKnowledgeDetail"]})>0},se=t(28993),ie=t(11524),oe=t(8074),le=t(56312),ce=t(87536),ue=t(1604),de=t(80499),fe=t(86074);function me(e){var n=e.initialName,t=e.hideModal,r=(0,M.$G)().t,a=ue.z.object({name:ue.z.string().min(1,{message:r("common.namePlaceholder")}).trim()}),s=(0,ce.cI)({resolver:(0,le.F)(a),defaultValues:{name:""}}),i=(0,V.Sq)().renameTag;function o(){return(o=A()($()().mark((function e(r){return $()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({fromTag:n,toTag:r.name});case 2:e.sent&&(null==t||t());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,g.useEffect)((function(){s.setValue("name",n)}),[s,n]),(0,fe.jsx)(de.l0,L()(L()({},s),{},{children:(0,fe.jsx)("form",{onSubmit:s.handleSubmit((function(e){return o.apply(this,arguments)})),className:"space-y-6",id:oe.j$,children:(0,fe.jsx)(de.Wi,{control:s.control,name:"name",render:function(e){var n=e.field;return(0,fe.jsxs)(de.xJ,{children:[(0,fe.jsx)(de.lX,{children:r("common.name")}),(0,fe.jsx)(de.NI,{children:(0,fe.jsx)(O.II,L()(L()({placeholder:r("common.namePlaceholder")},n),{},{autoComplete:"off"}))}),(0,fe.jsx)(de.zG,{})]})}})})}))}function xe(e){var n=e.hideModal,t=e.initialName,r=(0,M.$G)().t,a=(0,V.z5)();return(0,fe.jsx)(se.Vq,{open:!0,onOpenChange:n,children:(0,fe.jsxs)(se.cZ,{className:"sm:max-w-[425px]",children:[(0,fe.jsx)(se.fK,{children:(0,fe.jsx)(se.$N,{children:r("common.rename")})}),(0,fe.jsx)(me,{initialName:t,hideModal:n}),(0,fe.jsx)(se.cN,{children:(0,fe.jsx)(ie.f,{type:"submit",form:oe.j$,loading:a,children:r("common.save")})})]})})}function pe(){var e,n,t,r=(0,M.$G)().t,a=(0,V.lX)().list,s=(0,g.useState)([]),i=w()(s,2),o=i[0],l=i[1],u=g.useState([]),d=w()(u,2),f=d[0],m=d[1],x=g.useState([]),p=w()(x,2),h=p[0],j=p[1],v=g.useState({}),b=w()(v,2),y=b[0],Z=b[1],N=(0,g.useState)({}),k=w()(N,2),C=k[0],_=k[1],D=(0,V.uG)().deleteTag;(0,g.useEffect)((function(){l(a.map((function(e){return{tag:e[0],frequency:e[1]}})))}),[a]);var $=(0,g.useCallback)((function(e){return function(){D(e)}}),[D]),B=function(){var e=(0,g.useState)(""),n=w()(e,2),t=n[0],r=n[1],a=(0,c.pG)(),s=a.visible,i=a.hideModal,o=a.showModal;return{initialName:t,tagRenameVisible:s,hideTagRenameModal:i,showTagRenameModal:(0,g.useCallback)((function(e){r(e),o()}),[o])}}(),L=B.showTagRenameModal,G=B.hideTagRenameModal,A=B.tagRenameVisible,U=B.initialName,H=[{id:"select",header:function(e){var n=e.table;return(0,fe.jsx)(E.X,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:function(e){return n.toggleAllPageRowsSelected(!!e)},"aria-label":"Select all"})},cell:function(e){var n=e.row;return(0,fe.jsx)(E.X,{checked:n.getIsSelected(),onCheckedChange:function(e){return n.toggleSelected(!!e)},"aria-label":"Select row"})},enableSorting:!1,enableHiding:!1},{accessorKey:"tag",header:function(e){var n=e.column;return(0,fe.jsxs)(z.z,{variant:"ghost",onClick:function(){return n.toggleSorting("asc"===n.getIsSorted())},children:[r("knowledgeConfiguration.tagName"),(0,fe.jsx)(P.Z,{})]})},cell:function(e){var n=e.row.getValue("tag");return(0,fe.jsx)("div",{children:n})}},{accessorKey:"frequency",header:function(e){var n=e.column;return(0,fe.jsxs)(z.z,{variant:"ghost",onClick:function(){return n.toggleSorting("asc"===n.getIsSorted())},children:[r("knowledgeConfiguration.frequency"),(0,fe.jsx)(P.Z,{})]})},cell:function(e){var n=e.row;return(0,fe.jsx)("div",{className:"capitalize ",children:n.getValue("frequency")})}},{id:"actions",enableHiding:!1,header:r("common.action"),cell:function(e){var n=e.row;return(0,fe.jsxs)("div",{className:"flex gap-1",children:[(0,fe.jsxs)(K.u,{children:[(0,fe.jsx)(I.h,{onOk:$([n.original.tag]),children:(0,fe.jsx)(K.aJ,{asChild:!0,children:(0,fe.jsx)(z.z,{variant:"ghost",size:"icon",children:(0,fe.jsx)(S.Z,{})})})}),(0,fe.jsx)(K._v,{children:(0,fe.jsx)("p",{children:r("common.delete")})})]}),(0,fe.jsxs)(K.u,{children:[(0,fe.jsx)(K.aJ,{asChild:!0,children:(0,fe.jsx)(z.z,{variant:"ghost",size:"icon",onClick:function(){return L(n.original.tag)},children:(0,fe.jsx)(F.Z,{})})}),(0,fe.jsx)(K._v,{children:(0,fe.jsx)("p",{children:r("common.rename")})})]})]})}}],X=(0,T.b7)({data:o,columns:H,onSortingChange:m,onColumnFiltersChange:j,getCoreRowModel:(0,R.sC)(),getPaginationRowModel:(0,R.G_)(),getSortedRowModel:(0,R.tj)(),getFilteredRowModel:(0,R.vL)(),onColumnVisibilityChange:Z,onRowSelectionChange:_,state:{sorting:f,columnFilters:h,columnVisibility:y,rowSelection:C}}),Q=X.getFilteredSelectedRowModel().rows.length;return(0,fe.jsxs)(K.pn,{children:[(0,fe.jsxs)("div",{className:"w-full",children:[(0,fe.jsxs)("div",{className:"flex items-center justify-between py-4 ",children:[(0,fe.jsx)(O.II,{placeholder:r("knowledgeConfiguration.searchTags"),value:null!==(e=null===(n=X.getColumn("tag"))||void 0===n?void 0:n.getFilterValue())&&void 0!==e?e:"",onChange:function(e){var n;return null===(n=X.getColumn("tag"))||void 0===n?void 0:n.setFilterValue(e.target.value)},className:"w-1/2"}),Q>0&&(0,fe.jsx)(I.h,{onOk:$(X.getFilteredSelectedRowModel().rows.map((function(e){return e.original.tag}))),children:(0,fe.jsx)(z.z,{variant:"outline",size:"icon",children:(0,fe.jsx)(S.Z,{})})})]}),(0,fe.jsx)("div",{className:"rounded-md border",children:(0,fe.jsxs)(q.iA,{children:[(0,fe.jsx)(q.xD,{children:X.getHeaderGroups().map((function(e){return(0,fe.jsx)(q.SC,{children:e.headers.map((function(e){return(0,fe.jsx)(q.ss,{children:e.isPlaceholder?null:(0,T.ie)(e.column.columnDef.header,e.getContext())},e.id)}))},e.id)}))}),(0,fe.jsx)(q.RM,{children:null!==(t=X.getRowModel().rows)&&void 0!==t&&t.length?X.getRowModel().rows.map((function(e){return(0,fe.jsx)(q.SC,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map((function(e){return(0,fe.jsx)(q.pj,{children:(0,T.ie)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)})):(0,fe.jsx)(q.SC,{children:(0,fe.jsx)(q.pj,{colSpan:H.length,className:"h-24 text-center",children:"No results."})})})]})}),(0,fe.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,fe.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[Q," of ",X.getFilteredRowModel().rows.length," ","row(s) selected."]}),(0,fe.jsxs)("div",{className:"space-x-2",children:[(0,fe.jsx)(z.z,{variant:"outline",size:"sm",onClick:function(){return X.previousPage()},disabled:!X.getCanPreviousPage(),children:r("common.previousPage")}),(0,fe.jsx)(z.z,{variant:"outline",size:"sm",onClick:function(){return X.nextPage()},disabled:!X.getCanNextPage(),children:r("common.nextPage")})]})]})]}),A&&(0,fe.jsx)(xe,{hideModal:G,initialName:U})]})}var ge=t(38332);function he(){var e=(0,g.useRef)(null),n=(0,g.useRef)(),t=(0,V.lX)().list,r=(0,g.useMemo)((function(){var e=t.sort((function(e,n){return n[1]-e[1]})).slice(0,256);return{list:e.map((function(e){return{text:e[0],value:e[1],name:e[0]}})),sumValue:(0,_.sumBy)(e,(function(e){return e[1]})),length:e.length}}),[t]).list,a=(0,g.useCallback)((function(){e.current&&(n.current=new ge.kL({container:e.current}),n.current.options({type:"wordCloud",autoFit:!0,layout:{fontSize:[10,50]},data:{type:"inline",value:r},encode:{color:"text"},legend:!1,tooltip:{title:"name",items:["value"]}}),n.current.render())}),[r]);return(0,g.useEffect)((function(){return a(),function(){var e;null===(e=n.current)||void 0===e||e.destroy()}}),[a]),(0,fe.jsx)("div",{ref:e,className:"w-full h-[38vh]"})}var je=function(e){return e.Cloud="cloud",e.Table="table",e}(je||{}),ve=k()(k()({},je.Cloud,(0,fe.jsx)(he,{})),je.Table,(0,fe.jsx)(pe,{}));function be(){var e=(0,g.useState)(je.Cloud),n=w()(e,2),t=n[0],r=n[1],a=(0,M.$G)().t,s=[je.Cloud,je.Table].map((function(e){return{label:a("knowledgeConfiguration.tag".concat((0,_.upperFirst)(e))),value:e}}));return(0,fe.jsxs)("section",{className:"mt-4",children:[(0,fe.jsx)(C.Z,{value:t,options:s,onChange:function(e){return r(e)}}),ve[t]]})}var ye=function(e,n){return new Array(n).fill(0).map((function(n,t){return"chunk-method/".concat(e,"-0").concat(t+1)}))},Ze={book:ye("book",4),laws:ye("law",2),manual:ye("manual",4),picture:ye("media",2),naive:ye("naive",2),paper:ye("paper",2),presentation:ye("presentation",2),qa:ye("qa",2),resume:ye("resume",2),table:ye("table",2),one:ye("one",2),knowledge_graph:ye("knowledge-graph",2),tag:ye("tag",2)},we=r.Z.Text,Ne=function(e){var n=e.chunkMethod,t=(0,u.XH)(),r=(0,c.qM)("knowledgeConfiguration").t,s=(0,g.useMemo)((function(){var e=t.find((function(e){return e.value===n}));return e?{title:e.label,description:r(p()(e.value))}:{title:"",description:""}}),[t,n,r]),f=(0,g.useMemo)((function(){return n in Ze?Ze[n]:[]}),[n]);return(0,fe.jsxs)("section",{className:v,children:[f.length>0?(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)("h5",{className:"font-semibold text-base mt-0 mb-1",children:'"'.concat(s.title,'" ').concat(r("methodTitle"))}),(0,fe.jsx)("p",{dangerouslySetInnerHTML:{__html:m().sanitize(s.description)}}),(0,fe.jsx)("h5",{className:"font-semibold text-base mt-4 mb-1",children:'"'.concat(s.title,'" ').concat(r("methodExamples"))}),(0,fe.jsx)(we,{children:r("methodExamplesDescription")}),(0,fe.jsx)(i.Z,{gutter:[10,10],className:b,children:f.map((function(e){return(0,fe.jsx)(o.Z,{span:12,children:(0,fe.jsx)(l.Z,{name:e,width:"100%",className:y})},e)}))}),(0,fe.jsxs)("h5",{className:"font-semibold text-base mt-4 mb-1",children:[s.title," ",r("dialogueExamplesTitle")]}),(0,fe.jsx)(a.Z,{})]}):(0,fe.jsxs)(d.Z,{description:"",image:null,children:[(0,fe.jsx)("p",{children:r("methodEmpty")}),(0,fe.jsx)(l.Z,{name:"chunk-method/chunk-empty",width:"100%"})]}),"tag"===n&&(0,fe.jsx)(be,{})]})},ke=t(24969),Ce=t(79531),_e=t(84553),Me=t(78045),Te=t(42075),Re=t(15867),Pe=t(25170),Se=t(86250),Fe=t(71338),Ie=t(48928),ze=function(){var e=(0,c.qM)("knowledgeConfiguration").t;return(0,fe.jsx)(Y.Z.Item,{label:e("pageRank"),tooltip:e("pageRankTip"),children:(0,fe.jsxs)(Se.Z,{gap:20,align:"center",children:[(0,fe.jsx)(Se.Z,{flex:1,children:(0,fe.jsx)(Y.Z.Item,{name:["pagerank"],noStyle:!0,initialValue:0,rules:[{required:!0}],children:(0,fe.jsx)(Fe.Z,{max:100,style:{width:"100%"}})})}),(0,fe.jsx)(Y.Z.Item,{name:["pagerank"],noStyle:!0,rules:[{required:!0}],children:(0,fe.jsx)(Ie.Z,{max:100,min:0})})]})})},Ee=t(85885),Oe=t(72103),qe=t(87547),Ke=t(7134),Ve=t(34041),De=function(){var e=(0,M.$G)().t,n=(0,V.VJ)(!0).list.filter((function(e){return"tag"===e.parser_id})).map((function(e){return{label:(0,fe.jsxs)(Te.Z,{children:[(0,fe.jsx)(Ke.C,{size:20,icon:(0,fe.jsx)(qe.Z,{}),src:e.avatar}),e.name]}),value:e.id}}));return(0,fe.jsx)(Y.Z.Item,{label:e("knowledgeConfiguration.tagSet"),name:["parser_config","tag_kb_ids"],tooltip:(0,fe.jsx)("div",{dangerouslySetInnerHTML:{__html:m().sanitize(e("knowledgeConfiguration.tagSetTip"))}}),rules:[{message:e("chat.knowledgeBasesMessage"),type:"array"}],children:(0,fe.jsx)(Ve.Z,{mode:"multiple",options:n,placeholder:e("chat.knowledgeBasesMessage")})})},$e=function(){var e=(0,M.$G)().t;return(0,fe.jsx)(Y.Z.Item,{label:e("knowledgeConfiguration.topnTags"),children:(0,fe.jsxs)(Se.Z,{gap:20,align:"center",children:[(0,fe.jsx)(Se.Z,{flex:1,children:(0,fe.jsx)(Y.Z.Item,{name:["parser_config","topn_tags"],noStyle:!0,initialValue:3,children:(0,fe.jsx)(Fe.Z,{max:10,min:1,style:{width:"100%"}})})}),(0,fe.jsx)(Y.Z.Item,{name:["parser_config","topn_tags"],noStyle:!0,children:(0,fe.jsx)(Ie.Z,{max:10,min:1})})]})})};function Be(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(De,{}),(0,fe.jsx)(Y.Z.Item,{noStyle:!0,dependencies:[["parser_config","tag_kb_ids"]],children:function(e){var n=(0,e.getFieldValue)(["parser_config","tag_kb_ids"]);return Array.isArray(n)&&n.length>0&&(0,fe.jsx)($e,{})}})]})}var Le=t(2938),Ge=(0,g.memo)((function(){var e=(0,c.qM)("knowledgeConfiguration").t,n=(0,H.hl)()[U.Vr.Embedding],t=re();return(0,fe.jsx)(Y.Z.Item,{name:"embd_id",label:e("embeddingModel"),rules:[{required:!0}],tooltip:e("embeddingModelTip"),children:(0,fe.jsx)(Ve.Z,{placeholder:e("embeddingModelPlaceholder"),options:n,disabled:t})})})),Ae=(0,g.memo)((function(){var e=(0,c.qM)("knowledgeConfiguration").t,n=Y.Z.useFormInstance(),t=(0,Le.sO)(n),r=re(),a=(0,u.XH)().filter((function(e){return!te.some((function(n){return n===e.value}))}));return(0,fe.jsx)(Y.Z.Item,{name:"parser_id",label:e("chunkMethod"),tooltip:e("chunkMethodTip"),rules:[{required:!0}],children:(0,fe.jsx)(Ve.Z,{placeholder:e("chunkMethodPlaceholder"),disabled:r,onChange:t,options:a})})}));var Ue=t(78656);var He=t(84782),Xe=t(50960),Qe=t(77680);var We,Je=t(38218),Ye=t(54140);var en=(We={},k()(k()(k()(k()(k()(k()(k()(k()(k()(k()(We,U.K1.Naive,(function(){return(0,fe.jsxs)("section",{className:"space-y-4 mb-4",children:[(0,fe.jsxs)(Je.d,{children:[(0,fe.jsx)(Ue.Z,{}),(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(Qe.Z,{}),(0,fe.jsx)(He.Z,{})]}),(0,fe.jsx)(a.Z,{}),(0,fe.jsxs)(Je.d,{children:[(0,fe.jsx)(ze,{}),(0,fe.jsx)(Pe.r,{}),(0,fe.jsx)(Pe.w,{}),(0,fe.jsx)(Ye.Z,{}),(0,fe.jsx)(Be,{})]}),(0,fe.jsx)(a.Z,{}),(0,fe.jsx)(Je.d,{children:(0,fe.jsx)(Ee.ZP,{})}),(0,fe.jsx)(a.Z,{}),(0,fe.jsx)(Oe.ZP,{})]})})),U.K1.Qa,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{}),(0,fe.jsx)(Be,{})]})})),U.K1.Resume,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{}),(0,fe.jsx)(Be,{})]})})),U.K1.Manual,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ue.Z,{}),(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{}),(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Pe.r,{}),(0,fe.jsx)(Pe.w,{})]}),(0,fe.jsx)(Ee.ZP,{}),(0,fe.jsx)(Oe.ZP,{marginBottom:!0}),(0,fe.jsx)(Be,{})]})})),U.K1.Table,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{})]})})),U.K1.Paper,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ue.Z,{}),(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{}),(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Pe.r,{}),(0,fe.jsx)(Pe.w,{})]}),(0,fe.jsx)(Ee.ZP,{}),(0,fe.jsx)(Oe.ZP,{marginBottom:!0}),(0,fe.jsx)(Be,{})]})})),U.K1.Book,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ue.Z,{}),(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{}),(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Pe.r,{}),(0,fe.jsx)(Pe.w,{})]}),(0,fe.jsx)(Ee.ZP,{}),(0,fe.jsx)(Oe.ZP,{marginBottom:!0}),(0,fe.jsx)(Be,{})]})})),U.K1.Laws,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ue.Z,{}),(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{}),(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Pe.r,{}),(0,fe.jsx)(Pe.w,{})]}),(0,fe.jsx)(Ee.ZP,{}),(0,fe.jsx)(Oe.ZP,{marginBottom:!0}),(0,fe.jsx)(Be,{})]})})),U.K1.Presentation,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ue.Z,{}),(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{}),(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Pe.r,{}),(0,fe.jsx)(Pe.w,{})]}),(0,fe.jsx)(Ee.ZP,{}),(0,fe.jsx)(Oe.ZP,{marginBottom:!0}),(0,fe.jsx)(Be,{})]})})),U.K1.Picture,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{}),(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Pe.r,{}),(0,fe.jsx)(Pe.w,{})]}),(0,fe.jsx)(Be,{})]})})),k()(k()(k()(k()(k()(We,U.K1.One,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ue.Z,{}),(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{}),(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Pe.r,{}),(0,fe.jsx)(Pe.w,{})]}),(0,fe.jsx)(Oe.ZP,{marginBottom:!0}),(0,fe.jsx)(Be,{})]})})),U.K1.Audio,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{}),(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Pe.r,{}),(0,fe.jsx)(Pe.w,{})]}),(0,fe.jsx)(Ee.ZP,{}),(0,fe.jsx)(Oe.ZP,{marginBottom:!0}),(0,fe.jsx)(Be,{})]})})),U.K1.Email,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{}),(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Pe.r,{}),(0,fe.jsx)(Pe.w,{})]}),(0,fe.jsx)(Ee.ZP,{}),(0,fe.jsx)(Oe.ZP,{marginBottom:!0}),(0,fe.jsx)(Be,{})]})})),U.K1.Tag,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{})]})})),U.K1.KnowledgeGraph,(function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ge,{}),(0,fe.jsx)(Ae,{}),(0,fe.jsx)(ze,{}),(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Xe.Z,{}),(0,fe.jsx)(Qe.Z,{max:16384}),(0,fe.jsx)(He.Z,{})]})]})})));function nn(){return(0,fe.jsx)("div",{})}var tn=function(e){var n=e.form,t=function(e){var n=(0,V.MA)(),t=n.saveKnowledgeConfiguration,r=n.loading,a=(0,X.nT)(),s=(0,g.useCallback)(A()($()().mark((function n(){var r,s;return $()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.validateFields();case 2:return r=n.sent,n.next=5,(0,Q.vn)(r.avatar);case 5:s=n.sent,t(L()(L()({},r),{},{avatar:s})),a();case 8:case"end":return n.stop()}}),n)}))),[t,e,a]);return{submitKnowledgeConfiguration:s,submitLoading:r,navigateToDataset:a}}(n),r=t.submitKnowledgeConfiguration,a=t.submitLoading,s=t.navigateToDataset,i=(0,c.qM)("knowledgeConfiguration").t,o=(0,g.useState)(),l=w()(o,2),u=l[0],d=l[1],f=function(e){var n=(0,V.PX)().data;return(0,g.useEffect)((function(){var t=(0,Q.P2)(n.avatar);e.setFieldsValue(L()(L()({},ne()(n,["description","name","permission","embd_id","parser_id","language","parser_config","pagerank"])),{},{avatar:t}))}),[e,n]),n}(n),m=Y.Z.useWatch("parser_id",n),x=(0,g.useMemo)((function(){return u?en[u]:nn}),[u]);return(0,g.useEffect)((function(){d(m)}),[m]),(0,g.useEffect)((function(){d(f.parser_id)}),[f.parser_id]),(0,fe.jsxs)(Y.Z,{form:n,name:"validateOnly",layout:"vertical",autoComplete:"off",children:[(0,fe.jsx)(Y.Z.Item,{name:"name",label:i("name"),rules:[{required:!0}],children:(0,fe.jsx)(Ce.Z,{})}),(0,fe.jsx)(Y.Z.Item,{name:"avatar",label:i("photo"),valuePropName:"fileList",getValueFromEvent:Q.Ph,children:(0,fe.jsx)(_e.Z,{listType:"picture-card",maxCount:1,beforeUpload:function(){return!1},showUploadList:{showPreviewIcon:!1,showRemoveIcon:!1},children:(0,fe.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,fe.jsx)(ke.Z,{}),(0,fe.jsx)("div",{style:{marginTop:8},children:i("upload")})]})})}),(0,fe.jsx)(Y.Z.Item,{name:"description",label:i("description"),children:(0,fe.jsx)(Ce.Z,{})}),(0,fe.jsx)(Y.Z.Item,{name:"permission",label:i("permissions"),tooltip:i("permissionsTip"),rules:[{required:!0}],children:(0,fe.jsxs)(Me.ZP.Group,{children:[(0,fe.jsx)(Me.ZP,{value:"me",children:i("me")}),(0,fe.jsx)(Me.ZP,{value:"team",children:i("team")})]})}),(0,fe.jsx)(x,{}),(0,fe.jsx)(Y.Z.Item,{children:(0,fe.jsx)("div",{className:j,children:(0,fe.jsxs)(Te.Z,{children:[(0,fe.jsx)(Re.ZP,{size:"middle",onClick:s,children:i("cancel")}),(0,fe.jsx)(Re.ZP,{type:"primary",size:"middle",loading:a,onClick:r,children:i("save")})]})})})]})},rn=r.Z.Title,an=function(){var e=ae(),n=function(){var e=Y.Z.useForm(),n=w()(e,1)[0],t=Y.Z.useWatch("parser_id",n);return(0,g.useEffect)((function(){console.log("ðŸš€ ~ useHandleChunkMethodChange ~ chunkMethod:",t)}),[t]),{form:n,chunkMethod:t}}(),t=n.form,r=n.chunkMethod,l=(0,c.qM)("knowledgeConfiguration").t;return(0,fe.jsxs)("div",{className:h,children:[(0,fe.jsx)(rn,{level:5,children:l("configuration",{keyPrefix:"knowledgeDetails"})}),(0,fe.jsx)("p",{children:l("titleDescription")}),(0,fe.jsx)(a.Z,{}),(0,fe.jsx)(s.Z,{spinning:e,children:(0,fe.jsxs)(i.Z,{gutter:32,children:[(0,fe.jsx)(o.Z,{span:8,children:(0,fe.jsx)(tn,{form:t})}),(0,fe.jsx)(o.Z,{span:16,children:(0,fe.jsx)(Ne,{chunkMethod:r})})]})})]})}},8074:function(e,n,t){"use strict";t.d(n,{Rx:function(){return s.Rx},j$:function(){return o}});var r=t(9783),a=t.n(r),s=t(96330),i=(a()(a()(a()({},s.Rx.Dataset,"Dataset"),s.Rx.Testing,"Retrieval testing"),s.Rx.Configuration,"Configuration"),function(e){return e.Chunk="chunk",e.File="file",e}({})),o=(a()(a()({},i.Chunk,"Chunk"),i.File,"File Upload"),"tagRename")},62386:function(e,n,t){"use strict";var r=t(60806),a=t(66582),s=t(78158),i=r.Z.listFile,o=r.Z.removeFile,l=r.Z.uploadFile,c=r.Z.renameFile,u=r.Z.getAllParentFolder,d=r.Z.createFolder,f=r.Z.connectFileToKnowledge,m=r.Z.get_document_file,x={listFile:{url:i,method:"get"},removeFile:{url:o,method:"post"},uploadFile:{url:l,method:"post"},renameFile:{url:c,method:"post"},getAllParentFolder:{url:u,method:"get"},createFolder:{url:d,method:"post"},connectFileToKnowledge:{url:f,method:"post"},getFile:{url:r.Z.getFile,method:"get",responseType:"blob"},getDocumentFile:{url:m,method:"get",responseType:"blob"},moveFile:{url:r.Z.moveFile,method:"post"}},p=(0,a.Z)(x,s.ZP);n.Z=p},51331:function(e,n,t){"use strict";t.d(n,{AG:function(){return j},De:function(){return y},P2:function(){return d},Ph:function(){return u},qh:function(){return p},td:function(){return b},uA:function(){return h},vn:function(){return f}});var r=t(15009),a=t.n(r),s=t(99289),i=t.n(s),o=t(40169),l=t(62386),c=function(e){return new Promise((function(n,t){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){var e=new Image;e.src=r.result,e.onload=function(){var t=document.createElement("canvas"),r=t.getContext("2d"),a=e.width,s=e.height,i=100;a>s&&a>i?(s=s*i/a,a=i):s>i&&(a=a*i/s,s=i),t.width=a,t.height=s,null==r||r.drawImage(e,0,0,a,s);var o=t.toDataURL("image/png");n(o)},e.onerror=t},r.onerror=t}))},u=function(e){return Array.isArray(e)?e:null==e?void 0:e.fileList},d=function(e){var n=[];return e&&(n=[{uid:"1",name:"file",thumbUrl:e,status:"done"}]),n},f=function(){var e=i()(a()().mark((function e(n){var t,r,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Array.isArray(n)&&n.length>0)){e.next=11;break}if(t=n[0],!(r=t.originFileObj)){e.next=10;break}return e.next=6,c(r);case 6:return s=e.sent,e.abrupt("return",s);case 10:return e.abrupt("return",t.thumbUrl);case 11:return e.abrupt("return","");case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function m(e,n){return x.apply(this,arguments)}function x(){return(x=i()(a()().mark((function e(n,t){var r,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.getDocumentFile({},n);case 2:return r=e.sent,s=new Blob([r.data],{type:t||r.data.type}),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return(g=i()(a()().mark((function e(n){var t,r,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n,o.nK.Html);case 2:t=e.sent,r=URL.createObjectURL(t),(s=document.createElement("a")).href=r,s.click(),URL.revokeObjectURL(r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(e,n){var t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,n&&(r.download=n),r.click(),window.URL.revokeObjectURL(t)},j=function(){var e=i()(a()().mark((function e(n){var t,r,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,r=n.filename,e.next=3,m(t);case 3:s=e.sent,h(s,r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],b=function(e){for(var n=0,t=("string"==typeof e?parseInt(e,10):e)||0;t>=1024&&++n;)t/=1024;return t.toFixed(t<10&&n>0?1:0)+" "+v[n]},y=function(){var e=i()(a()().mark((function e(n,t){var r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Blob([JSON.stringify(n)],{type:o.nK.Json}),h(r,t);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},15746:function(e,n,t){"use strict";var r=t(21584);n.Z=r.Z},86250:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(62435),a=t(93967),s=t.n(a),i=t(98423),o=t(98065),l=t(53124),c=t(91945),u=t(45503);const d=["wrap","nowrap","wrap-reverse"],f=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],m=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];var x=function(e,n){return s()(Object.assign(Object.assign(Object.assign({},((e,n)=>{const t={};return d.forEach((r=>{t[`${e}-wrap-${r}`]=n.wrap===r})),t})(e,n)),((e,n)=>{const t={};return m.forEach((r=>{t[`${e}-align-${r}`]=n.align===r})),t[`${e}-align-stretch`]=!n.align&&!!n.vertical,t})(e,n)),((e,n)=>{const t={};return f.forEach((r=>{t[`${e}-justify-${r}`]=n.justify===r})),t})(e,n)))};const p=e=>{const{componentCls:n}=e;return{[n]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},g=e=>{const{componentCls:n}=e;return{[n]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},h=e=>{const{componentCls:n}=e,t={};return d.forEach((e=>{t[`${n}-wrap-${e}`]={flexWrap:e}})),t},j=e=>{const{componentCls:n}=e,t={};return m.forEach((e=>{t[`${n}-align-${e}`]={alignItems:e}})),t},v=e=>{const{componentCls:n}=e,t={};return f.forEach((e=>{t[`${n}-justify-${e}`]={justifyContent:e}})),t};var b=(0,c.I$)("Flex",(e=>{const{paddingXS:n,padding:t,paddingLG:r}=e,a=(0,u.TS)(e,{flexGapSM:n,flexGap:t,flexGapLG:r});return[p(a),g(a),h(a),j(a),v(a)]}),(()=>({})),{resetStyle:!1}),y=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};const Z=r.forwardRef(((e,n)=>{const{prefixCls:t,rootClassName:a,className:c,style:u,flex:d,gap:f,children:m,vertical:p=!1,component:g="div"}=e,h=y(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:j,direction:v,getPrefixCls:Z}=r.useContext(l.E_),w=Z("flex",t),[N,k,C]=b(w),_=null!=p?p:null==j?void 0:j.vertical,M=s()(c,a,null==j?void 0:j.className,w,k,C,x(w,e),{[`${w}-rtl`]:"rtl"===v,[`${w}-gap-${f}`]:(0,o.n)(f),[`${w}-vertical`]:_}),T=Object.assign(Object.assign({},null==j?void 0:j.style),u);return d&&(T.flex=d),f&&!(0,o.n)(f)&&(T.gap=f),N(r.createElement(g,Object.assign({ref:n,className:M,style:T},(0,i.Z)(h,["justify","wrap","align"])),m))}));var w=Z},79531:function(e,n,t){"use strict";t.d(n,{Z:function(){return F}});var r=t(62435),a=t(93967),s=t.n(a),i=t(53124),o=t(65223),l=t(47673);var c=e=>{const{getPrefixCls:n,direction:t}=(0,r.useContext)(i.E_),{prefixCls:a,className:c}=e,u=n("input-group",a),d=n("input"),[f,m]=(0,l.ZP)(d),x=s()(u,{[`${u}-lg`]:"large"===e.size,[`${u}-sm`]:"small"===e.size,[`${u}-compact`]:e.compact,[`${u}-rtl`]:"rtl"===t},m,c),p=(0,r.useContext)(o.aM),g=(0,r.useMemo)((()=>Object.assign(Object.assign({},p),{isFormItemInput:!1})),[p]);return f(r.createElement("span",{className:x,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},r.createElement(o.aM.Provider,{value:g},e.children)))},u=t(82586),d=t(87462),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},m=t(84089),x=function(e,n){return r.createElement(m.Z,(0,d.Z)({},e,{ref:n,icon:f}))};var p=r.forwardRef(x),g=t(99611),h=t(98423),j=t(42550),v=t(72922),b=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};const y=e=>e?r.createElement(g.Z,null):r.createElement(p,null),Z={click:"onClick",hover:"onMouseOver"};var w=r.forwardRef(((e,n)=>{const{visibilityToggle:t=!0}=e,a="object"==typeof t&&void 0!==t.visible,[o,l]=(0,r.useState)((()=>!!a&&t.visible)),c=(0,r.useRef)(null);r.useEffect((()=>{a&&l(t.visible)}),[a,t]);const d=(0,v.Z)(c),f=()=>{const{disabled:n}=e;n||(o&&d(),l((e=>{var n;const r=!e;return"object"==typeof t&&(null===(n=t.onVisibleChange)||void 0===n||n.call(t,r)),r})))},{className:m,prefixCls:x,inputPrefixCls:p,size:g}=e,w=b(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:N}=r.useContext(i.E_),k=N("input",p),C=N("input-password",x),_=t&&(n=>{const{action:t="click",iconRender:a=y}=e,s=Z[t]||"",i=a(o),l={[s]:f,className:`${n}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return r.cloneElement(r.isValidElement(i)?i:r.createElement("span",null,i),l)})(C),M=s()(C,m,{[`${C}-${g}`]:!!g}),T=Object.assign(Object.assign({},(0,h.Z)(w,["suffix","iconRender","visibilityToggle"])),{type:o?"text":"password",className:M,prefixCls:k,suffix:_});return g&&(T.size=g),r.createElement(u.Z,Object.assign({ref:(0,j.sQ)(n,c)},T))})),N=t(68795),k=t(96159),C=t(15867),_=t(98675),M=t(4173),T=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};var R=r.forwardRef(((e,n)=>{const{prefixCls:t,inputPrefixCls:a,className:o,size:l,suffix:c,enterButton:d=!1,addonAfter:f,loading:m,disabled:x,onSearch:p,onChange:g,onCompositionStart:h,onCompositionEnd:v}=e,b=T(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:y,direction:Z}=r.useContext(i.E_),w=r.useRef(!1),R=y("input-search",t),P=y("input",a),{compactSize:S}=(0,M.ri)(R,Z),F=(0,_.Z)((e=>{var n;return null!==(n=null!=l?l:S)&&void 0!==n?n:e})),I=r.useRef(null),z=e=>{var n;document.activeElement===(null===(n=I.current)||void 0===n?void 0:n.input)&&e.preventDefault()},E=e=>{var n,t;p&&p(null===(t=null===(n=I.current)||void 0===n?void 0:n.input)||void 0===t?void 0:t.value,e,{source:"input"})},O="boolean"==typeof d?r.createElement(N.Z,null):null,q=`${R}-button`;let K;const V=d||{},D=V.type&&!0===V.type.__ANT_BUTTON;K=D||"button"===V.type?(0,k.Tm)(V,Object.assign({onMouseDown:z,onClick:e=>{var n,t;null===(t=null===(n=null==V?void 0:V.props)||void 0===n?void 0:n.onClick)||void 0===t||t.call(n,e),E(e)},key:"enterButton"},D?{className:q,size:F}:{})):r.createElement(C.ZP,{className:q,type:d?"primary":void 0,size:F,disabled:x,key:"enterButton",onMouseDown:z,onClick:E,loading:m,icon:O},d),f&&(K=[K,(0,k.Tm)(f,{key:"addonAfter"})]);const $=s()(R,{[`${R}-rtl`]:"rtl"===Z,[`${R}-${F}`]:!!F,[`${R}-with-button`]:!!d},o);return r.createElement(u.Z,Object.assign({ref:(0,j.sQ)(I,n),onPressEnter:e=>{w.current||m||E(e)}},b,{size:F,onCompositionStart:e=>{w.current=!0,null==h||h(e)},onCompositionEnd:e=>{w.current=!1,null==v||v(e)},prefixCls:P,addonAfter:K,suffix:c,onChange:e=>{e&&e.target&&"click"===e.type&&p&&p(e.target.value,e,{source:"clear"}),g&&g(e)},className:$,disabled:x}))})),P=t(22913);const S=u.Z;S.Group=c,S.Search=R,S.TextArea=P.Z,S.Password=w;var F=S},71230:function(e,n,t){"use strict";var r=t(92820);n.Z=r.Z},13:function(e){e.exports=function(e,n){return null!=e&&n in Object(e)}},25970:function(e,n,t){var r=t(63012),a=t(79095);e.exports=function(e,n){return r(e,n,(function(n,t){return a(e,t)}))}},63012:function(e,n,t){var r=t(97786),a=t(10611),s=t(71811);e.exports=function(e,n,t){for(var i=-1,o=n.length,l={};++i<o;){var c=n[i],u=r(e,c);t(u,c)&&a(l,s(c,e),u)}return l}},69877:function(e){var n=Math.floor,t=Math.random;e.exports=function(e,r){return e+n(t()*(r-e+1))}},10611:function(e,n,t){var r=t(34865),a=t(71811),s=t(65776),i=t(13218),o=t(40327);e.exports=function(e,n,t,l){if(!i(e))return e;for(var c=-1,u=(n=a(n,e)).length,d=u-1,f=e;null!=f&&++c<u;){var m=o(n[c]),x=t;if("__proto__"===m||"constructor"===m||"prototype"===m)return e;if(c!=d){var p=f[m];void 0===(x=l?l(p,m,f):void 0)&&(x=i(p)?p:s(n[c+1])?[]:{})}r(f,m,x),f=f[m]}return e}},222:function(e,n,t){var r=t(71811),a=t(35694),s=t(1469),i=t(65776),o=t(41780),l=t(40327);e.exports=function(e,n,t){for(var c=-1,u=(n=r(n,e)).length,d=!1;++c<u;){var f=l(n[c]);if(!(d=null!=e&&t(e,f)))break;e=e[f]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&o(u)&&i(f,u)&&(s(e)||a(e))}},16612:function(e,n,t){var r=t(77813),a=t(98612),s=t(65776),i=t(13218);e.exports=function(e,n,t){if(!i(t))return!1;var o=typeof n;return!!("number"==o?a(t)&&s(n,t.length):"string"==o&&n in t)&&r(t[n],e)}},79095:function(e,n,t){var r=t(13),a=t(222);e.exports=function(e,n){return null!=e&&a(e,n,r)}},78718:function(e,n,t){var r=t(25970),a=t(99021)((function(e,n){return null==e?{}:r(e,n)}));e.exports=a},83608:function(e,n,t){var r=t(69877),a=t(16612),s=t(18601),i=parseFloat,o=Math.min,l=Math.random;e.exports=function(e,n,t){if(t&&"boolean"!=typeof t&&a(e,n,t)&&(n=t=void 0),void 0===t&&("boolean"==typeof n?(t=n,n=void 0):"boolean"==typeof e&&(t=e,e=void 0)),void 0===e&&void 0===n?(e=0,n=1):(e=s(e),void 0===n?(n=e,e=0):n=s(n)),e>n){var c=e;e=n,n=c}if(t||e%1||n%1){var u=l();return o(e+u*(n-e+i("1e-"+((u+"").length-1))),n)}return r(e,n)}},18601:function(e,n,t){var r=t(14841),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},13742:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});const r=(0,t(91373).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},36316:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});const r=(0,t(91373).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},90470:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});const r=(0,t(91373).Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},57898:function(e,n,t){"use strict";t.d(n,{D:function(){return a}});var r=t(62435);function a(e){const n=r.useRef({value:e,previous:e});return r.useMemo((()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous)),[e])}}}]);
//# sourceMappingURL=p__add-knowledge__components__knowledge-setting__index.e901bb22.async.js.map